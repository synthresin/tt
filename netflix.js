! function(e) {
    "use strict";
    e.Requireify = {
        _registry: {},
        _debug: {
            messages: []
        },
        _lastRegistered: "",
        _bind: function(e, i, s) {
            return function(r) {
                return e.call(i, r, s)
            }
        },
        _normalize: function(e, i) {
            var s = e.split("/"),
                r = i.split("/"),
                t = r.slice(0, -1),
                n = 0,
                o = [];
            for (n = 0; n < s.length; n++) "." === s[n] ? o = t : ".." === s[n] ? (t.pop(), o = t) : o.push(s[n]);
            return o = o.join("/"), ".js" !== o.slice(-3) && ".jsx" !== o.slice(-4) && ".dust" !== o.slice(-5) && (o += ".js"), o
        },
        register: function(e, i) {
            var s, r = this._registry,
                t = this._debug.messages;
            if ("function" == typeof i) {
                if (r[e]) return s = "[nf-requireify] Module " + e + " already loaded, skipping!", console && console.log && console.log(s), void t.push({
                    msg: s
                });
                r[e] = {
                    invoke: i
                }
            }
            this._lastRegistered = e
        },
        require: function(e, i) {
            var s, r = this._registry,
                t = this._debug,
                n = e,
                o = !0;
            return (e.indexOf("./") > -1 || e.indexOf("../") > -1) && (n = this._normalize(e, i), o = !1), r[n] ? (r[n].exports || (s = {
                exports: {}
            }, r[n].invoke(this._bind(this.require, this, n), this.requireAsync, s, s.exports), r[n].exports = s.exports), r[n].exports) : (t.messages.push({
                msg: "[nf-requireify] MODULE NOT FOUND!",
                module: n,
                requiredBy: i,
                loader: "nf-requireify"
            }), {
                stub: !0
            })
        },
        requireAsync: function() {},
        kickoff: function(e) {
            var i;
            if (e) {
                if ("string" == typeof e) this.require(e);
                else if (e instanceof Array)
                    for (i = 0; i < e.length; i++) this.require(e[i])
            } else "" !== this._lastRegistered && this.require(this._lastRegistered)
        }
    }
}(window);
Requireify.register("nf-rx", function(t, e, n, r) {
    ! function(t) {
        if ("object" == typeof r && "undefined" != typeof n) n.exports = t();
        else if ("function" == typeof define && define.amd) define([], t);
        else {
            var e;
            e = "undefined" != typeof window ? window : "undefined" != typeof global ? global : "undefined" != typeof self ? self : this, e.nfRx = t()
        }
    }(function() {
        return function e(n, r, o) {
            function i(u, c) {
                if (!r[u]) {
                    if (!n[u]) {
                        var a = "function" == typeof t && t;
                        if (!c && a) return a(u, !0);
                        if (s) return s(u, !0);
                        var f = new Error("Cannot find module '" + u + "'");
                        throw f.code = "MODULE_NOT_FOUND", f
                    }
                    var l = r[u] = {
                        exports: {}
                    };
                    n[u][0].call(l.exports, function(t) {
                        var e = n[u][1][t];
                        return i(e ? e : t)
                    }, l, l.exports, e, n, r, o)
                }
                return r[u].exports
            }
            for (var s = "function" == typeof t && t, u = 0; u < o.length; u++) i(o[u]);
            return i
        }({
            1: [function(t, e, n) {
                "function" != typeof Object.create && (Object.create = function(t) {
                        function e() {}
                        return e.prototype = t, new e
                    }), Object.keys || (Object.keys = function(t) {
                        var e = [];
                        for (var n in t) e.push(n);
                        return e
                    }), Array.prototype.filter || (Array.prototype.filter = function(t) {
                        var e, n, r, o = [];
                        for (e = 0, n = this.length; n > e; e++) r = this[e], t(r) && o.push(r);
                        return o
                    }), Array.prototype.forEach || (Array.prototype.forEach = function(t) {
                        var e, n, r;
                        for (e = 0, n = this.length; n > e; e++) r = this[e], t(r)
                    }), Array.prototype.indexOf || (Array.prototype.indexOf = function(t) {
                        var e, n;
                        for (e = 0, n = this.length; n > e; e++)
                            if (t === this[e]) return e;
                        return -1
                    }),
                    function(t, e) {
                        var n, r = function() {},
                            o = function() {
                                return (new Date).getTime()
                            },
                            i = function(t, e) {
                                return t === e
                            },
                            s = function(t) {
                                return t
                            },
                            u = function(t) {
                                return t.toString()
                            },
                            c = Object.prototype.hasOwnProperty,
                            a = function(t, e) {
                                function n() {
                                    this.constructor = t
                                }
                                for (var r in e) "prototype" !== r && c.call(e, r) && (t[r] = e[r]);
                                return n.prototype = e.prototype, t.prototype = new n, t.base = e.prototype, t
                            },
                            f = function(t, e) {
                                for (var n in e) "prototype" !== n && c.call(e, n) && (t[n] = e[n])
                            },
                            l = Array.prototype.slice,
                            h = "Argument out of range",
                            p = "Object has been disposed";
                        n = t.Rx = {
                            Internals: {}
                        }, n.VERSION = "2.0.20327";
                        var b = function(t, e) {
                                return function() {
                                    return t[e].apply(t, arguments)
                                }
                            },
                            d = function(t, e) {
                                return Et(function(n) {
                                    return new N(e.getDisposable(), t.subscribe(n))
                                })
                            },
                            v = function(t, e, n) {
                                return Et(function(r) {
                                    var o = new R,
                                        i = new R,
                                        s = n(r, o, i);
                                    return o.disposable(t.materialize().select(function(t) {
                                        return {
                                            switchValue: function(e) {
                                                return e(t)
                                            }
                                        }
                                    }).subscribe(s)), i.disposable(e.materialize().select(function(t) {
                                        return {
                                            switchValue: function(e, n) {
                                                return n(t)
                                            }
                                        }
                                    }).subscribe(s)), new N(o, i)
                                })
                            },
                            m = function(t) {
                                for (var e = new Object(this), n = 0, r = e.length >>> 0; r > n; n++)
                                    if (!t.call(arguments[1], e[n], n, e)) return !1;
                                return !0
                            },
                            y = function(t) {
                                for (var e, n = [], r = new Object(this), o = 0, i = r.length >>> 0; i > o; o++) e = r[o], t.call(arguments[1], e, o, r) && n.push(e);
                                return n
                            },
                            w = function(t) {
                                for (var e = [], n = new Object(this), r = 0, o = n.length >>> 0; o > r; r++) e.push(t.call(arguments[1], n[r], r, n));
                                return e
                            },
                            g = function(t, e) {
                                return 1 === t.length && t[e] instanceof Array ? t[e] : l.call(t)
                            },
                            E = n.Internals.List = function() {
                                function t(t) {
                                    this.comparer = t || i, this.length = 0, this.items = []
                                }
                                return t.fromArray = function(e, n) {
                                    var r = new t(n);
                                    return r.items = e.slice(), r.length = e.length, r
                                }, t.prototype.add = function(t) {
                                    this.items[this.length++] = t
                                }, t.prototype.removeAt = function(t) {
                                    if (0 > t || t >= this.length) throw new Error(h);
                                    this.items.splice(t, 1), this.length--
                                }, t.prototype.indexOf = function(t) {
                                    for (var e = 0, n = this.items.length; n > e; e++)
                                        if (this.comparer(t, this.items[e])) return e;
                                    return -1
                                }, t.prototype.remove = function(t) {
                                    var e = this.indexOf(t);
                                    return -1 === e ? !1 : (this.removeAt(e), !0)
                                }, t.prototype.clear = function() {
                                    this.items = [], this.length = 0
                                }, t.prototype.item = function(t, n) {
                                    if (0 > t || t >= count) throw new Error(h);
                                    return n === e ? this.items[t] : void(this.items[t] = n)
                                }, t.prototype.toArray = function() {
                                    return this.items.slice(0)
                                }, t.prototype.contains = function(t) {
                                    for (var e = 0, n = this.items.length; n > e; e++)
                                        if (this.comparer(t, this.items[e])) return !0;
                                    return !1
                                }, t
                            }(),
                            x = function(t, e, n, r, o) {
                                for (var i = o; i > 0;) n[i + r - 1] = t[i + e - 1], i--
                            },
                            C = function() {
                                function t(t, e) {
                                    this.id = t, this.value = e
                                }
                                return t.prototype.compareTo = function(t) {
                                    var e = this.value.compareTo(t.value);
                                    return 0 === e && (e = this.id - t.id), e
                                }, t
                            }(),
                            O = function() {
                                function t(t) {
                                    this.items = new Array(t), this.length = 0
                                }
                                return t.prototype.isHigherPriority = function(t, e) {
                                    return this.items[t].compareTo(this.items[e]) < 0
                                }, t.prototype.percolate = function(t) {
                                    var e, n;
                                    t >= this.length || 0 > t || (e = t - 1 >> 1, 0 > e || e === t || this.isHigherPriority(t, e) && (n = this.items[t], this.items[t] = this.items[e], this.items[e] = n, this.percolate(e)))
                                }, t.prototype.heapify = function(t) {
                                    var n, r, o, i;
                                    t === e && (t = 0), t >= this.length || 0 > t || (r = 2 * t + 1, o = 2 * t + 2, n = t, r < this.length && this.isHigherPriority(r, n) && (n = r), o < this.length && this.isHigherPriority(o, n) && (n = o), n !== t && (i = this.items[t], this.items[t] = this.items[n], this.items[n] = i, this.heapify(n)))
                                }, t.prototype.peek = function() {
                                    return this.items[0].value
                                }, t.prototype.removeAt = function(t) {
                                    var e;
                                    this.items[t] = this.items[--this.length], delete this.items[this.length], this.heapify(), this.length < this.items.length >> 2 && (e = this.items, this.items = new Array(this.items.length >> 1), x(e, 0, this.items, 0, this.length))
                                }, t.prototype.dequeue = function() {
                                    var t = this.peek();
                                    return this.removeAt(0), t
                                }, t.prototype.enqueue = function(e) {
                                    var n, r;
                                    this.length >= this.items.length && (r = this.items, this.items = new Array(2 * this.items.length), x(r, 0, this.items, 0, r.length)), n = this.length++, this.items[n] = new C(t.count++, e), this.percolate(n)
                                }, t.prototype.remove = function(t) {
                                    for (var e = 0; e < this.length; e++)
                                        if (this.items[e].value === t) return this.removeAt(e), !0;
                                    return !1
                                }, t.count = 0, t
                            }(),
                            N = n.CompositeDisposable = function() {
                                function t() {
                                    var t = g(arguments, 0);
                                    this.disposables = E.fromArray(t), this.isDisposed = !1, this.length = this.disposables.length
                                }
                                return t.prototype.add = function(t) {
                                    this.isDisposed ? t.dispose() : (this.disposables.add(t), this.length++)
                                }, t.prototype.remove = function(t) {
                                    var e = !1;
                                    return this.isDisposed || (e = this.disposables.remove(t), this.length--), e && t.dispose(), e
                                }, t.prototype.dispose = function() {
                                    var t;
                                    if (this.isDisposed || (this.isDisposed = !0, t = this.disposables.toArray(), this.disposables.clear(), this.length = 0), t)
                                        for (var e = 0, n = t.length; n > e; e++) t[e].dispose()
                                }, t.prototype.clear = function() {
                                    var t = this.disposables.toArray();
                                    this.disposables.clear(), this.length = 0;
                                    for (var e = 0, n = t.length; n > e; e++) t[e].dispose()
                                }, t.prototype.contains = function(t) {
                                    return this.disposables.contains(t)
                                }, t.prototype.toArray = function() {
                                    return this.disposables.toArray()
                                }, t
                            }(),
                            A = n.Disposable = function() {
                                function t(t) {
                                    this.isDisposed = !1, this.action = t
                                }
                                return t.prototype.dispose = function() {
                                    this.isDisposed || (this.action(), this.isDisposed = !0)
                                }, t
                            }(),
                            D = A.create = function(t) {
                                return new A(t)
                            },
                            S = A.empty = new A(function() {}),
                            R = n.SingleAssignmentDisposable = function() {
                                function t() {
                                    this.isDisposed = !1, this.current = null
                                }
                                return t.prototype.disposable = function(t) {
                                    return t ? this.setDisposable(t) : this.getDisposable()
                                }, t.prototype.getDisposable = function() {
                                    return this.current
                                }, t.prototype.setDisposable = function(t) {
                                    if (null !== this.current) throw new Error("Disposable has already been assigned");
                                    var e = this.isDisposed;
                                    e || (this.current = t), e && null !== t && t.dispose()
                                }, t.prototype.dispose = function() {
                                    var t = null;
                                    this.isDisposed || (this.isDisposed = !0, t = this.current, this.current = null), null !== t && t.dispose()
                                }, t
                            }(),
                            W = n.SerialDisposable = function() {
                                function t() {
                                    this.isDisposed = !1, this.current = null
                                }
                                return t.prototype.getDisposable = function() {
                                    return this.current
                                }, t.prototype.setDisposable = function(t) {
                                    var e = this.isDisposed,
                                        n = null;
                                    e || (n = this.current, this.current = t), null !== n && n.dispose(), e && null !== t && t.dispose()
                                }, t.prototype.disposable = function(t) {
                                    return t ? void this.setDisposable(t) : this.getDisposable()
                                }, t.prototype.dispose = function() {
                                    var t = null;
                                    this.isDisposed || (this.isDisposed = !0, t = this.current, this.current = null), null !== t && t.dispose()
                                }, t
                            }(),
                            _ = n.RefCountDisposable = function() {
                                function t(t) {
                                    this.underlyingDisposable = t, this.isDisposed = !1, this.isPrimaryDisposed = !1, this.count = 0
                                }
                                t.prototype.dispose = function() {
                                    this.isDisposed || this.isPrimaryDisposed || (this.isPrimaryDisposed = !0, 0 === this.count && (this.isDisposed = !0, this.underlyingDisposable.dispose()))
                                }, t.prototype.getDisposable = function() {
                                    return this.isDisposed ? S : new e(this)
                                };
                                var e = function() {
                                    function t(t) {
                                        this.disposable = t, this.disposable.count++, this.isInnerDisposed = !1
                                    }
                                    return t.prototype.dispose = function() {
                                        this.disposable.isDisposed || this.isInnerDisposed || (this.isInnerDisposed = !0, this.disposable.count--, 0 === this.disposable.count && this.disposable.isPrimaryDisposed && (this.disposable.isDisposed = !0, this.disposable.underlyingDisposable.dispose()))
                                    }, t
                                }();
                                return t
                            }(),
                            q = function() {
                                function t(t, e) {
                                    this.scheduler = t, this.disposable = e, this.isDisposed = !1
                                }
                                return t.prototype.dispose = function() {
                                    var t = this;
                                    this.scheduler.schedule(function() {
                                        t.isDisposed || (t.isDisposed = !0, t.disposable.dispose())
                                    })
                                }, t
                            }(),
                            k = function() {
                                function t(t, e, n, r, o) {
                                    this.scheduler = t, this.state = e, this.action = n, this.dueTime = r, this.comparer = o || function(t, e) {
                                        return t - e
                                    }, this.disposable = new R
                                }
                                return t.prototype.invoke = function() {
                                    return this.disposable.disposable(this.invokeCore())
                                }, t.prototype.compareTo = function(t) {
                                    return this.comparer(this.dueTime, t.dueTime)
                                }, t.prototype.isCancelled = function() {
                                    return this.disposable.isDisposed
                                }, t.prototype.invokeCore = function() {
                                    return this.action(this.scheduler, this.state)
                                }, t
                            }(),
                            j = n.Scheduler = function() {
                                function t(t, e, n, r) {
                                    this.now = t, this._schedule = e, this._scheduleRelative = n, this._scheduleAbsolute = r
                                }
                                var e = function(t, e) {
                                        var n = e.first,
                                            r = e.second,
                                            o = new N,
                                            i = function(e) {
                                                r(e, function(e) {
                                                    var n = !1,
                                                        r = !1,
                                                        s = t.scheduleWithState(e, function(t, e) {
                                                            return n ? o.remove(s) : r = !0, i(e), S
                                                        });
                                                    r || (o.add(s), n = !0)
                                                })
                                            };
                                        return i(n), o
                                    },
                                    n = function(t, e) {
                                        var n = e.first,
                                            r = e.second,
                                            o = new N,
                                            i = function(e) {
                                                r(e, function(e, n) {
                                                    var r, s, u;
                                                    s = !1, u = !1, r = t.scheduleWithRelativeAndState(e, n, function(t, e) {
                                                        return s ? o.remove(r) : u = !0, i(e), S
                                                    }), u || (o.add(r), s = !0)
                                                })
                                            };
                                        return i(n), o
                                    },
                                    r = function(t, e) {
                                        var n = e.first,
                                            r = e.second,
                                            o = new N,
                                            i = function(e) {
                                                r(e, function(e, n) {
                                                    var r = !1,
                                                        s = !1,
                                                        u = t.scheduleWithAbsoluteAndState(e, n, function(t, e) {
                                                            return r ? o.remove(u) : s = !0, i(e), S
                                                        });
                                                    s || (o.add(u), r = !0)
                                                })
                                            };
                                        return i(n), o
                                    },
                                    i = function(t, e) {
                                        return e(), S
                                    };
                                return t.prototype.schedule = function(t) {
                                    return this._schedule(t, i)
                                }, t.prototype.scheduleWithState = function(t, e) {
                                    return this._schedule(t, e)
                                }, t.prototype.scheduleWithRelative = function(t, e) {
                                    return this._scheduleRelative(e, t, i)
                                }, t.prototype.scheduleWithRelativeAndState = function(t, e, n) {
                                    return this._scheduleRelative(t, e, n)
                                }, t.prototype.scheduleWithAbsolute = function(t, e) {
                                    return this._scheduleAbsolute(e, t, i)
                                }, t.prototype.scheduleWithAbsoluteAndState = function(t, e, n) {
                                    return this._scheduleAbsolute(t, e, n)
                                }, t.prototype.scheduleRecursive = function(t) {
                                    return this.scheduleRecursiveWithState(t, function(t, e) {
                                        t(function() {
                                            e(t)
                                        })
                                    })
                                }, t.prototype.scheduleRecursiveWithState = function(t, n) {
                                    return this.scheduleWithState({
                                        first: t,
                                        second: n
                                    }, function(t, n) {
                                        return e(t, n)
                                    })
                                }, t.prototype.scheduleRecursiveWithRelative = function(t, e) {
                                    return this.scheduleRecursiveWithRelativeAndState(e, t, function(t, e) {
                                        t(function(n) {
                                            e(t, n)
                                        })
                                    })
                                }, t.prototype.scheduleRecursiveWithRelativeAndState = function(t, e, r) {
                                    return this._scheduleRelative({
                                        first: t,
                                        second: r
                                    }, e, function(t, e) {
                                        return n(t, e)
                                    })
                                }, t.prototype.scheduleRecursiveWithAbsolute = function(t, e) {
                                    return this.scheduleRecursiveWithAbsoluteAndState(e, t, function(t, e) {
                                        t(function(n) {
                                            e(t, n)
                                        })
                                    })
                                }, t.prototype.scheduleRecursiveWithAbsoluteAndState = function(t, e, n) {
                                    return this._scheduleAbsolute({
                                        first: t,
                                        second: n
                                    }, e, function(t, e) {
                                        return r(t, e)
                                    })
                                }, t.now = o, t.normalize = function(t) {
                                    return 0 > t && (t = 0), t
                                }, t
                            }(),
                            T = function() {
                                function t() {
                                    var e = this;
                                    t.base.constructor.call(this, o, function(t, n) {
                                        return n(e, t)
                                    }, function(t, n, r) {
                                        for (; j.normalize(n) > 0;);
                                        return r(e, t)
                                    }, function(t, n, r) {
                                        return e.scheduleWithRelativeAndState(t, n - e.now(), r)
                                    })
                                }
                                return a(t, j), t
                            }(),
                            V = j.Immediate = new T,
                            L = function() {
                                function t() {
                                    F.queue = new O(4)
                                }
                                return t.prototype.dispose = function() {
                                    F.queue = null
                                }, t.prototype.run = function() {
                                    for (var t, e = F.queue; e.length > 0;)
                                        if (t = e.dequeue(), !t.isCancelled()) {
                                            for (; t.dueTime - j.now() > 0;);
                                            t.isCancelled() || t.invoke()
                                        }
                                }, t
                            }(),
                            F = function() {
                                function t() {
                                    var e = this;
                                    t.base.constructor.call(this, o, function(t, n) {
                                        return e.scheduleWithRelativeAndState(t, 0, n)
                                    }, function(n, r, o) {
                                        var i, s = e.now() + j.normalize(r),
                                            u = t.queue,
                                            c = new k(e, n, o, s);
                                        if (null === u) {
                                            i = new L;
                                            try {
                                                t.queue.enqueue(c), i.run()
                                            } finally {
                                                i.dispose()
                                            }
                                        } else u.enqueue(c);
                                        return c.disposable
                                    }, function(t, n, r) {
                                        return e.scheduleWithRelativeAndState(t, n - e.now(), r)
                                    })
                                }
                                return a(t, j), t.prototype.scheduleRequired = function() {
                                    return null === t.queue
                                }, t.prototype.ensureTrampoline = function(t) {
                                    return this.scheduleRequired() ? this.schedule(t) : t()
                                }, t.queue = null, t
                            }(),
                            z = j.CurrentThread = new F;
                        n.VirtualTimeScheduler = function() {
                            function t(e, n) {
                                var r = this;
                                this.clock = e, this.comparer = n, this.isEnabled = !1, t.base.constructor.call(this, function() {
                                    return r.toDateTimeOffset(r.clock)
                                }, function(t, e) {
                                    return r.scheduleAbsolute(t, r.clock, e)
                                }, function(t, e, n) {
                                    return r.scheduleRelative(t, r.toRelative(e), n)
                                }, function(t, e, n) {
                                    return r.scheduleRelative(t, r.toRelative(e - r.now()), n)
                                }), this.queue = new O(1024)
                            }
                            return a(t, j), t.prototype.scheduleRelative = function(t, e, n) {
                                var r = this.add(this.clock, e);
                                return this.scheduleAbsolute(t, r, n)
                            }, t.prototype.start = function() {
                                var t;
                                if (!this.isEnabled) {
                                    this.isEnabled = !0;
                                    do t = this.getNext(), null !== t ? (this.comparer(t.dueTime, this.clock) > 0 && (this.clock = t.dueTime), t.invoke()) : this.isEnabled = !1; while (this.isEnabled)
                                }
                            }, t.prototype.stop = function() {
                                return this.isEnabled = !1
                            }, t.prototype.advanceTo = function(t) {
                                var e;
                                if (this.comparer(this.clock, t) >= 0) throw new Error(h);
                                if (!this.isEnabled) {
                                    this.isEnabled = !0;
                                    do e = this.getNext(), null !== e && this.comparer(e.dueTime, t) <= 0 ? (this.comparer(e.dueTime, this.clock) > 0 && (this.clock = e.dueTime), e.invoke()) : this.isEnabled = !1; while (this.isEnabled);
                                    return this.clock = t
                                }
                            }, t.prototype.advanceBy = function(t) {
                                var e = this.add(this.clock, t);
                                if (this.comparer(this.clock, e) >= 0) throw new Error(h);
                                return this.advanceTo(e)
                            }, t.prototype.getNext = function() {
                                for (var t; this.queue.length > 0;) {
                                    if (t = this.queue.peek(), !t.isCancelled()) return t;
                                    this.queue.dequeue()
                                }
                                return null
                            }, t.prototype.scheduleAbsolute = function(t, e, n) {
                                var r = this,
                                    o = function(t, e) {
                                        return r.queue.remove(i), n(t, e)
                                    },
                                    i = new k(r, t, o, e, r.comparer);
                                return r.queue.enqueue(i), i.disposable
                            }, t
                        }();
                        var I = function() {
                                function e(n) {
                                    var r = this;
                                    e.base.constructor.call(this, o, function(e, o) {
                                        var i = new R,
                                            s = t.setTimeout(function() {
                                                i.setDisposable(o(r, e))
                                            }, n || 0);
                                        return new N(i, D(function() {
                                            t.clearTimeout(s)
                                        }))
                                    }, function(e, n, o) {
                                        var i = new R,
                                            s = j.normalize(n),
                                            u = t.setTimeout(function() {
                                                i.setDisposable(o(r, e))
                                            }, s);
                                        return new N(i, D(function() {
                                            t.clearTimeout(u)
                                        }))
                                    }, function(t, e, n) {
                                        return r.scheduleWithRelativeAndState(t, e - r.now(), n)
                                    })
                                }
                                return a(e, j), e
                            }(),
                            M = j.Timeout = new I;
                        n.TimeoutScheduler = I;
                        var U = n.Notification = function() {
                            function t() {}
                            return t.prototype.accept = function(t, e, n) {
                                return arguments.length > 1 || "function" == typeof t ? this._accept(t, e, n) : this._acceptObservable(t)
                            }, t.prototype.toObservable = function(t) {
                                var e = this;
                                return t = t || j.Immediate, Et(function(n) {
                                    return t.schedule(function() {
                                        e._acceptObservable(n), "N" === e.kind && n.onCompleted()
                                    })
                                })
                            }, t.prototype.hasValue = !1, t.prototype.equals = function(t) {
                                var n = t === e || null === t ? "" : t.toString();
                                return this.toString() === n
                            }, t
                        }();
                        U.createOnNext = function(t) {
                            var e = new U;
                            return e.value = t, e.hasValue = !0, e.kind = "N", e._accept = function(t) {
                                return t(this.value)
                            }, e._acceptObservable = function(t) {
                                return t.onNext(this.value)
                            }, e.toString = function() {
                                return "OnNext(" + this.value + ")"
                            }, e
                        }, U.createOnError = function(t) {
                            var e = new U;
                            return e.exception = t, e.kind = "E", e._accept = function(t, e) {
                                return e(this.exception)
                            }, e._acceptObservable = function(t) {
                                return t.onError(this.exception)
                            }, e.toString = function() {
                                return "OnError(" + this.exception + ")"
                            }, e
                        }, U.createOnCompleted = function() {
                            var t = new U;
                            return t.kind = "C", t._accept = function(t, e, n) {
                                return n()
                            }, t._acceptObservable = function(t) {
                                return t.onCompleted()
                            }, t.toString = function() {
                                return "OnCompleted()"
                            }, t
                        };
                        var B = n.Internals.Enumerator = function(t, e, n) {
                                this.moveNext = t, this.getCurrent = e, this.dispose = n
                            },
                            P = B.create = function(t, e, n) {
                                var o = !1;
                                return n || (n = r), new B(function() {
                                    if (o) return !1;
                                    var e = t();
                                    return e || (o = !0, n()), e
                                }, function() {
                                    return e()
                                }, function() {
                                    o || (n(), o = !0)
                                })
                            },
                            H = n.Internals.Enumerable = function(t) {
                                this.getEnumerator = t
                            },
                            X = H.prototype;
                        X.concat = function() {
                            var t = this;
                            return Et(function(e) {
                                var n, r = t.getEnumerator(),
                                    o = !1,
                                    i = new W;
                                return n = V.scheduleRecursive(function(t) {
                                    var n, s, u, c = !1;
                                    if (!o) {
                                        try {
                                            c = r.moveNext(), c ? n = r.getCurrent() : r.dispose()
                                        } catch (a) {
                                            u = a, r.dispose()
                                        }
                                        if (u) return void e.onError(u);
                                        if (!c) return void e.onCompleted();
                                        s = new R, i.disposable(s), s.disposable(n.subscribe(function(t) {
                                            e.onNext(t)
                                        }, function(t) {
                                            e.onError(t)
                                        }, function() {
                                            t()
                                        }))
                                    }
                                }), new N(i, n, D(function() {
                                    o = !0, r.dispose()
                                }))
                            })
                        }, X.catchException = function() {
                            var t = this;
                            return Et(function(e) {
                                var n, r, o, i = t.getEnumerator(),
                                    s = !1;
                                return r = new W, n = V.scheduleRecursive(function(t) {
                                    var n, u, c, a;
                                    if (a = !1, !s) {
                                        try {
                                            a = i.moveNext(), a && (n = i.getCurrent())
                                        } catch (f) {
                                            c = f
                                        }
                                        if (c) return void e.onError(c);
                                        if (!a) return void(o ? e.onError(o) : e.onCompleted());
                                        u = new R, r.disposable(u), u.disposable(n.subscribe(function(t) {
                                            e.onNext(t)
                                        }, function(e) {
                                            o = e, t()
                                        }, function() {
                                            e.onCompleted()
                                        }))
                                    }
                                }), new N(r, n, D(function() {
                                    s = !0
                                }))
                            })
                        };
                        var J = H.repeat = function(t, n) {
                                return n === e && (n = -1), new H(function() {
                                    var e, r = n;
                                    return P(function() {
                                        return 0 === r ? !1 : (r > 0 && r--, e = t, !0)
                                    }, function() {
                                        return e
                                    })
                                })
                            },
                            G = H.forEach = function(t, e) {
                                return e || (e = s), new H(function() {
                                    var n, r = -1;
                                    return P(function() {
                                        return ++r < t.length ? (n = e(t[r], r), !0) : !1
                                    }, function() {
                                        return n
                                    })
                                })
                            },
                            K = n.Observer = function() {},
                            Q = n.Internals.AbstractObserver = function() {
                                function t() {
                                    this.isStopped = !1
                                }
                                return a(t, K), t.prototype.onNext = function(t) {
                                    this.isStopped || this.next(t)
                                }, t.prototype.onError = function(t) {
                                    this.isStopped || (this.isStopped = !0, this.error(t))
                                }, t.prototype.onCompleted = function() {
                                    this.isStopped || (this.isStopped = !0, this.completed())
                                }, t.prototype.dispose = function() {
                                    this.isStopped = !0
                                }, t
                            }(),
                            Y = function() {
                                function t(e, n, r) {
                                    t.base.constructor.call(this), this._onNext = e, this._onError = n, this._onCompleted = r
                                }
                                return a(t, Q), t.prototype.next = function(t) {
                                    this._onNext(t)
                                }, t.prototype.error = function(t) {
                                    this._onError(t)
                                }, t.prototype.completed = function() {
                                    this._onCompleted()
                                }, t
                            }(),
                            Z = n.Internals.BinaryObserver = function() {
                                function t(t, e) {
                                    "function" == typeof t && "function" == typeof e ? (this.leftObserver = et(t), this.rightObserver = et(e)) : (this.leftObserver = t, this.rightObserver = e)
                                }
                                return a(t, K), t.prototype.onNext = function(t) {
                                    var e = this;
                                    return t.switchValue(function(t) {
                                        return t.accept(e.leftObserver)
                                    }, function(t) {
                                        return t.accept(e.rightObserver)
                                    })
                                }, t.prototype.onError = function() {}, t.prototype.onCompleted = function() {}, t
                            }(),
                            $ = function() {
                                function t(t, e) {
                                    this.scheduler = t, this.observer = e, this.isAcquired = !1, this.hasFaulted = !1, this.queue = [], this.disposable = new W
                                }
                                return a(t, Q), t.prototype.ensureActive = function() {
                                    var t = !1,
                                        e = this;
                                    !this.hasFaulted && this.queue.length > 0 && (t = !this.isAcquired, this.isAcquired = !0), t && this.disposable.disposable(this.scheduler.scheduleRecursive(function(t) {
                                        var n;
                                        if (!(e.queue.length > 0)) return void(e.isAcquired = !1);
                                        n = e.queue.shift();
                                        try {
                                            n()
                                        } catch (r) {
                                            throw e.queue = [], e.hasFaulted = !0, r
                                        }
                                        t()
                                    }))
                                }, t.prototype.next = function(t) {
                                    var e = this;
                                    this.queue.push(function() {
                                        e.observer.onNext(t)
                                    })
                                }, t.prototype.error = function(t) {
                                    var e = this;
                                    this.queue.push(function() {
                                        e.observer.onError(t)
                                    })
                                }, t.prototype.completed = function() {
                                    var t = this;
                                    this.queue.push(function() {
                                        t.observer.onCompleted()
                                    })
                                }, t.prototype.dispose = function() {
                                    t.base.dispose.call(this), this.disposable.dispose()
                                }, t
                            }(),
                            tt = K.create = function(t, e, n) {
                                return t || (t = r), e || (e = function(t) {
                                    throw t
                                }), n || (n = r), new Y(t, e, n)
                            },
                            et = (K.fromNotifier = function(t) {
                                return new Y(function(e) {
                                    return t(U.createOnNext(e))
                                }, function(e) {
                                    return t(U.createOnError(e))
                                }, function() {
                                    return t(U.createOnCompleted())
                                })
                            }, function(t) {
                                return new Y(function(e) {
                                    t(U.createOnNext(e))
                                }, function(e) {
                                    t(U.createOnError(e))
                                }, function() {
                                    t(U.createOnCompleted())
                                })
                            });
                        K.prototype.toNotifier = function() {
                            var t = this;
                            return function(e) {
                                return e.accept(t)
                            }
                        }, K.prototype.asObserver = function() {
                            var t = this;
                            return new Y(function(e) {
                                return t.onNext(e)
                            }, function(e) {
                                return t.onError(e)
                            }, function() {
                                return t.onCompleted()
                            })
                        };
                        var nt = n.Observable = function() {
                                function t() {}
                                return t.prototype.subscribe = function(t, e, n) {
                                    var r;
                                    return r = 0 === arguments.length || arguments.length > 1 || "function" == typeof t ? tt(t, e, n) : t, this._subscribe(r)
                                }, t
                            }(),
                            rt = nt.prototype,
                            ot = function() {
                                function t(e) {
                                    t.base.constructor.call(this), this._subscribe = function(t) {
                                        var n = new it(t);
                                        return z.scheduleRequired() ? z.schedule(function() {
                                            n.disposable(e(n))
                                        }) : n.disposable(e(n)), n
                                    }
                                }
                                return a(t, nt), t.prototype._subscribe = function(t) {
                                    return this._subscribe(t)
                                }, t
                            }(),
                            it = function() {
                                function t(e) {
                                    t.base.constructor.call(this), this.observer = e, this.m = new R
                                }
                                return a(t, Q), t.prototype.disposable = function(t) {
                                    return this.m.disposable(t)
                                }, t.prototype.next = function(t) {
                                    this.observer.onNext(t)
                                }, t.prototype.error = function(t) {
                                    this.observer.onError(t), this.m.dispose()
                                }, t.prototype.completed = function() {
                                    this.observer.onCompleted(), this.m.dispose()
                                }, t.prototype.dispose = function() {
                                    t.base.dispose.call(this), this.m.dispose()
                                }, t
                            }(),
                            st = function() {
                                function t(e, n, r) {
                                    t.base.constructor.call(this), this.key = e, this.underlyingObservable = r ? Et(function(t) {
                                        return new N(r.getDisposable(), n.subscribe(t))
                                    }) : n
                                }
                                return a(t, nt), t.prototype._subscribe = function(t) {
                                    return this.underlyingObservable.subscribe(t)
                                }, t
                            }(),
                            ut = n.ConnectableObservable = function() {
                                function t(t, e) {
                                    var n = {
                                        subject: e,
                                        source: t.asObservable(),
                                        hasSubscription: !1,
                                        subscription: null
                                    };
                                    this.connect = function() {
                                        return n.hasSubscription || (n.hasSubscription = !0, n.subscription = new N(n.source.subscribe(n.subject), D(function() {
                                            n.hasSubscription = !1
                                        }))), n.subscription
                                    }, this._subscribe = function(t) {
                                        return n.subject.subscribe(t)
                                    }
                                }
                                return a(t, nt), t.prototype.connect = function() {
                                    return this.connect()
                                }, t.prototype.refCount = function() {
                                    var t = null,
                                        e = 0,
                                        n = this;
                                    return Et(function(r) {
                                        var o, i;
                                        return e++, o = 1 === e, i = n.subscribe(r), o && (t = n.connect()), D(function() {
                                            i.dispose(), e--, 0 === e && t.dispose()
                                        })
                                    })
                                }, t.prototype._subscribe = function(t) {
                                    return this._subscribe(t)
                                }, t
                            }(),
                            ct = function() {
                                function t(t, e) {
                                    this.subject = t, this.observer = e
                                }
                                return t.prototype.dispose = function() {
                                    this.subject.isDisposed || null === this.observer || (this.subject.observers.remove(this.observer), this.observer = null)
                                }, t
                            }(),
                            at = n.Subject = function() {
                                function t() {
                                    t.base.constructor.call(this), this.isDisposed = !1, this.isStopped = !1, this.observers = new E
                                }
                                a(t, nt), f(t, K);
                                var e = function() {
                                    if (this.isDisposed) throw new Error(p)
                                };
                                return t.prototype.onCompleted = function() {
                                    var t;
                                    if (e.call(this), this.isStopped || (t = this.observers.toArray(), this.observers = new E, this.isStopped = !0), t)
                                        for (var n = 0, r = t.length; r > n; n++) t[n].onCompleted()
                                }, t.prototype.onError = function(t) {
                                    var n;
                                    if (e.call(this), this.isStopped || (n = this.observers.toArray(), this.observers = new E, this.isStopped = !0, this.exception = t), n)
                                        for (var r = 0, o = n.length; o > r; r++) n[r].onError(t)
                                }, t.prototype.onNext = function(t) {
                                    var n;
                                    if (e.call(this), this.isStopped || (n = this.observers.toArray()), n)
                                        for (var r = 0, o = n.length; o > r; r++) n[r].onNext(t)
                                }, t.prototype._subscribe = function(t) {
                                    return e.call(this), this.isStopped ? this.exception ? (t.onError(this.exception), S) : (t.onCompleted(), S) : (this.observers.add(t), new ct(this, t))
                                }, t.prototype.dispose = function() {
                                    this.isDisposed = !0, this.observers = null
                                }, t.create = function(t, e) {
                                    return new pt(t, e)
                                }, t
                            }(),
                            ft = n.AsyncSubject = function() {
                                function t() {
                                    t.base.constructor.call(this), this.isDisposed = !1, this.isStopped = !1, this.value = null, this.hasValue = !1, this.observers = new E, this.exception = null
                                }
                                a(t, nt), f(t, K);
                                var e = function() {
                                    if (this.isDisposed) throw new Error(p)
                                };
                                return t.prototype.onCompleted = function() {
                                    var t, n, r, o, i, s = !1;
                                    if (e.call(this), this.isStopped || (n = this.observers.toArray(), this.observers = new E, this.isStopped = !0, r = this.value, s = this.hasValue), n)
                                        if (s)
                                            for (o = 0, i = n.length; i > o; o++) t = n[o], t.onNext(r), t.onCompleted();
                                        else
                                            for (o = 0, i = n.length; i > o; o++) n[o].onCompleted()
                                }, t.prototype.onError = function(t) {
                                    var n;
                                    if (e.call(this), this.isStopped || (n = this.observers.toArray(), this.observers = new E, this.isStopped = !0, this.exception = t), n)
                                        for (var r = 0, o = n.length; o > r; r++) n[r].onError(t)
                                }, t.prototype.onNext = function(t) {
                                    e.call(this), this.isStopped || (this.value = t, this.hasValue = !0)
                                }, t.prototype._subscribe = function(t) {
                                    var n, r, o;
                                    return e.call(this), this.isStopped ? (n = this.exception, r = this.hasValue, o = this.value, n ? t.onError(n) : r ? (t.onNext(o), t.onCompleted()) : t.onCompleted(), S) : (this.observers.add(t), new ct(this, t))
                                }, t.prototype.dispose = function() {
                                    this.isDisposed = !0, this.observers = null, this.exception = null, this.value = null
                                }, t
                            }(),
                            lt = n.BehaviorSubject = function() {
                                function t(e) {
                                    t.base.constructor.call(this), this.value = e, this.observers = new E, this.isDisposed = !1, this.isStopped = !1, this.exception = null
                                }
                                a(t, nt), f(t, K);
                                var e = function() {
                                    if (this.isDisposed) throw new Error(p)
                                };
                                return t.prototype.onCompleted = function() {
                                    var t;
                                    if (e.call(this), this.isStopped || (t = this.observers.toArray(), this.observers = new E, this.isStopped = !0), t)
                                        for (var n = 0, r = t.length; r > n; n++) t[n].onCompleted()
                                }, t.prototype.onError = function(t) {
                                    var n;
                                    if (e.call(this), this.isStopped || (n = this.observers.toArray(), this.observers = new E, this.isStopped = !0, this.exception = t), n)
                                        for (var r = 0, o = n.length; o > r; r++) n[r].onError(t)
                                }, t.prototype.onNext = function(t) {
                                    var n;
                                    if (e.call(this), this.isStopped || (this.value = t, n = this.observers.toArray()), n)
                                        for (var r = 0, o = n.length; o > r; r++) n[r].onNext(t)
                                }, t.prototype._subscribe = function(t) {
                                    var n;
                                    return e.call(this), this.isStopped ? (n = this.exception, n ? t.onError(n) : t.onCompleted(), S) : (this.observers.add(t), t.onNext(this.value), new ct(this, t))
                                }, t.prototype.dispose = function() {
                                    this.isDisposed = !0, this.observers = null, this.value = null, this.exception = null
                                }, t
                            }(),
                            ht = n.ReplaySubject = function() {
                                function t(t, n, r) {
                                    this.bufferSize = t === e ? Number.MAX_VALUE : t, this.window = n === e ? Number.MAX_VALUE : n, this.scheduler = r || z, this.q = [], this.observers = new E, this.isStopped = !1, this.isDisposed = !1
                                }
                                a(t, nt), f(t, nt);
                                var n = function() {
                                    if (this.isDisposed) throw new Error(p)
                                };
                                t.prototype._trim = function(t) {
                                    var e = this.isStopped ? 1 : 0,
                                        n = e + this.bufferSize;
                                    for (n < this.bufferSize && (n = this.bufferSize); this.q.length > n;) this.q.shift();
                                    for (; this.q.length > e && t - this.q[0].timestamp > this.window;) this.q.shift()
                                }, t.prototype._enqueue = function(t) {
                                    var e = this.scheduler.now(),
                                        n = {
                                            value: t,
                                            timestamp: e
                                        };
                                    this.q.push(n), this._trim(e)
                                }, t.prototype.onNext = function(t) {
                                    var e, r, o, i;
                                    if (n.call(this), !this.isStopped)
                                        for (e = this.observers.toArray(), this._enqueue(U.createOnNext(t)), o = 0, i = e.length; i > o; o++) r = e[o], r.onNext(t);
                                    if (e)
                                        for (o = 0, i = e.length; i > o; o++) r = e[o], r.ensureActive()
                                }, t.prototype.onError = function(t) {
                                    var e, r, o;
                                    if (n.call(this), !this.isStopped) {
                                        for (this.isStopped = !0, this._enqueue(U.createOnError(t)), e = this.observers.toArray(), r = 0, o = e.length; o > r; r++) e[r].onError(t);
                                        this.observers = new E
                                    }
                                    if (e)
                                        for (r = 0, o = e.length; o > r; r++) e[r].ensureActive()
                                }, t.prototype.onCompleted = function() {
                                    var t, e, r;
                                    if (n.call(this), !this.isStopped) {
                                        for (this.isStopped = !0, this._enqueue(U.createOnCompleted()), t = this.observers.toArray(), e = 0, r = t.length; r > e; e++) t[e].onCompleted();
                                        this.observers = new E
                                    }
                                    if (t)
                                        for (e = 0, r = t.length; r > e; e++) t[e].ensureActive()
                                }, t.prototype._subscribe = function(t) {
                                    var e = new $(this.scheduler, t),
                                        o = new r(this, e);
                                    n.call(this), this._trim(this.scheduler.now()), this.observers.add(e);
                                    for (var i = 0, s = this.q.length; s > i; i++) this.q[i].value.accept(e);
                                    return e.ensureActive(), o
                                }, t.prototype.dispose = function() {
                                    this.isDisposed = !0, this.observers = null
                                };
                                var r = function() {
                                    function t(t, e) {
                                        this.subject = t, this.observer = e
                                    }
                                    return t.prototype.dispose = function() {
                                        this.observer.dispose(), this.subject.isDisposed || this.subject.observers.remove(this.observer)
                                    }, t
                                }();
                                return t
                            }(),
                            pt = function() {
                                function t(t, e) {
                                    this.observer = t, this.observable = e
                                }
                                return a(t, nt), f(t, K), t.prototype.onCompleted = function() {
                                    return this.observer.onCompleted()
                                }, t.prototype.onError = function(t) {
                                    return this.observer.onError(t)
                                }, t.prototype.onNext = function(t) {
                                    return this.observer.onNext(t)
                                }, t.prototype._subscribe = function(t) {
                                    return this.observable.subscribe(t)
                                }, t
                            }();
                        nt.start = function(t, e, n, r) {
                            return n || (n = []), bt(t, r).apply(e, n)
                        };
                        var bt = nt.toAsync = function(t, e) {
                            return e || (e = M),
                                function() {
                                    var n = new ft,
                                        r = function() {
                                            var e;
                                            try {
                                                e = t.apply(this, arguments)
                                            } catch (r) {
                                                return void n.onError(r)
                                            }
                                            n.onNext(e), n.onCompleted()
                                        },
                                        o = l.call(arguments),
                                        i = this;
                                    return e.schedule(function() {
                                        r.apply(i, o)
                                    }), n
                                }
                        };
                        rt.multicast = function(t, e) {
                            var n = this;
                            return "function" == typeof t ? Et(function(r) {
                                var o = n.multicast(t());
                                return new N(e(o).subscribe(r), o.connect())
                            }) : new ut(n, t)
                        }, rt.publish = function(t) {
                            return t ? this.multicast(function() {
                                return new at
                            }, t) : this.multicast(new at)
                        }, rt.publishLast = function(t) {
                            return t ? this.multicast(function() {
                                return new ft
                            }, t) : this.multicast(new ft)
                        }, rt.replay = function(t, e, n, r) {
                            return t && null !== t ? this.multicast(function() {
                                return new ht(e, n, r)
                            }, t) : this.multicast(new ht(e, n, r))
                        }, rt.publishValue = function(t, e) {
                            return "function" == typeof t ? this.multicast(function() {
                                return new lt(e)
                            }, t) : this.multicast(new lt(t))
                        };
                        var dt = nt.never = function() {
                                return Et(function() {
                                    return S
                                })
                            },
                            vt = nt.empty = function(t) {
                                return t || (t = V), Et(function(e) {
                                    return t.schedule(function() {
                                        e.onCompleted()
                                    })
                                })
                            },
                            mt = nt.returnValue = function(t, e) {
                                return e || (e = V), Et(function(n) {
                                    return e.schedule(function() {
                                        n.onNext(t), n.onCompleted()
                                    })
                                })
                            },
                            yt = nt.throwException = function(t, e) {
                                return e || (e = V), Et(function(n) {
                                    return e.schedule(function() {
                                        n.onError(t)
                                    })
                                })
                            };
                        nt.generate = function(t, e, n, r, o) {
                            return o || (o = z), Et(function(i) {
                                var s = !0,
                                    u = t;
                                return o.scheduleRecursive(function(t) {
                                    var o, c;
                                    try {
                                        s ? s = !1 : u = n(u), o = e(u), o && (c = r(u))
                                    } catch (a) {
                                        return void i.onError(a)
                                    }
                                    o ? (i.onNext(c), t()) : i.onCompleted()
                                })
                            })
                        };
                        var wt = nt.defer = function(t) {
                            return Et(function(e) {
                                var n;
                                try {
                                    n = t()
                                } catch (r) {
                                    return yt(r).subscribe(e)
                                }
                                return n.subscribe(e)
                            })
                        };
                        nt.using = function(t, e) {
                            return Et(function(n) {
                                var r, o, i = S;
                                try {
                                    r = t(), null !== r && (i = r), o = e(r)
                                } catch (s) {
                                    return new N(yt(s).subscribe(n), i)
                                }
                                return new N(o.subscribe(n), i)
                            })
                        };
                        var gt = nt.fromArray = function(t, e) {
                                return e || (e = z), Et(function(n) {
                                    var r = 0;
                                    return e.scheduleRecursive(function(e) {
                                        r < t.length ? (n.onNext(t[r++]), e()) : n.onCompleted()
                                    })
                                })
                            },
                            Et = nt.createWithDisposable = function(t) {
                                return new ot(t)
                            };
                        nt.create = function(t) {
                            return Et(function(e) {
                                return D(t(e))
                            })
                        }, nt.range = function(t, e, n) {
                            return n || (n = z), Et(function(r) {
                                return n.scheduleRecursiveWithState(0, function(n, o) {
                                    e > n ? (r.onNext(t + n), o(n + 1)) : r.onCompleted()
                                })
                            })
                        }, rt.repeat = function(t) {
                            return J(this, t).concat()
                        }, rt.retry = function(t) {
                            return J(this, t).catchException()
                        }, nt.repeat = function(t, n, r) {
                            return r || (r = z), n === e && (n = -1), mt(t, r).repeat(n)
                        }, rt.select = function(t) {
                            var e = this;
                            return Et(function(n) {
                                var r = 0;
                                return e.subscribe(function(e) {
                                    var o;
                                    try {
                                        o = t(e, r++)
                                    } catch (i) {
                                        return void n.onError(i)
                                    }
                                    n.onNext(o)
                                }, b(n, "onError"), b(n, "onCompleted"))
                            })
                        }, rt.where = function(t) {
                            var e = this;
                            return Et(function(n) {
                                var r = 0;
                                return e.subscribe(function(e) {
                                    var o;
                                    try {
                                        o = t(e, r++)
                                    } catch (i) {
                                        return void n.onError(i)
                                    }
                                    o && n.onNext(e)
                                }, b(n, "onError"), b(n, "onCompleted"))
                            })
                        }, rt.groupByUntil = function(t, n, r, o) {
                            var i = this;
                            return n || (n = s), o || (o = u), Et(function(s) {
                                var u = {},
                                    c = new N,
                                    a = new _(c);
                                return c.add(i.subscribe(function(i) {
                                    var f, l, h, p, b, d, v, m, y, w, g;
                                    try {
                                        v = t(i), m = o(v)
                                    } catch (E) {
                                        for (g in u) u[g].onError(E);
                                        return void s.onError(E)
                                    }
                                    b = !1;
                                    try {
                                        w = u[m], w || (w = new at, u[m] = w, b = !0)
                                    } catch (E) {
                                        for (g in u) u[g].onError(E);
                                        return void s.onError(E)
                                    }
                                    if (b) {
                                        d = new st(v, w, a), l = new st(v, w);
                                        try {
                                            f = r(l)
                                        } catch (E) {
                                            for (g in u) u[g].onError(E);
                                            return void s.onError(E)
                                        }
                                        s.onNext(d), y = new R, c.add(y), p = function() {
                                            u[m] !== e && (delete u[m], w.onCompleted()), c.remove(y)
                                        }, y.disposable(f.take(1).subscribe(function() {}, function(t) {
                                            for (g in u) u[g].onError(t);
                                            s.onError(t)
                                        }, function() {
                                            p()
                                        }))
                                    }
                                    try {
                                        h = n(i)
                                    } catch (E) {
                                        for (g in u) u[g].onError(E);
                                        return void s.onError(E)
                                    }
                                    w.onNext(h)
                                }, function(t) {
                                    for (var e in u) u[e].onError(t);
                                    s.onError(t)
                                }, function() {
                                    for (var t in u) u[t].onCompleted();
                                    s.onCompleted()
                                })), a
                            })
                        }, rt.groupBy = function(t, e, n) {
                            return this.groupByUntil(t, e, function() {
                                return dt()
                            }, n)
                        }, rt.take = function(t, e) {
                            if (0 > t) throw new Error(h);
                            if (0 === t) return vt(e);
                            var n = this;
                            return Et(function(e) {
                                var r = t;
                                return n.subscribe(function(t) {
                                    r > 0 && (r--, e.onNext(t), 0 === r && e.onCompleted())
                                }, b(e, "onError"), b(e, "onCompleted"))
                            })
                        }, rt.skip = function(t) {
                            if (0 > t) throw new Error(h);
                            var e = this;
                            return Et(function(n) {
                                var r = t;
                                return e.subscribe(function(t) {
                                    0 >= r ? n.onNext(t) : r--
                                }, b(n, "onError"), b(n, "onCompleted"))
                            })
                        }, rt.takeWhile = function(t) {
                            var e = this;
                            return Et(function(n) {
                                var r = 0,
                                    o = !0;
                                return e.subscribe(function(e) {
                                    if (o) {
                                        try {
                                            o = t(e, r++)
                                        } catch (i) {
                                            return void n.onError(i)
                                        }
                                        o ? n.onNext(e) : n.onCompleted()
                                    }
                                }, b(n, "onError"), b(n, "onCompleted"))
                            })
                        }, rt.skipWhile = function(t) {
                            var e = this;
                            return Et(function(n) {
                                var r = 0,
                                    o = !1;
                                return e.subscribe(function(e) {
                                    if (!o) try {
                                        o = !t(e, r++)
                                    } catch (i) {
                                        return void n.onError(i)
                                    }
                                    o && n.onNext(e)
                                }, b(n, "onError"), b(n, "onCompleted"))
                            })
                        }, rt.selectMany = function(t, e) {
                            return e ? this.selectMany(function(n) {
                                return t(n).select(function(t) {
                                    return e(n, t)
                                })
                            }) : "function" == typeof t ? xt.call(this, t) : xt.call(this, function() {
                                return t
                            })
                        };
                        var xt = function(t) {
                                return this.select(t).mergeObservable()
                            },
                            Ct = "Sequence contains no elements.";
                        rt.finalValue = function() {
                            var t = this;
                            return Et(function(e) {
                                var n, r = !1;
                                return t.subscribe(function(t) {
                                    r = !0, n = t
                                }, function(t) {
                                    e.onError(t)
                                }, function() {
                                    r ? (e.onNext(n), e.onCompleted()) : e.onError(new Error(Ct))
                                })
                            })
                        }, rt.toArray = function() {
                            var t = function(t, e) {
                                return t.push(e), t
                            };
                            return this.scan([], t).startWith([]).finalValue()
                        }, rt.materialize = function() {
                            var t = this;
                            return Et(function(e) {
                                return t.subscribe(function(t) {
                                    e.onNext(U.createOnNext(t))
                                }, function(t) {
                                    e.onNext(U.createOnError(t)), e.onCompleted()
                                }, function() {
                                    e.onNext(U.createOnCompleted()), e.onCompleted()
                                })
                            })
                        }, rt.dematerialize = function() {
                            var t = this;
                            return Et(function(e) {
                                return t.subscribe(function(t) {
                                    return t.accept(e)
                                }, b(e, "onError"), b(e, "onCompleted"))
                            })
                        }, rt.asObservable = function() {
                            var t = this;
                            return Et(function(e) {
                                return t.subscribe(e)
                            })
                        }, rt.windowWithCount = function(t, n) {
                            var r = this;
                            if (0 >= t) throw new Error(h);
                            if (n === e && (n = t), 0 >= n) throw new Error(h);
                            return Et(function(e) {
                                var o = new R,
                                    i = new _(o),
                                    s = 0,
                                    u = [],
                                    c = function() {
                                        var t = new at;
                                        u.push(t), e.onNext(d(t, i))
                                    };
                                return c(), o.disposable(r.subscribe(function(e) {
                                    var r, o, i;
                                    for (o = 0; o < u.length; o++) u[o].onNext(e);
                                    r = s - t + 1, r >= 0 && r % n === 0 && (i = u.shift(), i.onCompleted()), s++, s % n === 0 && c()
                                }, function(t) {
                                    for (; u.length > 0;) u.shift().onError(t);
                                    e.onError(t)
                                }, function() {
                                    for (; u.length > 0;) u.shift().onCompleted();
                                    e.onCompleted()
                                })), i
                            })
                        }, rt.bufferWithCount = function(t, n) {
                            return n === e && (n = t), this.windowWithCount(t, n).selectMany(function(t) {
                                return t.toArray()
                            }).where(function(t) {
                                return t.length > 0
                            })
                        }, rt.startWith = function() {
                            var t, e, n = 0;
                            return arguments.length > 0 && null !== arguments[0] && void 0 !== arguments[0].now ? (e = arguments[0], n = 1) : e = V, t = l.call(arguments, n), G([gt(t, e), this]).concat()
                        }, rt.scan = function() {
                            var t, e, n = !1;
                            2 === arguments.length ? (t = arguments[0], e = arguments[1], n = !0) : e = arguments[0];
                            var r = this;
                            return wt(function() {
                                var o, i = !1;
                                return r.select(function(r) {
                                    return i ? o = e(o, r) : (o = n ? e(t, r) : r, i = !0), o
                                })
                            })
                        }, rt.distinctUntilChanged = function(t, e) {
                            var n = this;
                            return t || (t = s), e || (e = i), Et(function(r) {
                                var o, i = !1;
                                return n.subscribe(function(n) {
                                    var s, u = !1;
                                    try {
                                        s = t(n)
                                    } catch (c) {
                                        return void r.onError(c)
                                    }
                                    if (i) try {
                                        u = e(o, s)
                                    } catch (c) {
                                        return void r.onError(c)
                                    }
                                    i && u || (i = !0, o = s, r.onNext(n))
                                }, b(r, "onError"), b(r, "onCompleted"))
                            })
                        }, rt.finallyAction = function(t) {
                            var e = this;
                            return Et(function(n) {
                                var r = e.subscribe(n);
                                return D(function() {
                                    try {
                                        r.dispose()
                                    } finally {
                                        t()
                                    }
                                })
                            })
                        }, rt.doAction = function(t, e, n) {
                            var r, o = this;
                            return "function" == typeof t ? r = t : (r = function(e) {
                                t.onNext(e)
                            }, e = function(e) {
                                t.onError(e)
                            }, n = function() {
                                t.onCompleted()
                            }), Et(function(t) {
                                return o.subscribe(function(e) {
                                    try {
                                        r(e)
                                    } catch (n) {
                                        t.onError(n)
                                    }
                                    t.onNext(e)
                                }, function(n) {
                                    if (e) {
                                        try {
                                            e(n)
                                        } catch (r) {
                                            t.onError(r)
                                        }
                                        t.onError(n)
                                    } else t.onError(n)
                                }, function() {
                                    if (n) {
                                        try {
                                            n()
                                        } catch (e) {
                                            t.onError(e)
                                        }
                                        t.onCompleted()
                                    } else t.onCompleted()
                                })
                            })
                        }, rt.skipLast = function(t) {
                            var e = this;
                            return Et(function(n) {
                                var r = [];
                                return e.subscribe(function(e) {
                                    r.push(e), r.length > t && n.onNext(r.shift())
                                }, b(n, "onError"), b(n, "onCompleted"))
                            })
                        }, rt.takeLast = function(t) {
                            var e = this;
                            return Et(function(n) {
                                var r = [];
                                return e.subscribe(function(e) {
                                    r.push(e), r.length > t && r.shift()
                                }, b(n, "onError"), function() {
                                    for (; r.length > 0;) n.onNext(r.shift());
                                    n.onCompleted()
                                })
                            })
                        }, rt.ignoreElements = function() {
                            var t = this;
                            return Et(function(e) {
                                return t.subscribe(r, b(e, "onError"), b(e, "onCompleted"))
                            })
                        }, rt.elementAt = function(t) {
                            if (0 > t) throw new Error(h);
                            var e = this;
                            return Et(function(n) {
                                var r = t;
                                return e.subscribe(function(t) {
                                    0 === r && (n.onNext(t), n.onCompleted()), r--
                                }, b(n, "onError"), function() {
                                    n.onError(new Error(h))
                                })
                            })
                        }, rt.elementAtOrDefault = function(t, n) {
                            var r = this;
                            if (0 > t) throw new Error(h);
                            return n === e && (n = null), Et(function(e) {
                                var o = t;
                                return r.subscribe(function(t) {
                                    0 === o && (e.onNext(t), e.onCompleted()), o--
                                }, b(e, "onError"), function() {
                                    e.onNext(n), e.onCompleted()
                                })
                            })
                        }, rt.defaultIfEmpty = function(t) {
                            var n = this;
                            return t === e && (t = null), Et(function(e) {
                                var r = !1;
                                return n.subscribe(function(t) {
                                    r = !0, e.onNext(t)
                                }, b(e, "onError"), function() {
                                    r || e.onNext(t), e.onCompleted()
                                })
                            })
                        }, rt.distinct = function(t, e) {
                            var n = this;
                            return t || (t = s), e || (e = u), Et(function(r) {
                                var o = {};
                                return n.subscribe(function(n) {
                                    var i, s, u, c = !1;
                                    try {
                                        i = t(n), s = e(i)
                                    } catch (a) {
                                        return void r.onError(a)
                                    }
                                    for (u in o)
                                        if (s === u) {
                                            c = !0;
                                            break
                                        }
                                    c || (o[s] = null, r.onNext(n))
                                }, b(r, "onError"), b(r, "onCompleted"))
                            })
                        }, rt.mergeObservable = function() {
                            var t = this;
                            return Et(function(e) {
                                var n = new N,
                                    r = !1,
                                    o = new R;
                                return n.add(o), o.disposable(t.subscribe(function(t) {
                                    var o = new R;
                                    n.add(o), o.disposable(t.subscribe(function(t) {
                                        e.onNext(t)
                                    }, function(t) {
                                        e.onError(t)
                                    }, function() {
                                        n.remove(o), r && 1 === n.length && e.onCompleted()
                                    }))
                                }, function(t) {
                                    e.onError(t)
                                }, function() {
                                    r = !0, 1 === n.length && e.onCompleted()
                                })), n
                            })
                        }, rt.merge = function(t) {
                            if ("number" != typeof t) return nt.merge(this, t);
                            var e = this;
                            return Et(function(n) {
                                var r = 0,
                                    o = new N,
                                    i = !1,
                                    s = [],
                                    u = function(t) {
                                        var e = new R;
                                        o.add(e), e.disposable(t.subscribe(function(t) {
                                            n.onNext(t)
                                        }, function(t) {
                                            n.onError(t)
                                        }, function() {
                                            var t;
                                            o.remove(e), s.length > 0 ? (t = s.shift(), u(t)) : (r--, i && 0 === r && n.onCompleted())
                                        }))
                                    };
                                return o.add(e.subscribe(function(e) {
                                    t > r ? (r++, u(e)) : s.push(e)
                                }, b(n, "onError"), function() {
                                    i = !0, 0 === r && n.onCompleted()
                                })), o
                            })
                        }, rt.switchLatest = function() {
                            var t = this;
                            return Et(function(e) {
                                var n = !1,
                                    r = new W,
                                    o = !1,
                                    i = 0,
                                    s = t.subscribe(function(t) {
                                        var s = new R,
                                            u = ++i;
                                        return n = !0, r.disposable(s), s.disposable(t.subscribe(function(t) {
                                            i === u && e.onNext(t)
                                        }, function(t) {
                                            i === u && e.onError(t)
                                        }, function() {
                                            i === u && (n = !1, o && e.onCompleted())
                                        }))
                                    }, b(e, "onError"), function() {
                                        o = !0, n || e.onCompleted()
                                    });
                                return new N(s, r)
                            })
                        }, nt.merge = function() {
                            var t, e;
                            return arguments[0] ? arguments[0].now ? (t = arguments[0], e = l.call(arguments, 1)) : (t = V, e = l.call(arguments, 0)) : (t = V, e = l.call(arguments, 1)), e[0] instanceof Array && (e = e[0]), gt(e, t).mergeObservable()
                        };
                        var Ot = function(t, e, n) {
                            var r = l.call(n, 0);
                            return r.unshift(t), e.apply(t, r)
                        };
                        rt.concat = function() {
                            return Ot(this, Nt, arguments)
                        }, rt.concatObservable = function() {
                            return this.merge(1)
                        };
                        var Nt = nt.concat = function() {
                            var t = g(arguments, 0);
                            return G(t).concat()
                        };
                        rt.catchException = function(t) {
                            return "function" == typeof t ? At(this, t) : Dt([this, t])
                        };
                        var At = function(t, e) {
                                return Et(function(n) {
                                    var r = new R,
                                        o = new W;
                                    return r.disposable(t.subscribe(b(n, "onNext"), function(t) {
                                        var r, i;
                                        try {
                                            i = e(t)
                                        } catch (s) {
                                            return void n.onError(s)
                                        }
                                        r = new R, o.disposable(r), r.disposable(i.subscribe(n))
                                    }, b(n, "onCompleted"))), o
                                })
                            },
                            Dt = nt.catchException = function() {
                                var t = g(arguments, 0);
                                return G(t).catchException()
                            };
                        rt.onErrorResumeNext = function(t) {
                            if (!t) throw new Error("Second observable is required");
                            return St([this, t])
                        };
                        var St = nt.onErrorResumeNext = function() {
                            var t = g(arguments, 0);
                            return Et(function(e) {
                                var n = 0,
                                    r = new W,
                                    o = V.scheduleRecursive(function(o) {
                                        var i, s;
                                        n < t.length ? (i = t[n++], s = new R, r.disposable(s), s.disposable(i.subscribe(b(e, "onNext"), function() {
                                            o()
                                        }, function() {
                                            o()
                                        }))) : e.onCompleted()
                                    });
                                return new N(r, o)
                            })
                        };
                        rt.combineLatest = function() {
                            var t = this,
                                e = l.call(arguments),
                                n = e.pop();
                            return e.unshift(this), Et(function(r) {
                                for (var o = e.length, i = new Array(o), u = !1, c = new Array(o), a = new Array(o), f = function(e) {
                                        var o;
                                        if (i[e] = !0, u || (u = m.call(i, s))) {
                                            try {
                                                o = n.apply(t, a)
                                            } catch (f) {
                                                return void r.onError(f)
                                            }
                                            r.onNext(o)
                                        } else m.call(y.call(c, function(t, n) {
                                            return n !== e
                                        }), s) && r.onCompleted()
                                    }, l = function(t) {
                                        c[t] = !0, m.call(c, s) && r.onCompleted()
                                    }, h = new Array(o), p = 0; o > p; p++) ! function(t) {
                                    h[t] = new R, h[t].setDisposable(e[t].subscribe(function(e) {
                                        a[t] = e, f(t)
                                    }, b(r, "onError"), function() {
                                        l(t)
                                    }))
                                }(p);
                                return new N(h)
                            })
                        }, rt.zip = function() {
                            var t = this,
                                e = l.call(arguments),
                                n = e.pop();
                            return e.unshift(t), Et(function(r) {
                                for (var o = e.length, i = new Array(o), u = new Array(o), c = function(e) {
                                        var o, c;
                                        if (m.call(i, function(t) {
                                                return t && t.length > 0
                                            })) {
                                            try {
                                                c = w.call(i, function(t) {
                                                    return t.shift()
                                                }), o = n.apply(t, c)
                                            } catch (a) {
                                                return void r.onError(a)
                                            }
                                            r.onNext(o)
                                        } else m.call(y.call(u, function(t, n) {
                                            return n !== e
                                        }), s) && r.onCompleted()
                                    }, a = function(t) {
                                        u[t] = !0, m.call(u, s) && r.onCompleted()
                                    }, f = new Array(o), l = 0; o > l; l++) ! function(t) {
                                    f[t] = new R, f[t].setDisposable(e[t].subscribe(function(e) {
                                        i[t] || (i[t] = []), i[t].push(e), c(t)
                                    }, b(r, "onError"), function() {
                                        a(t)
                                    }))
                                }(l);
                                var h = new N(f);
                                return h.add(D(function() {
                                    for (var t = 0; o > t; t++) i[t] = null
                                })), h
                            })
                        }, rt.takeUntil = function(t) {
                            var e = this;
                            return v(t, e, function(t, e) {
                                var n = !1,
                                    r = !1;
                                return new Z(function(e) {
                                    r || n || ("C" === e.kind ? n = !0 : "E" === e.kind ? (n = !0, r = !0, t.onError(e.exception)) : (r = !0, t.onCompleted()))
                                }, function(n) {
                                    r || (n.accept(t), r = "N" !== n.kind, r && e.dispose())
                                })
                            })
                        }, rt.skipUntil = function(t) {
                            return v(this, t, function(t, e, n) {
                                var r = !1,
                                    o = !1;
                                return new Z(function(e) {
                                    "E" == e.kind ? t.onError(e.exception) : r && e.accept(t)
                                }, function(e) {
                                    o || ("N" === e.kind ? r = !0 : "E" === e.kind && t.onError(e.exception), o = !0, n.dispose())
                                })
                            })
                        }, nt.amb = function() {
                            var t, e, n = dt(),
                                r = g(arguments, 0),
                                o = function(t, e) {
                                    return t.amb(e)
                                };
                            for (t = 0, e = r.length; e > t; t++) n = o(n, r[t]);
                            return n
                        }, rt.amb = function(t) {
                            return v(this, t, function(t, e, n) {
                                var r = "N";
                                return new Z(function(e) {
                                    "N" === r && (r = "L", n.dispose()), "L" === r && e.accept(t)
                                }, function(n) {
                                    "N" === r && (r = "R", e.dispose()), "R" === r && n.accept(t)
                                })
                            })
                        };
                        var Rt = function(t) {
                            function e() {
                                e.base.constructor.apply(this, arguments)
                            }
                            return a(e, t), e.prototype.next = function(t) {
                                e.base.next.call(this, t), this.ensureActive()
                            }, e.prototype.error = function(t) {
                                e.base.error.call(this, t), this.ensureActive()
                            }, e.prototype.completed = function() {
                                e.base.completed.call(this), this.ensureActive()
                            }, e
                        }($);
                        rt.observeOn = function(t) {
                            var e = this;
                            return Et(function(n) {
                                return e.subscribe(new Rt(t, n))
                            })
                        }, rt.subscribeOn = function(t) {
                            var e = this;
                            return Et(function(n) {
                                var r = new R,
                                    o = new W;
                                return o.setDisposable(r), r.setDisposable(t.schedule(function() {
                                    o.setDisposable(new q(t, e.subscribe(n)))
                                })), o
                            })
                        }
                    }("undefined" != typeof window ? window : this),
                    function(t, e) {
                        var n;
                        n = "undefined" != typeof t.module && "undefined" != typeof t.module.exports ? t.require("./rx.min.js") : t.Rx;
                        var r = n.Observable,
                            o = r.prototype,
                            i = r.createWithDisposable,
                            s = n.CompositeDisposable,
                            u = function(t, e) {
                                return t === e
                            },
                            c = function(t) {
                                return t
                            },
                            a = function(t, e) {
                                return t > e ? 1 : t === e ? 0 : -1
                            },
                            f = function(t, e, n) {
                                return i(function(r) {
                                    var o = !1,
                                        i = null,
                                        s = [];
                                    return t.subscribe(function(t) {
                                        var u, c;
                                        try {
                                            c = e(t)
                                        } catch (a) {
                                            return void r.onError(a)
                                        }
                                        if (u = 0, o) try {
                                            u = n(c, i)
                                        } catch (f) {
                                            return void r.onError(f)
                                        } else o = !0, i = c;
                                        u > 0 && (i = c, s = []), u >= 0 && s.push(t)
                                    }, function(t) {
                                        r.onError(t)
                                    }, function() {
                                        r.onNext(s), r.onCompleted()
                                    })
                                })
                            };
                        o.aggregate = function(t, e) {
                            return this.scan(t, e).startWith(t).finalValue()
                        }, o.aggregate1 = function(t) {
                            return this.scan1(t).finalValue()
                        }, o.any = function(t) {
                            var n = this;
                            return t !== e ? n.where(t).any() : i(function(t) {
                                return n.subscribe(function() {
                                    t.onNext(!0), t.onCompleted()
                                }, function(e) {
                                    t.onError(e)
                                }, function() {
                                    t.onNext(!1), t.onCompleted()
                                })
                            })
                        }, o.all = function(t) {
                            return this.where(function(e) {
                                return !t(e)
                            }).any().select(function(t) {
                                return !t
                            })
                        }, o.contains = function(t, e) {
                            return e || (e = u), this.where(function(n) {
                                return e(n, t)
                            }).any()
                        }, o.count = function() {
                            return this.aggregate(0, function(t) {
                                return t + 1
                            })
                        }, o.sum = function() {
                            return this.aggregate(0, function(t, e) {
                                return t + e
                            })
                        }, o.minBy = function(t, e) {
                            return e || (e = a), f(this, t, function(t, n) {
                                return -1 * e(t, n)
                            })
                        };
                        var l = function(t) {
                            if (0 == t.length) throw Error("Sequence contains no elements.");
                            return t[0]
                        };
                        o.min = function(t) {
                            return this.minBy(c, t).select(function(t) {
                                return l(t)
                            })
                        }, o.maxBy = function(t, e) {
                            return e || (e = a), f(this, t, e)
                        }, o.max = function(t) {
                            return this.maxBy(c, t).select(function(t) {
                                return l(t)
                            })
                        }, o.average = function() {
                            return this.scan({
                                sum: 0,
                                count: 0
                            }, function(t, e) {
                                return {
                                    sum: t.sum + e,
                                    count: t.count + 1
                                }
                            }).finalValue().select(function(t) {
                                return t.sum / t.count
                            })
                        }, o.sequenceEqual = function(t, e) {
                            var n = this;
                            return e || (e = u), i(function(r) {
                                var o = !1,
                                    i = !1,
                                    u = [],
                                    c = [],
                                    a = n.subscribe(function(t) {
                                        var n, o;
                                        if (0 < c.length) {
                                            o = c.shift();
                                            try {
                                                n = e(o, t)
                                            } catch (s) {
                                                return void r.onError(s)
                                            }
                                            n || (r.onNext(!1), r.onCompleted())
                                        } else i ? (r.onNext(!1), r.onCompleted()) : u.push(t)
                                    }, function(t) {
                                        r.onError(t)
                                    }, function() {
                                        o = !0, 0 === u.length && (0 < c.length ? (r.onNext(!1), r.onCompleted()) : i && (r.onNext(!0), r.onCompleted()))
                                    }),
                                    f = t.subscribe(function(t) {
                                        var n, i;
                                        if (0 < u.length) {
                                            i = u.shift();
                                            try {
                                                n = e(i, t)
                                            } catch (s) {
                                                return void r.onError(s)
                                            }
                                            n || (r.onNext(!1), r.onCompleted())
                                        } else o ? (r.onNext(!1), r.onCompleted()) : c.push(t)
                                    }, function(t) {
                                        r.onError(t)
                                    }, function() {
                                        i = !0, 0 === c.length && (0 < u.length ? (r.onNext(!1), r.onCompleted()) : o && (r.onNext(!0), r.onCompleted()))
                                    });
                                return new s(a, f)
                            })
                        }
                    }("undefined" != typeof window ? window : this),
                    function(t, e) {
                        var n;
                        n = "undefined" != typeof t.module && "undefined" != typeof t.module.exports ? t.require("./rx.min.js") : t.Rx;
                        var r = n.Observable,
                            o = r.prototype,
                            i = r.createWithDisposable,
                            s = r.defer,
                            u = (r.fromArray, r.throwException),
                            c = n.Scheduler.Timeout,
                            a = n.SingleAssignmentDisposable,
                            f = n.SerialDisposable,
                            l = n.CompositeDisposable,
                            h = n.RefCountDisposable,
                            p = n.Subject,
                            b = n.Internals.BinaryObserver,
                            d = function(t, e) {
                                return i(function(n) {
                                    return new l(e.getDisposable(), t.subscribe(n))
                                })
                            },
                            v = function(t, e, n) {
                                return i(function(r) {
                                    var o = new a,
                                        i = new a,
                                        s = n(r, o, i);
                                    return o.disposable(t.materialize().select(function(t) {
                                        return {
                                            switchValue: function(e) {
                                                return e(t)
                                            }
                                        }
                                    }).subscribe(s)), i.disposable(e.materialize().select(function(t) {
                                        return {
                                            switchValue: function(e, n) {
                                                return n(t)
                                            }
                                        }
                                    }).subscribe(s)), new l(o, i)
                                })
                            },
                            m = function(t) {
                                return 0 > t ? 0 : t
                            },
                            y = function(t, e) {
                                return i(function(n) {
                                    return e.scheduleWithAbsolute(t, function() {
                                        n.onNext(0), n.onCompleted()
                                    })
                                })
                            },
                            w = function(t, e, n) {
                                var r = m(e);
                                return i(function(e) {
                                    var o = 0,
                                        i = t;
                                    return n.scheduleRecursiveWithAbsolute(i, function(t) {
                                        var s;
                                        r > 0 && (s = n.now(), i += r, s >= i && (i = s + r)), e.onNext(o++), t(i)
                                    })
                                })
                            },
                            g = function(t, e) {
                                var n = m(t);
                                return i(function(t) {
                                    return e.scheduleWithRelative(n, function() {
                                        t.onNext(0), t.onCompleted()
                                    })
                                })
                            },
                            E = function(t, e, n) {
                                return s(function() {
                                    return w(n.now() + t, e, n)
                                })
                            },
                            x = r.interval = function(t, e) {
                                return e || (e = c), E(t, t, e)
                            };
                        r.timer = function(t, n, r) {
                            var o;
                            return r || (r = c), n !== e && "number" == typeof n ? o = n : n !== e && "object" == typeof n && (r = n), t instanceof Date && o === e ? y(t.getTime(), r) : t instanceof Date && o !== e ? (o = n, w(t.getTime(), o, r)) : o === e ? g(t, r) : E(t, o, r)
                        };
                        var C = function(t, e, n) {
                                return i(function(r) {
                                    var o, i = !1,
                                        s = new f,
                                        u = null,
                                        c = [],
                                        h = !1;
                                    return o = t.materialize().timestamp(n).subscribe(function(t) {
                                        var o, f;
                                        "E" === t.value.kind ? (c = [], c.push(t), u = t.value.exception, f = !h) : (c.push({
                                            value: t.value,
                                            timestamp: t.timestamp + e
                                        }), f = !i, i = !0), f && (null !== u ? r.onError(u) : (o = new a, s.disposable(o), o.disposable(n.scheduleRecursiveWithRelative(e, function(t) {
                                            var e, o, s, a;
                                            if (null === u) {
                                                h = !0;
                                                do s = null, c.length > 0 && c[0].timestamp - n.now() <= 0 && (s = c.shift().value), null !== s && s.accept(r); while (null !== s);
                                                a = !1, o = 0, c.length > 0 ? (a = !0, o = Math.max(0, c[0].timestamp - n.now())) : i = !1, e = u, h = !1, null !== e ? r.onError(e) : a && t(o)
                                            }
                                        }))))
                                    }), new l(o, s)
                                })
                            },
                            O = function(t, e, n) {
                                return s(function() {
                                    var t = e - n.now();
                                    return C(t, n)
                                })
                            };
                        o.delay = function(t, e) {
                            return e || (e = c), t instanceof Date ? O(this, t.getTime(), e) : C(this, t, e)
                        }, o.throttle = function(t, e) {
                            e || (e = c);
                            var n = this;
                            return i(function(r) {
                                var o, i = new f,
                                    s = !1,
                                    u = 0,
                                    c = null;
                                return o = n.subscribe(function(n) {
                                    var o, f;
                                    s = !0, c = n, u++, o = u, f = new a, i.disposable(f), f.disposable(e.scheduleWithRelative(t, function() {
                                        s && u === o && r.onNext(c), s = !1
                                    }))
                                }, function(t) {
                                    i.dispose(), r.onError(t), s = !1, u++
                                }, function() {
                                    i.dispose(), s && r.onNext(c), r.onCompleted(), s = !1, u++
                                }), new l(o, i)
                            })
                        }, o.windowWithTime = function(t, n, r) {
                            var o, s = this;
                            return n === e && (o = t), r === e && (r = c), "number" == typeof n ? o = n : "object" == typeof n && (o = t, r = n), i(function(e) {
                                var n, i, u, c = o,
                                    b = t,
                                    v = [],
                                    m = new f,
                                    y = 0;
                                return i = new l(m), u = new h(i), n = function() {
                                    var t, i, s, f, l;
                                    s = new a, m.disposable(s), i = !1, t = !1, b === c ? (i = !0, t = !0) : c > b ? i = !0 : t = !0, f = i ? b : c, l = f - y, y = f, i && (b += o), t && (c += o), s.disposable(r.scheduleWithRelative(l, function() {
                                        var r;
                                        t && (r = new p, v.push(r), e.onNext(d(r, u))), i && (r = v.shift(), r.onCompleted()), n()
                                    }))
                                }, v.push(new p), e.onNext(d(v[0], u)), n(), i.add(s.subscribe(function(t) {
                                    var e, n;
                                    for (e = 0; e < v.length; e++) n = v[e], n.onNext(t)
                                }, function(t) {
                                    var n, r;
                                    for (n = 0; n < v.length; n++) r = v[n], r.onError(t);
                                    e.onError(t)
                                }, function() {
                                    var t, n;
                                    for (t = 0; t < v.length; t++) n = v[t], n.onCompleted();
                                    e.onCompleted()
                                })), u
                            })
                        }, o.windowWithTimeOrCount = function(t, e, n) {
                            var r = this;
                            return n || (n = c), i(function(o) {
                                var i, s, u, c, b = 0,
                                    v = new f,
                                    m = 0;
                                return s = new l(v), u = new h(s), i = function(e) {
                                    var r = new a;
                                    v.disposable(r), r.disposable(n.scheduleWithRelative(t, function() {
                                        var t;
                                        e === m && (b = 0, t = ++m, c.onCompleted(), c = new p, o.onNext(d(c, u)), i(t))
                                    }))
                                }, c = new p, o.onNext(d(c, u)), i(0), s.add(r.subscribe(function(t) {
                                    var n = 0,
                                        r = !1;
                                    c.onNext(t), b++, b === e && (r = !0, b = 0, n = ++m, c.onCompleted(), c = new p, o.onNext(d(c, u))), r && i(n)
                                }, function(t) {
                                    c.onError(t), o.onError(t)
                                }, function() {
                                    c.onCompleted(), o.onCompleted()
                                })), u
                            })
                        }, o.bufferWithTime = function(t, n, r) {
                            var o;
                            return n === e && (o = t), r || (r = c), "number" == typeof n ? o = n : "object" == typeof n && (o = t, r = n), this.windowWithTime(t, o, r).selectMany(function(t) {
                                return t.toArray()
                            })
                        }, o.bufferWithTimeOrCount = function(t, e, n) {
                            return n || (n = c), this.windowWithTimeOrCount(t, e, n).selectMany(function(t) {
                                return t.toArray()
                            })
                        }, o.timeInterval = function(t) {
                            var e = this;
                            return t || (t = c), s(function() {
                                var n = t.now();
                                return e.select(function(e) {
                                    var r = t.now(),
                                        o = r - n;
                                    return n = r, {
                                        value: e,
                                        interval: o
                                    }
                                })
                            })
                        }, o.timestamp = function(t) {
                            return t || (t = c), this.select(function(e) {
                                return {
                                    value: e,
                                    timestamp: t.now()
                                }
                            })
                        };
                        var N = function(t, n) {
                            return v(t, n, function(t) {
                                var n, r = !1;
                                return new b(function(e) {
                                    "N" === e.kind && (n = e), "E" === e.kind && e.accept(t), "C" === e.kind && (r = !0)
                                }, function() {
                                    var o = n;
                                    n = e, o !== e && o.accept(t), r && t.onCompleted()
                                })
                            })
                        };
                        o.sample = function(t, e) {
                            return e || (e = c), "number" == typeof t ? N(this, x(t, e)) : N(this, t)
                        }, o.timeout = function(t, n, r) {
                            var o, s = this;
                            return n === e && (n = u(new Error("Timeout"))), r || (r = c), o = t instanceof Date ? function(t, e) {
                                r.scheduleWithAbsolute(t, e)
                            } : function(t, e) {
                                r.scheduleWithRelative(t, e)
                            }, i(function(e) {
                                var r, i = 0,
                                    u = new a,
                                    c = new f,
                                    h = !1,
                                    p = new f;
                                return c.disposable(u), r = function() {
                                    var r = i;
                                    p.disposable(o(t, function() {
                                        var t;
                                        h = i === r, t = h, t && c.disposable(n.subscribe(e))
                                    }))
                                }, r(), u.disposable(s.subscribe(function(t) {
                                    var n = !h;
                                    n && (i++, e.onNext(t), r())
                                }, function(t) {
                                    var n = !h;
                                    n && (i++, e.onError(t))
                                }, function() {
                                    var t = !h;
                                    t && (i++, e.onCompleted())
                                })), new l(c, p)
                            })
                        }, r.generateWithAbsoluteTime = function(t, e, n, r, o, s) {
                            return s || (s = c), i(function(i) {
                                var u, c, a = !0,
                                    f = !1,
                                    l = t;
                                return s.scheduleRecursiveWithAbsolute(s.now(), function(t) {
                                    f && i.onNext(u);
                                    try {
                                        a ? a = !1 : l = n(l), f = e(l), f && (u = r(l), c = o(l))
                                    } catch (s) {
                                        return void i.onError(s)
                                    }
                                    f ? t(c) : i.onCompleted()
                                })
                            })
                        }, r.generateWithRelativeTime = function(t, e, n, r, o, s) {
                            return s || (s = c), i(function(i) {
                                var u, c, a = !0,
                                    f = !1,
                                    l = t;
                                return s.scheduleRecursiveWithRelative(0, function(t) {
                                    f && i.onNext(u);
                                    try {
                                        a ? a = !1 : l = n(l), f = e(l), f && (u = r(l), c = o(l))
                                    } catch (s) {
                                        return void i.onError(s)
                                    }
                                    f ? t(c) : i.onCompleted()
                                })
                            })
                        }
                    }("undefined" != typeof window ? window : this),
                    function(t) {
                        var e = t.Rx;
                        e.Observable.forEach = e.Observable.subscribe, e.Observable.map = e.Observable.select, e.Observable.filter = e.Observable.where, e.Observable.flatMap = e.Observable.selectMany;
                        var n = e.Observer.create(function(t) {
                                var e, n, r;
                                this.hasItem = !0, e || (e = this.unsubscribe, n = this.obsOrFunc, r = this.outerSubscription, void 0 !== r ? (r.dispose(), this.outerSubscription = void 0) : this.unsubscribe = !0, n instanceof Function ? this.subscription = n(t).subscribe(this.observer) : this.subscription = n.subscribe(this.observer))
                            }, function(t) {
                                this.unsubscribe || this.observer.onError(t)
                            }, function() {
                                this.unsubscribe || this.hasItem || this.observer.onCompleted()
                            }),
                            r = e.Disposable.create(function() {
                                var t = this.observableSubscription,
                                    e = this.observer,
                                    n = e.subscription;
                                void 0 !== t ? (t.dispose(), this.observableSubscription = void 0) : void 0 !== n && (n.dispose(), this.observerSubscription = void 0)
                            }),
                            o = Object.create(new e.Observable, {
                                _subscribe: {
                                    value: function(t) {
                                        var e, o = Object.create(n, {
                                                obsOrFunc: {
                                                    value: this.obsOrFunc
                                                },
                                                observer: {
                                                    value: t
                                                }
                                            }),
                                            i = this.source.subscribe(o);
                                        return o.outerSubscription = i, e = Object.create(r, {
                                            observableSubscription: {
                                                value: i
                                            },
                                            observer: {
                                                value: o
                                            }
                                        }), o.unsubscribe && i.dispose(), e
                                    }
                                }
                            });
                        e.Observable.prototype.then = function(t) {
                            return Object.create(o, {
                                source: {
                                    value: this
                                },
                                obsOrFunc: {
                                    value: t
                                }
                            })
                        }
                    }("undefined" != typeof window ? window : this),
                    function(t) {
                        var e = t.Rx,
                            n = new e.Observable;
                        n.subscribe = function(t, n, r) {
                            return "function" == typeof t ? (t(this.value), r && r()) : (t.onNext(this.value), t.onCompleted()), e.Disposable.empty
                        }, e.Observable.fastReturnValue = function(t) {
                            return Object.create(n, {
                                value: {
                                    value: t
                                }
                            })
                        }
                    }("undefined" != typeof window ? window : this),
                    function(t) {
                        var e = t.Rx,
                            n = e.Observer.create(function(t) {
                                var e, n, r = this.projection(t),
                                    o = this.observer;
                                for (n = 0, e = r.length; e > n; n++) o.onNext(r[n])
                            }, function(t) {
                                this.observer.onError(t)
                            }, function() {
                                this.observer.onCompleted()
                            });
                        e.Observable.prototype.selectManyArrays = function(t) {
                            var r = this;
                            return e.Observable.fastCreateWithDisposable(function(e) {
                                return r.subscribe(Object.create(n, {
                                    observer: {
                                        value: e
                                    },
                                    projection: {
                                        value: t
                                    }
                                }))
                            })
                        }
                    }("undefined" != typeof window ? window : this),
                    function(t) {
                        var e = t.Rx;
                        e.Observable.prototype.subscribeIgnoreErrors = function(t, e, n) {
                            return "function" != typeof t ? (void 0 === t.onError && (t.onError = function() {}), this.subscribe(t)) : (void 0 === e && (e = function() {}), this.subscribe(t, e, n))
                        }, e.Observable.prototype.windowWithTime = function(t) {
                            var n = this;
                            return e.Observable.createWithDisposable(function(e) {
                                var r, o = [],
                                    i = function() {
                                        e.onNext(o.slice()), o.length = 0
                                    };
                                return n.subscribe(function(e) {
                                    o.push(e), null === r && (r = setTimeout(i, t))
                                }, function(t) {
                                    null !== r && clearTimeout(r), o.length > 0 && e.onNext(o), e.onError(t)
                                }, function() {
                                    null !== r && clearTimeout(r), o.length > 0 && e.onNext(o), e.onCompleted()
                                })
                            })
                        }, e.Observable.prototype.chain = function(t) {
                            return t.reduce(function(t, e) {
                                return t.selectMany(e)
                            }, this)
                        }, e.EventDisposable = function(t, e) {
                            this.observers = t, this.observer = e
                        }, e.EventDisposable.prototype = new e.Disposable, e.EventDisposable.prototype.dispose = function() {
                            for (var t = this.observers, e = this.observer, n = t.length; n--;)
                                if (t[n] === e) {
                                    t.splice(n, 1);
                                    break
                                }
                        }, e.Event = function() {
                            this.observers = []
                        }, e.Event.prototype = new e.Observable, e.Event.prototype.subscribe = function(t) {
                            var n = this.observers;
                            return t = "function" == typeof t ? {
                                onNext: t
                            } : t, this.observers[n.length] = t, new e.EventDisposable(n, t)
                        }, e.Event.prototype.onNext = function(t) {
                            for (var e, n = this.observers, r = 0; r < n.length;) e = n[r], e.onNext(t), e === n[r] && r++
                        }, e.Observable.forkJoin = function() {
                            var t = function(t, e) {
                                return 1 === t.length && t[e] instanceof Array ? t[e] : Array.prototype.slice.call(t)
                            };
                            return function() {
                                var n = t(arguments, 0);
                                return e.Observable.createWithDisposable(function(t) {
                                    var r = n.length;
                                    if (0 === r) return void t.onCompleted();
                                    for (var o = new e.CompositeDisposable, i = !1, s = new Array(r), u = new Array(r), c = new Array(r), a = 0; r > a; a++) ! function(e) {
                                        var a = n[e];
                                        o.add(a.subscribe(function(t) {
                                            i || (s[e] = !0, c[e] = t)
                                        }, function(e) {
                                            i = !0, t.onError(e), o.dispose()
                                        }, function() {
                                            if (!i) {
                                                if (!s[e]) return void t.onCompleted();
                                                u[e] = !0;
                                                for (var n = 0; r > n; n++)
                                                    if (!u[n]) return;
                                                i = !0, t.onNext(c), t.onCompleted()
                                            }
                                        }))
                                    }(a);
                                    return o
                                })
                            }
                        }(), e.Observable.combineLatest = function() {
                            var t = function(t, e) {
                                this.value = t, this.next = e
                            };
                            return t.prototype.toArray = function() {
                                    for (var t = this, e = []; t;) e.push(t.value), t = t.next;
                                    return e
                                },
                                function(n, r) {
                                    var o, i = n.length - 1;
                                    if (n.length > 1) {
                                        for (o = n[i].select(function(e) {
                                                return new t(e)
                                            }), i = n.length - 2; i >= 0; i--) o = o.combineLatest(n[i], function(e, n) {
                                            return new t(n, e)
                                        });
                                        return o.select(function(t) {
                                            return r.apply(null, t.toArray())
                                        })
                                    }
                                    return 1 == n.length ? n[0].select(r) : e.Observable.empty()
                                }
                        }(), e.Observable.zip = function() {
                            var t = function(t, e) {
                                this.value = t, this.next = e
                            };
                            return t.prototype.toArray = function() {
                                    for (var t = this, e = []; t;) e.push(t.value), t = t.next;
                                    return e
                                },
                                function(n, r) {
                                    var o, i = n.length - 1;
                                    if (n.length > 1) {
                                        for (o = n[i].select(function(e) {
                                                return new t(e)
                                            }), i = n.length - 2; i >= 0; i--) o = o.zip(n[i], function(e, n) {
                                            return new t(n, e)
                                        });
                                        return o.select(function(t) {
                                            return r.apply(null, t.toArray())
                                        })
                                    }
                                    return 1 == n.length ? n[0].select(r) : e.Observable.empty()
                                }
                        }(), e.Observable.prototype.withPrevious = function(t) {
                            var n = this,
                                r = arguments;
                            return e.Observable.createWithDisposable(function(e) {
                                return 1 === r.length && e.onNext({
                                    current: t,
                                    previous: void 0
                                }), n.subscribe(function(n) {
                                    e.onNext({
                                        current: n,
                                        previous: t
                                    }), t = n
                                }, function(t) {
                                    e.onError(t)
                                }, function() {
                                    e.onCompleted()
                                })
                            })
                        }, e.Observable.prototype.toMap = function(t, n) {
                            var r = this;
                            return e.Observable.createWithDisposable(function(e) {
                                var o = {};
                                return r.subscribe(function(e) {
                                    var r = t(e);
                                    n && (e = n(e)), o[r] = e
                                }, function(t) {
                                    e.onError(t)
                                }, function() {
                                    e.onNext(o), e.onCompleted()
                                })
                            })
                        }, e.Observable.fastCreateWithDisposable = function(t) {
                            var n = new e.Observable;
                            return n._subscribe = t, n
                        }, e.Observable.prototype.time = function(n) {
                            var r = this;
                            return e.Observable.fastCreateWithDisposable(function(e) {
                                var o = !1,
                                    i = t.util.log;
                                return i.time(n), i.time(n + "-untilFirstOnNext"), r.subscribe(function(t) {
                                    o || (i.timeEnd(n + "-untilFirstOnNext"), i.time(n + "-fromFirstOnNextUntilCompletedOrError"), o = !0), e.onNext(t)
                                }, function(t) {
                                    i.timeEnd(n + "-untilFirstOnNext"), i.timeEnd(n + "-fromFirstOnNextUntilCompletedOrError"), i.timeEnd(n), e.onError(t)
                                }, function() {
                                    i.timeEnd(n + "-untilFirstOnNext"), i.timeEnd(n + "-fromFirstOnNextUntilCompletedOrError"), i.timeEnd(n), e.onCompleted()
                                })
                            })
                        }, e.Observable.prototype.buffer = function(t) {
                            var n = this;
                            return e.Observable.createWithDisposable(function(e) {
                                var r, o, i, s = [];
                                return n.subscribe(function(n) {
                                    s.push(n), void 0 === i && (i = setTimeout(function() {
                                        i = void 0, e.onNext(s), s = [], r ? e.onError(r) : o && e.onCompleted()
                                    }, t))
                                }, function(t) {
                                    void 0 === i ? e.onError(t) : r = t
                                }, function() {
                                    void 0 === i ? e.onCompleted() : o = !0
                                })
                            })
                        }, e.Observable.prototype.last = function() {
                            var t = this;
                            return e.Observable.fastCreateWithDisposable(function(e) {
                                var n, r = !1;
                                return t.subscribe(function(t) {
                                    n = t, r = !0
                                }, function(t) {
                                    r && e.onNext(n), e.onError(t)
                                }, function() {
                                    r && e.onNext(n), e.onCompleted()
                                })
                            })
                        }, e.Observable.fromArrayFast = function(t) {
                            return e.Observable.fastCreateWithDisposable(function(e) {
                                for (var n = 0, r = t.length; r > n; n++) e.onNext(t[n]);
                                e.onCompleted()
                            })
                        }, e.Observable.prototype.toArrayFast = function() {
                            var t = this;
                            return e.Observable.fastCreateWithDisposable(function(e) {
                                var n = [];
                                return t.subscribe(function(t) {
                                    n.push(t)
                                }, function(t) {
                                    e.onError(t)
                                }, function() {
                                    e.onNext(n), e.onCompleted()
                                })
                            })
                        }, e.Observable.prototype.finalValueFast = function() {
                            var t = this;
                            return e.Observable.fastCreateWithDisposable(function(e) {
                                var n, r = !1;
                                return t.subscribe(function(t) {
                                    r = !0, n = t
                                }, function(t) {
                                    e.onError(t)
                                }, function() {
                                    r && e.onNext(n), e.onCompleted()
                                })
                            })
                        }, e.Observable.prototype.reduce = function(t) {
                            var e, n;
                            return 2 === arguments.length && (n = !0, e = arguments[1]), n ? this.scan(e, t).startWith(e).finalValue() : this.scan(t).finalValue()
                        }, e.Observable.prototype.or = function(t) {
                            return this.selectMany(function(n) {
                                return n ? e.Observable.returnValue(n) : t
                            })
                        }, e.Observable.or = function() {
                            var t = Array.prototype.slice.call(arguments),
                                e = t[0],
                                n = 1;
                            for (n; n < t.length; n += 1) e = e.or(t[n]);
                            return e
                        }
                    }("undefined" != typeof window ? window : this),
                    function(t) {
                        var e = t.Rx,
                            n = function(t) {
                                return this._hasValue && t.onNext(this._value), e.Subject.prototype._subscribe.call(this, t)
                            };
                        e.ReplayLastSubject = function(t) {
                            e.Subject.call(this), this._value = t, this._hasValue = arguments.length > 0, this._subscribe = n
                        }, e.ReplayLastSubject.prototype = Object.create(e.Subject.prototype), e.ReplayLastSubject.prototype.constructor = e.ReplayLastSubject, e.ReplayLastSubject.prototype.onNext = function(t) {
                            this._hasValue && t === this._value || (this._value = t, this._hasValue = !0, e.Subject.prototype.onNext.call(this, t))
                        }, e.Observable.prototype.replayLast = function() {
                            var t = new e.ReplayLastSubject;
                            return this.subscribe(t), t
                        }
                    }("undefined" != typeof window ? window : this),
                    function(t) {
                        var e = t.Rx;
                        e.Observable.prototype.retryWhile = function(t, n) {
                            var r = this;
                            return e.Observable.create(function(e) {
                                var o, i = 0,
                                    s = function() {
                                        o = r.subscribe(function(t) {
                                            e.onNext(t)
                                        }, function(r) {
                                            n > i && t(r) ? (i++, s()) : e.onError(r)
                                        }, function() {
                                            e.onCompleted()
                                        })
                                    };
                                return s(),
                                    function() {
                                        o.dispose()
                                    }
                            })
                        }
                    }("undefined" != typeof window ? window : this),
                    function(t) {
                        var e = t.Rx;
                        e.Observable.prototype.takeUntilSettled = function(t) {
                            var n = this;
                            if ("number" != typeof t) throw new Error("Rx.Observable#takeUntilSettled() expects a number");
                            return e.Observable.createWithDisposable(function(e) {
                                function r(t) {
                                    clearTimeout(i), t ? e.onError(t) : e.onCompleted()
                                }

                                function o(n) {
                                    clearTimeout(i), e.onNext(n), i = setTimeout(r, t)
                                }
                                var i;
                                return n.subscribe(o, r, r)
                            })
                        }
                    }("undefined" != typeof window ? window : this),
                    function(t) {
                        function e(t, e, r) {
                            return n.Observable.createWithDisposable(function(n) {
                                return t.subscribe(function(t) {
                                    n.onNext(t), n.onCompleted()
                                }, n.onError.bind(n), function() {
                                    e ? (n.onNext(r), n.onCompleted()) : n.onError(new Error("Sequence contains no elements."))
                                })
                            })
                        }
                        var n = t.Rx,
                            r = n.Observable.prototype;
                        r.first = function(t, n) {
                            return t ? this.where(t, n).first() : e(this, !1)
                        }, r.firstOrDefault = function(t, n) {
                            return t ? this.where(t).firstOrDefault(null, n) : e(this, !0, n)
                        }
                    }("undefined" != typeof window ? window : this),
                    function(t) {
                        var e = t.Rx,
                            n = e.Observable;
                        e.computed = function(t, r) {
                            var o, i = [],
                                s = [],
                                u = t.read;
                            for (var c in t.params) o = t.params[c], i.push(c), s.push(o.subscribe ? o : new e.BehaviorSubject(o));
                            var a = n.combineLatest(s, function() {
                                var t, e, n = arguments,
                                    r = {};
                                for (e = 0, t = i.length; t > e; e += 1) r[i[e]] = n[e];
                                return r
                            });
                            return n.create(function(t) {
                                var e = a.select(r ? u.bind(r) : u).distinctUntilChanged().subscribe(t);
                                return function() {
                                    e.dispose()
                                }
                            })
                        }
                    }("undefined" != typeof window ? window : this)
            }, {}],
            2: [function(t, e, n) {
                "use strict";
                var r, o = t("../dist/nf-rx.js");
                r = "undefined" != typeof window ? window.Rx : o.Rx, e.exports = r
            }, {
                "../dist/nf-rx.js": 1
            }]
        }, {}, [2])(2)
    })
});

Requireify.register("nf-cons-log", function(e, t, n, i) {
    ! function(e) {
        if ("object" == typeof i && "undefined" != typeof n) n.exports = e();
        else if ("function" == typeof define && define.amd) define([], e);
        else {
            var t;
            t = "undefined" != typeof window ? window : "undefined" != typeof global ? global : "undefined" != typeof self ? self : this, t.nfConsLog = e()
        }
    }(function() {
        return function t(n, i, s) {
            function o(a, u) {
                if (!i[a]) {
                    if (!n[a]) {
                        var d = "function" == typeof e && e;
                        if (!u && d) return d(a, !0);
                        if (r) return r(a, !0);
                        var c = new Error("Cannot find module '" + a + "'");
                        throw c.code = "MODULE_NOT_FOUND", c
                    }
                    var f = i[a] = {
                        exports: {}
                    };
                    n[a][0].call(f.exports, function(e) {
                        var t = n[a][1][e];
                        return o(t ? t : e)
                    }, f, f.exports, t, n, i, s)
                }
                return i[a].exports
            }
            for (var r = "function" == typeof e && e, a = 0; a < s.length; a++) o(s[a]);
            return o
        }({
            1: [function(e, t, n) {
                ! function(e) {
                    "use strict";
                    e.util = "undefined" == typeof e.util ? {} : e.util, e.util.isObjectOrArray = function(e) {
                        return e && "object" == typeof e
                    }
                }("undefined" != typeof window ? window : this),
                function(e) {
                    "use strict";
                    var t = e.netflix || {};
                    t.pureMixin = function(e, n) {
                        var i, s, o, r, a = Object.keys(n),
                            u = t.pureMixin;
                        for (r = a.length - 1; r >= 0; r--) i = a[r], s = n[i], o = e[i], void 0 !== o && void 0 !== s && null !== o && null !== s && "object" == typeof o && "object" == typeof s && (n[i] = u(o, s)), n[i] = {
                            value: n[i]
                        };
                        return Object.create(e, n)
                    }, t.deepMixin = function(e, n) {
                        var i, s, o;
                        if (void 0 === e || null === e) return n;
                        if ("string" == typeof e && "undefined" != typeof n) return e;
                        for (i in n) s = e[i], o = n[i], void 0 !== s && null !== s ? e[i] = t.deepMixin(s, o) : "object" == typeof s && void 0 !== o && null !== o && "object" == typeof o ? t.deepMixin(s, o) : e[i] = o;
                        return e
                    }
                }("undefined" != typeof window ? window : this),
                function(t) {
                    "use strict";
                    var n = e("nf-rx");
                    t.netflix = t.netflix || {}, t.netflix.notification = t.netflix.notification || {}, t.netflix.notification.notifications = new n.Subject
                }("undefined" != typeof window ? window : this),
                function(e) {
                    "use strict";
                    var t = e.netflix,
                        n = {
                            appSession: {
                                send: "both"
                            },
                            userSession: {
                                send: "both"
                            },
                            sharedContext: {
                                send: "both"
                            },
                            uiModalViewChanged: {
                                eventProperties: {
                                    value: "modalView"
                                },
                                send: "start"
                            },
                            uiModelessView: {
                                send: "both",
                                overlapping: "true"
                            },
                            uiDataRequest: {
                                send: "end"
                            }
                        };
                    t.notification = t.notification || {}, t.notification.specification = t.notification.specification || {}, t.notification.specification.uiQOE = t.notification.specification.uiQOE || {};
                    for (var i in n) n.hasOwnProperty(i) && !t.notification.specification.uiQOE[i] && (t.notification.specification.uiQOE[i] = n[i])
                }("undefined" != typeof window ? window : this),
                function(t) {
                    "use strict";
                    var n = e("nf-rx"),
                        i = {
                            enumerable: !1
                        },
                        s = function() {},
                        o = t.util.isObjectOrArray,
                        r = t.netflix;
                    r.notification.ClientNotifications = function(e) {
                        e = e || {};
                        var t = e.requestSender || s,
                            i = e.timeStampGenerator || function() {
                                return 0
                            },
                            o = e.guidGenerator || s,
                            r = e.log || s,
                            a = e.maxBufferSize,
                            u = e.maxFlushDelay,
                            d = e.specification,
                            c = e.sessionState,
                            f = e.retryFailedRequests,
                            l = e.metadata || {},
                            h = e.sequencePrefix || "",
                            v = isNaN(e.timeStampOffset) ? 0 : e.timeStampOffset,
                            p = e.isValidEvent || function() {
                                return !0
                            };
                        this.setTimeStampOffset(v), this.log = r, this.metadata = l, this.specification = d, this._isValidEvent = p, this._retryFailedRequests = Boolean(f), this.sessionState = c || {
                            sessions: {},
                            sessionsList: []
                        }, this.events = this._createEvents(), this.sequence = 1, this._sequencePrefix = h, this._timestampOffset = 0, this._timeStampGenerator = i, this.maxFlushDelay = u, this.maxBufferSize = a, this._queuedRequests = [], this._queue = [], this.nextGuid = o, this.eventsWithActiveSessions = this._createEventsWithActiveSessions(), this._flushes = new n.Subject, this.outgoingRequests = this._createRequests(), this.unsentRequests = new n.Subject, this.enabled = void 0, this._enabledChanges = new n.Subject, this._isEventEnabledByEventNameByCategory = {}, this._eventsQueuedBeforeEnabled = [], this._requestSender = t, this.requests = this._createRequestsObservable()
                    }, r.notification.ClientNotifications.prototype = {
                        setTimeStampOffset: function(e) {
                            this._timestampOffset = e
                        },
                        getTimeStampOffset: function() {
                            return this._timestampOffset
                        },
                        timeStamp: function() {
                            return this._timeStampGenerator() + this._timestampOffset
                        },
                        setSequencePrefix: function(e) {
                            this._sequencePrefix = e
                        },
                        getSequencePrefix: function() {
                            return this._sequencePrefix
                        },
                        clearSequencePrefix: function() {
                            this._sequencePrefix = ""
                        },
                        getRequestSendDelayMs: function(e) {
                            var t = e.retryCount || 0;
                            return 100 * (t && Math.pow(2, t))
                        },
                        removeQueuedRequest: function(e) {
                            var t = this._queuedRequests,
                                n = t.indexOf(e);
                            n > -1 && t.splice(n, 1)
                        },
                        suspend: function() {
                            var e, t = this,
                                n = {
                                    metadata: this.metadata,
                                    maxBufferSize: this.maxBufferSize,
                                    maxFlushDelay: this.maxFlushDelay,
                                    eventsQueuedBeforeEnabled: this._eventsQueuedBeforeEnabled,
                                    sequence: void 0,
                                    sequencePrefix: this._sequencePrefix,
                                    enabled: this.enabled,
                                    sessionState: this.sessionState,
                                    queuedRequests: this._queuedRequests.slice(0)
                                };
                            return this.maxBufferSize = Number.MAX_VALUE, this.sessionState.sessionsList.concat(this._eventsQueuedBeforeEnabled).filter(function(e) {
                                var n = t._getEventSpecification(e);
                                return n && n.cancelOnSuspend
                            }).forEach(function(e) {
                                t.notifyEnd(e, {
                                    data: {
                                        reason: "canceled"
                                    }
                                })
                            }), e = this.createRequestFromUnsentEvents(), e && n.queuedRequests.push(e), n.queuedRequests.forEach(function(e) {
                                delete e.retryCount
                            }), n.sequence = this.sequence, n
                        },
                        restore: function(e) {
                            this.maxBufferSize = e.maxBufferSize || this.maxBufferSize, this.maxFlushDelay = e.maxFlushDelay || this.maxFlushDelay, this._eventsQueuedBeforeEnabled = e.eventsQueuedBeforeEnabled || this._eventsQueuedBeforeEnabled, this.sequence = e.sequence || this.sequence, this._sequencePrefix = e.sequencePrefix || this._sequencePrefix, r.deepMixin(this.metadata, e.metadata || {}), this.sessionState = e.sessionState || this.sessionState, e.enabled === !1 && this.start(e.enabled), this.addToUnsentRequests(e.queuedRequests || [])
                        },
                        addToUnsentRequests: function(e) {
                            var t;
                            if (Array.isArray(e))
                                for (this.log("Adding " + e.length + " unsent requests."), t = 0; t < e.length; ++t) this.unsentRequests.onNext(e[t])
                        },
                        notify: function(e, t, n) {
                            return n = n || {}, n.type = "event", n.category = e, n.name = t, this.enabled !== !1 && this.events.onNext(n), n
                        },
                        start: function(e) {
                            var t, n = this._eventsQueuedBeforeEnabled,
                                i = n.length;
                            if (void 0 !== e) {
                                if (this.enabled = e, e === !0)
                                    for (t = 0; i > t; t++) this.events.onNext(n[t]);
                                n.length = 0, this._enabledChanges.onNext(e)
                            }
                        },
                        getSession: function(e, t) {
                            var n, i, s, o, r = e + "." + t,
                                a = this.sessionState;
                            if (!a || !a.sessions) return void this.log("ClientNotifications#getSession called but we have no session state.");
                            if (s = this.sessionState.sessions[r]) return s;
                            for (i = this._eventsQueuedBeforeEnabled, n = i.length, o = n - 1; o >= 0; --o)
                                if (s = i[o], s.category === e && s.sessionName === t) return s
                        },
                        _getEventKey: function(e) {
                            return e.category + "." + e.sessionName
                        },
                        notifyStart: function(e, t, n) {
                            var i, s, o, r;
                            if (n = n || {}, i = n.sessionId, n.type = "sessionStarted", n.category = e, n.name = t + ".started", n.sessionName = t, void 0 !== i && (s = this._getEventKey(n), o = this.sessionState.sessions[s], void 0 !== o))
                                if (Array.isArray(o)) {
                                    if (r = this._arrayIndexWhere(o, function(e) {
                                            return e.sessionId === i
                                        }), -1 !== r) return o[r]
                                } else if (o.sessionId === n.sessionId) return o;
                            return this.enabled !== !1 && this.events.onNext(n), n
                        },
                        notifyEnd: function(e, t, n) {
                            var i, s = this,
                                o = e,
                                r = t,
                                a = void 0 !== o.category,
                                u = a ? this.getSession(e.category, e.name) : this.getSession(e, t);
                            if (a ? (e = o.category, t = o.sessionName, r = r || {}, r.sessionId = o.sessionId, n = r) : n = n || {}, u && (Array.isArray(u) && (r.sessionId ? (i = s._arrayIndexWhere(u, function(e) {
                                    return e.sessionId === r.sessionId
                                }), -1 !== i && (u = u[i])) : u = u[u.length - 1]), u.childrenWhoseSessionsIClose))
                                for (var d = u.childrenWhoseSessionsIClose.length - 1; d >= 0; d--) this.notifyEnd(u.childrenWhoseSessionsIClose[d]);
                            return n.type = "sessionEnded", n.category = e, n.name = t + ".ended", n.sessionName = t, this.enabled !== !1 && this.events.onNext(n), n
                        },
                        areEventsQueued: function() {
                            return this._queue.length > 0
                        },
                        flush: function() {
                            this._flushes.onNext()
                        },
                        _arrayIndexWhere: function(e, t) {
                            var n;
                            for (n = e.length - 1; n >= 0; n--)
                                if (t(e[n])) return n;
                            return -1
                        },
                        _getEventSessionKey: function(e) {
                            var t = e.sessionKey;
                            return void 0 === t && (t = [e.category, e.sessionName, e.sessionId], e.sessionKey = t), t
                        },
                        _isEventEnabled: function(e, t) {
                            var n, i, s;
                            return n = this._isEventEnabledByEventNameByCategory[e.category] || {}, this._isEventEnabledByEventNameByCategory[e.category] = n, "undefined" != typeof n[e.sessionName] ? n[e.sessionName] : (i = Number(t.disabledChance), i = isNaN(i) ? 0 : i, s = Math.floor(100 * Math.random()) >= i, n[e.sessionName] = s, s || this.log("Disabling " + e.category + "." + e.sessionName + " (disabledChance: " + (t.disabledChance || 0) + ")"), s)
                        },
                        _getSuppressPercentage: function(e) {
                            var t = Number(e.suppressPercentage);
                            return isNaN(t) ? 0 : t
                        },
                        _getEventSpecification: function(e) {
                            var t, n = this.specification,
                                s = e.specification;
                            return s && "object" == typeof s ? s : (n && "object" == typeof n ? (t = n[e.category] || {}, s = t[e.sessionName] || t[e.name], s && "object" == typeof s || (s = {}, t && "object" == typeof t && (t[e.name] = s))) : s = {}, s.suppressPercentage = this._getSuppressPercentage(s), e.specification = s, Object.defineProperty(e, "specification", i), s)
                        },
                        _addTimeAndIds: function(e) {
                            return void 0 === e.time && (e.time = this.timeStamp()), void 0 === e.id && (e.id = this.nextGuid()), "sessionStarted" === e.type && void 0 === e.sessionId && (e.sessionId = this.nextGuid()), e
                        },
                        _sendQueuedRequest: function(e) {
                            var t = this;
                            return this._requestSender(e).doAction(function() {
                                t.removeQueuedRequest(e)
                            }, function() {
                                t.removeQueuedRequest(e), t._retryFailedRequests && (++e.retryCount, t.log("Request failed, retrying..."), t.outgoingRequests.onNext(e))
                            }).catchException(function() {
                                return n.Observable.returnValue(e)
                            })
                        },
                        _sendRequestAfterDelay: function(e) {
                            this._queuedRequests.push(e), e.time = e.time || this.timeStamp(), e.retryCount = e.retryCount || 0;
                            var t = this.getRequestSendDelayMs(e);
                            return t && this.log("Delaying request with timestamp " + e.time + " by " + t + "ms..."), n.Observable.timer(t).take(1).selectMany(this._sendQueuedRequest.bind(this, e))
                        },
                        _waitUntilEnabled: function(e) {
                            return this.enabled ? n.Observable.returnValue(e) : this._enabledChanges.where(function(e) {
                                return e === !0
                            }).select(function() {
                                return e
                            }).take(1)
                        },
                        _createRequestsObservable: function() {
                            return n.Observable.merge(this.unsentRequests.selectMany(this._waitUntilEnabled.bind(this)), this.outgoingRequests.selectMany(this._waitUntilEnabled.bind(this))).selectMany(this._sendRequestAfterDelay.bind(this)).publish().connect()
                        },
                        _createEvents: function() {
                            var e = this,
                                t = new n.Subject,
                                i = t.onNext;
                            return t.onNext = function(n) {
                                e._addTimeAndIds(n), void 0 === e.enabled ? e._eventsQueuedBeforeEnabled.push(n) : e.enabled === !0 && e._isValidEvent(n) && i.call(t, n)
                            }, t
                        },
                        _writePromotedPropertyValueToPath: function(e, t, n) {
                            var i, s, o;
                            for (i = 0; i < t.length - 1; i++) s = t[i], o = e[s], (null === o || "object" != typeof o) && (o = {}, e[s] = o), e = o;
                            e[t[t.length - 1]] = n
                        },
                        _writePromotedPropertiesFromSession: function(e, t, n) {
                            var i, s, r, a, u, d, c, f = t.data;
                            if (void 0 !== f)
                                for (i in e) {
                                    if (s = e[i], s === !0 && (s = i), o(s) && !Array.isArray(s)) {
                                        if (r = s, a = r[n.category], u = o(a) && a[n.sessionName], d = o(a) && void 0 !== a["default"] ? a["default"] : r["default"], d = void 0 === d ? !1 : d, c = void 0 === a || o(a) && void 0 === u, a === !1 || u === !1 || c && d === !1) continue;
                                        (u === !0 || a === !0 || c && d === !0) && (s = i), s = c ? d : void 0 !== u ? u : a
                                    }
                                    Array.isArray(s) ? this._writePromotedPropertyValueToPath(n, s, f[i]) : n[s] = f[i]
                                }
                        },
                        _writePromotedProperties: function(e, t, n) {
                            var i, s, o, r;
                            for (i = 0; i < e.length; i++) s = e[i], o = this._getEventSpecification(s), o && (r = o[t], void 0 !== r && this._writePromotedPropertiesFromSession(r, s, n))
                        },
                        _createEventsWithActiveSessions: function() {
                            var e = this;
                            return n.Observable.createWithDisposable(function(t) {
                                var n = function(s) {
                                    var o, a, u, d, c, f, l, h, v, p, y, m, g, S, b, x = e.sessionState,
                                        q = x.sessions,
                                        w = x.sessionsList;
                                    if ("event" !== s.type) {
                                        if (l = e._getEventSpecification(s), f = e._getEventKey(s), o = q[f], a = Array.isArray(o) ? o[o.length - 1] : o, "sessionStarted" === s.type) {
                                            if (void 0 !== a) {
                                                if (a.sessionId === s.sessionId) return a;
                                                if (!l || !l.overlapping) return e.log("Implicitly ending " + s.category + "." + s.sessionName), n(e._addTimeAndIds({
                                                    type: "sessionEnded",
                                                    category: s.category,
                                                    name: s.sessionName + ".ended",
                                                    sessionName: s.sessionName,
                                                    sessionId: o.sessionId,
                                                    time: s.time
                                                })), n(s);
                                                Array.isArray(o) || (o = [o], q[f] = o), o.push(s), w.push(s)
                                            } else q[f] = s, w.push(s);
                                            l && l.parentThatClosesMySessionWhenItCloses && (S = q[l.parentThatClosesMySessionWhenItCloses], Array.isArray(S) && (S = S[S.length - 1]), S && S.time < s.time && (b = {
                                                sessionId: s.sessionId,
                                                id: s.id,
                                                sessionStartTime: s.time,
                                                category: s.category,
                                                sessionName: s.sessionName
                                            }, S.childrenWhoseSessionsIClose ? S.childrenWhoseSessionsIClose.push(b) : S.childrenWhoseSessionsIClose = [b])), !l || "start" !== l.send && "both" !== l.send || ((y = e.onNotifyStart) && y(s), (y = l.onNotifyStart) && y(s))
                                        } else if ("sessionEnded" === s.type) {
                                            if (void 0 === o) return;
                                            if (void 0 !== s.sessionId ? Array.isArray(o) ? (p = e._arrayIndexWhere(o, function(e) {
                                                    return e.sessionId === s.sessionId
                                                }), -1 !== p && (h = o[p], o.splice(p, 1), 0 === o.length && (q[f] = void 0))) : o.sessionId === s.sessionId && (h = o, q[f] = void 0) : Array.isArray(o) ? (h = o.pop(), 0 === o.length && (q[f] = void 0)) : (h = o, q[f] = void 0), l && l.parentThatClosesMySessionWhenItCloses && (S = q[l.parentThatClosesMySessionWhenItCloses], S && (Array.isArray(S) && (S = S[S.length - 1]), S.childrenWhoseSessionsIClose && (p = e._arrayIndexWhere(S.childrenWhoseSessionsIClose, function(e) {
                                                    return e.id === h.id
                                                }), -1 !== p && S.childrenWhoseSessionsIClose.splice(p, 1)))), void 0 === h) return;
                                            s.sessionId = h.sessionId, c = w.length, w[c - 1].id === h.id ? w.length = c - 1 : (p = e._arrayIndexWhere(w, function(e) {
                                                return e.id === h.id
                                            }), -1 !== p && w.splice(p, 1)), void 0 === s.duration && (s.duration = s.time - h.time), !l || "end" !== l.send && "both" !== l.send || ((g = e.onNotifyEnd) && g(h, s), (g = l.onNotifyEnd) ? g(h, s) : "end" === l.send && (void 0 === s.data && (s.data = {}), s.data = r.deepMixin(s.data, h.data), s.dataContext = r.deepMixin(s.dataContext, h.dataContext)))
                                        }
                                    } else e.onNotify && e.onNotify(s);
                                    if ("event" === s.type || void 0 !== l && ("both" === l.send || "sessionStarted" === s.type && "start" === l.send || "sessionEnded" === s.type && "end" === l.send && void 0 !== h)) {
                                        for (v = [], m = 0; m < w.length; m++) u = w[m], d = e._getEventSpecification(u), d && void 0 !== d.send && v.push(e._getEventSessionKey(u));
                                        s.activeSessions = v, e._writePromotedProperties(w, "eventProperties", s), s.sessionState = x, Object.defineProperty(s, "sessionState", i), t.onNext(s)
                                    }
                                };
                                return e.events.subscribe(n, function(e) {
                                    t.onError(e)
                                }, function() {
                                    t.onCompleted()
                                })
                            })
                        },
                        createRequestFromUnsentEvents: function() {
                            return this.areEventsQueued() ? this._createRequest(this._queue) : void 0
                        },
                        clearDisabledEvents: function() {
                            var e, t, n, i = this._isEventEnabledByEventNameByCategory;
                            this.log("Clearing disabled state for all event types");
                            for (t in i) {
                                e = i[t] || {};
                                for (n in e) delete e[n]
                            }
                        },
                        _canSendEvent: function(e) {
                            var t = this._getEventSpecification(e);
                            return this._isEventEnabled(e, t) && (0 === t.suppressPercentage || Math.floor(100 * Math.random()) >= t.suppressPercentage)
                        },
                        _createRequest: function(e) {
                            var t, n = this,
                                i = {};
                            return n._writePromotedProperties(this.sessionState.sessionsList, "requestProperties", i), i.events = e.filter(n._canSendEvent.bind(n)).map(function(e) {
                                return e.sequence = n._sequencePrefix + n.sequence, n.sequence++, e
                            }), (t = n.onRequest) && t(i), i
                        },
                        _createRequests: function() {
                            var e = this;
                            return n.Observable.create(function(t) {
                                var n, i, o, r = e._queue,
                                    a = function() {
                                        var e;
                                        r.length > 0 && (n = clearTimeout(n), e = r.slice(0), r.length = 0, t.onNext(e))
                                    },
                                    u = function() {
                                        void 0 !== i && i.dispose(), void 0 !== o && o.dispose(), n && (n = clearTimeout(n))
                                    };
                                return o = e._flushes.subscribe(function() {
                                    a()
                                }, function(e) {
                                    void 0 !== u && u(), t.onError(e)
                                }, s), i = e.eventsWithActiveSessions.subscribe(function(t) {
                                    1 === r.length && (n = setTimeout(a, e.maxFlushDelay)), r.push(t), e.maxBufferSize <= r.length && a()
                                }, function(e) {
                                    u(), t.onError(e)
                                }, function() {
                                    a(), u(), t.onCompleted()
                                }), u
                            }).select(function(t) {
                                return e._createRequest(t)
                            })
                        }
                    }
                }("undefined" != typeof window ? window : this),
                function(e) {
                    "use strict";
                    var t = function(t) {
                        var n;
                        try {
                            n = "object" == typeof e.localStorage ? "localstorage" : "none"
                        } catch (i) {
                            n = "none"
                        }
                        var s = function(n) {
                                try {
                                    return e.localStorage.getItem(t + "." + n)
                                } catch (i) {
                                    return null
                                }
                            },
                            o = function(n, i) {
                                try {
                                    return i = JSON.stringify(i), e.localStorage.setItem(t + "." + n, i), !0
                                } catch (s) {
                                    return !1
                                }
                            },
                            r = function() {
                                return n
                            };
                        return {
                            type: r,
                            get: s,
                            set: o
                        }
                    };
                    e.netflix = e.netflix || {}, e.netflix.BrowserDb = function(e) {
                        return t(e)
                    }
                }("undefined" != typeof window ? window : this),
                function(t) {
                    "use strict";
                    t.netflix = t.netflix || {}, t.netflix.notification = t.netflix.notification || {}, t.netflix.notification.constants = t.netflix.notification.constants || {}, t.netflix.session = function() {
                        var n, i, s, o, r = 1e3,
                            a = 60 * r,
                            u = 60 * a,
                            d = (t.netflix.notification.constants && t.netflix.notification.constants.sessionLength || 30) * a,
                            c = 8 * u,
                            f = new t.netflix.BrowserDb("NFSessionData"),
                            l = function() {
                                return (new Date).getTime()
                            },
                            h = function() {
                                return void 0 === n || l() - n > d
                            },
                            v = function() {
                                return void 0 === n || l() - n > c
                            },
                            p = function() {
                                n = l(), S()
                            },
                            y = function() {
                                var e, n, i, s, o = "cL=",
                                    r = t.document && t.document.cookie.split(";");
                                if (r)
                                    for (i = 0; i < r.length; i++) {
                                        for (s = r[i];
                                            " " === s.charAt(0);) s = s.substring(1, s.length);
                                        if (0 === s.indexOf(o)) {
                                            e = s.substring(o.length, s.length);
                                            break
                                        }
                                    }
                                try {
                                    e && (e = decodeURIComponent(e).split("|"), n = {
                                        timeStamp: e[0],
                                        activeSessions: [
                                            ["uiQOE", "appSession", e[1]],
                                            ["uiQOE", "userSession", e[2]]
                                        ],
                                        sequencePrefix: e[3],
                                        sequence: parseInt(e[4], 10),
                                        token: m(e, 5)
                                    })
                                } catch (a) {
                                    n = null
                                }
                                return n
                            },
                            m = function(e, t) {
                                try {
                                    return e[t]
                                } catch (n) {
                                    return ""
                                }
                            },
                            g = function() {
                                "none" === f.type() && (i = !0), n = f.get("nfSessionTs"), s = y();
                                try {
                                    s && s.timeStamp > n ? n = s.timeStamp : s = void 0
                                } catch (e) {
                                    s = void 0
                                }
                                o = !0
                            },
                            S = function() {
                                f.set("nfSessionTs", l())
                            },
                            b = function() {
                                var n = window && t.jQuery || e("jquery"),
                                    i = function() {
                                        t.netflix.session.newSession() || f.set("nfSessionTs", l())
                                    };
                                t.netflix.session.disabled() || (n && !n.stub ? n(t).bind("beforeunload", i) : t.addEventListener("beforeunload", i, !1))
                            };
                        return g(), {
                            disabled: function() {
                                return i
                            },
                            newSession: h,
                            newApp: v,
                            lastActivity: function() {
                                return n
                            },
                            ready: function() {
                                return o
                            },
                            cookieData: function() {
                                return s
                            },
                            keepAlive: p,
                            initTimers: b,
                            database: f
                        }
                    }()
                }("undefined" != typeof window ? window : this),
                function(t) {
                    "use strict";
                    var n = e("nf-rx"),
                        i = t,
                        s = i.netflix;
                    i.netflix.clientNotifications = function(t, o, r) {
                        var a, u, d, c = "userSession",
                            f = "appSession",
                            l = "sharedContext",
                            h = "uiQOE",
                            v = s.notification.constants,
                            p = v && v.pageName || i.location && i.location.pathname,
                            y = v && "jfk" === v.uiMode,
                            m = v && v.debugMode && i.console,
                            g = v && v.maxFlushDelay || 5e3,
                            S = v && v.maxBufferSize || 20,
                            b = v && v.logPageOnStart !== !1,
                            x = v ? v.ownerToken : "",
                            q = function() {
                                var e = Math.floor(new Date / 1e3).toString(),
                                    t = Math.floor(1e8 * Math.random()).toString();
                                return e + t
                            },
                            w = function() {
                                return (new Date).getTime()
                            },
                            _ = function() {
                                return 6e4 * (new Date).getTimezoneOffset()
                            },
                            E = function(e) {
                                return s.session.disabled() ? !1 : a.sessionState.sessions[h + "." + e]
                            },
                            N = function() {
                                if (!i.netflix.session.disabled()) {
                                    i.nflxappbridge && (d = i.nflxappbridge);
                                    try {
                                        if (i.netflix.session.ready()) {
                                            I(), b && O();
                                            var e = a.suspend();
                                            R(e), a.restore(e)
                                        } else i.setTimeout(N, 100)
                                    } catch (t) {}
                                }
                            },
                            I = function() {
                                if (!s.session.disabled()) {
                                    var e, u = r.cookieData(),
                                        c = r.database.get("nfNotifications"),
                                        f = {
                                            requestSender: function(e) {
                                                return n.Observable.create(function(t) {
                                                    return A(e, function(e, n) {
                                                            e ? t.onError(e) : t.onNext(n)
                                                        }),
                                                        function() {}
                                                }).select(function() {
                                                    return e
                                                })
                                            },
                                            timeStampGenerator: w,
                                            guidGenerator: q,
                                            maxBufferSize: S,
                                            maxFlushDelay: g,
                                            specification: o,
                                            sessionState: null,
                                            retryFailedRequests: !0
                                        };
                                    a = new t(f), a.metadata.token = x;
                                    try {
                                        void 0 !== u ? e = k(u) : null !== c && (e = JSON.parse(c), e.enabled = void 0), void 0 !== e && C(e) && (m && console.log("restoring" + JSON.stringify(e)), a.restore(e))
                                    } catch (l) {}
                                    a.onRequest = function(e) {
                                        e.locale = v && v.locale ? v.locale : "", e.device = {}, a.metadata && a.metadata.device && (e.device = a.metadata.device), e.device.utcOffset = _(), v.version && (e.version = v.version), e.browser = {
                                            userAgent: i.navigator.userAgent,
                                            requestUrl: i.location.href,
                                            referrerUrl: i.document.referrer
                                        }, d && (v.appName = "www-hosted"), e.appName = v.appName || "www", e.time = w()
                                    }
                                }
                            },
                            C = function(e) {
                                var t = e.metadata.token;
                                return "undefined" == typeof t || "" === t ? !0 : t.toString() === x.toString()
                            },
                            O = function() {
                                var e = v && v.videoId,
                                    t = v && v.trackId,
                                    n = {
                                        category: h,
                                        modalView: p
                                    };
                                e && (n.dataContext = n.dataContext || {}, n.dataContext.videoId = e), t && (n.dataContext = n.dataContext || {}, n.dataContext.trackId = t), B("uiModalViewChanged", n)
                            },
                            R = function(e) {
                                r.disabled() || r.database.set("nfNotifications", e)
                            },
                            P = function() {
                                r.disabled() || (a.start(!0), a.flush())
                            },
                            A = function(t, n) {
                                var s = JSON ? JSON.stringify(t) : t,
                                    o = i && i.jQuery || e("jquery"),
                                    r = {
                                        name: "X-Netflix.ichnaea.request.type",
                                        value: "UiRequest"
                                    },
                                    a = "application/json",
                                    u = "POST",
                                    d = "/ichnaea/log";
                                if (m && console.log("Sending data to server: " + s), o && !o.stub) o.ajax({
                                    type: u,
                                    url: d,
                                    data: s,
                                    contentType: a,
                                    beforeSend: function(e) {
                                        e.setRequestHeader(r.name, r.value)
                                    },
                                    success: function() {
                                        n(null, null)
                                    },
                                    error: n
                                });
                                else {
                                    var c = new i.XMLHttpRequest,
                                        f = function() {
                                            c.onload = null, c.onerror = null, c.ontimeout = null, c.onabort = null, c = null
                                        },
                                        l = function() {
                                            n(null, null), f()
                                        },
                                        h = function() {
                                            n(!0, c), f()
                                        };
                                    c.open(u, d), c.withCredentials = !0, c.setRequestHeader(r.name, r.value), c.setRequestHeader("Content-Type", a), c.onload = l, c.onerror = h, c.ontimeout = h, c.onabort = h, c.send(s)
                                }
                            },
                            j = function(e) {
                                var t = r.lastActivity(),
                                    n = r.newApp(),
                                    s = r.newSession(),
                                    o = E(f),
                                    a = E(c),
                                    u = E(l);
                                if (e !== c && e !== f && e !== l && (n || void 0 === o ? (void 0 !== a && M(c, {
                                        category: h,
                                        data: {
                                            endReason: "timeout",
                                            lastUserActivityTime: t
                                        }
                                    }), void 0 !== o && M(f, {
                                        category: h,
                                        data: {
                                            endReason: "timeout",
                                            lastUserActivityTime: t
                                        }
                                    }), T(f), v["accept-language"] ? T(c, {
                                        category: h,
                                        data: {
                                            trigger: "appStart",
                                            acceptLanguageHeader: v["accept-language"]
                                        }
                                    }) : T(c, {
                                        category: h,
                                        data: {
                                            trigger: "appStart"
                                        }
                                    })) : (s || void 0 === a) && (void 0 !== a && M(c, {
                                        category: h,
                                        data: {
                                            endReason: "timeout",
                                            lastUserActivityTime: t
                                        }
                                    }), T(c, {
                                        category: h,
                                        data: {
                                            trigger: "inputEvent",
                                            idleTime: w() - t
                                        }
                                    })), "www-hosted" === v.appName)) {
                                    var d, p = {},
                                        y = i.location.href;
                                    y.replace(new RegExp("([^?=&]+)(=([^&]*))?", "g"), function(e, t, n, i) {
                                        p[t] = i
                                    }), p && p.uuid && (d = p.uuid), void 0 === u ? d && T(l, {
                                        category: h,
                                        data: {
                                            trigger: "signup",
                                            role: "receiver",
                                            uuid: d
                                        }
                                    }) : d && d !== u.data.uuid && (M(l, {
                                        category: h,
                                        data: {
                                            role: "receiver",
                                            uuid: u.data.uuid
                                        }
                                    }), T(l, {
                                        category: h,
                                        data: {
                                            trigger: "signup",
                                            role: "receiver",
                                            uuid: d
                                        }
                                    }))
                                }
                            },
                            T = function(e, t) {
                                return D("start", e, t)
                            },
                            M = function(e, t) {
                                return D("end", e, t)
                            },
                            B = function(e, t) {
                                return D("singleton", e, t)
                            },
                            D = function(e, t, n) {
                                if (s.session.disabled()) return !1;
                                var o, d = n || {};
                                switch (d.modalView = d.modalView || p, y && "undefined" == typeof d.kids && (d.kids = y), o = d.category || h, "undefined" === a && i.setTimeout(function() {
                                    D(e, t, n)
                                }, 100), m && console.log("notifying " + t + " : " + JSON.stringify(n)), j(t), r.keepAlive(), e) {
                                    case "start":
                                        return "object" == typeof d.endOnUnload && (u = u || {}, d.endOnUnload.category = o, u[t] = d.endOnUnload, delete d.endOnUnload), a.notifyStart(o, t, d);
                                    case "end":
                                        return "Object" == typeof d.startEvent ? a.notifyEnd(d.startEvent) : a.notifyEnd(o, t, d);
                                    default:
                                        return a.notify(o, t, d)
                                }
                            },
                            Q = function() {
                                if (u)
                                    for (var e in u) u.hasOwnProperty(e) && M(e, u[e])
                            },
                            W = function() {
                                var e, t = E(f),
                                    n = E(c),
                                    s = {};
                                if (void 0 !== t && !r.newApp()) try {
                                    s.appId = t.sessionId, void 0 !== n && (s.sessionId = n.sessionId), s.timeStamp = r.lastActivity(), s.sequencePrefix = a.getSequencePrefix(), e = encodeURIComponent(s.timeStamp + "|" + s.appId + "|" + s.sessionId + "|" + s.sequencePrefix + "|" + a.sequence + "|" + x), i.document.cookie = "cL=" + e + "; path=/; domain=" + i.location.hostname
                                } catch (o) {}
                            },
                            k = function(e) {
                                var t, n, i, s, o = e.activeSessions,
                                    r = {},
                                    a = [],
                                    u = {},
                                    d = [];
                                for (s = 0; s < o.length; s++) {
                                    try {
                                        n = o[s][2], t = o[s][1]
                                    } catch (c) {
                                        break
                                    }
                                    d.push([h, t, n]), i = {
                                        sessionId: n,
                                        type: "sessionStarted",
                                        category: h,
                                        name: t + ".started",
                                        sessionName: t,
                                        id: n,
                                        activeSessions: d
                                    }, u[h + "." + t] = i, a.push(i)
                                }
                                return m && console.log("Restoring " + d), r.sessionState = {
                                    sessions: u,
                                    sessionsList: a
                                }, e.esn && (r.metadata = r.metadata || {}, r.metadata.device = {
                                    esn: e.esn
                                }), "NaN" !== e.sequence && (r.sequence = e.sequence), e.sequencePrefix && (r.sequencePrefix = e.sequencePrefix), e.token && (r.metadata = r.metadata || {}, r.metadata.token = e.token), r
                            },
                            U = function() {
                                var t = i && i.jQuery || e("jquery"),
                                    n = function() {
                                        s.session.disabled() || (Q(), W(), R(a.suspend()))
                                    };
                                s.session.initTimers(), P(), W(), t && !t.stub ? t(i).unload(n) : i.addEventListener("unload", n)
                            },
                            F = function() {
                                a.flush()
                            };
                        return N(), {
                            start: U,
                            notify: B,
                            notifyStart: T,
                            notifyEnd: M,
                            getCurrentSession: E,
                            flushBuffer: F,
                            createClientNotifications: I
                        }
                    }(s.notification.ClientNotifications, s.notification.specification, s.session)
                }("undefined" != typeof window ? window : this), t.exports = "undefined" != typeof window ? window : this
            }, {
                jquery: "jquery",
                "nf-rx": "nf-rx"
            }],
            2: [function(e, t, n) {
                "use strict";

                function i() {}
                var s, o = e("../dist/clientNotifications.js");
                s = "undefined" != typeof window ? window.netflix : o.netflix, t.exports = {
                    init: function() {
                        try {
                            s.clientNotifications.start()
                        } catch (e) {}
                    },
                    active: function() {
                        return s.session && s.notification && s.clientNotifications
                    },
                    session: s.session,
                    notification: s.notification,
                    clientNotifications: s.clientNotifications || {
                        notifyEnd: i,
                        notifyStart: i,
                        notify: i
                    }
                }
            }, {
                "../dist/clientNotifications.js": 1
            }]
        }, {}, [2])(2)
    })
});

Requireify.register("nf-iso-properties", function(t, e, r, n) {
    ! function(t) {
        if ("object" == typeof n && "undefined" != typeof r) r.exports = t();
        else if ("function" == typeof define && define.amd) define([], t);
        else {
            var e;
            e = "undefined" != typeof window ? window : "undefined" != typeof global ? global : "undefined" != typeof self ? self : this, e.nfIsoProperties = t()
        }
    }(function() {
        return function e(r, n, o) {
            function i(u, p) {
                if (!n[u]) {
                    if (!r[u]) {
                        var f = "function" == typeof t && t;
                        if (!p && f) return f(u, !0);
                        if (s) return s(u, !0);
                        var a = new Error("Cannot find module '" + u + "'");
                        throw a.code = "MODULE_NOT_FOUND", a
                    }
                    var c = n[u] = {
                        exports: {}
                    };
                    r[u][0].call(c.exports, function(t) {
                        var e = r[u][1][t];
                        return i(e ? e : t)
                    }, c, c.exports, e, r, n, o)
                }
                return n[u].exports
            }
            for (var s = "function" == typeof t && t, u = 0; u < o.length; u++) i(o[u]);
            return i
        }({
            1: [function(t, e, r) {
                "use strict";
                var n = t("./src/browser"),
                    o = t("./plugins/MemorySource");
                n.prototype.plugins = {
                    MemorySource: o
                }, e.exports = new n
            }, {
                "./plugins/MemorySource": 2,
                "./src/browser": 4
            }],
            2: [function(t, e, r) {
                "use strict";

                function n(t) {
                    this.data = o.assign({}, t)
                }
                var o = t("lodash"),
                    i = t("../src/Prop");
                n.prototype.name = "memory", n.prototype.seed = function(t) {
                    var e;
                    for (e in this.data) this.data.hasOwnProperty(e) && (this.data[e] = new i(e, this.data[e], {
                        dynamic: !1,
                        lastUpdated: new Date
                    }));
                    return t ? t() : void 0
                }, n.prototype.get = function(t) {
                    return this.data[t]
                }, n.prototype.destroy = function() {}, e.exports = n
            }, {
                "../src/Prop": 3,
                lodash: "lodash"
            }],
            3: [function(t, e, r) {
                "use strict";

                function n(t, e, r) {
                    if ("string" != typeof t) throw new Error("key must be a string!");
                    if (typeof e === o) throw new Error("value not provided to prop constructor for key: " + t);
                    this._dynamic = r && typeof r.dynamic !== o ? r.dynamic : !1, this._lastUpdated = r && r.lastUpdated ? r.lastUpdated : new Date, this._key = t, this._val = e
                }
                var o = "undefined";
                n.prototype.value = function() {
                    return this._val
                }, n.prototype.dynamic = function() {
                    return this._dynamic
                }, n.prototype.key = function() {
                    return this._key
                }, n.prototype.type = function() {
                    return this._type
                }, n.prototype.timestamp = function() {
                    return this._lastUpdated
                }, e.exports = n
            }, {}],
            4: [function(t, e, r) {
                "use strict";

                function n() {
                    this._initialized = !1, this._sources = []
                }
                var o = /({\w+})/g,
                    i = /{|}/g;
                n.prototype.init = function(t, e) {
                    var r, n, o = this;
                    if (o._initialized !== !1) throw new Error("Cannot call init() multiple times!");
                    if (t && t.sources)
                        for (n = t.sources.length; n--;) r = t.sources[n], o._sources.push(r), r.seed();
                    return o._initialized = !0, e ? e() : void 0
                }, n.prototype._getProperty = function(t) {
                    var e, r, n = 0,
                        o = this._sources.length;
                    for (n = 0; o > n; n++)
                        if (e = this._sources[n], r = e.get(t), "undefined" != typeof r && null !== r) return r;
                    return null
                }, n.prototype.get = function(t) {
                    var e = this._getProperty(t);
                    return e ? e.value() : null
                }, n.prototype.getStringSub = function(t) {
                    var e = this,
                        r = this.get(t);
                    return r && (r = r.replace(o, function(t) {
                        return e.get(t.replace(i, ""), "")
                    })), r
                }, n.prototype.___reset = function() {
                    this._cache = {}, this._initialized = !1
                }, e.exports = n
            }, {}]
        }, {}, [1])(1)
    })
});

Requireify.register("lodash", function(n, t, r, e) {
    (function() {
        function n(n, t) {
            if (n !== t) {
                var r = n === n,
                    e = t === t;
                if (n > t || !r || n === j && e) return 1;
                if (t > n || !e || t === j && r) return -1
            }
            return 0
        }

        function t(n, t, r) {
            for (var e = n.length, u = r ? e : -1; r ? u-- : ++u < e;)
                if (t(n[u], u, n)) return u;
            return -1
        }

        function u(n, t, r) {
            if (t !== t) return _(n, r);
            for (var e = r - 1, u = n.length; ++e < u;)
                if (n[e] === t) return e;
            return -1
        }

        function i(n) {
            return "function" == typeof n || !1
        }

        function o(n) {
            return "string" == typeof n ? n : null == n ? "" : n + ""
        }

        function a(n) {
            return n.charCodeAt(0)
        }

        function f(n, t) {
            for (var r = -1, e = n.length; ++r < e && t.indexOf(n.charAt(r)) > -1;);
            return r
        }

        function c(n, t) {
            for (var r = n.length; r-- && t.indexOf(n.charAt(r)) > -1;);
            return r
        }

        function l(t, r) {
            return n(t.criteria, r.criteria) || t.index - r.index
        }

        function s(t, r, e) {
            for (var u = -1, i = t.criteria, o = r.criteria, a = i.length, f = e.length; ++u < a;) {
                var c = n(i[u], o[u]);
                if (c) return u >= f ? c : c * (e[u] ? 1 : -1)
            }
            return t.index - r.index
        }

        function p(n) {
            return Kn[n]
        }

        function h(n) {
            return Vn[n]
        }

        function v(n) {
            return "\\" + Jn[n]
        }

        function _(n, t, r) {
            for (var e = n.length, u = t + (r ? 0 : -1); r ? u-- : ++u < e;) {
                var i = n[u];
                if (i !== i) return u
            }
            return -1
        }

        function g(n) {
            return !!n && "object" == typeof n
        }

        function y(n) {
            return 160 >= n && n >= 9 && 13 >= n || 32 == n || 160 == n || 5760 == n || 6158 == n || n >= 8192 && (8202 >= n || 8232 == n || 8233 == n || 8239 == n || 8287 == n || 12288 == n || 65279 == n)
        }

        function d(n, t) {
            for (var r = -1, e = n.length, u = -1, i = []; ++r < e;) n[r] === t && (n[r] = q, i[++u] = r);
            return i
        }

        function m(n, t) {
            for (var r, e = -1, u = n.length, i = -1, o = []; ++e < u;) {
                var a = n[e],
                    f = t ? t(a, e, n) : a;
                e && r === f || (r = f, o[++i] = a)
            }
            return o
        }

        function w(n) {
            for (var t = -1, r = n.length; ++t < r && y(n.charCodeAt(t)););
            return t
        }

        function b(n) {
            for (var t = n.length; t-- && y(n.charCodeAt(t)););
            return t
        }

        function x(n) {
            return Yn[n]
        }

        function A(r) {
            function e(n) {
                if (g(n) && !Aa(n) && !(n instanceof nn)) {
                    if (n instanceof X) return n;
                    if (zi.call(n, "__chain__") && zi.call(n, "__wrapped__")) return ue(n)
                }
                return new X(n)
            }

            function y() {}

            function X(n, t, r) {
                this.__wrapped__ = n, this.__actions__ = r || [], this.__chain__ = !!t
            }

            function nn(n) {
                this.__wrapped__ = n, this.__actions__ = null, this.__dir__ = 1, this.__dropCount__ = 0, this.__filtered__ = !1, this.__iteratees__ = null, this.__takeCount__ = wo, this.__views__ = null
            }

            function rn() {
                var n = this.__actions__,
                    t = this.__iteratees__,
                    r = this.__views__,
                    e = new nn(this.__wrapped__);
                return e.__actions__ = n ? tt(n) : null, e.__dir__ = this.__dir__, e.__filtered__ = this.__filtered__, e.__iteratees__ = t ? tt(t) : null, e.__takeCount__ = this.__takeCount__, e.__views__ = r ? tt(r) : null, e
            }

            function Kn() {
                if (this.__filtered__) {
                    var n = new nn(this);
                    n.__dir__ = -1, n.__filtered__ = !0
                } else n = this.clone(), n.__dir__ *= -1;
                return n
            }

            function Vn() {
                var n = this.__wrapped__.value();
                if (!Aa(n)) return tr(n, this.__actions__);
                var t = this.__dir__,
                    r = 0 > t,
                    e = Lr(0, n.length, this.__views__),
                    u = e.start,
                    i = e.end,
                    o = i - u,
                    a = r ? i : u - 1,
                    f = ho(o, this.__takeCount__),
                    c = this.__iteratees__,
                    l = c ? c.length : 0,
                    s = 0,
                    p = [];
                n: for (; o-- && f > s;) {
                    a += t;
                    for (var h = -1, v = n[a]; ++h < l;) {
                        var _ = c[h],
                            g = _.iteratee,
                            y = _.type;
                        if (y == B) {
                            if (_.done && (r ? a > _.index : a < _.index) && (_.count = 0, _.done = !1), _.index = a, !_.done) {
                                var d = _.limit;
                                if (!(_.done = d > -1 ? _.count++ >= d : !g(v))) continue n
                            }
                        } else {
                            var m = g(v);
                            if (y == D) v = m;
                            else if (!m) {
                                if (y == z) continue n;
                                break n
                            }
                        }
                    }
                    p[s++] = v
                }
                return p
            }

            function Yn() {
                this.__data__ = {}
            }

            function Gn(n) {
                return this.has(n) && delete this.__data__[n]
            }

            function Jn(n) {
                return "__proto__" == n ? j : this.__data__[n]
            }

            function Xn(n) {
                return "__proto__" != n && zi.call(this.__data__, n)
            }

            function Zn(n, t) {
                return "__proto__" != n && (this.__data__[n] = t), this
            }

            function Hn(n) {
                var t = n ? n.length : 0;
                for (this.data = {
                        hash: co(null),
                        set: new to
                    }; t--;) this.push(n[t])
            }

            function Qn(n, t) {
                var r = n.data,
                    e = "string" == typeof t || bu(t) ? r.set.has(t) : r.hash[t];
                return e ? 0 : -1
            }

            function nt(n) {
                var t = this.data;
                "string" == typeof n || bu(n) ? t.set.add(n) : t.hash[n] = !0
            }

            function tt(n, t) {
                var r = -1,
                    e = n.length;
                for (t || (t = Oi(e)); ++r < e;) t[r] = n[r];
                return t
            }

            function ut(n, t) {
                for (var r = -1, e = n.length; ++r < e && t(n[r], r, n) !== !1;);
                return n
            }

            function it(n, t) {
                for (var r = n.length; r-- && t(n[r], r, n) !== !1;);
                return n
            }

            function ot(n, t) {
                for (var r = -1, e = n.length; ++r < e;)
                    if (!t(n[r], r, n)) return !1;
                return !0
            }

            function at(n, t) {
                for (var r = -1, e = n.length, u = -1, i = []; ++r < e;) {
                    var o = n[r];
                    t(o, r, n) && (i[++u] = o)
                }
                return i
            }

            function ft(n, t) {
                for (var r = -1, e = n.length, u = Oi(e); ++r < e;) u[r] = t(n[r], r, n);
                return u
            }

            function ct(n) {
                for (var t = -1, r = n.length, e = mo; ++t < r;) {
                    var u = n[t];
                    u > e && (e = u)
                }
                return e
            }

            function lt(n) {
                for (var t = -1, r = n.length, e = wo; ++t < r;) {
                    var u = n[t];
                    e > u && (e = u)
                }
                return e
            }

            function st(n, t, r, e) {
                var u = -1,
                    i = n.length;
                for (e && i && (r = n[++u]); ++u < i;) r = t(r, n[u], u, n);
                return r
            }

            function pt(n, t, r, e) {
                var u = n.length;
                for (e && u && (r = n[--u]); u--;) r = t(r, n[u], u, n);
                return r
            }

            function ht(n, t) {
                for (var r = -1, e = n.length; ++r < e;)
                    if (t(n[r], r, n)) return !0;
                return !1
            }

            function vt(n) {
                for (var t = n.length, r = 0; t--;) r += +n[t] || 0;
                return r
            }

            function _t(n, t) {
                return n === j ? t : n
            }

            function gt(n, t, r, e) {
                return n !== j && zi.call(e, r) ? n : t
            }

            function yt(n, t, r) {
                var e = Na(t);
                Hi.apply(e, zo(t));
                for (var u = -1, i = e.length; ++u < i;) {
                    var o = e[u],
                        a = n[o],
                        f = r(a, t[o], o, n, t);
                    (f === f ? f === a : a !== a) && (a !== j || o in n) || (n[o] = f)
                }
                return n
            }

            function dt(n, t) {
                for (var r = -1, e = n.length, u = Yr(e), i = t.length, o = Oi(i); ++r < i;) {
                    var a = t[r];
                    u ? o[r] = qr(a, e) ? n[a] : j : o[r] = n[a]
                }
                return o
            }

            function mt(n, t, r) {
                r || (r = {});
                for (var e = -1, u = t.length; ++e < u;) {
                    var i = t[e];
                    r[i] = n[i]
                }
                return r
            }

            function wt(n, t, r) {
                var e = typeof n;
                return "function" == e ? t === j ? n : ur(n, t, r) : null == n ? pi : "object" == e ? Lt(n) : t === j ? di(n) : Bt(n, t)
            }

            function bt(n, t, r, e, u, i, o) {
                var a;
                if (r && (a = u ? r(n, e, u) : r(n)), a !== j) return a;
                if (!bu(n)) return n;
                var f = Aa(n);
                if (f) {
                    if (a = Br(n), !t) return tt(n, a)
                } else {
                    var c = Pi.call(n),
                        l = c == J;
                    if (c != H && c != M && (!l || u)) return qn[c] ? Dr(n, c, t) : u ? n : {};
                    if (a = zr(l ? {} : n), !t) return ko(a, n)
                }
                i || (i = []), o || (o = []);
                for (var s = i.length; s--;)
                    if (i[s] == n) return o[s];
                return i.push(n), o.push(a), (f ? ut : Ct)(n, function(e, u) {
                    a[u] = bt(e, t, r, u, n, i, o)
                }), a
            }

            function xt(n, t, r) {
                if ("function" != typeof n) throw new Wi(P);
                return ro(function() {
                    n.apply(j, r)
                }, t)
            }

            function At(n, t) {
                var r = n ? n.length : 0,
                    e = [];
                if (!r) return e;
                var i = -1,
                    o = $r(),
                    a = o == u,
                    f = a && t.length >= 200 ? Fo(t) : null,
                    c = t.length;
                f && (o = Qn, a = !1, t = f);
                n: for (; ++i < r;) {
                    var l = n[i];
                    if (a && l === l) {
                        for (var s = c; s--;)
                            if (t[s] === l) continue n;
                        e.push(l)
                    } else o(t, l, 0) < 0 && e.push(l)
                }
                return e
            }

            function jt(n, t) {
                var r = !0;
                return So(n, function(n, e, u) {
                    return r = !!t(n, e, u)
                }), r
            }

            function Ot(n, t, r, e) {
                var u = n.length;
                for (r = null == r ? 0 : +r || 0, 0 > r && (r = -r > u ? 0 : u + r), e = e === j || e > u ? u : +e || 0, 0 > e && (e += u), u = r > e ? 0 : e >>> 0, r >>>= 0; u > r;) n[r++] = t;
                return n
            }

            function Et(n, t) {
                var r = [];
                return So(n, function(n, e, u) {
                    t(n, e, u) && r.push(n)
                }), r
            }

            function Rt(n, t, r, e) {
                var u;
                return r(n, function(n, r, i) {
                    return t(n, r, i) ? (u = e ? r : n, !1) : void 0
                }), u
            }

            function It(n, t, r) {
                for (var e = -1, u = n.length, i = -1, o = []; ++e < u;) {
                    var a = n[e];
                    if (g(a) && Yr(a.length) && (Aa(a) || vu(a))) {
                        t && (a = It(a, t, r));
                        var f = -1,
                            c = a.length;
                        for (o.length += c; ++f < c;) o[++i] = a[f]
                    } else r || (o[++i] = a)
                }
                return o
            }

            function kt(n, t) {
                return Uo(n, t, Lu)
            }

            function Ct(n, t) {
                return Uo(n, t, Na)
            }

            function St(n, t) {
                return Wo(n, t, Na)
            }

            function Tt(n, t) {
                for (var r = -1, e = t.length, u = -1, i = []; ++r < e;) {
                    var o = t[r];
                    Oa(n[o]) && (i[++u] = o)
                }
                return i
            }

            function Ut(n, t, r) {
                if (null != n) {
                    r !== j && r in re(n) && (t = [r]);
                    for (var e = -1, u = t.length; null != n && ++e < u;) var i = n = n[t[e]];
                    return i
                }
            }

            function Wt(n, t, r, e, u, i) {
                if (n === t) return 0 !== n || 1 / n == 1 / t;
                var o = typeof n,
                    a = typeof t;
                return "function" != o && "object" != o && "function" != a && "object" != a || null == n || null == t ? n !== n && t !== t : Nt(n, t, Wt, r, e, u, i)
            }

            function Nt(n, t, r, e, u, i, o) {
                var a = Aa(n),
                    f = Aa(t),
                    c = K,
                    l = K;
                a || (c = Pi.call(n), c == M ? c = H : c != H && (a = ku(n))), f || (l = Pi.call(t), l == M ? l = H : l != H && (f = ku(t)));
                var s = c == H,
                    p = l == H,
                    h = c == l;
                if (h && !a && !s) return Ur(n, t, c);
                if (!u) {
                    var v = s && zi.call(n, "__wrapped__"),
                        _ = p && zi.call(t, "__wrapped__");
                    if (v || _) return r(v ? n.value() : n, _ ? t.value() : t, e, u, i, o)
                }
                if (!h) return !1;
                i || (i = []), o || (o = []);
                for (var g = i.length; g--;)
                    if (i[g] == n) return o[g] == t;
                i.push(n), o.push(t);
                var y = (a ? Tr : Wr)(n, t, r, e, u, i, o);
                return i.pop(), o.pop(), y
            }

            function Ft(n, t, r, e, u) {
                for (var i = -1, o = t.length, a = !u; ++i < o;)
                    if (a && e[i] ? r[i] !== n[t[i]] : !(t[i] in n)) return !1;
                for (i = -1; ++i < o;) {
                    var f = t[i],
                        c = n[f],
                        l = r[i];
                    if (a && e[i]) var s = c !== j || f in n;
                    else s = u ? u(c, l, f) : j, s === j && (s = Wt(l, c, u, !0));
                    if (!s) return !1
                }
                return !0
            }

            function $t(n, t) {
                var r = -1,
                    e = Bo(n),
                    u = Yr(e) ? Oi(e) : [];
                return So(n, function(n, e, i) {
                    u[++r] = t(n, e, i)
                }), u
            }

            function Lt(n) {
                var t = Na(n),
                    r = t.length;
                if (!r) return si(!0);
                if (1 == r) {
                    var e = t[0],
                        u = n[e];
                    if (Gr(u)) return function(n) {
                        return null == n ? !1 : n[e] === u && (u !== j || e in re(n))
                    }
                }
                for (var i = Oi(r), o = Oi(r); r--;) u = n[t[r]], i[r] = u, o[r] = Gr(u);
                return function(n) {
                    return null != n && Ft(re(n), t, i, o)
                }
            }

            function Bt(n, t) {
                var r = Aa(n),
                    e = Kr(n) && Gr(t),
                    u = n + "";
                return n = ee(n),
                    function(i) {
                        if (null == i) return !1;
                        var o = u;
                        if (i = re(i), (r || !e) && !(o in i)) {
                            if (i = 1 == n.length ? i : Ut(i, Yt(n, 0, -1)), null == i) return !1;
                            o = de(n), i = re(i)
                        }
                        return i[o] === t ? t !== j || o in i : Wt(t, i[o], null, !0)
                    }
            }

            function zt(n, t, r, e, u) {
                if (!bu(n)) return n;
                var i = Yr(t.length) && (Aa(t) || ku(t));
                if (!i) {
                    var o = Na(t);
                    Hi.apply(o, zo(t))
                }
                return ut(o || t, function(a, f) {
                    if (o && (f = a, a = t[f]), g(a)) e || (e = []), u || (u = []), Dt(n, t, f, zt, r, e, u);
                    else {
                        var c = n[f],
                            l = r ? r(c, a, f, n, t) : j,
                            s = l === j;
                        s && (l = a), !i && l === j || !s && (l === l ? l === c : c !== c) || (n[f] = l)
                    }
                }), n
            }

            function Dt(n, t, r, e, u, i, o) {
                for (var a = i.length, f = t[r]; a--;)
                    if (i[a] == f) return void(n[r] = o[a]);
                var c = n[r],
                    l = u ? u(c, f, r, n, t) : j,
                    s = l === j;
                s && (l = f, Yr(f.length) && (Aa(f) || ku(f)) ? l = Aa(c) ? c : Bo(c) ? tt(c) : [] : Ea(f) || vu(f) ? l = vu(c) ? Tu(c) : Ea(c) ? c : {} : s = !1), i.push(f), o.push(l), s ? n[r] = e(l, f, u, i, o) : (l === l ? l !== c : c === c) && (n[r] = l)
            }

            function Pt(n) {
                return function(t) {
                    return null == t ? j : t[n]
                }
            }

            function qt(n) {
                var t = n + "";
                return n = ee(n),
                    function(r) {
                        return Ut(r, n, t)
                    }
            }

            function Mt(n, t) {
                for (var r = t.length; r--;) {
                    var e = parseFloat(t[r]);
                    if (e != u && qr(e)) {
                        var u = e;
                        eo.call(n, e, 1)
                    }
                }
                return n
            }

            function Kt(n, t) {
                return n + Ji(yo() * (t - n + 1))
            }

            function Vt(n, t, r, e, u) {
                return u(n, function(n, u, i) {
                    r = e ? (e = !1, n) : t(r, n, u, i)
                }), r
            }

            function Yt(n, t, r) {
                var e = -1,
                    u = n.length;
                t = null == t ? 0 : +t || 0, 0 > t && (t = -t > u ? 0 : u + t), r = r === j || r > u ? u : +r || 0, 0 > r && (r += u), u = t > r ? 0 : r - t >>> 0, t >>>= 0;
                for (var i = Oi(u); ++e < u;) i[e] = n[e + t];
                return i
            }

            function Gt(n, t) {
                var r;
                return So(n, function(n, e, u) {
                    return r = t(n, e, u), !r
                }), !!r
            }

            function Jt(n, t) {
                var r = n.length;
                for (n.sort(t); r--;) n[r] = n[r].value;
                return n
            }

            function Xt(n, t, r) {
                var e = Fr(),
                    u = -1;
                t = ft(t, function(n) {
                    return e(n)
                });
                var i = $t(n, function(n) {
                    var r = ft(t, function(t) {
                        return t(n)
                    });
                    return {
                        criteria: r,
                        index: ++u,
                        value: n
                    }
                });
                return Jt(i, function(n, t) {
                    return s(n, t, r)
                })
            }

            function Zt(n, t) {
                var r = 0;
                return So(n, function(n, e, u) {
                    r += +t(n, e, u) || 0
                }), r
            }

            function Ht(n, t) {
                var r = -1,
                    e = $r(),
                    i = n.length,
                    o = e == u,
                    a = o && i >= 200,
                    f = a ? Fo() : null,
                    c = [];
                f ? (e = Qn, o = !1) : (a = !1, f = t ? [] : c);
                n: for (; ++r < i;) {
                    var l = n[r],
                        s = t ? t(l, r, n) : l;
                    if (o && l === l) {
                        for (var p = f.length; p--;)
                            if (f[p] === s) continue n;
                        t && f.push(s), c.push(l)
                    } else e(f, s, 0) < 0 && ((t || a) && f.push(s), c.push(l))
                }
                return c
            }

            function Qt(n, t) {
                for (var r = -1, e = t.length, u = Oi(e); ++r < e;) u[r] = n[t[r]];
                return u
            }

            function nr(n, t, r, e) {
                for (var u = n.length, i = e ? u : -1;
                    (e ? i-- : ++i < u) && t(n[i], i, n););
                return r ? Yt(n, e ? 0 : i, e ? i + 1 : u) : Yt(n, e ? i + 1 : 0, e ? u : i)
            }

            function tr(n, t) {
                var r = n;
                r instanceof nn && (r = r.value());
                for (var e = -1, u = t.length; ++e < u;) {
                    var i = [r],
                        o = t[e];
                    Hi.apply(i, o.args), r = o.func.apply(o.thisArg, i)
                }
                return r
            }

            function rr(n, t, r) {
                var e = 0,
                    u = n ? n.length : e;
                if ("number" == typeof t && t === t && Ao >= u) {
                    for (; u > e;) {
                        var i = e + u >>> 1,
                            o = n[i];
                        (r ? t >= o : t > o) ? e = i + 1: u = i
                    }
                    return u
                }
                return er(n, t, pi, r)
            }

            function er(n, t, r, e) {
                t = r(t);
                for (var u = 0, i = n ? n.length : 0, o = t !== t, a = t === j; i > u;) {
                    var f = Ji((u + i) / 2),
                        c = r(n[f]),
                        l = c === c;
                    if (o) var s = l || e;
                    else s = a ? l && (e || c !== j) : e ? t >= c : t > c;
                    s ? u = f + 1 : i = f
                }
                return ho(i, xo)
            }

            function ur(n, t, r) {
                if ("function" != typeof n) return pi;
                if (t === j) return n;
                switch (r) {
                    case 1:
                        return function(r) {
                            return n.call(t, r)
                        };
                    case 3:
                        return function(r, e, u) {
                            return n.call(t, r, e, u)
                        };
                    case 4:
                        return function(r, e, u, i) {
                            return n.call(t, r, e, u, i)
                        };
                    case 5:
                        return function(r, e, u, i, o) {
                            return n.call(t, r, e, u, i, o)
                        }
                }
                return function() {
                    return n.apply(t, arguments)
                }
            }

            function ir(n) {
                return Vi.call(n, 0)
            }

            function or(n, t, r) {
                for (var e = r.length, u = -1, i = po(n.length - e, 0), o = -1, a = t.length, f = Oi(i + a); ++o < a;) f[o] = t[o];
                for (; ++u < e;) f[r[u]] = n[u];
                for (; i--;) f[o++] = n[u++];
                return f
            }

            function ar(n, t, r) {
                for (var e = -1, u = r.length, i = -1, o = po(n.length - u, 0), a = -1, f = t.length, c = Oi(o + f); ++i < o;) c[i] = n[i];
                for (var l = i; ++a < f;) c[l + a] = t[a];
                for (; ++e < u;) c[l + r[e]] = n[i++];
                return c
            }

            function fr(n, t) {
                return function(r, e, u) {
                    var i = t ? t() : {};
                    if (e = Fr(e, u, 3), Aa(r))
                        for (var o = -1, a = r.length; ++o < a;) {
                            var f = r[o];
                            n(i, f, e(f, o, r), r)
                        } else So(r, function(t, r, u) {
                            n(i, t, e(t, r, u), u)
                        });
                    return i
                }
            }

            function cr(n) {
                return fu(function(t, r) {
                    var e = -1,
                        u = null == t ? 0 : r.length,
                        i = u > 2 && r[u - 2],
                        o = u > 2 && r[2],
                        a = u > 1 && r[u - 1];
                    for ("function" == typeof i ? (i = ur(i, a, 5), u -= 2) : (i = "function" == typeof a ? a : null, u -= i ? 1 : 0), o && Mr(r[0], r[1], o) && (i = 3 > u ? null : i, u = 1); ++e < u;) {
                        var f = r[e];
                        f && n(t, f, i)
                    }
                    return t
                })
            }

            function lr(n, t) {
                return function(r, e) {
                    var u = r ? Bo(r) : 0;
                    if (!Yr(u)) return n(r, e);
                    for (var i = t ? u : -1, o = re(r);
                        (t ? i-- : ++i < u) && e(o[i], i, o) !== !1;);
                    return r
                }
            }

            function sr(n) {
                return function(t, r, e) {
                    for (var u = re(t), i = e(t), o = i.length, a = n ? o : -1; n ? a-- : ++a < o;) {
                        var f = i[a];
                        if (r(u[f], f, u) === !1) break
                    }
                    return t
                }
            }

            function pr(n, t) {
                function r() {
                    var u = this && this !== rt && this instanceof r ? e : n;
                    return u.apply(t, arguments)
                }
                var e = vr(n);
                return r
            }

            function hr(n) {
                return function(t) {
                    for (var r = -1, e = ci(Ju(t)), u = e.length, i = ""; ++r < u;) i = n(i, e[r], r);
                    return i
                }
            }

            function vr(n) {
                return function() {
                    var t = Co(n.prototype),
                        r = n.apply(t, arguments);
                    return bu(r) ? r : t
                }
            }

            function _r(n) {
                function t(r, e, u) {
                    u && Mr(r, e, u) && (e = null);
                    var i = Sr(r, n, null, null, null, null, null, e);
                    return i.placeholder = t.placeholder, i
                }
                return t
            }

            function gr(n, t) {
                return function(r, e, u) {
                    u && Mr(r, e, u) && (e = null);
                    var i = Fr(),
                        o = null == e;
                    if (i === wt && o || (o = !1, e = i(e, u, 3)), o) {
                        var f = Aa(r);
                        if (f || !Iu(r)) return n(f ? r : te(r));
                        e = a
                    }
                    return Nr(r, e, t)
                }
            }

            function yr(n, r) {
                return function(e, u, i) {
                    if (u = Fr(u, i, 3), Aa(e)) {
                        var o = t(e, u, r);
                        return o > -1 ? e[o] : j
                    }
                    return Rt(e, u, n)
                }
            }

            function dr(n) {
                return function(r, e, u) {
                    return r && r.length ? (e = Fr(e, u, 3), t(r, e, n)) : -1
                }
            }

            function mr(n) {
                return function(t, r, e) {
                    return r = Fr(r, e, 3), Rt(t, r, n, !0)
                }
            }

            function wr(n) {
                return function() {
                    var t = arguments.length;
                    if (!t) return function() {
                        return arguments[0]
                    };
                    for (var r, e = n ? t : -1, u = 0, i = Oi(t); n ? e-- : ++e < t;) {
                        var o = i[u++] = arguments[e];
                        if ("function" != typeof o) throw new Wi(P);
                        var a = r ? "" : Lo(o);
                        r = "wrapper" == a ? new X([]) : r
                    }
                    for (e = r ? -1 : t; ++e < t;) {
                        o = i[e], a = Lo(o);
                        var f = "wrapper" == a ? $o(o) : null;
                        r = f && Vr(f[0]) ? r[Lo(f[0])].apply(r, f[3]) : 1 == o.length && Vr(o) ? r[a]() : r.thru(o)
                    }
                    return function() {
                        var n = arguments;
                        if (r && 1 == n.length && Aa(n[0])) return r.plant(n[0]).value();
                        for (var e = 0, u = i[e].apply(this, n); ++e < t;) u = i[e].call(this, u);
                        return u
                    }
                }
            }

            function br(n, t) {
                return function(r, e, u) {
                    return "function" == typeof e && u === j && Aa(r) ? n(r, e) : t(r, ur(e, u, 3))
                }
            }

            function xr(n) {
                return function(t, r, e) {
                    return ("function" != typeof r || e !== j) && (r = ur(r, e, 3)), n(t, r, Lu)
                }
            }

            function Ar(n) {
                return function(t, r, e) {
                    return ("function" != typeof r || e !== j) && (r = ur(r, e, 3)), n(t, r)
                }
            }

            function jr(n) {
                return function(t, r, e) {
                    return t = o(t), t && (n ? t : "") + Ir(t, r, e) + (n ? "" : t)
                }
            }

            function Or(n) {
                var t = fu(function(r, e) {
                    var u = d(e, t.placeholder);
                    return Sr(r, n, null, e, u)
                });
                return t
            }

            function Er(n, t) {
                return function(r, e, u, i) {
                    var o = arguments.length < 3;
                    return "function" == typeof e && i === j && Aa(r) ? n(r, e, u, o) : Vt(r, Fr(e, i, 4), u, o, t)
                }
            }

            function Rr(n, t, r, e, u, i, o, a, f, c) {
                function l() {
                    for (var w = arguments.length, b = w, x = Oi(w); b--;) x[b] = arguments[b];
                    if (e && (x = or(x, e, u)), i && (x = ar(x, i, o)), v || g) {
                        var A = l.placeholder,
                            O = d(x, A);
                        if (w -= O.length, c > w) {
                            var I = a ? tt(a) : null,
                                k = po(c - w, 0),
                                C = v ? O : null,
                                U = v ? null : O,
                                W = v ? x : null,
                                N = v ? null : x;
                            t |= v ? S : T, t &= ~(v ? T : S), _ || (t &= ~(E | R));
                            var F = [n, t, r, W, C, N, U, I, f, k],
                                $ = Rr.apply(j, F);
                            return Vr(n) && Do($, F), $.placeholder = A, $
                        }
                    }
                    var L = p ? r : this;
                    h && (n = L[m]), a && (x = Hr(x, a)), s && f < x.length && (x.length = f);
                    var B = this && this !== rt && this instanceof l ? y || vr(n) : n;
                    return B.apply(L, x)
                }
                var s = t & U,
                    p = t & E,
                    h = t & R,
                    v = t & k,
                    _ = t & I,
                    g = t & C,
                    y = !h && vr(n),
                    m = n;
                return l
            }

            function Ir(n, t, r) {
                var e = n.length;
                if (t = +t, e >= t || !lo(t)) return "";
                var u = t - e;
                return r = null == r ? " " : r + "", ti(r, Yi(u / r.length)).slice(0, u)
            }

            function kr(n, t, r, e) {
                function u() {
                    for (var t = -1, a = arguments.length, f = -1, c = e.length, l = Oi(a + c); ++f < c;) l[f] = e[f];
                    for (; a--;) l[f++] = arguments[++t];
                    var s = this && this !== rt && this instanceof u ? o : n;
                    return s.apply(i ? r : this, l)
                }
                var i = t & E,
                    o = vr(n);
                return u
            }

            function Cr(n) {
                return function(t, r, e, u) {
                    var i = Fr(e);
                    return i === wt && null == e ? rr(t, r, n) : er(t, r, i(e, u, 1), n)
                }
            }

            function Sr(n, t, r, e, u, i, o, a) {
                var f = t & R;
                if (!f && "function" != typeof n) throw new Wi(P);
                var c = e ? e.length : 0;
                if (c || (t &= ~(S | T), e = u = null), c -= u ? u.length : 0, t & T) {
                    var l = e,
                        s = u;
                    e = u = null
                }
                var p = f ? null : $o(n),
                    h = [n, t, r, e, u, l, s, i, o, a];
                if (p && (Jr(h, p), t = h[1], a = h[9]), h[9] = null == a ? f ? 0 : n.length : po(a - c, 0) || 0, t == E) var v = pr(h[0], h[2]);
                else v = t != S && t != (E | S) || h[4].length ? Rr.apply(j, h) : kr.apply(j, h);
                var _ = p ? No : Do;
                return _(v, h)
            }

            function Tr(n, t, r, e, u, i, o) {
                var a = -1,
                    f = n.length,
                    c = t.length,
                    l = !0;
                if (f != c && !(u && c > f)) return !1;
                for (; l && ++a < f;) {
                    var s = n[a],
                        p = t[a];
                    if (l = j, e && (l = u ? e(p, s, a) : e(s, p, a)), l === j)
                        if (u)
                            for (var h = c; h-- && (p = t[h], !(l = s && s === p || r(s, p, e, u, i, o))););
                        else l = s && s === p || r(s, p, e, u, i, o)
                }
                return !!l
            }

            function Ur(n, t, r) {
                switch (r) {
                    case V:
                    case Y:
                        return +n == +t;
                    case G:
                        return n.name == t.name && n.message == t.message;
                    case Z:
                        return n != +n ? t != +t : 0 == n ? 1 / n == 1 / t : n == +t;
                    case Q:
                    case tn:
                        return n == t + ""
                }
                return !1
            }

            function Wr(n, t, r, e, u, i, o) {
                var a = Na(n),
                    f = a.length,
                    c = Na(t),
                    l = c.length;
                if (f != l && !u) return !1;
                for (var s = u, p = -1; ++p < f;) {
                    var h = a[p],
                        v = u ? h in t : zi.call(t, h);
                    if (v) {
                        var _ = n[h],
                            g = t[h];
                        v = j, e && (v = u ? e(g, _, h) : e(_, g, h)), v === j && (v = _ && _ === g || r(_, g, e, u, i, o))
                    }
                    if (!v) return !1;
                    s || (s = "constructor" == h)
                }
                if (!s) {
                    var y = n.constructor,
                        d = t.constructor;
                    if (y != d && "constructor" in n && "constructor" in t && !("function" == typeof y && y instanceof y && "function" == typeof d && d instanceof d)) return !1
                }
                return !0
            }

            function Nr(n, t, r) {
                var e = r ? wo : mo,
                    u = e,
                    i = u;
                return So(n, function(n, o, a) {
                    var f = t(n, o, a);
                    ((r ? u > f : f > u) || f === e && f === i) && (u = f, i = n)
                }), i
            }

            function Fr(n, t, r) {
                var u = e.callback || li;
                return u = u === li ? wt : u, r ? u(n, t, r) : u
            }

            function $r(n, t, r) {
                var i = e.indexOf || _e;
                return i = i === _e ? u : i, n ? i(n, t, r) : i
            }

            function Lr(n, t, r) {
                for (var e = -1, u = r ? r.length : 0; ++e < u;) {
                    var i = r[e],
                        o = i.size;
                    switch (i.type) {
                        case "drop":
                            n += o;
                            break;
                        case "dropRight":
                            t -= o;
                            break;
                        case "take":
                            t = ho(t, n + o);
                            break;
                        case "takeRight":
                            n = po(n, t - o)
                    }
                }
                return {
                    start: n,
                    end: t
                }
            }

            function Br(n) {
                var t = n.length,
                    r = new n.constructor(t);
                return t && "string" == typeof n[0] && zi.call(n, "index") && (r.index = n.index, r.input = n.input), r
            }

            function zr(n) {
                var t = n.constructor;
                return "function" == typeof t && t instanceof t || (t = Si), new t
            }

            function Dr(n, t, r) {
                var e = n.constructor;
                switch (t) {
                    case en:
                        return ir(n);
                    case V:
                    case Y:
                        return new e(+n);
                    case un:
                    case on:
                    case an:
                    case fn:
                    case cn:
                    case ln:
                    case sn:
                    case pn:
                    case hn:
                        var u = n.buffer;
                        return new e(r ? ir(u) : u, n.byteOffset, n.length);
                    case Z:
                    case tn:
                        return new e(n);
                    case Q:
                        var i = new e(n.source, Tn.exec(n));
                        i.lastIndex = n.lastIndex
                }
                return i
            }

            function Pr(n, t, r) {
                null == n || Kr(t, n) || (t = ee(t), n = 1 == t.length ? n : Ut(n, Yt(t, 0, -1)), t = de(t));
                var e = null == n ? n : n[t];
                return null == e ? j : e.apply(n, r)
            }

            function qr(n, t) {
                return n = +n, t = null == t ? Oo : t, n > -1 && n % 1 == 0 && t > n
            }

            function Mr(n, t, r) {
                if (!bu(r)) return !1;
                var e = typeof t;
                if ("number" == e) var u = Bo(r),
                    i = Yr(u) && qr(t, u);
                else i = "string" == e && t in r;
                if (i) {
                    var o = r[t];
                    return n === n ? n === o : o !== o
                }
                return !1
            }

            function Kr(n, t) {
                var r = typeof n;
                if ("string" == r && On.test(n) || "number" == r) return !0;
                if (Aa(n)) return !1;
                var e = !jn.test(n);
                return e || null != t && n in re(t)
            }

            function Vr(n) {
                var t = Lo(n);
                return !!t && n === e[t] && t in nn.prototype
            }

            function Yr(n) {
                return "number" == typeof n && n > -1 && n % 1 == 0 && Oo >= n
            }

            function Gr(n) {
                return n === n && (0 === n ? 1 / n > 0 : !bu(n))
            }

            function Jr(n, t) {
                var r = n[1],
                    e = t[1],
                    u = r | e,
                    i = U > u,
                    o = e == U && r == k || e == U && r == W && n[7].length <= t[8] || e == (U | W) && r == k;
                if (!i && !o) return n;
                e & E && (n[2] = t[2], u |= r & E ? 0 : I);
                var a = t[3];
                if (a) {
                    var f = n[3];
                    n[3] = f ? or(f, a, t[4]) : tt(a), n[4] = f ? d(n[3], q) : tt(t[4])
                }
                return a = t[5], a && (f = n[5], n[5] = f ? ar(f, a, t[6]) : tt(a), n[6] = f ? d(n[5], q) : tt(t[6])), a = t[7], a && (n[7] = tt(a)), e & U && (n[8] = null == n[8] ? t[8] : ho(n[8], t[8])), null == n[9] && (n[9] = t[9]), n[0] = t[0], n[1] = u, n
            }

            function Xr(n, t) {
                n = re(n);
                for (var r = -1, e = t.length, u = {}; ++r < e;) {
                    var i = t[r];
                    i in n && (u[i] = n[i])
                }
                return u
            }

            function Zr(n, t) {
                var r = {};
                return kt(n, function(n, e, u) {
                    t(n, e, u) && (r[e] = n)
                }), r
            }

            function Hr(n, t) {
                for (var r = n.length, e = ho(t.length, r), u = tt(n); e--;) {
                    var i = t[e];
                    n[e] = qr(i, r) ? u[i] : j
                }
                return n
            }

            function Qr(n) {
                var t;
                e.support;
                if (!g(n) || Pi.call(n) != H || !zi.call(n, "constructor") && (t = n.constructor, "function" == typeof t && !(t instanceof t))) return !1;
                var r;
                return kt(n, function(n, t) {
                    r = t
                }), r === j || zi.call(n, r)
            }

            function ne(n) {
                for (var t = Lu(n), r = t.length, u = r && n.length, i = e.support, o = u && Yr(u) && (Aa(n) || i.nonEnumArgs && vu(n)), a = -1, f = []; ++a < r;) {
                    var c = t[a];
                    (o && qr(c, u) || zi.call(n, c)) && f.push(c)
                }
                return f
            }

            function te(n) {
                return null == n ? [] : Yr(Bo(n)) ? bu(n) ? n : Si(n) : Mu(n)
            }

            function re(n) {
                return bu(n) ? n : Si(n)
            }

            function ee(n) {
                if (Aa(n)) return n;
                var t = [];
                return o(n).replace(En, function(n, r, e, u) {
                    t.push(e ? u.replace(Cn, "$1") : r || n)
                }), t
            }

            function ue(n) {
                return n instanceof nn ? n.clone() : new X(n.__wrapped__, n.__chain__, tt(n.__actions__))
            }

            function ie(n, t, r) {
                t = (r ? Mr(n, t, r) : null == t) ? 1 : po(+t || 1, 1);
                for (var e = 0, u = n ? n.length : 0, i = -1, o = Oi(Yi(u / t)); u > e;) o[++i] = Yt(n, e, e += t);
                return o
            }

            function oe(n) {
                for (var t = -1, r = n ? n.length : 0, e = -1, u = []; ++t < r;) {
                    var i = n[t];
                    i && (u[++e] = i)
                }
                return u
            }

            function ae(n, t, r) {
                var e = n ? n.length : 0;
                return e ? ((r ? Mr(n, t, r) : null == t) && (t = 1), Yt(n, 0 > t ? 0 : t)) : []
            }

            function fe(n, t, r) {
                var e = n ? n.length : 0;
                return e ? ((r ? Mr(n, t, r) : null == t) && (t = 1), t = e - (+t || 0), Yt(n, 0, 0 > t ? 0 : t)) : []
            }

            function ce(n, t, r) {
                return n && n.length ? nr(n, Fr(t, r, 3), !0, !0) : []
            }

            function le(n, t, r) {
                return n && n.length ? nr(n, Fr(t, r, 3), !0) : []
            }

            function se(n, t, r, e) {
                var u = n ? n.length : 0;
                return u ? (r && "number" != typeof r && Mr(n, t, r) && (r = 0, e = u), Ot(n, t, r, e)) : []
            }

            function pe(n) {
                return n ? n[0] : j
            }

            function he(n, t, r) {
                var e = n ? n.length : 0;
                return r && Mr(n, t, r) && (t = !1), e ? It(n, t) : []
            }

            function ve(n) {
                var t = n ? n.length : 0;
                return t ? It(n, !0) : []
            }

            function _e(n, t, r) {
                var e = n ? n.length : 0;
                if (!e) return -1;
                if ("number" == typeof r) r = 0 > r ? po(e + r, 0) : r;
                else if (r) {
                    var i = rr(n, t),
                        o = n[i];
                    return (t === t ? t === o : o !== o) ? i : -1
                }
                return u(n, t, r || 0)
            }

            function ge(n) {
                return fe(n, 1)
            }

            function ye() {
                for (var n = [], t = -1, r = arguments.length, e = [], i = $r(), o = i == u, a = []; ++t < r;) {
                    var f = arguments[t];
                    (Aa(f) || vu(f)) && (n.push(f), e.push(o && f.length >= 120 ? Fo(t && f) : null))
                }
                if (r = n.length, 2 > r) return a;
                var c = n[0],
                    l = -1,
                    s = c ? c.length : 0,
                    p = e[0];
                n: for (; ++l < s;)
                    if (f = c[l], (p ? Qn(p, f) : i(a, f, 0)) < 0) {
                        for (t = r; --t;) {
                            var h = e[t];
                            if ((h ? Qn(h, f) : i(n[t], f, 0)) < 0) continue n
                        }
                        p && p.push(f), a.push(f)
                    }
                return a
            }

            function de(n) {
                var t = n ? n.length : 0;
                return t ? n[t - 1] : j
            }

            function me(n, t, r) {
                var e = n ? n.length : 0;
                if (!e) return -1;
                var u = e;
                if ("number" == typeof r) u = (0 > r ? po(e + r, 0) : ho(r || 0, e - 1)) + 1;
                else if (r) {
                    u = rr(n, t, !0) - 1;
                    var i = n[u];
                    return (t === t ? t === i : i !== i) ? u : -1
                }
                if (t !== t) return _(n, u, !0);
                for (; u--;)
                    if (n[u] === t) return u;
                return -1
            }

            function we() {
                var n = arguments,
                    t = n[0];
                if (!t || !t.length) return t;
                for (var r = 0, e = $r(), u = n.length; ++r < u;)
                    for (var i = 0, o = n[r];
                        (i = e(t, o, i)) > -1;) eo.call(t, i, 1);
                return t
            }

            function be(n, t, r) {
                var e = [];
                if (!n || !n.length) return e;
                var u = -1,
                    i = [],
                    o = n.length;
                for (t = Fr(t, r, 3); ++u < o;) {
                    var a = n[u];
                    t(a, u, n) && (e.push(a), i.push(u))
                }
                return Mt(n, i), e
            }

            function xe(n) {
                return ae(n, 1)
            }

            function Ae(n, t, r) {
                var e = n ? n.length : 0;
                return e ? (r && "number" != typeof r && Mr(n, t, r) && (t = 0, r = e), Yt(n, t, r)) : []
            }

            function je(n, t, r) {
                var e = n ? n.length : 0;
                return e ? ((r ? Mr(n, t, r) : null == t) && (t = 1), Yt(n, 0, 0 > t ? 0 : t)) : []
            }

            function Oe(n, t, r) {
                var e = n ? n.length : 0;
                return e ? ((r ? Mr(n, t, r) : null == t) && (t = 1), t = e - (+t || 0), Yt(n, 0 > t ? 0 : t)) : []
            }

            function Ee(n, t, r) {
                return n && n.length ? nr(n, Fr(t, r, 3), !1, !0) : []
            }

            function Re(n, t, r) {
                return n && n.length ? nr(n, Fr(t, r, 3)) : []
            }

            function Ie(n, t, r, e) {
                var i = n ? n.length : 0;
                if (!i) return [];
                null != t && "boolean" != typeof t && (e = r, r = Mr(n, t, e) ? null : t, t = !1);
                var o = Fr();
                return (o !== wt || null != r) && (r = o(r, e, 3)), t && $r() == u ? m(n, r) : Ht(n, r)
            }

            function ke(n) {
                for (var t = -1, r = (n && n.length && ct(ft(n, Bo))) >>> 0, e = Oi(r); ++t < r;) e[t] = ft(n, Pt(t));
                return e
            }

            function Ce() {
                for (var n = -1, t = arguments.length; ++n < t;) {
                    var r = arguments[n];
                    if (Aa(r) || vu(r)) var e = e ? At(e, r).concat(At(r, e)) : r
                }
                return e ? Ht(e) : []
            }

            function Se(n, t) {
                var r = -1,
                    e = n ? n.length : 0,
                    u = {};
                for (!e || t || Aa(n[0]) || (t = []); ++r < e;) {
                    var i = n[r];
                    t ? u[i] = t[r] : i && (u[i[0]] = i[1])
                }
                return u
            }

            function Te(n) {
                var t = e(n);
                return t.__chain__ = !0, t
            }

            function Ue(n, t, r) {
                return t.call(r, n), n
            }

            function We(n, t, r) {
                return t.call(r, n)
            }

            function Ne() {
                return Te(this)
            }

            function Fe() {
                return new X(this.value(), this.__chain__)
            }

            function $e(n) {
                for (var t, r = this; r instanceof y;) {
                    var e = ue(r);
                    t ? u.__wrapped__ = e : t = e;
                    var u = e;
                    r = r.__wrapped__
                }
                return u.__wrapped__ = n, t
            }

            function Le() {
                var n = this.__wrapped__;
                return n instanceof nn ? (this.__actions__.length && (n = new nn(this)), new X(n.reverse(), this.__chain__)) : this.thru(function(n) {
                    return n.reverse()
                })
            }

            function Be() {
                return this.value() + ""
            }

            function ze() {
                return tr(this.__wrapped__, this.__actions__)
            }

            function De(n, t, r) {
                var e = Aa(n) ? ot : jt;
                return r && Mr(n, t, r) && (t = null), ("function" != typeof t || r !== j) && (t = Fr(t, r, 3)), e(n, t)
            }

            function Pe(n, t, r) {
                var e = Aa(n) ? at : Et;
                return t = Fr(t, r, 3), e(n, t)
            }

            function qe(n, t) {
                return Qo(n, Lt(t))
            }

            function Me(n, t, r, e) {
                var u = n ? Bo(n) : 0;
                return Yr(u) || (n = Mu(n), u = n.length), u ? (r = "number" != typeof r || e && Mr(t, r, e) ? 0 : 0 > r ? po(u + r, 0) : r || 0, "string" == typeof n || !Aa(n) && Iu(n) ? u > r && n.indexOf(t, r) > -1 : $r(n, t, r) > -1) : !1
            }

            function Ke(n, t, r) {
                var e = Aa(n) ? ft : $t;
                return t = Fr(t, r, 3), e(n, t)
            }

            function Ve(n, t) {
                return Ke(n, di(t))
            }

            function Ye(n, t, r) {
                var e = Aa(n) ? at : Et;
                return t = Fr(t, r, 3), e(n, function(n, r, e) {
                    return !t(n, r, e)
                })
            }

            function Ge(n, t, r) {
                if (r ? Mr(n, t, r) : null == t) {
                    n = te(n);
                    var e = n.length;
                    return e > 0 ? n[Kt(0, e - 1)] : j
                }
                var u = Je(n);
                return u.length = ho(0 > t ? 0 : +t || 0, u.length), u
            }

            function Je(n) {
                n = te(n);
                for (var t = -1, r = n.length, e = Oi(r); ++t < r;) {
                    var u = Kt(0, t);
                    t != u && (e[t] = e[u]), e[u] = n[t]
                }
                return e
            }

            function Xe(n) {
                var t = n ? Bo(n) : 0;
                return Yr(t) ? t : Na(n).length
            }

            function Ze(n, t, r) {
                var e = Aa(n) ? ht : Gt;
                return r && Mr(n, t, r) && (t = null), ("function" != typeof t || r !== j) && (t = Fr(t, r, 3)), e(n, t)
            }

            function He(n, t, r) {
                if (null == n) return [];
                r && Mr(n, t, r) && (t = null);
                var e = -1;
                t = Fr(t, r, 3);
                var u = $t(n, function(n, r, u) {
                    return {
                        criteria: t(n, r, u),
                        index: ++e,
                        value: n
                    }
                });
                return Jt(u, l)
            }

            function Qe(n, t, r, e) {
                return null == n ? [] : (e && Mr(t, r, e) && (r = null), Aa(t) || (t = null == t ? [] : [t]), Aa(r) || (r = null == r ? [] : [r]), Xt(n, t, r))
            }

            function nu(n, t) {
                return Pe(n, Lt(t))
            }

            function tu(n, t) {
                if ("function" != typeof t) {
                    if ("function" != typeof n) throw new Wi(P);
                    var r = n;
                    n = t, t = r
                }
                return n = lo(n = +n) ? n : 0,
                    function() {
                        return --n < 1 ? t.apply(this, arguments) : void 0
                    }
            }

            function ru(n, t, r) {
                return r && Mr(n, t, r) && (t = null), t = n && null == t ? n.length : po(+t || 0, 0), Sr(n, U, null, null, null, null, t)
            }

            function eu(n, t) {
                var r;
                if ("function" != typeof t) {
                    if ("function" != typeof n) throw new Wi(P);
                    var e = n;
                    n = t, t = e
                }
                return function() {
                    return --n > 0 && (r = t.apply(this, arguments)), 1 >= n && (t = null), r
                }
            }

            function uu(n, t, r) {
                function e() {
                    p && Gi(p), f && Gi(f), f = p = h = j
                }

                function u() {
                    var r = t - (la() - l);
                    if (0 >= r || r > t) {
                        f && Gi(f);
                        var e = h;
                        f = p = h = j, e && (v = la(), c = n.apply(s, a), p || f || (a = s = null))
                    } else p = ro(u, r)
                }

                function i() {
                    p && Gi(p), f = p = h = j, (g || _ !== t) && (v = la(), c = n.apply(s, a), p || f || (a = s = null))
                }

                function o() {
                    if (a = arguments, l = la(), s = this, h = g && (p || !y), _ === !1) var r = y && !p;
                    else {
                        f || y || (v = l);
                        var e = _ - (l - v),
                            o = 0 >= e || e > _;
                        o ? (f && (f = Gi(f)), v = l, c = n.apply(s, a)) : f || (f = ro(i, e))
                    }
                    return o && p ? p = Gi(p) : p || t === _ || (p = ro(u, t)), r && (o = !0, c = n.apply(s, a)), !o || p || f || (a = s = null), c
                }
                var a, f, c, l, s, p, h, v = 0,
                    _ = !1,
                    g = !0;
                if ("function" != typeof n) throw new Wi(P);
                if (t = 0 > t ? 0 : +t || 0, r === !0) {
                    var y = !0;
                    g = !1
                } else bu(r) && (y = r.leading, _ = "maxWait" in r && po(+r.maxWait || 0, t), g = "trailing" in r ? r.trailing : g);
                return o.cancel = e, o
            }

            function iu(n, t) {
                if ("function" != typeof n || t && "function" != typeof t) throw new Wi(P);
                var r = function() {
                    var e = arguments,
                        u = r.cache,
                        i = t ? t.apply(this, e) : e[0];
                    if (u.has(i)) return u.get(i);
                    var o = n.apply(this, e);
                    return u.set(i, o), o
                };
                return r.cache = new iu.Cache, r
            }

            function ou(n) {
                if ("function" != typeof n) throw new Wi(P);
                return function() {
                    return !n.apply(this, arguments)
                }
            }

            function au(n) {
                return eu(2, n)
            }

            function fu(n, t) {
                if ("function" != typeof n) throw new Wi(P);
                return t = po(t === j ? n.length - 1 : +t || 0, 0),
                    function() {
                        for (var r = arguments, e = -1, u = po(r.length - t, 0), i = Oi(u); ++e < u;) i[e] = r[t + e];
                        switch (t) {
                            case 0:
                                return n.call(this, i);
                            case 1:
                                return n.call(this, r[0], i);
                            case 2:
                                return n.call(this, r[0], r[1], i)
                        }
                        var o = Oi(t + 1);
                        for (e = -1; ++e < t;) o[e] = r[e];
                        return o[t] = i, n.apply(this, o)
                    }
            }

            function cu(n) {
                if ("function" != typeof n) throw new Wi(P);
                return function(t) {
                    return n.apply(this, t)
                }
            }

            function lu(n, t, r) {
                var e = !0,
                    u = !0;
                if ("function" != typeof n) throw new Wi(P);
                return r === !1 ? e = !1 : bu(r) && (e = "leading" in r ? !!r.leading : e, u = "trailing" in r ? !!r.trailing : u), Mn.leading = e, Mn.maxWait = +t, Mn.trailing = u, uu(n, t, Mn)
            }

            function su(n, t) {
                return t = null == t ? pi : t, Sr(t, S, null, [n], [])
            }

            function pu(n, t, r, e) {
                return t && "boolean" != typeof t && Mr(n, t, r) ? t = !1 : "function" == typeof t && (e = r, r = t, t = !1), r = "function" == typeof r && ur(r, e, 1), bt(n, t, r)
            }

            function hu(n, t, r) {
                return t = "function" == typeof t && ur(t, r, 1), bt(n, !0, t)
            }

            function vu(n) {
                var t = g(n) ? n.length : j;
                return Yr(t) && Pi.call(n) == M
            }

            function _u(n) {
                return n === !0 || n === !1 || g(n) && Pi.call(n) == V
            }

            function gu(n) {
                return g(n) && Pi.call(n) == Y
            }

            function yu(n) {
                return !!n && 1 === n.nodeType && g(n) && Pi.call(n).indexOf("Element") > -1
            }

            function du(n) {
                if (null == n) return !0;
                var t = Bo(n);
                return Yr(t) && (Aa(n) || Iu(n) || vu(n) || g(n) && Oa(n.splice)) ? !t : !Na(n).length
            }

            function mu(n, t, r, e) {
                if (r = "function" == typeof r && ur(r, e, 3), !r && Gr(n) && Gr(t)) return n === t;
                var u = r ? r(n, t) : j;
                return u === j ? Wt(n, t, r) : !!u
            }

            function wu(n) {
                return g(n) && "string" == typeof n.message && Pi.call(n) == G
            }

            function bu(n) {
                var t = typeof n;
                return "function" == t || !!n && "object" == t
            }

            function xu(n, t, r, e) {
                var u = Na(t),
                    i = u.length;
                if (!i) return !0;
                if (null == n) return !1;
                if (r = "function" == typeof r && ur(r, e, 3), n = re(n), !r && 1 == i) {
                    var o = u[0],
                        a = t[o];
                    if (Gr(a)) return a === n[o] && (a !== j || o in n)
                }
                for (var f = Oi(i), c = Oi(i); i--;) a = f[i] = t[u[i]], c[i] = Gr(a);
                return Ft(n, u, f, c, r)
            }

            function Au(n) {
                return Eu(n) && n != +n
            }

            function ju(n) {
                return null == n ? !1 : Pi.call(n) == J ? Mi.test(Bi.call(n)) : g(n) && Wn.test(n)
            }

            function Ou(n) {
                return null === n
            }

            function Eu(n) {
                return "number" == typeof n || g(n) && Pi.call(n) == Z
            }

            function Ru(n) {
                return g(n) && Pi.call(n) == Q || !1
            }

            function Iu(n) {
                return "string" == typeof n || g(n) && Pi.call(n) == tn
            }

            function ku(n) {
                return g(n) && Yr(n.length) && !!Pn[Pi.call(n)]
            }

            function Cu(n) {
                return n === j
            }

            function Su(n) {
                var t = n ? Bo(n) : 0;
                return Yr(t) ? t ? tt(n) : [] : Mu(n)
            }

            function Tu(n) {
                return mt(n, Lu(n))
            }

            function Uu(n, t, r) {
                var e = Co(n);
                return r && Mr(n, t, r) && (t = null), t ? ko(e, t) : e
            }

            function Wu(n) {
                return Tt(n, Lu(n))
            }

            function Nu(n, t, r) {
                var e = null == n ? j : Ut(n, ee(t), t + "");
                return e === j ? r : e
            }

            function Fu(n, t) {
                if (null == n) return !1;
                var r = zi.call(n, t);
                return r || Kr(t) || (t = ee(t), n = 1 == t.length ? n : Ut(n, Yt(t, 0, -1)), t = de(t), r = null != n && zi.call(n, t)), r
            }

            function $u(n, t, r) {
                r && Mr(n, t, r) && (t = null);
                for (var e = -1, u = Na(n), i = u.length, o = {}; ++e < i;) {
                    var a = u[e],
                        f = n[a];
                    t ? zi.call(o, f) ? o[f].push(a) : o[f] = [a] : o[f] = a
                }
                return o
            }

            function Lu(n) {
                if (null == n) return [];
                bu(n) || (n = Si(n));
                var t = n.length;
                t = t && Yr(t) && (Aa(n) || Io.nonEnumArgs && vu(n)) && t || 0;
                for (var r = n.constructor, e = -1, u = "function" == typeof r && r.prototype === n, i = Oi(t), o = t > 0; ++e < t;) i[e] = e + "";
                for (var a in n) o && qr(a, t) || "constructor" == a && (u || !zi.call(n, a)) || i.push(a);
                return i
            }

            function Bu(n, t, r) {
                var e = {};
                return t = Fr(t, r, 3), Ct(n, function(n, r, u) {
                    e[r] = t(n, r, u)
                }), e
            }

            function zu(n) {
                for (var t = -1, r = Na(n), e = r.length, u = Oi(e); ++t < e;) {
                    var i = r[t];
                    u[t] = [i, n[i]]
                }
                return u
            }

            function Du(n, t, r) {
                var e = null == n ? j : n[t];
                return e === j && (null == n || Kr(t, n) || (t = ee(t), n = 1 == t.length ? n : Ut(n, Yt(t, 0, -1)), e = null == n ? j : n[de(t)]), e = e === j ? r : e), Oa(e) ? e.call(n) : e
            }

            function Pu(n, t, r) {
                if (null == n) return n;
                var e = t + "";
                t = null != n[e] || Kr(t, n) ? [e] : ee(t);
                for (var u = -1, i = t.length, o = i - 1, a = n; null != a && ++u < i;) {
                    var f = t[u];
                    bu(a) && (u == o ? a[f] = r : null == a[f] && (a[f] = qr(t[u + 1]) ? [] : {})), a = a[f]
                }
                return n
            }

            function qu(n, t, r, e) {
                var u = Aa(n) || ku(n);
                if (t = Fr(t, e, 4), null == r)
                    if (u || bu(n)) {
                        var i = n.constructor;
                        r = u ? Aa(n) ? new i : [] : Co(Oa(i) && i.prototype)
                    } else r = {};
                return (u ? ut : Ct)(n, function(n, e, u) {
                    return t(r, n, e, u)
                }), r
            }

            function Mu(n) {
                return Qt(n, Na(n))
            }

            function Ku(n) {
                return Qt(n, Lu(n))
            }

            function Vu(n, t, r) {
                return t = +t || 0, "undefined" == typeof r ? (r = t, t = 0) : r = +r || 0, n >= ho(t, r) && n < po(t, r)
            }

            function Yu(n, t, r) {
                r && Mr(n, t, r) && (t = r = null);
                var e = null == n,
                    u = null == t;
                if (null == r && (u && "boolean" == typeof n ? (r = n, n = 1) : "boolean" == typeof t && (r = t, u = !0)), e && u && (t = 1, u = !1), n = +n || 0, u ? (t = n, n = 0) : t = +t || 0, r || n % 1 || t % 1) {
                    var i = yo();
                    return ho(n + i * (t - n + parseFloat("1e-" + ((i + "").length - 1))), t)
                }
                return Kt(n, t)
            }

            function Gu(n) {
                return n = o(n), n && n.charAt(0).toUpperCase() + n.slice(1)
            }

            function Ju(n) {
                return n = o(n), n && n.replace(Nn, p).replace(kn, "")
            }

            function Xu(n, t, r) {
                n = o(n), t += "";
                var e = n.length;
                return r = r === j ? e : ho(0 > r ? 0 : +r || 0, e), r -= t.length, r >= 0 && n.indexOf(t, r) == r
            }

            function Zu(n) {
                return n = o(n), n && wn.test(n) ? n.replace(dn, h) : n
            }

            function Hu(n) {
                return n = o(n), n && In.test(n) ? n.replace(Rn, "\\$&") : n
            }

            function Qu(n, t, r) {
                n = o(n), t = +t;
                var e = n.length;
                if (e >= t || !lo(t)) return n;
                var u = (t - e) / 2,
                    i = Ji(u),
                    a = Yi(u);
                return r = Ir("", a, r), r.slice(0, i) + n + r
            }

            function ni(n, t, r) {
                return r && Mr(n, t, r) && (t = 0), go(n, t)
            }

            function ti(n, t) {
                var r = "";
                if (n = o(n), t = +t, 1 > t || !n || !lo(t)) return r;
                do t % 2 && (r += n), t = Ji(t / 2), n += n; while (t);
                return r
            }

            function ri(n, t, r) {
                return n = o(n), r = null == r ? 0 : ho(0 > r ? 0 : +r || 0, n.length), n.lastIndexOf(t, r) == r
            }

            function ei(n, t, r) {
                var u = e.templateSettings;
                r && Mr(n, t, r) && (t = r = null), n = o(n), t = yt(ko({}, r || t), u, gt);
                var i, a, f = yt(ko({}, t.imports), u.imports, gt),
                    c = Na(f),
                    l = Qt(f, c),
                    s = 0,
                    p = t.interpolate || Fn,
                    h = "__p += '",
                    _ = Ti((t.escape || Fn).source + "|" + p.source + "|" + (p === An ? Sn : Fn).source + "|" + (t.evaluate || Fn).source + "|$", "g"),
                    g = "//# sourceURL=" + ("sourceURL" in t ? t.sourceURL : "lodash.templateSources[" + ++Dn + "]") + "\n";
                n.replace(_, function(t, r, e, u, o, f) {
                    return e || (e = u), h += n.slice(s, f).replace($n, v), r && (i = !0, h += "' +\n__e(" + r + ") +\n'"), o && (a = !0, h += "';\n" + o + ";\n__p += '"), e && (h += "' +\n((__t = (" + e + ")) == null ? '' : __t) +\n'"), s = f + t.length, t
                }), h += "';\n";
                var y = t.variable;
                y || (h = "with (obj) {\n" + h + "\n}\n"), h = (a ? h.replace(vn, "") : h).replace(_n, "$1").replace(gn, "$1;"), h = "function(" + (y || "obj") + ") {\n" + (y ? "" : "obj || (obj = {});\n") + "var __t, __p = ''" + (i ? ", __e = _.escape" : "") + (a ? ", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n" : ";\n") + h + "return __p\n}";
                var d = Ka(function() {
                    return Ii(c, g + "return " + h).apply(j, l)
                });
                if (d.source = h, wu(d)) throw d;
                return d
            }

            function ui(n, t, r) {
                var e = n;
                return (n = o(n)) ? (r ? Mr(e, t, r) : null == t) ? n.slice(w(n), b(n) + 1) : (t += "", n.slice(f(n, t), c(n, t) + 1)) : n
            }

            function ii(n, t, r) {
                var e = n;
                return n = o(n), n ? (r ? Mr(e, t, r) : null == t) ? n.slice(w(n)) : n.slice(f(n, t + "")) : n
            }

            function oi(n, t, r) {
                var e = n;
                return n = o(n), n ? (r ? Mr(e, t, r) : null == t) ? n.slice(0, b(n) + 1) : n.slice(0, c(n, t + "") + 1) : n
            }

            function ai(n, t, r) {
                r && Mr(n, t, r) && (t = null);
                var e = N,
                    u = F;
                if (null != t)
                    if (bu(t)) {
                        var i = "separator" in t ? t.separator : i;
                        e = "length" in t ? +t.length || 0 : e, u = "omission" in t ? o(t.omission) : u
                    } else e = +t || 0;
                if (n = o(n), e >= n.length) return n;
                var a = e - u.length;
                if (1 > a) return u;
                var f = n.slice(0, a);
                if (null == i) return f + u;
                if (Ru(i)) {
                    if (n.slice(a).search(i)) {
                        var c, l, s = n.slice(0, a);
                        for (i.global || (i = Ti(i.source, (Tn.exec(i) || "") + "g")), i.lastIndex = 0; c = i.exec(s);) l = c.index;
                        f = f.slice(0, null == l ? a : l)
                    }
                } else if (n.indexOf(i, a) != a) {
                    var p = f.lastIndexOf(i);
                    p > -1 && (f = f.slice(0, p))
                }
                return f + u
            }

            function fi(n) {
                return n = o(n), n && mn.test(n) ? n.replace(yn, x) : n
            }

            function ci(n, t, r) {
                return r && Mr(n, t, r) && (t = null), n = o(n), n.match(t || Ln) || []
            }

            function li(n, t, r) {
                return r && Mr(n, t, r) && (t = null), wt(n, t)
            }

            function si(n) {
                return function() {
                    return n
                }
            }

            function pi(n) {
                return n
            }

            function hi(n) {
                return Lt(bt(n, !0))
            }

            function vi(n, t) {
                return Bt(n, bt(t, !0))
            }

            function _i(n, t, r) {
                if (null == r) {
                    var e = bu(t),
                        u = e && Na(t),
                        i = u && u.length && Tt(t, u);
                    (i ? i.length : e) || (i = !1, r = t, t = n, n = this)
                }
                i || (i = Tt(t, Na(t)));
                var o = !0,
                    a = -1,
                    f = Oa(n),
                    c = i.length;
                r === !1 ? o = !1 : bu(r) && "chain" in r && (o = r.chain);
                for (; ++a < c;) {
                    var l = i[a],
                        s = t[l];
                    n[l] = s, f && (n.prototype[l] = function(t) {
                        return function() {
                            var r = this.__chain__;
                            if (o || r) {
                                var e = n(this.__wrapped__),
                                    u = e.__actions__ = tt(this.__actions__);
                                return u.push({
                                    func: t,
                                    args: arguments,
                                    thisArg: n
                                }), e.__chain__ = r, e
                            }
                            var i = [this.value()];
                            return Hi.apply(i, arguments), t.apply(n, i)
                        }
                    }(s))
                }
                return n
            }

            function gi() {
                return r._ = qi, this
            }

            function yi() {}

            function di(n) {
                return Kr(n) ? Pt(n) : qt(n)
            }

            function mi(n) {
                return function(t) {
                    return Ut(n, ee(t), t + "")
                }
            }

            function wi(n, t, r) {
                r && Mr(n, t, r) && (t = r = null), n = +n || 0, r = null == r ? 1 : +r || 0, null == t ? (t = n, n = 0) : t = +t || 0;
                for (var e = -1, u = po(Yi((t - n) / (r || 1)), 0), i = Oi(u); ++e < u;) i[e] = n, n += r;
                return i
            }

            function bi(n, t, r) {
                if (n = Ji(n), 1 > n || !lo(n)) return [];
                var e = -1,
                    u = Oi(ho(n, bo));
                for (t = ur(t, r, 1); ++e < n;) bo > e ? u[e] = t(e) : t(e);
                return u
            }

            function xi(n) {
                var t = ++Di;
                return o(n) + t
            }

            function Ai(n, t) {
                return (+n || 0) + (+t || 0)
            }

            function ji(n, t, r) {
                r && Mr(n, t, r) && (t = null);
                var e = Fr(),
                    u = null == t;
                return e === wt && u || (u = !1, t = e(t, r, 3)), u ? vt(Aa(n) ? n : te(n)) : Zt(n, t)
            }
            r = r ? et.defaults(rt.Object(), r, et.pick(rt, zn)) : rt;
            var Oi = r.Array,
                Ei = r.Date,
                Ri = r.Error,
                Ii = r.Function,
                ki = r.Math,
                Ci = r.Number,
                Si = r.Object,
                Ti = r.RegExp,
                Ui = r.String,
                Wi = r.TypeError,
                Ni = Oi.prototype,
                Fi = Si.prototype,
                $i = Ui.prototype,
                Li = (Li = r.window) && Li.document,
                Bi = Ii.prototype.toString,
                zi = Fi.hasOwnProperty,
                Di = 0,
                Pi = Fi.toString,
                qi = r._,
                Mi = Ti("^" + Hu(Pi).replace(/toString|(function).*?(?=\\\()| for .+?(?=\\\])/g, "$1.*?") + "$"),
                Ki = ju(Ki = r.ArrayBuffer) && Ki,
                Vi = ju(Vi = Ki && new Ki(0).slice) && Vi,
                Yi = ki.ceil,
                Gi = r.clearTimeout,
                Ji = ki.floor,
                Xi = ju(Xi = Si.getOwnPropertySymbols) && Xi,
                Zi = ju(Zi = Si.getPrototypeOf) && Zi,
                Hi = Ni.push,
                Qi = ju(Si.preventExtensions = Si.preventExtensions) && Qi,
                no = Fi.propertyIsEnumerable,
                to = ju(to = r.Set) && to,
                ro = r.setTimeout,
                eo = Ni.splice,
                uo = ju(uo = r.Uint8Array) && uo,
                io = ju(io = r.WeakMap) && io,
                oo = function() {
                    try {
                        var n = ju(n = r.Float64Array) && n,
                            t = new n(new Ki(10), 0, 1) && n
                    } catch (e) {}
                    return t
                }(),
                ao = function() {
                    var n = {
                            1: 0
                        },
                        t = Qi && ju(t = Si.assign) && t;
                    try {
                        t(Qi(n), "xo")
                    } catch (r) {}
                    return !n[1] && t
                }(),
                fo = ju(fo = Oi.isArray) && fo,
                co = ju(co = Si.create) && co,
                lo = r.isFinite,
                so = ju(so = Si.keys) && so,
                po = ki.max,
                ho = ki.min,
                vo = ju(vo = Ei.now) && vo,
                _o = ju(_o = Ci.isFinite) && _o,
                go = r.parseInt,
                yo = ki.random,
                mo = Ci.NEGATIVE_INFINITY,
                wo = Ci.POSITIVE_INFINITY,
                bo = ki.pow(2, 32) - 1,
                xo = bo - 1,
                Ao = bo >>> 1,
                jo = oo ? oo.BYTES_PER_ELEMENT : 0,
                Oo = ki.pow(2, 53) - 1,
                Eo = io && new io,
                Ro = {},
                Io = e.support = {};
            ! function(n) {
                var t = function() {
                        this.x = n
                    },
                    r = [];
                t.prototype = {
                    valueOf: n,
                    y: n
                };
                for (var e in new t) r.push(e);
                Io.funcDecomp = /\bthis\b/.test(function() {
                    return this
                }), Io.funcNames = "string" == typeof Ii.name;
                try {
                    Io.dom = 11 === Li.createDocumentFragment().nodeType
                } catch (u) {
                    Io.dom = !1
                }
                try {
                    Io.nonEnumArgs = !no.call(arguments, 1)
                } catch (u) {
                    Io.nonEnumArgs = !0
                }
            }(1, 0), e.templateSettings = {
                escape: bn,
                evaluate: xn,
                interpolate: An,
                variable: "",
                imports: {
                    _: e
                }
            };
            var ko = ao || function(n, t) {
                    return null == t ? n : mt(t, zo(t), mt(t, Na(t), n))
                },
                Co = function() {
                    function n() {}
                    return function(t) {
                        if (bu(t)) {
                            n.prototype = t;
                            var e = new n;
                            n.prototype = null
                        }
                        return e || r.Object()
                    }
                }(),
                So = lr(Ct),
                To = lr(St, !0),
                Uo = sr(),
                Wo = sr(!0),
                No = Eo ? function(n, t) {
                    return Eo.set(n, t), n
                } : pi;
            Vi || (ir = Ki && uo ? function(n) {
                var t = n.byteLength,
                    r = oo ? Ji(t / jo) : 0,
                    e = r * jo,
                    u = new Ki(t);
                if (r) {
                    var i = new oo(u, 0, r);
                    i.set(new oo(n, 0, r))
                }
                return t != e && (i = new uo(u, e), i.set(new uo(n, e))), u
            } : si(null));
            var Fo = co && to ? function(n) {
                    return new Hn(n)
                } : si(null),
                $o = Eo ? function(n) {
                    return Eo.get(n)
                } : yi,
                Lo = function() {
                    return Io.funcNames ? "constant" == si.name ? Pt("name") : function(n) {
                        for (var t = n.name, r = Ro[t], e = r ? r.length : 0; e--;) {
                            var u = r[e],
                                i = u.func;
                            if (null == i || i == n) return u.name
                        }
                        return t
                    } : si("")
                }(),
                Bo = Pt("length"),
                zo = Xi ? function(n) {
                    return Xi(re(n))
                } : si([]),
                Do = function() {
                    var n = 0,
                        t = 0;
                    return function(r, e) {
                        var u = la(),
                            i = L - (u - t);
                        if (t = u, i > 0) {
                            if (++n >= $) return r
                        } else n = 0;
                        return No(r, e)
                    }
                }(),
                Po = fu(function(n, t) {
                    return Aa(n) || vu(n) ? At(n, It(t, !1, !0)) : []
                }),
                qo = dr(),
                Mo = dr(!0),
                Ko = fu(function(t, r) {
                    t || (t = []), r = It(r);
                    var e = dt(t, r);
                    return Mt(t, r.sort(n)), e
                }),
                Vo = Cr(),
                Yo = Cr(!0),
                Go = fu(function(n) {
                    return Ht(It(n, !1, !0))
                }),
                Jo = fu(function(n, t) {
                    return Aa(n) || vu(n) ? At(n, t) : []
                }),
                Xo = fu(ke),
                Zo = fu(function(n, t) {
                    var r = n ? Bo(n) : 0;
                    return Yr(r) && (n = te(n)), dt(n, It(t))
                }),
                Ho = fr(function(n, t, r) {
                    zi.call(n, r) ? ++n[r] : n[r] = 1
                }),
                Qo = yr(So),
                na = yr(To, !0),
                ta = br(ut, So),
                ra = br(it, To),
                ea = fr(function(n, t, r) {
                    zi.call(n, r) ? n[r].push(t) : n[r] = [t]
                }),
                ua = fr(function(n, t, r) {
                    n[r] = t
                }),
                ia = fu(function(n, t, r) {
                    var e = -1,
                        u = "function" == typeof t,
                        i = Kr(t),
                        o = Bo(n),
                        a = Yr(o) ? Oi(o) : [];
                    return So(n, function(n) {
                        var o = u ? t : i && null != n && n[t];
                        a[++e] = o ? o.apply(n, r) : Pr(n, t, r)
                    }), a
                }),
                oa = fr(function(n, t, r) {
                    n[r ? 0 : 1].push(t)
                }, function() {
                    return [
                        [],
                        []
                    ]
                }),
                aa = Er(st, So),
                fa = Er(pt, To),
                ca = fu(function(n, t) {
                    if (null == n) return [];
                    var r = t[2];
                    return r && Mr(t[0], t[1], r) && (t.length = 1), Xt(n, It(t), [])
                }),
                la = vo || function() {
                    return (new Ei).getTime()
                },
                sa = fu(function(n, t, r) {
                    var e = E;
                    if (r.length) {
                        var u = d(r, sa.placeholder);
                        e |= S
                    }
                    return Sr(n, e, t, r, u)
                }),
                pa = fu(function(n, t) {
                    t = t.length ? It(t) : Wu(n);
                    for (var r = -1, e = t.length; ++r < e;) {
                        var u = t[r];
                        n[u] = Sr(n[u], E, n)
                    }
                    return n
                }),
                ha = fu(function(n, t, r) {
                    var e = E | R;
                    if (r.length) {
                        var u = d(r, ha.placeholder);
                        e |= S
                    }
                    return Sr(t, e, n, r, u)
                }),
                va = _r(k),
                _a = _r(C),
                ga = fu(function(n, t) {
                    return xt(n, 1, t)
                }),
                ya = fu(function(n, t, r) {
                    return xt(n, t, r)
                }),
                da = wr(),
                ma = wr(!0),
                wa = Or(S),
                ba = Or(T),
                xa = fu(function(n, t) {
                    return Sr(n, W, null, null, null, It(t))
                }),
                Aa = fo || function(n) {
                    return g(n) && Yr(n.length) && Pi.call(n) == K
                };
            Io.dom || (yu = function(n) {
                return !!n && 1 === n.nodeType && g(n) && !Ea(n)
            });
            var ja = _o || function(n) {
                    return "number" == typeof n && lo(n)
                },
                Oa = i(/x/) || uo && !i(uo) ? function(n) {
                    return Pi.call(n) == J
                } : i,
                Ea = Zi ? function(n) {
                    if (!n || Pi.call(n) != H) return !1;
                    var t = n.valueOf,
                        r = ju(t) && (r = Zi(t)) && Zi(r);
                    return r ? n == r || Zi(n) == r : Qr(n)
                } : Qr,
                Ra = cr(function(n, t, r) {
                    return r ? yt(n, t, r) : ko(n, t)
                }),
                Ia = fu(function(n) {
                    var t = n[0];
                    return null == t ? t : (n.push(_t), Ra.apply(j, n))
                }),
                ka = mr(Ct),
                Ca = mr(St),
                Sa = xr(Uo),
                Ta = xr(Wo),
                Ua = Ar(Ct),
                Wa = Ar(St),
                Na = so ? function(n) {
                    if (n) var t = n.constructor,
                        r = n.length;
                    return "function" == typeof t && t.prototype === n || "function" != typeof n && Yr(r) ? ne(n) : bu(n) ? so(n) : []
                } : ne,
                Fa = cr(zt),
                $a = fu(function(n, t) {
                    if (null == n) return {};
                    if ("function" != typeof t[0]) {
                        var t = ft(It(t), Ui);
                        return Xr(n, At(Lu(n), t))
                    }
                    var r = ur(t[0], t[1], 3);
                    return Zr(n, function(n, t, e) {
                        return !r(n, t, e)
                    })
                }),
                La = fu(function(n, t) {
                    return null == n ? {} : "function" == typeof t[0] ? Zr(n, ur(t[0], t[1], 3)) : Xr(n, It(t))
                }),
                Ba = hr(function(n, t, r) {
                    return t = t.toLowerCase(), n + (r ? t.charAt(0).toUpperCase() + t.slice(1) : t)
                }),
                za = hr(function(n, t, r) {
                    return n + (r ? "-" : "") + t.toLowerCase()
                }),
                Da = jr(),
                Pa = jr(!0);
            8 != go(Bn + "08") && (ni = function(n, t, r) {
                return (r ? Mr(n, t, r) : null == t) ? t = 0 : t && (t = +t), n = ui(n), go(n, t || (Un.test(n) ? 16 : 10))
            });
            var qa = hr(function(n, t, r) {
                    return n + (r ? "_" : "") + t.toLowerCase()
                }),
                Ma = hr(function(n, t, r) {
                    return n + (r ? " " : "") + (t.charAt(0).toUpperCase() + t.slice(1))
                }),
                Ka = fu(function(n, t) {
                    try {
                        return n.apply(j, t)
                    } catch (r) {
                        return wu(r) ? r : new Ri(r)
                    }
                }),
                Va = fu(function(n, t) {
                    return function(r) {
                        return Pr(r, n, t)
                    }
                }),
                Ya = fu(function(n, t) {
                    return function(r) {
                        return Pr(n, r, t)
                    }
                }),
                Ga = gr(ct),
                Ja = gr(lt, !0);
            return e.prototype = y.prototype, X.prototype = Co(y.prototype), X.prototype.constructor = X, nn.prototype = Co(y.prototype), nn.prototype.constructor = nn, Yn.prototype["delete"] = Gn, Yn.prototype.get = Jn, Yn.prototype.has = Xn, Yn.prototype.set = Zn, Hn.prototype.push = nt, iu.Cache = Yn, e.after = tu, e.ary = ru, e.assign = Ra, e.at = Zo, e.before = eu, e.bind = sa, e.bindAll = pa, e.bindKey = ha, e.callback = li, e.chain = Te, e.chunk = ie, e.compact = oe, e.constant = si, e.countBy = Ho, e.create = Uu, e.curry = va, e.curryRight = _a, e.debounce = uu, e.defaults = Ia, e.defer = ga, e.delay = ya, e.difference = Po, e.drop = ae, e.dropRight = fe, e.dropRightWhile = ce, e.dropWhile = le, e.fill = se, e.filter = Pe, e.flatten = he, e.flattenDeep = ve, e.flow = da, e.flowRight = ma, e.forEach = ta, e.forEachRight = ra, e.forIn = Sa, e.forInRight = Ta, e.forOwn = Ua, e.forOwnRight = Wa, e.functions = Wu, e.groupBy = ea, e.indexBy = ua, e.initial = ge, e.intersection = ye, e.invert = $u, e.invoke = ia, e.keys = Na, e.keysIn = Lu, e.map = Ke, e.mapValues = Bu, e.matches = hi, e.matchesProperty = vi, e.memoize = iu, e.merge = Fa, e.method = Va, e.methodOf = Ya, e.mixin = _i, e.negate = ou, e.omit = $a, e.once = au, e.pairs = zu, e.partial = wa, e.partialRight = ba, e.partition = oa, e.pick = La, e.pluck = Ve, e.property = di, e.propertyOf = mi, e.pull = we, e.pullAt = Ko, e.range = wi, e.rearg = xa, e.reject = Ye, e.remove = be, e.rest = xe, e.restParam = fu, e.set = Pu, e.shuffle = Je, e.slice = Ae, e.sortBy = He, e.sortByAll = ca, e.sortByOrder = Qe, e.spread = cu, e.take = je, e.takeRight = Oe, e.takeRightWhile = Ee, e.takeWhile = Re, e.tap = Ue, e.throttle = lu, e.thru = We, e.times = bi, e.toArray = Su, e.toPlainObject = Tu, e.transform = qu, e.union = Go, e.uniq = Ie, e.unzip = ke, e.values = Mu, e.valuesIn = Ku, e.where = nu, e.without = Jo, e.wrap = su, e.xor = Ce, e.zip = Xo, e.zipObject = Se, e.backflow = ma, e.collect = Ke, e.compose = ma, e.each = ta, e.eachRight = ra, e.extend = Ra, e.iteratee = li, e.methods = Wu, e.object = Se, e.select = Pe, e.tail = xe, e.unique = Ie, _i(e, e), e.add = Ai, e.attempt = Ka, e.camelCase = Ba, e.capitalize = Gu, e.clone = pu, e.cloneDeep = hu, e.deburr = Ju, e.endsWith = Xu, e.escape = Zu, e.escapeRegExp = Hu, e.every = De, e.find = Qo, e.findIndex = qo, e.findKey = ka, e.findLast = na, e.findLastIndex = Mo, e.findLastKey = Ca, e.findWhere = qe, e.first = pe, e.get = Nu, e.has = Fu, e.identity = pi, e.includes = Me, e.indexOf = _e, e.inRange = Vu, e.isArguments = vu, e.isArray = Aa, e.isBoolean = _u, e.isDate = gu, e.isElement = yu, e.isEmpty = du, e.isEqual = mu, e.isError = wu, e.isFinite = ja, e.isFunction = Oa, e.isMatch = xu, e.isNaN = Au, e.isNative = ju, e.isNull = Ou, e.isNumber = Eu, e.isObject = bu, e.isPlainObject = Ea, e.isRegExp = Ru, e.isString = Iu, e.isTypedArray = ku, e.isUndefined = Cu, e.kebabCase = za, e.last = de, e.lastIndexOf = me, e.max = Ga, e.min = Ja, e.noConflict = gi, e.noop = yi, e.now = la, e.pad = Qu, e.padLeft = Da, e.padRight = Pa, e.parseInt = ni, e.random = Yu, e.reduce = aa, e.reduceRight = fa, e.repeat = ti, e.result = Du, e.runInContext = A, e.size = Xe, e.snakeCase = qa, e.some = Ze, e.sortedIndex = Vo, e.sortedLastIndex = Yo, e.startCase = Ma, e.startsWith = ri, e.sum = ji, e.template = ei, e.trim = ui, e.trimLeft = ii, e.trimRight = oi, e.trunc = ai, e.unescape = fi, e.uniqueId = xi, e.words = ci, e.all = De, e.any = Ze, e.contains = Me, e.detect = Qo, e.foldl = aa, e.foldr = fa, e.head = pe, e.include = Me, e.inject = aa, _i(e, function() {
                var n = {};
                return Ct(e, function(t, r) {
                    e.prototype[r] || (n[r] = t)
                }), n
            }(), !1), e.sample = Ge, e.prototype.sample = function(n) {
                return this.__chain__ || null != n ? this.thru(function(t) {
                    return Ge(t, n)
                }) : Ge(this.value())
            }, e.VERSION = O, ut(["bind", "bindKey", "curry", "curryRight", "partial", "partialRight"], function(n) {
                e[n].placeholder = e
            }), ut(["dropWhile", "filter", "map", "takeWhile"], function(n, t) {
                var r = t != D,
                    e = t == B;
                nn.prototype[n] = function(n, u) {
                    var i = this.__filtered__,
                        o = i && e ? new nn(this) : this.clone(),
                        a = o.__iteratees__ || (o.__iteratees__ = []);
                    return a.push({
                        done: !1,
                        count: 0,
                        index: 0,
                        iteratee: Fr(n, u, 1),
                        limit: -1,
                        type: t
                    }), o.__filtered__ = i || r, o
                }
            }), ut(["drop", "take"], function(n, t) {
                var r = n + "While";
                nn.prototype[n] = function(r) {
                    var e = this.__filtered__,
                        u = e && !t ? this.dropWhile() : this.clone();
                    if (r = null == r ? 1 : po(Ji(r) || 0, 0), e) t ? u.__takeCount__ = ho(u.__takeCount__, r) : de(u.__iteratees__).limit = r;
                    else {
                        var i = u.__views__ || (u.__views__ = []);
                        i.push({
                            size: r,
                            type: n + (u.__dir__ < 0 ? "Right" : "")
                        })
                    }
                    return u
                }, nn.prototype[n + "Right"] = function(t) {
                    return this.reverse()[n](t).reverse()
                }, nn.prototype[n + "RightWhile"] = function(n, t) {
                    return this.reverse()[r](n, t).reverse()
                }
            }), ut(["first", "last"], function(n, t) {
                var r = "take" + (t ? "Right" : "");
                nn.prototype[n] = function() {
                    return this[r](1).value()[0]
                }
            }), ut(["initial", "rest"], function(n, t) {
                var r = "drop" + (t ? "" : "Right");
                nn.prototype[n] = function() {
                    return this[r](1)
                }
            }), ut(["pluck", "where"], function(n, t) {
                var r = t ? "filter" : "map",
                    e = t ? Lt : di;
                nn.prototype[n] = function(n) {
                    return this[r](e(n))
                }
            }), nn.prototype.compact = function() {
                return this.filter(pi)
            }, nn.prototype.reject = function(n, t) {
                return n = Fr(n, t, 1), this.filter(function(t) {
                    return !n(t)
                })
            }, nn.prototype.slice = function(n, t) {
                n = null == n ? 0 : +n || 0;
                var r = 0 > n ? this.takeRight(-n) : this.drop(n);
                return t !== j && (t = +t || 0, r = 0 > t ? r.dropRight(-t) : r.take(t - n)), r
            }, nn.prototype.toArray = function() {
                return this.drop(0)
            }, Ct(nn.prototype, function(n, t) {
                var r = e[t];
                if (r) {
                    var u = /^(?:filter|map|reject)|While$/.test(t),
                        i = /^(?:first|last)$/.test(t);
                    e.prototype[t] = function() {
                        var t = arguments,
                            o = (t.length, this.__chain__),
                            a = this.__wrapped__,
                            f = !!this.__actions__.length,
                            c = a instanceof nn,
                            l = t[0],
                            s = c || Aa(a);
                        s && u && "function" == typeof l && 1 != l.length && (c = s = !1);
                        var p = c && !f;
                        if (i && !o) return p ? n.call(a) : r.call(e, this.value());
                        var h = function(n) {
                            var u = [n];
                            return Hi.apply(u, t), r.apply(e, u)
                        };
                        if (s) {
                            var v = p ? a : new nn(this),
                                _ = n.apply(v, t);
                            if (!i && (f || _.__actions__)) {
                                var g = _.__actions__ || (_.__actions__ = []);
                                g.push({
                                    func: We,
                                    args: [h],
                                    thisArg: e
                                })
                            }
                            return new X(_, o)
                        }
                        return this.thru(h)
                    }
                }
            }), ut(["concat", "join", "pop", "push", "replace", "shift", "sort", "splice", "split", "unshift"], function(n) {
                var t = (/^(?:replace|split)$/.test(n) ? $i : Ni)[n],
                    r = /^(?:push|sort|unshift)$/.test(n) ? "tap" : "thru",
                    u = /^(?:join|pop|replace|shift)$/.test(n);
                e.prototype[n] = function() {
                    var n = arguments;
                    return u && !this.__chain__ ? t.apply(this.value(), n) : this[r](function(r) {
                        return t.apply(r, n)
                    })
                }
            }), Ct(nn.prototype, function(n, t) {
                var r = e[t];
                if (r) {
                    var u = r.name,
                        i = Ro[u] || (Ro[u] = []);
                    i.push({
                        name: t,
                        func: r
                    })
                }
            }), Ro[Rr(null, R).name] = [{
                name: "wrapper",
                func: null
            }], nn.prototype.clone = rn, nn.prototype.reverse = Kn, nn.prototype.value = Vn, e.prototype.chain = Ne, e.prototype.commit = Fe, e.prototype.plant = $e, e.prototype.reverse = Le, e.prototype.toString = Be, e.prototype.run = e.prototype.toJSON = e.prototype.valueOf = e.prototype.value = ze, e.prototype.collect = e.prototype.map, e.prototype.head = e.prototype.first, e.prototype.select = e.prototype.filter, e.prototype.tail = e.prototype.rest, e
        }
        var j, O = "3.7.0",
            E = 1,
            R = 2,
            I = 4,
            k = 8,
            C = 16,
            S = 32,
            T = 64,
            U = 128,
            W = 256,
            N = 30,
            F = "...",
            $ = 150,
            L = 16,
            B = 0,
            z = 1,
            D = 2,
            P = "Expected a function",
            q = "__lodash_placeholder__",
            M = "[object Arguments]",
            K = "[object Array]",
            V = "[object Boolean]",
            Y = "[object Date]",
            G = "[object Error]",
            J = "[object Function]",
            X = "[object Map]",
            Z = "[object Number]",
            H = "[object Object]",
            Q = "[object RegExp]",
            nn = "[object Set]",
            tn = "[object String]",
            rn = "[object WeakMap]",
            en = "[object ArrayBuffer]",
            un = "[object Float32Array]",
            on = "[object Float64Array]",
            an = "[object Int8Array]",
            fn = "[object Int16Array]",
            cn = "[object Int32Array]",
            ln = "[object Uint8Array]",
            sn = "[object Uint8ClampedArray]",
            pn = "[object Uint16Array]",
            hn = "[object Uint32Array]",
            vn = /\b__p \+= '';/g,
            _n = /\b(__p \+=) '' \+/g,
            gn = /(__e\(.*?\)|\b__t\)) \+\n'';/g,
            yn = /&(?:amp|lt|gt|quot|#39|#96);/g,
            dn = /[&<>"'`]/g,
            mn = RegExp(yn.source),
            wn = RegExp(dn.source),
            bn = /<%-([\s\S]+?)%>/g,
            xn = /<%([\s\S]+?)%>/g,
            An = /<%=([\s\S]+?)%>/g,
            jn = /\.|\[(?:[^[\]]+|(["'])(?:(?!\1)[^\n\\]|\\.)*?)\1\]/,
            On = /^\w*$/,
            En = /[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\n\\]|\\.)*?)\2)\]/g,
            Rn = /[.*+?^${}()|[\]\/\\]/g,
            In = RegExp(Rn.source),
            kn = /[\u0300-\u036f\ufe20-\ufe23]/g,
            Cn = /\\(\\)?/g,
            Sn = /\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,
            Tn = /\w*$/,
            Un = /^0[xX]/,
            Wn = /^\[object .+?Constructor\]$/,
            Nn = /[\xc0-\xd6\xd8-\xde\xdf-\xf6\xf8-\xff]/g,
            Fn = /($^)/,
            $n = /['\n\r\u2028\u2029\\]/g,
            Ln = function() {
                var n = "[A-Z\\xc0-\\xd6\\xd8-\\xde]",
                    t = "[a-z\\xdf-\\xf6\\xf8-\\xff]+";
                return RegExp(n + "+(?=" + n + t + ")|" + n + "?" + t + "|" + n + "+|[0-9]+", "g")
            }(),
            Bn = "  \f \ufeff\n\r\u2028\u2029 ᠎             　",
            zn = ["Array", "ArrayBuffer", "Date", "Error", "Float32Array", "Float64Array", "Function", "Int8Array", "Int16Array", "Int32Array", "Math", "Number", "Object", "RegExp", "Set", "String", "_", "clearTimeout", "document", "isFinite", "parseInt", "setTimeout", "TypeError", "Uint8Array", "Uint8ClampedArray", "Uint16Array", "Uint32Array", "WeakMap", "window"],
            Dn = -1,
            Pn = {};
        Pn[un] = Pn[on] = Pn[an] = Pn[fn] = Pn[cn] = Pn[ln] = Pn[sn] = Pn[pn] = Pn[hn] = !0, Pn[M] = Pn[K] = Pn[en] = Pn[V] = Pn[Y] = Pn[G] = Pn[J] = Pn[X] = Pn[Z] = Pn[H] = Pn[Q] = Pn[nn] = Pn[tn] = Pn[rn] = !1;
        var qn = {};
        qn[M] = qn[K] = qn[en] = qn[V] = qn[Y] = qn[un] = qn[on] = qn[an] = qn[fn] = qn[cn] = qn[Z] = qn[H] = qn[Q] = qn[tn] = qn[ln] = qn[sn] = qn[pn] = qn[hn] = !0, qn[G] = qn[J] = qn[X] = qn[nn] = qn[rn] = !1;
        var Mn = {
                leading: !1,
                maxWait: 0,
                trailing: !1
            },
            Kn = {
                "À": "A",
                "Á": "A",
                "Â": "A",
                "Ã": "A",
                "Ä": "A",
                "Å": "A",
                "à": "a",
                "á": "a",
                "â": "a",
                "ã": "a",
                "ä": "a",
                "å": "a",
                "Ç": "C",
                "ç": "c",
                "Ð": "D",
                "ð": "d",
                "È": "E",
                "É": "E",
                "Ê": "E",
                "Ë": "E",
                "è": "e",
                "é": "e",
                "ê": "e",
                "ë": "e",
                "Ì": "I",
                "Í": "I",
                "Î": "I",
                "Ï": "I",
                "ì": "i",
                "í": "i",
                "î": "i",
                "ï": "i",
                "Ñ": "N",
                "ñ": "n",
                "Ò": "O",
                "Ó": "O",
                "Ô": "O",
                "Õ": "O",
                "Ö": "O",
                "Ø": "O",
                "ò": "o",
                "ó": "o",
                "ô": "o",
                "õ": "o",
                "ö": "o",
                "ø": "o",
                "Ù": "U",
                "Ú": "U",
                "Û": "U",
                "Ü": "U",
                "ù": "u",
                "ú": "u",
                "û": "u",
                "ü": "u",
                "Ý": "Y",
                "ý": "y",
                "ÿ": "y",
                "Æ": "Ae",
                "æ": "ae",
                "Þ": "Th",
                "þ": "th",
                "ß": "ss"
            },
            Vn = {
                "&": "&amp;",
                "<": "&lt;",
                ">": "&gt;",
                '"': "&quot;",
                "'": "&#39;",
                "`": "&#96;"
            },
            Yn = {
                "&amp;": "&",
                "&lt;": "<",
                "&gt;": ">",
                "&quot;": '"',
                "&#39;": "'",
                "&#96;": "`"
            },
            Gn = {
                "function": !0,
                object: !0
            },
            Jn = {
                "\\": "\\",
                "'": "'",
                "\n": "n",
                "\r": "r",
                "\u2028": "u2028",
                "\u2029": "u2029"
            },
            Xn = Gn[typeof e] && e && !e.nodeType && e,
            Zn = Gn[typeof r] && r && !r.nodeType && r,
            Hn = Xn && Zn && "object" == typeof global && global && global.Object && global,
            Qn = Gn[typeof self] && self && self.Object && self,
            nt = Gn[typeof window] && window && window.Object && window,
            tt = Zn && Zn.exports === Xn && Xn,
            rt = Hn || nt !== (this && this.window) && nt || Qn || this,
            et = A();
        "function" == typeof define && "object" == typeof define.amd && define.amd ? (rt._ = et, define(function() {
            return et
        })) : Xn && Zn ? tt ? (Zn.exports = et)._ = et : Xn._ = et : rt._ = et
    }).call(this)
});

Requireify.register('js/utils/inNode.js', function(require, requireAsync, module, exports) {


    "use strict";
    var inNode = !1;
    try {
        inNode = "object" == typeof process && "[object process]" === Object.prototype.toString.call(process) || "undefined" == typeof window
    } catch (e) {}
    module.exports = inNode;


});


Requireify.register('js/common/nfNamespace.js', function(require, requireAsync, module, exports) {


    "use strict";
    var inNode = require("../utils/inNode"),
        root;
    root = inNode ? global : window;
    try {
        root.netflix || (root.netflix = {
            i18n: {},
            contextData: {}
        }), root.netflix.namespace = function(e) {
            var t, o, n = root.netflix,
                a = null,
                i = e.split(".");
            for ("netflix" === i[0] && i.shift(), o = i.length, t = 0; o > t; ++t) a = i[t].toString(), a && (n = n[a] = n[a] || {});
            return n
        }, root.name = "_nflx"
    } catch (e) {
        if (!inNode) {
            var beacon = new Image,
                page = document.getElementsByTagName("body")[0].id;
            beacon.src = "/beacons?js_exp=nflib_namespace&js_exp_err=" + e.message + "&tstamp=" + (new Date).getTime() + "&page=" + page
        }
    }
    module.exports = root.netflix;


});


Requireify.register('js/utils/contextData.js', function(require, requireAsync, module, exports) {


    "use strict";
    var _ = require("lodash"),
        nf = require("../common/nfNamespace"),
        json = nf.contextData,
        CHUNK_PROCESS_LIMIT_MS = 100,
        CHUNK_PROCESS_DELAY_MS = 10,
        ensure = require;
    module.exports = {
        getString: function(t, n) {
            return t && n && json && json.hasOwnProperty(t) && json[t].hasOwnProperty("strings") ? json[t].strings[n] : null
        },
        getUrl: function(t, n) {
            return t && n && json && json.hasOwnProperty(t) && json[t].hasOwnProperty("urls") ? json[t].urls[n] : null
        },
        get: function(t, n) {
            return t && n && json && json.hasOwnProperty(t) && json[t].hasOwnProperty("data") ? json[t].data[n] : null
        },
        getData: function(t, n) {
            return this.get(t, n)
        },
        getI18nStrings: function() {
            return nf.i18n
        },
        registerTemplate: function(t) {
            ensure(["dustjs-linkedin"], function(n) {
                if (n = n["default"], t) try {
                    n.loadSource(t)
                } catch (e) {
                    throw new Error("[contextData] registerTemplate2(): error registering dust template")
                }
            })
        },
        getTestAttributes: function(t) {
            var n = this.get("TestAttributes", t) || {};
            return {
                get: function(t) {
                    return null === n[t] ? !1 : n[t]
                }
            }
        },
        getFeature: function(t) {
            return t && json && json.hasOwnProperty(t) ? json[t] : null
        },
        getFeatureData: function(t) {
            return t && json && json.hasOwnProperty(t) ? json[t].data : null
        },
        getFeatureDataFromContext: function(t, n) {
            return n && t && t.hasOwnProperty(n) ? t[n].data ? t[n].data : t[n] : null
        },
        getContext: function() {
            return json
        },
        _isPrimitive: function(t) {
            var n = typeof t;
            return "boolean" === n || "number" === n || "string" === n
        },
        clearData: function(t, n) {
            var e = this.getData(t, n);
            e && (_.isArray(e) ? json[t].data[n] = [] : _.isPlainObject(e) && (json[t].data[n] = {}))
        },
        chunkProcess: function(t) {
            var n = t.items.concat(),
                e = t.processArgs || null,
                r = t.limitMs || CHUNK_PROCESS_LIMIT_MS,
                s = t.delayMs || CHUNK_PROCESS_DELAY_MS,
                o = t.context || this,
                a = t.callback,
                u = function() {
                    var i = +new Date;
                    if (0 > r) {
                        do t.process.call(o, n.shift(), e); while (n.length > 0)
                    } else
                        do t.process.call(o, n.shift(), e); while (n.length > 0 && +new Date - i < r);
                    n.length > 0 ? setTimeout(u, s) : a && "function" == typeof a && a()
                };
            u()
        }
    };


});


Requireify.register('js/common/clientInitFastProperties.js', function(require, requireAsync, module, exports) {


    "use strict";
    var nfProps = require("nf-iso-properties"),
        contextData = require("../utils/contextData"),
        inNode = require("../utils/inNode");
    module.exports = {
        init: function() {
            inNode || nfProps.init({
                sources: [new nfProps.plugins.MemorySource(contextData.getFeatureData("fastProps"))]
            })
        }
    };


});


Requireify.register("react", function(e, t, n, r) {
    ! function(e) {
        if ("object" == typeof r && "undefined" != typeof n) n.exports = e();
        else if ("function" == typeof define && define.amd) define([], e);
        else {
            var t;
            t = "undefined" != typeof window ? window : "undefined" != typeof global ? global : "undefined" != typeof self ? self : this, t.React = e()
        }
    }(function() {
        return function t(n, r, o) {
            function i(s, u) {
                if (!r[s]) {
                    if (!n[s]) {
                        var l = "function" == typeof e && e;
                        if (!u && l) return l(s, !0);
                        if (a) return a(s, !0);
                        var c = new Error("Cannot find module '" + s + "'");
                        throw c.code = "MODULE_NOT_FOUND", c
                    }
                    var p = r[s] = {
                        exports: {}
                    };
                    n[s][0].call(p.exports, function(e) {
                        var t = n[s][1][e];
                        return i(t ? t : e)
                    }, p, p.exports, t, n, r, o)
                }
                return r[s].exports
            }
            for (var a = "function" == typeof e && e, s = 0; s < o.length; s++) i(o[s]);
            return i
        }({
            1: [function(e, t, n) {
                "use strict";
                var r = e(25),
                    o = e(31),
                    i = e(42),
                    a = e(34),
                    s = e(67),
                    u = e(95),
                    l = e(97),
                    c = e(124),
                    p = e(119),
                    d = e(165);
                o.addons = {
                    CSSTransitionGroup: a,
                    LinkedStateMixin: r,
                    PureRenderMixin: i,
                    TransitionGroup: u,
                    batchedUpdates: l.batchedUpdates,
                    classSet: c,
                    cloneWithProps: p,
                    createFragment: s.create,
                    update: d
                }, t.exports = o
            }, {
                119: 119,
                124: 124,
                165: 165,
                25: 25,
                31: 31,
                34: 34,
                42: 42,
                67: 67,
                95: 95,
                97: 97
            }],
            2: [function(e, t, n) {
                "use strict";
                var r = e(131),
                    o = {
                        componentDidMount: function() {
                            this.props.autoFocus && r(this.getDOMNode())
                        }
                    };
                t.exports = o
            }, {
                131: 131
            }],
            3: [function(e, t, n) {
                "use strict";

                function r() {
                    var e = window.opera;
                    return "object" == typeof e && "function" == typeof e.version && parseInt(e.version(), 10) <= 12
                }

                function o(e) {
                    return (e.ctrlKey || e.altKey || e.metaKey) && !(e.ctrlKey && e.altKey)
                }

                function i(e) {
                    switch (e) {
                        case P.topCompositionStart:
                            return I.compositionStart;
                        case P.topCompositionEnd:
                            return I.compositionEnd;
                        case P.topCompositionUpdate:
                            return I.compositionUpdate
                    }
                }

                function a(e, t) {
                    return e === P.topKeyDown && t.keyCode === b
                }

                function s(e, t) {
                    switch (e) {
                        case P.topKeyUp:
                            return -1 !== E.indexOf(t.keyCode);
                        case P.topKeyDown:
                            return t.keyCode !== b;
                        case P.topKeyPress:
                        case P.topMouseDown:
                        case P.topBlur:
                            return !0;
                        default:
                            return !1
                    }
                }

                function u(e) {
                    var t = e.detail;
                    return "object" == typeof t && "data" in t ? t.data : null
                }

                function l(e, t, n, r) {
                    var o, l;
                    if (_ ? o = i(e) : w ? s(e, r) && (o = I.compositionEnd) : a(e, r) && (o = I.compositionStart), !o) return null;
                    M && (w || o !== I.compositionStart ? o === I.compositionEnd && w && (l = w.getData()) : w = v.getPooled(t));
                    var c = g.getPooled(o, n, r);
                    if (l) c.data = l;
                    else {
                        var p = u(r);
                        null !== p && (c.data = p)
                    }
                    return h.accumulateTwoPhaseDispatches(c), c
                }

                function c(e, t) {
                    switch (e) {
                        case P.topCompositionEnd:
                            return u(t);
                        case P.topKeyPress:
                            var n = t.which;
                            return n !== T ? null : (R = !0, N);
                        case P.topTextInput:
                            var r = t.data;
                            return r === N && R ? null : r;
                        default:
                            return null
                    }
                }

                function p(e, t) {
                    if (w) {
                        if (e === P.topCompositionEnd || s(e, t)) {
                            var n = w.getData();
                            return v.release(w), w = null, n
                        }
                        return null
                    }
                    switch (e) {
                        case P.topPaste:
                            return null;
                        case P.topKeyPress:
                            return t.which && !o(t) ? String.fromCharCode(t.which) : null;
                        case P.topCompositionEnd:
                            return M ? null : t.data;
                        default:
                            return null
                    }
                }

                function d(e, t, n, r) {
                    var o;
                    if (o = D ? c(e, r) : p(e, r), !o) return null;
                    var i = y.getPooled(I.beforeInput, n, r);
                    return i.data = o, h.accumulateTwoPhaseDispatches(i), i
                }
                var f = e(16),
                    h = e(21),
                    m = e(22),
                    v = e(23),
                    g = e(103),
                    y = e(107),
                    C = e(154),
                    E = [9, 13, 27, 32],
                    b = 229,
                    _ = m.canUseDOM && "CompositionEvent" in window,
                    x = null;
                m.canUseDOM && "documentMode" in document && (x = document.documentMode);
                var D = m.canUseDOM && "TextEvent" in window && !x && !r(),
                    M = m.canUseDOM && (!_ || x && x > 8 && 11 >= x),
                    T = 32,
                    N = String.fromCharCode(T),
                    P = f.topLevelTypes,
                    I = {
                        beforeInput: {
                            phasedRegistrationNames: {
                                bubbled: C({
                                    onBeforeInput: null
                                }),
                                captured: C({
                                    onBeforeInputCapture: null
                                })
                            },
                            dependencies: [P.topCompositionEnd, P.topKeyPress, P.topTextInput, P.topPaste]
                        },
                        compositionEnd: {
                            phasedRegistrationNames: {
                                bubbled: C({
                                    onCompositionEnd: null
                                }),
                                captured: C({
                                    onCompositionEndCapture: null
                                })
                            },
                            dependencies: [P.topBlur, P.topCompositionEnd, P.topKeyDown, P.topKeyPress, P.topKeyUp, P.topMouseDown]
                        },
                        compositionStart: {
                            phasedRegistrationNames: {
                                bubbled: C({
                                    onCompositionStart: null
                                }),
                                captured: C({
                                    onCompositionStartCapture: null
                                })
                            },
                            dependencies: [P.topBlur, P.topCompositionStart, P.topKeyDown, P.topKeyPress, P.topKeyUp, P.topMouseDown]
                        },
                        compositionUpdate: {
                            phasedRegistrationNames: {
                                bubbled: C({
                                    onCompositionUpdate: null
                                }),
                                captured: C({
                                    onCompositionUpdateCapture: null
                                })
                            },
                            dependencies: [P.topBlur, P.topCompositionUpdate, P.topKeyDown, P.topKeyPress, P.topKeyUp, P.topMouseDown]
                        }
                    },
                    R = !1,
                    w = null,
                    O = {
                        eventTypes: I,
                        extractEvents: function(e, t, n, r) {
                            return [l(e, t, n, r), d(e, t, n, r)]
                        }
                    };
                t.exports = O
            }, {
                103: 103,
                107: 107,
                154: 154,
                16: 16,
                21: 21,
                22: 22,
                23: 23
            }],
            4: [function(e, t, n) {
                var r = e(147),
                    o = {
                        addClass: function(e, t) {
                            return r(!/\s/.test(t)), t && (e.classList ? e.classList.add(t) : o.hasClass(e, t) || (e.className = e.className + " " + t)), e
                        },
                        removeClass: function(e, t) {
                            return r(!/\s/.test(t)), t && (e.classList ? e.classList.remove(t) : o.hasClass(e, t) && (e.className = e.className.replace(new RegExp("(^|\\s)" + t + "(?:\\s|$)", "g"), "$1").replace(/\s+/g, " ").replace(/^\s*|\s*$/g, ""))), e
                        },
                        conditionClass: function(e, t, n) {
                            return (n ? o.addClass : o.removeClass)(e, t)
                        },
                        hasClass: function(e, t) {
                            return r(!/\s/.test(t)), e.classList ? !!t && e.classList.contains(t) : (" " + e.className + " ").indexOf(" " + t + " ") > -1
                        }
                    };
                t.exports = o
            }, {
                147: 147
            }],
            5: [function(e, t, n) {
                "use strict";

                function r(e, t) {
                    return e + t.charAt(0).toUpperCase() + t.substring(1)
                }
                var o = {
                        boxFlex: !0,
                        boxFlexGroup: !0,
                        columnCount: !0,
                        flex: !0,
                        flexGrow: !0,
                        flexPositive: !0,
                        flexShrink: !0,
                        flexNegative: !0,
                        fontWeight: !0,
                        lineClamp: !0,
                        lineHeight: !0,
                        opacity: !0,
                        order: !0,
                        orphans: !0,
                        widows: !0,
                        zIndex: !0,
                        zoom: !0,
                        fillOpacity: !0,
                        strokeDashoffset: !0,
                        strokeOpacity: !0,
                        strokeWidth: !0
                    },
                    i = ["Webkit", "ms", "Moz", "O"];
                Object.keys(o).forEach(function(e) {
                    i.forEach(function(t) {
                        o[r(t, e)] = o[e]
                    })
                });
                var a = {
                        background: {
                            backgroundImage: !0,
                            backgroundPosition: !0,
                            backgroundRepeat: !0,
                            backgroundColor: !0
                        },
                        border: {
                            borderWidth: !0,
                            borderStyle: !0,
                            borderColor: !0
                        },
                        borderBottom: {
                            borderBottomWidth: !0,
                            borderBottomStyle: !0,
                            borderBottomColor: !0
                        },
                        borderLeft: {
                            borderLeftWidth: !0,
                            borderLeftStyle: !0,
                            borderLeftColor: !0
                        },
                        borderRight: {
                            borderRightWidth: !0,
                            borderRightStyle: !0,
                            borderRightColor: !0
                        },
                        borderTop: {
                            borderTopWidth: !0,
                            borderTopStyle: !0,
                            borderTopColor: !0
                        },
                        font: {
                            fontStyle: !0,
                            fontVariant: !0,
                            fontWeight: !0,
                            fontSize: !0,
                            lineHeight: !0,
                            fontFamily: !0
                        }
                    },
                    s = {
                        isUnitlessNumber: o,
                        shorthandPropertyExpansions: a
                    };
                t.exports = s
            }, {}],
            6: [function(e, t, n) {
                "use strict";
                var r = e(5),
                    o = e(22),
                    i = (e(118), e(125)),
                    a = e(145),
                    s = e(156),
                    u = (e(166), s(function(e) {
                        return a(e)
                    })),
                    l = "cssFloat";
                o.canUseDOM && void 0 === document.documentElement.style.cssFloat && (l = "styleFloat");
                var c = {
                    createMarkupForStyles: function(e) {
                        var t = "";
                        for (var n in e)
                            if (e.hasOwnProperty(n)) {
                                var r = e[n];
                                null != r && (t += u(n) + ":", t += i(n, r) + ";")
                            }
                        return t || null
                    },
                    setValueForStyles: function(e, t) {
                        var n = e.style;
                        for (var o in t)
                            if (t.hasOwnProperty(o)) {
                                var a = i(o, t[o]);
                                if ("float" === o && (o = l), a) n[o] = a;
                                else {
                                    var s = r.shorthandPropertyExpansions[o];
                                    if (s)
                                        for (var u in s) n[u] = "";
                                    else n[o] = ""
                                }
                            }
                    }
                };
                t.exports = c
            }, {
                118: 118,
                125: 125,
                145: 145,
                156: 156,
                166: 166,
                22: 22,
                5: 5
            }],
            7: [function(e, t, n) {
                "use strict";

                function r() {
                    this._callbacks = null, this._contexts = null
                }
                var o = e(30),
                    i = e(29),
                    a = e(147);
                i(r.prototype, {
                    enqueue: function(e, t) {
                        this._callbacks = this._callbacks || [], this._contexts = this._contexts || [], this._callbacks.push(e), this._contexts.push(t)
                    },
                    notifyAll: function() {
                        var e = this._callbacks,
                            t = this._contexts;
                        if (e) {
                            a(e.length === t.length), this._callbacks = null, this._contexts = null;
                            for (var n = 0, r = e.length; r > n; n++) e[n].call(t[n]);
                            e.length = 0, t.length = 0
                        }
                    },
                    reset: function() {
                        this._callbacks = null, this._contexts = null
                    },
                    destructor: function() {
                        this.reset()
                    }
                }), o.addPoolingTo(r), t.exports = r
            }, {
                147: 147,
                29: 29,
                30: 30
            }],
            8: [function(e, t, n) {
                "use strict";

                function r(e) {
                    return "SELECT" === e.nodeName || "INPUT" === e.nodeName && "file" === e.type
                }

                function o(e) {
                    var t = x.getPooled(P.change, R, e);
                    E.accumulateTwoPhaseDispatches(t), _.batchedUpdates(i, t)
                }

                function i(e) {
                    C.enqueueEvents(e), C.processEventQueue()
                }

                function a(e, t) {
                    I = e, R = t, I.attachEvent("onchange", o)
                }

                function s() {
                    I && (I.detachEvent("onchange", o), I = null, R = null)
                }

                function u(e, t, n) {
                    return e === N.topChange ? n : void 0
                }

                function l(e, t, n) {
                    e === N.topFocus ? (s(), a(t, n)) : e === N.topBlur && s()
                }

                function c(e, t) {
                    I = e, R = t, w = e.value, O = Object.getOwnPropertyDescriptor(e.constructor.prototype, "value"), Object.defineProperty(I, "value", k), I.attachEvent("onpropertychange", d)
                }

                function p() {
                    I && (delete I.value, I.detachEvent("onpropertychange", d), I = null, R = null, w = null, O = null)
                }

                function d(e) {
                    if ("value" === e.propertyName) {
                        var t = e.srcElement.value;
                        t !== w && (w = t, o(e))
                    }
                }

                function f(e, t, n) {
                    return e === N.topInput ? n : void 0
                }

                function h(e, t, n) {
                    e === N.topFocus ? (p(), c(t, n)) : e === N.topBlur && p()
                }

                function m(e, t, n) {
                    return e !== N.topSelectionChange && e !== N.topKeyUp && e !== N.topKeyDown || !I || I.value === w ? void 0 : (w = I.value, R)
                }

                function v(e) {
                    return "INPUT" === e.nodeName && ("checkbox" === e.type || "radio" === e.type)
                }

                function g(e, t, n) {
                    return e === N.topClick ? n : void 0
                }
                var y = e(16),
                    C = e(18),
                    E = e(21),
                    b = e(22),
                    _ = e(97),
                    x = e(105),
                    D = e(148),
                    M = e(150),
                    T = e(154),
                    N = y.topLevelTypes,
                    P = {
                        change: {
                            phasedRegistrationNames: {
                                bubbled: T({
                                    onChange: null
                                }),
                                captured: T({
                                    onChangeCapture: null
                                })
                            },
                            dependencies: [N.topBlur, N.topChange, N.topClick, N.topFocus, N.topInput, N.topKeyDown, N.topKeyUp, N.topSelectionChange]
                        }
                    },
                    I = null,
                    R = null,
                    w = null,
                    O = null,
                    S = !1;
                b.canUseDOM && (S = D("change") && (!("documentMode" in document) || document.documentMode > 8));
                var A = !1;
                b.canUseDOM && (A = D("input") && (!("documentMode" in document) || document.documentMode > 9));
                var k = {
                        get: function() {
                            return O.get.call(this)
                        },
                        set: function(e) {
                            w = "" + e, O.set.call(this, e)
                        }
                    },
                    L = {
                        eventTypes: P,
                        extractEvents: function(e, t, n, o) {
                            var i, a;
                            if (r(t) ? S ? i = u : a = l : M(t) ? A ? i = f : (i = m, a = h) : v(t) && (i = g), i) {
                                var s = i(e, t, n);
                                if (s) {
                                    var c = x.getPooled(P.change, s, o);
                                    return E.accumulateTwoPhaseDispatches(c), c
                                }
                            }
                            a && a(e, t, n)
                        }
                    };
                t.exports = L
            }, {
                105: 105,
                148: 148,
                150: 150,
                154: 154,
                16: 16,
                18: 18,
                21: 21,
                22: 22,
                97: 97
            }],
            9: [function(e, t, n) {
                "use strict";
                var r = 0,
                    o = {
                        createReactRootIndex: function() {
                            return r++
                        }
                    };
                t.exports = o
            }, {}],
            10: [function(e, t, n) {
                "use strict";

                function r(e, t, n) {
                    e.insertBefore(t, e.childNodes[n] || null)
                }
                var o = e(13),
                    i = e(77),
                    a = e(160),
                    s = e(147),
                    u = {
                        dangerouslyReplaceNodeWithMarkup: o.dangerouslyReplaceNodeWithMarkup,
                        updateTextContent: a,
                        processUpdates: function(e, t) {
                            for (var n, u = null, l = null, c = 0; c < e.length; c++)
                                if (n = e[c], n.type === i.MOVE_EXISTING || n.type === i.REMOVE_NODE) {
                                    var p = n.fromIndex,
                                        d = n.parentNode.childNodes[p],
                                        f = n.parentID;
                                    s(d), u = u || {}, u[f] = u[f] || [], u[f][p] = d, l = l || [], l.push(d)
                                }
                            var h = o.dangerouslyRenderMarkup(t);
                            if (l)
                                for (var m = 0; m < l.length; m++) l[m].parentNode.removeChild(l[m]);
                            for (var v = 0; v < e.length; v++) switch (n = e[v], n.type) {
                                case i.INSERT_MARKUP:
                                    r(n.parentNode, h[n.markupIndex], n.toIndex);
                                    break;
                                case i.MOVE_EXISTING:
                                    r(n.parentNode, u[n.parentID][n.fromIndex], n.toIndex);
                                    break;
                                case i.TEXT_CONTENT:
                                    a(n.parentNode, n.textContent);
                                    break;
                                case i.REMOVE_NODE:
                            }
                        }
                    };
                t.exports = u
            }, {
                13: 13,
                147: 147,
                160: 160,
                77: 77
            }],
            11: [function(e, t, n) {
                "use strict";

                function r(e, t) {
                    return (e & t) === t
                }
                var o = e(147),
                    i = {
                        MUST_USE_ATTRIBUTE: 1,
                        MUST_USE_PROPERTY: 2,
                        HAS_SIDE_EFFECTS: 4,
                        HAS_BOOLEAN_VALUE: 8,
                        HAS_NUMERIC_VALUE: 16,
                        HAS_POSITIVE_NUMERIC_VALUE: 48,
                        HAS_OVERLOADED_BOOLEAN_VALUE: 64,
                        injectDOMPropertyConfig: function(e) {
                            var t = e.Properties || {},
                                n = e.DOMAttributeNames || {},
                                a = e.DOMPropertyNames || {},
                                u = e.DOMMutationMethods || {};
                            e.isCustomAttribute && s._isCustomAttributeFunctions.push(e.isCustomAttribute);
                            for (var l in t) {
                                o(!s.isStandardName.hasOwnProperty(l)), s.isStandardName[l] = !0;
                                var c = l.toLowerCase();
                                if (s.getPossibleStandardName[c] = l, n.hasOwnProperty(l)) {
                                    var p = n[l];
                                    s.getPossibleStandardName[p] = l, s.getAttributeName[l] = p
                                } else s.getAttributeName[l] = c;
                                s.getPropertyName[l] = a.hasOwnProperty(l) ? a[l] : l, u.hasOwnProperty(l) ? s.getMutationMethod[l] = u[l] : s.getMutationMethod[l] = null;
                                var d = t[l];
                                s.mustUseAttribute[l] = r(d, i.MUST_USE_ATTRIBUTE), s.mustUseProperty[l] = r(d, i.MUST_USE_PROPERTY), s.hasSideEffects[l] = r(d, i.HAS_SIDE_EFFECTS), s.hasBooleanValue[l] = r(d, i.HAS_BOOLEAN_VALUE), s.hasNumericValue[l] = r(d, i.HAS_NUMERIC_VALUE), s.hasPositiveNumericValue[l] = r(d, i.HAS_POSITIVE_NUMERIC_VALUE), s.hasOverloadedBooleanValue[l] = r(d, i.HAS_OVERLOADED_BOOLEAN_VALUE), o(!s.mustUseAttribute[l] || !s.mustUseProperty[l]), o(s.mustUseProperty[l] || !s.hasSideEffects[l]), o(!!s.hasBooleanValue[l] + !!s.hasNumericValue[l] + !!s.hasOverloadedBooleanValue[l] <= 1)
                            }
                        }
                    },
                    a = {},
                    s = {
                        ID_ATTRIBUTE_NAME: "data-reactid",
                        isStandardName: {},
                        getPossibleStandardName: {},
                        getAttributeName: {},
                        getPropertyName: {},
                        getMutationMethod: {},
                        mustUseAttribute: {},
                        mustUseProperty: {},
                        hasSideEffects: {},
                        hasBooleanValue: {},
                        hasNumericValue: {},
                        hasPositiveNumericValue: {},
                        hasOverloadedBooleanValue: {},
                        _isCustomAttributeFunctions: [],
                        isCustomAttribute: function(e) {
                            for (var t = 0; t < s._isCustomAttributeFunctions.length; t++) {
                                var n = s._isCustomAttributeFunctions[t];
                                if (n(e)) return !0
                            }
                            return !1
                        },
                        getDefaultValueForProperty: function(e, t) {
                            var n, r = a[e];
                            return r || (a[e] = r = {}), t in r || (n = document.createElement(e), r[t] = n[t]), r[t]
                        },
                        injection: i
                    };
                t.exports = s
            }, {
                147: 147
            }],
            12: [function(e, t, n) {
                "use strict";

                function r(e, t) {
                    return null == t || o.hasBooleanValue[e] && !t || o.hasNumericValue[e] && isNaN(t) || o.hasPositiveNumericValue[e] && 1 > t || o.hasOverloadedBooleanValue[e] && t === !1
                }
                var o = e(11),
                    i = e(158),
                    a = (e(166), {
                        createMarkupForID: function(e) {
                            return o.ID_ATTRIBUTE_NAME + "=" + i(e)
                        },
                        createMarkupForProperty: function(e, t) {
                            if (o.isStandardName.hasOwnProperty(e) && o.isStandardName[e]) {
                                if (r(e, t)) return "";
                                var n = o.getAttributeName[e];
                                return o.hasBooleanValue[e] || o.hasOverloadedBooleanValue[e] && t === !0 ? n : n + "=" + i(t)
                            }
                            return o.isCustomAttribute(e) ? null == t ? "" : e + "=" + i(t) : null
                        },
                        setValueForProperty: function(e, t, n) {
                            if (o.isStandardName.hasOwnProperty(t) && o.isStandardName[t]) {
                                var i = o.getMutationMethod[t];
                                if (i) i(e, n);
                                else if (r(t, n)) this.deleteValueForProperty(e, t);
                                else if (o.mustUseAttribute[t]) e.setAttribute(o.getAttributeName[t], "" + n);
                                else {
                                    var a = o.getPropertyName[t];
                                    o.hasSideEffects[t] && "" + e[a] == "" + n || (e[a] = n)
                                }
                            } else o.isCustomAttribute(t) && (null == n ? e.removeAttribute(t) : e.setAttribute(t, "" + n))
                        },
                        deleteValueForProperty: function(e, t) {
                            if (o.isStandardName.hasOwnProperty(t) && o.isStandardName[t]) {
                                var n = o.getMutationMethod[t];
                                if (n) n(e, void 0);
                                else if (o.mustUseAttribute[t]) e.removeAttribute(o.getAttributeName[t]);
                                else {
                                    var r = o.getPropertyName[t],
                                        i = o.getDefaultValueForProperty(e.nodeName, r);
                                    o.hasSideEffects[t] && "" + e[r] === i || (e[r] = i)
                                }
                            } else o.isCustomAttribute(t) && e.removeAttribute(t)
                        }
                    });
                t.exports = a
            }, {
                11: 11,
                158: 158,
                166: 166
            }],
            13: [function(e, t, n) {
                "use strict";

                function r(e) {
                    return e.substring(1, e.indexOf(" "))
                }
                var o = e(22),
                    i = e(123),
                    a = e(126),
                    s = e(139),
                    u = e(147),
                    l = /^(<[^ \/>]+)/,
                    c = "data-danger-index",
                    p = {
                        dangerouslyRenderMarkup: function(e) {
                            u(o.canUseDOM);
                            for (var t, n = {}, p = 0; p < e.length; p++) u(e[p]), t = r(e[p]), t = s(t) ? t : "*", n[t] = n[t] || [], n[t][p] = e[p];
                            var d = [],
                                f = 0;
                            for (t in n)
                                if (n.hasOwnProperty(t)) {
                                    var h, m = n[t];
                                    for (h in m)
                                        if (m.hasOwnProperty(h)) {
                                            var v = m[h];
                                            m[h] = v.replace(l, "$1 " + c + '="' + h + '" ')
                                        }
                                    for (var g = i(m.join(""), a), y = 0; y < g.length; ++y) {
                                        var C = g[y];
                                        C.hasAttribute && C.hasAttribute(c) && (h = +C.getAttribute(c), C.removeAttribute(c), u(!d.hasOwnProperty(h)), d[h] = C, f += 1)
                                    }
                                }
                            return u(f === d.length), u(d.length === e.length), d
                        },
                        dangerouslyReplaceNodeWithMarkup: function(e, t) {
                            u(o.canUseDOM), u(t), u("html" !== e.tagName.toLowerCase());
                            var n = i(t, a)[0];
                            e.parentNode.replaceChild(n, e)
                        }
                    };
                t.exports = p
            }, {
                123: 123,
                126: 126,
                139: 139,
                147: 147,
                22: 22
            }],
            14: [function(e, t, n) {
                "use strict";
                var r = e(154),
                    o = [r({
                        ResponderEventPlugin: null
                    }), r({
                        SimpleEventPlugin: null
                    }), r({
                        TapEventPlugin: null
                    }), r({
                        EnterLeaveEventPlugin: null
                    }), r({
                        ChangeEventPlugin: null
                    }), r({
                        SelectEventPlugin: null
                    }), r({
                        BeforeInputEventPlugin: null
                    }), r({
                        AnalyticsEventPlugin: null
                    }), r({
                        MobileSafariClickEventPlugin: null
                    })];
                t.exports = o
            }, {
                154: 154
            }],
            15: [function(e, t, n) {
                "use strict";
                var r = e(16),
                    o = e(21),
                    i = e(109),
                    a = e(75),
                    s = e(154),
                    u = r.topLevelTypes,
                    l = a.getFirstReactDOM,
                    c = {
                        mouseEnter: {
                            registrationName: s({
                                onMouseEnter: null
                            }),
                            dependencies: [u.topMouseOut, u.topMouseOver]
                        },
                        mouseLeave: {
                            registrationName: s({
                                onMouseLeave: null
                            }),
                            dependencies: [u.topMouseOut, u.topMouseOver]
                        }
                    },
                    p = [null, null],
                    d = {
                        eventTypes: c,
                        extractEvents: function(e, t, n, r) {
                            if (e === u.topMouseOver && (r.relatedTarget || r.fromElement)) return null;
                            if (e !== u.topMouseOut && e !== u.topMouseOver) return null;
                            var s;
                            if (t.window === t) s = t;
                            else {
                                var d = t.ownerDocument;
                                s = d ? d.defaultView || d.parentWindow : window
                            }
                            var f, h;
                            if (e === u.topMouseOut ? (f = t, h = l(r.relatedTarget || r.toElement) || s) : (f = s, h = t), f === h) return null;
                            var m = f ? a.getID(f) : "",
                                v = h ? a.getID(h) : "",
                                g = i.getPooled(c.mouseLeave, m, r);
                            g.type = "mouseleave", g.target = f, g.relatedTarget = h;
                            var y = i.getPooled(c.mouseEnter, v, r);
                            return y.type = "mouseenter", y.target = h, y.relatedTarget = f, o.accumulateEnterLeaveDispatches(g, y, m, v), p[0] = g, p[1] = y, p
                        }
                    };
                t.exports = d
            }, {
                109: 109,
                154: 154,
                16: 16,
                21: 21,
                75: 75
            }],
            16: [function(e, t, n) {
                "use strict";
                var r = e(153),
                    o = r({
                        bubbled: null,
                        captured: null
                    }),
                    i = r({
                        topBlur: null,
                        topChange: null,
                        topClick: null,
                        topCompositionEnd: null,
                        topCompositionStart: null,
                        topCompositionUpdate: null,
                        topContextMenu: null,
                        topCopy: null,
                        topCut: null,
                        topDoubleClick: null,
                        topDrag: null,
                        topDragEnd: null,
                        topDragEnter: null,
                        topDragExit: null,
                        topDragLeave: null,
                        topDragOver: null,
                        topDragStart: null,
                        topDrop: null,
                        topError: null,
                        topFocus: null,
                        topInput: null,
                        topKeyDown: null,
                        topKeyPress: null,
                        topKeyUp: null,
                        topLoad: null,
                        topMouseDown: null,
                        topMouseMove: null,
                        topMouseOut: null,
                        topMouseOver: null,
                        topMouseUp: null,
                        topPaste: null,
                        topReset: null,
                        topScroll: null,
                        topSelectionChange: null,
                        topSubmit: null,
                        topTextInput: null,
                        topTouchCancel: null,
                        topTouchEnd: null,
                        topTouchMove: null,
                        topTouchStart: null,
                        topWheel: null
                    }),
                    a = {
                        topLevelTypes: i,
                        PropagationPhases: o
                    };
                t.exports = a
            }, {
                153: 153
            }],
            17: [function(e, t, n) {
                var r = e(126),
                    o = {
                        listen: function(e, t, n) {
                            return e.addEventListener ? (e.addEventListener(t, n, !1), {
                                remove: function() {
                                    e.removeEventListener(t, n, !1)
                                }
                            }) : e.attachEvent ? (e.attachEvent("on" + t, n), {
                                remove: function() {
                                    e.detachEvent("on" + t, n)
                                }
                            }) : void 0
                        },
                        capture: function(e, t, n) {
                            return e.addEventListener ? (e.addEventListener(t, n, !0), {
                                remove: function() {
                                    e.removeEventListener(t, n, !0)
                                }
                            }) : {
                                remove: r
                            }
                        },
                        registerDefault: function() {}
                    };
                t.exports = o
            }, {
                126: 126
            }],
            18: [function(e, t, n) {
                "use strict";
                var r = e(19),
                    o = e(20),
                    i = e(115),
                    a = e(132),
                    s = e(147),
                    u = {},
                    l = null,
                    c = function(e) {
                        if (e) {
                            var t = o.executeDispatch,
                                n = r.getPluginModuleForEvent(e);
                            n && n.executeDispatch && (t = n.executeDispatch), o.executeDispatchesInOrder(e, t), e.isPersistent() || e.constructor.release(e)
                        }
                    },
                    p = null,
                    d = {
                        injection: {
                            injectMount: o.injection.injectMount,
                            injectInstanceHandle: function(e) {
                                p = e
                            },
                            getInstanceHandle: function() {
                                return p
                            },
                            injectEventPluginOrder: r.injectEventPluginOrder,
                            injectEventPluginsByName: r.injectEventPluginsByName
                        },
                        eventNameDispatchConfigs: r.eventNameDispatchConfigs,
                        registrationNameModules: r.registrationNameModules,
                        putListener: function(e, t, n) {
                            s(!n || "function" == typeof n);
                            var r = u[t] || (u[t] = {});
                            r[e] = n
                        },
                        getListener: function(e, t) {
                            var n = u[t];
                            return n && n[e]
                        },
                        deleteListener: function(e, t) {
                            var n = u[t];
                            n && delete n[e]
                        },
                        deleteAllListeners: function(e) {
                            for (var t in u) delete u[t][e]
                        },
                        extractEvents: function(e, t, n, o) {
                            for (var a, s = r.plugins, u = 0, l = s.length; l > u; u++) {
                                var c = s[u];
                                if (c) {
                                    var p = c.extractEvents(e, t, n, o);
                                    p && (a = i(a, p))
                                }
                            }
                            return a
                        },
                        enqueueEvents: function(e) {
                            e && (l = i(l, e))
                        },
                        processEventQueue: function() {
                            var e = l;
                            l = null, a(e, c), s(!l)
                        },
                        __purge: function() {
                            u = {}
                        },
                        __getListenerBank: function() {
                            return u
                        }
                    };
                t.exports = d
            }, {
                115: 115,
                132: 132,
                147: 147,
                19: 19,
                20: 20
            }],
            19: [function(e, t, n) {
                "use strict";

                function r() {
                    if (s)
                        for (var e in u) {
                            var t = u[e],
                                n = s.indexOf(e);
                            if (a(n > -1), !l.plugins[n]) {
                                a(t.extractEvents), l.plugins[n] = t;
                                var r = t.eventTypes;
                                for (var i in r) a(o(r[i], t, i))
                            }
                        }
                }

                function o(e, t, n) {
                    a(!l.eventNameDispatchConfigs.hasOwnProperty(n)), l.eventNameDispatchConfigs[n] = e;
                    var r = e.phasedRegistrationNames;
                    if (r) {
                        for (var o in r)
                            if (r.hasOwnProperty(o)) {
                                var s = r[o];
                                i(s, t, n)
                            }
                        return !0
                    }
                    return e.registrationName ? (i(e.registrationName, t, n), !0) : !1
                }

                function i(e, t, n) {
                    a(!l.registrationNameModules[e]), l.registrationNameModules[e] = t, l.registrationNameDependencies[e] = t.eventTypes[n].dependencies
                }
                var a = e(147),
                    s = null,
                    u = {},
                    l = {
                        plugins: [],
                        eventNameDispatchConfigs: {},
                        registrationNameModules: {},
                        registrationNameDependencies: {},
                        injectEventPluginOrder: function(e) {
                            a(!s), s = Array.prototype.slice.call(e), r()
                        },
                        injectEventPluginsByName: function(e) {
                            var t = !1;
                            for (var n in e)
                                if (e.hasOwnProperty(n)) {
                                    var o = e[n];
                                    u.hasOwnProperty(n) && u[n] === o || (a(!u[n]), u[n] = o, t = !0)
                                }
                            t && r()
                        },
                        getPluginModuleForEvent: function(e) {
                            var t = e.dispatchConfig;
                            if (t.registrationName) return l.registrationNameModules[t.registrationName] || null;
                            for (var n in t.phasedRegistrationNames)
                                if (t.phasedRegistrationNames.hasOwnProperty(n)) {
                                    var r = l.registrationNameModules[t.phasedRegistrationNames[n]];
                                    if (r) return r
                                }
                            return null
                        },
                        _resetEventPlugins: function() {
                            s = null;
                            for (var e in u) u.hasOwnProperty(e) && delete u[e];
                            l.plugins.length = 0;
                            var t = l.eventNameDispatchConfigs;
                            for (var n in t) t.hasOwnProperty(n) && delete t[n];
                            var r = l.registrationNameModules;
                            for (var o in r) r.hasOwnProperty(o) && delete r[o]
                        }
                    };
                t.exports = l
            }, {
                147: 147
            }],
            20: [function(e, t, n) {
                "use strict";

                function r(e) {
                    return e === v.topMouseUp || e === v.topTouchEnd || e === v.topTouchCancel
                }

                function o(e) {
                    return e === v.topMouseMove || e === v.topTouchMove
                }

                function i(e) {
                    return e === v.topMouseDown || e === v.topTouchStart
                }

                function a(e, t) {
                    var n = e._dispatchListeners,
                        r = e._dispatchIDs;
                    if (Array.isArray(n))
                        for (var o = 0; o < n.length && !e.isPropagationStopped(); o++) t(e, n[o], r[o]);
                    else n && t(e, n, r)
                }

                function s(e, t, n) {
                    e.currentTarget = m.Mount.getNode(n);
                    var r = t(e, n);
                    return e.currentTarget = null, r
                }

                function u(e, t) {
                    a(e, t), e._dispatchListeners = null, e._dispatchIDs = null
                }

                function l(e) {
                    var t = e._dispatchListeners,
                        n = e._dispatchIDs;
                    if (Array.isArray(t)) {
                        for (var r = 0; r < t.length && !e.isPropagationStopped(); r++)
                            if (t[r](e, n[r])) return n[r]
                    } else if (t && t(e, n)) return n;
                    return null
                }

                function c(e) {
                    var t = l(e);
                    return e._dispatchIDs = null, e._dispatchListeners = null, t
                }

                function p(e) {
                    var t = e._dispatchListeners,
                        n = e._dispatchIDs;
                    h(!Array.isArray(t));
                    var r = t ? t(e, n) : null;
                    return e._dispatchListeners = null, e._dispatchIDs = null, r
                }

                function d(e) {
                    return !!e._dispatchListeners
                }
                var f = e(16),
                    h = e(147),
                    m = {
                        Mount: null,
                        injectMount: function(e) {
                            m.Mount = e
                        }
                    },
                    v = f.topLevelTypes,
                    g = {
                        isEndish: r,
                        isMoveish: o,
                        isStartish: i,
                        executeDirectDispatch: p,
                        executeDispatch: s,
                        executeDispatchesInOrder: u,
                        executeDispatchesInOrderStopAtTrue: c,
                        hasDispatches: d,
                        injection: m,
                        useTouchEvents: !1
                    };
                t.exports = g
            }, {
                147: 147,
                16: 16
            }],
            21: [function(e, t, n) {
                "use strict";

                function r(e, t, n) {
                    var r = t.dispatchConfig.phasedRegistrationNames[n];
                    return v(e, r)
                }

                function o(e, t, n) {
                    var o = t ? m.bubbled : m.captured,
                        i = r(e, n, o);
                    i && (n._dispatchListeners = f(n._dispatchListeners, i), n._dispatchIDs = f(n._dispatchIDs, e))
                }

                function i(e) {
                    e && e.dispatchConfig.phasedRegistrationNames && d.injection.getInstanceHandle().traverseTwoPhase(e.dispatchMarker, o, e)
                }

                function a(e, t, n) {
                    if (n && n.dispatchConfig.registrationName) {
                        var r = n.dispatchConfig.registrationName,
                            o = v(e, r);
                        o && (n._dispatchListeners = f(n._dispatchListeners, o), n._dispatchIDs = f(n._dispatchIDs, e))
                    }
                }

                function s(e) {
                    e && e.dispatchConfig.registrationName && a(e.dispatchMarker, null, e)
                }

                function u(e) {
                    h(e, i)
                }

                function l(e, t, n, r) {
                    d.injection.getInstanceHandle().traverseEnterLeave(n, r, a, e, t)
                }

                function c(e) {
                    h(e, s)
                }
                var p = e(16),
                    d = e(18),
                    f = e(115),
                    h = e(132),
                    m = p.PropagationPhases,
                    v = d.getListener,
                    g = {
                        accumulateTwoPhaseDispatches: u,
                        accumulateDirectDispatches: c,
                        accumulateEnterLeaveDispatches: l
                    };
                t.exports = g
            }, {
                115: 115,
                132: 132,
                16: 16,
                18: 18
            }],
            22: [function(e, t, n) {
                "use strict";
                var r = !("undefined" == typeof window || !window.document || !window.document.createElement),
                    o = {
                        canUseDOM: r,
                        canUseWorkers: "undefined" != typeof Worker,
                        canUseEventListeners: r && !(!window.addEventListener && !window.attachEvent),
                        canUseViewport: r && !!window.screen,
                        isInWorker: !r
                    };
                t.exports = o
            }, {}],
            23: [function(e, t, n) {
                "use strict";

                function r(e) {
                    this._root = e, this._startText = this.getText(), this._fallbackText = null
                }
                var o = e(30),
                    i = e(29),
                    a = e(142);
                i(r.prototype, {
                    getText: function() {
                        return "value" in this._root ? this._root.value : this._root[a()]
                    },
                    getData: function() {
                        if (this._fallbackText) return this._fallbackText;
                        var e, t, n = this._startText,
                            r = n.length,
                            o = this.getText(),
                            i = o.length;
                        for (e = 0; r > e && n[e] === o[e]; e++);
                        var a = r - e;
                        for (t = 1; a >= t && n[r - t] === o[i - t]; t++);
                        var s = t > 1 ? 1 - t : void 0;
                        return this._fallbackText = o.slice(e, s), this._fallbackText
                    }
                }), o.addPoolingTo(r), t.exports = r
            }, {
                142: 142,
                29: 29,
                30: 30
            }],
            24: [function(e, t, n) {
                "use strict";
                var r, o = e(11),
                    i = e(22),
                    a = o.injection.MUST_USE_ATTRIBUTE,
                    s = o.injection.MUST_USE_PROPERTY,
                    u = o.injection.HAS_BOOLEAN_VALUE,
                    l = o.injection.HAS_SIDE_EFFECTS,
                    c = o.injection.HAS_NUMERIC_VALUE,
                    p = o.injection.HAS_POSITIVE_NUMERIC_VALUE,
                    d = o.injection.HAS_OVERLOADED_BOOLEAN_VALUE;
                if (i.canUseDOM) {
                    var f = document.implementation;
                    r = f && f.hasFeature && f.hasFeature("http://www.w3.org/TR/SVG11/feature#BasicStructure", "1.1")
                }
                var h = {
                    isCustomAttribute: RegExp.prototype.test.bind(/^(data|aria)-[a-z_][a-z\d_.\-]*$/),
                    Properties: {
                        accept: null,
                        acceptCharset: null,
                        accessKey: null,
                        action: null,
                        allowFullScreen: a | u,
                        allowTransparency: a,
                        alt: null,
                        async: u,
                        autoComplete: null,
                        autoPlay: u,
                        cellPadding: null,
                        cellSpacing: null,
                        charSet: a,
                        checked: s | u,
                        classID: a,
                        className: r ? a : s,
                        cols: a | p,
                        colSpan: null,
                        content: null,
                        contentEditable: null,
                        contextMenu: a,
                        controls: s | u,
                        coords: null,
                        crossOrigin: null,
                        data: null,
                        dateTime: a,
                        defer: u,
                        dir: null,
                        disabled: a | u,
                        download: d,
                        draggable: null,
                        encType: null,
                        form: a,
                        formAction: a,
                        formEncType: a,
                        formMethod: a,
                        formNoValidate: u,
                        formTarget: a,
                        frameBorder: a,
                        headers: null,
                        height: a,
                        hidden: a | u,
                        high: null,
                        href: null,
                        hrefLang: null,
                        htmlFor: null,
                        httpEquiv: null,
                        icon: null,
                        id: s,
                        label: null,
                        lang: null,
                        list: a,
                        loop: s | u,
                        low: null,
                        manifest: a,
                        marginHeight: null,
                        marginWidth: null,
                        max: null,
                        maxLength: a,
                        media: a,
                        mediaGroup: null,
                        method: null,
                        min: null,
                        multiple: s | u,
                        muted: s | u,
                        name: null,
                        noValidate: u,
                        open: u,
                        optimum: null,
                        pattern: null,
                        placeholder: null,
                        poster: null,
                        preload: null,
                        radioGroup: null,
                        readOnly: s | u,
                        rel: null,
                        required: u,
                        role: a,
                        rows: a | p,
                        rowSpan: null,
                        sandbox: null,
                        scope: null,
                        scoped: u,
                        scrolling: null,
                        seamless: a | u,
                        selected: s | u,
                        shape: null,
                        size: a | p,
                        sizes: a,
                        span: p,
                        spellCheck: null,
                        src: null,
                        srcDoc: s,
                        srcSet: a,
                        start: c,
                        step: null,
                        style: null,
                        tabIndex: null,
                        target: null,
                        title: null,
                        type: null,
                        useMap: null,
                        value: s | l,
                        width: a,
                        wmode: a,
                        autoCapitalize: null,
                        autoCorrect: null,
                        itemProp: a,
                        itemScope: a | u,
                        itemType: a,
                        itemID: a,
                        itemRef: a,
                        property: null,
                        unselectable: a
                    },
                    DOMAttributeNames: {
                        acceptCharset: "accept-charset",
                        className: "class",
                        htmlFor: "for",
                        httpEquiv: "http-equiv"
                    },
                    DOMPropertyNames: {
                        autoCapitalize: "autocapitalize",
                        autoComplete: "autocomplete",
                        autoCorrect: "autocorrect",
                        autoFocus: "autofocus",
                        autoPlay: "autoplay",
                        encType: "encoding",
                        hrefLang: "hreflang",
                        radioGroup: "radiogroup",
                        spellCheck: "spellcheck",
                        srcDoc: "srcdoc",
                        srcSet: "srcset"
                    }
                };
                t.exports = h
            }, {
                11: 11,
                22: 22
            }],
            25: [function(e, t, n) {
                "use strict";
                var r = e(73),
                    o = e(92),
                    i = {
                        linkState: function(e) {
                            return new r(this.state[e], o.createStateKeySetter(this, e))
                        }
                    };
                t.exports = i
            }, {
                73: 73,
                92: 92
            }],
            26: [function(e, t, n) {
                "use strict";

                function r(e) {
                    l(null == e.props.checkedLink || null == e.props.valueLink)
                }

                function o(e) {
                    r(e), l(null == e.props.value && null == e.props.onChange)
                }

                function i(e) {
                    r(e), l(null == e.props.checked && null == e.props.onChange)
                }

                function a(e) {
                    this.props.valueLink.requestChange(e.target.value)
                }

                function s(e) {
                    this.props.checkedLink.requestChange(e.target.checked)
                }
                var u = e(84),
                    l = e(147),
                    c = {
                        button: !0,
                        checkbox: !0,
                        image: !0,
                        hidden: !0,
                        radio: !0,
                        reset: !0,
                        submit: !0
                    },
                    p = {
                        Mixin: {
                            propTypes: {
                                value: function(e, t, n) {
                                    return !e[t] || c[e.type] || e.onChange || e.readOnly || e.disabled ? null : new Error("You provided a `value` prop to a form field without an `onChange` handler. This will render a read-only field. If the field should be mutable use `defaultValue`. Otherwise, set either `onChange` or `readOnly`.")
                                },
                                checked: function(e, t, n) {
                                    return !e[t] || e.onChange || e.readOnly || e.disabled ? null : new Error("You provided a `checked` prop to a form field without an `onChange` handler. This will render a read-only field. If the field should be mutable use `defaultChecked`. Otherwise, set either `onChange` or `readOnly`.")
                                },
                                onChange: u.func
                            }
                        },
                        getValue: function(e) {
                            return e.props.valueLink ? (o(e), e.props.valueLink.value) : e.props.value
                        },
                        getChecked: function(e) {
                            return e.props.checkedLink ? (i(e), e.props.checkedLink.value) : e.props.checked
                        },
                        getOnChange: function(e) {
                            return e.props.valueLink ? (o(e), a) : e.props.checkedLink ? (i(e), s) : e.props.onChange
                        }
                    };
                t.exports = p
            }, {
                147: 147,
                84: 84
            }],
            27: [function(e, t, n) {
                "use strict";

                function r(e) {
                    e.remove()
                }
                var o = e(33),
                    i = e(115),
                    a = e(132),
                    s = e(147),
                    u = {
                        trapBubbledEvent: function(e, t) {
                            s(this.isMounted());
                            var n = this.getDOMNode();
                            s(n);
                            var r = o.trapBubbledEvent(e, t, n);
                            this._localEventListeners = i(this._localEventListeners, r)
                        },
                        componentWillUnmount: function() {
                            this._localEventListeners && a(this._localEventListeners, r)
                        }
                    };
                t.exports = u
            }, {
                115: 115,
                132: 132,
                147: 147,
                33: 33
            }],
            28: [function(e, t, n) {
                "use strict";
                var r = e(16),
                    o = e(126),
                    i = r.topLevelTypes,
                    a = {
                        eventTypes: null,
                        extractEvents: function(e, t, n, r) {
                            if (e === i.topTouchStart) {
                                var a = r.target;
                                a && !a.onclick && (a.onclick = o)
                            }
                        }
                    };
                t.exports = a
            }, {
                126: 126,
                16: 16
            }],
            29: [function(e, t, n) {
                "use strict";

                function r(e, t) {
                    if (null == e) throw new TypeError("Object.assign target cannot be null or undefined");
                    for (var n = Object(e), r = Object.prototype.hasOwnProperty, o = 1; o < arguments.length; o++) {
                        var i = arguments[o];
                        if (null != i) {
                            var a = Object(i);
                            for (var s in a) r.call(a, s) && (n[s] = a[s])
                        }
                    }
                    return n
                }
                t.exports = r
            }, {}],
            30: [function(e, t, n) {
                "use strict";
                var r = e(147),
                    o = function(e) {
                        var t = this;
                        if (t.instancePool.length) {
                            var n = t.instancePool.pop();
                            return t.call(n, e), n
                        }
                        return new t(e)
                    },
                    i = function(e, t) {
                        var n = this;
                        if (n.instancePool.length) {
                            var r = n.instancePool.pop();
                            return n.call(r, e, t), r
                        }
                        return new n(e, t)
                    },
                    a = function(e, t, n) {
                        var r = this;
                        if (r.instancePool.length) {
                            var o = r.instancePool.pop();
                            return r.call(o, e, t, n), o
                        }
                        return new r(e, t, n)
                    },
                    s = function(e, t, n, r, o) {
                        var i = this;
                        if (i.instancePool.length) {
                            var a = i.instancePool.pop();
                            return i.call(a, e, t, n, r, o), a
                        }
                        return new i(e, t, n, r, o)
                    },
                    u = function(e) {
                        var t = this;
                        r(e instanceof t), e.destructor && e.destructor(), t.instancePool.length < t.poolSize && t.instancePool.push(e)
                    },
                    l = 10,
                    c = o,
                    p = function(e, t) {
                        var n = e;
                        return n.instancePool = [], n.getPooled = t || c, n.poolSize || (n.poolSize = l), n.release = u, n
                    },
                    d = {
                        addPoolingTo: p,
                        oneArgumentPooler: o,
                        twoArgumentPooler: i,
                        threeArgumentPooler: a,
                        fiveArgumentPooler: s
                    };
                t.exports = d
            }, {
                147: 147
            }],
            31: [function(e, t, n) {
                "use strict";
                var r = e(20),
                    o = e(37),
                    i = e(39),
                    a = e(38),
                    s = e(44),
                    u = e(45),
                    l = e(61),
                    c = (e(62), e(46)),
                    p = e(57),
                    d = e(60),
                    f = e(70),
                    h = e(75),
                    m = e(80),
                    v = e(84),
                    g = e(87),
                    y = e(90),
                    C = e(29),
                    E = e(129),
                    b = e(157);
                d.inject();
                var _ = l.createElement,
                    x = l.createFactory,
                    D = l.cloneElement,
                    M = m.measure("React", "render", h.render),
                    T = {
                        Children: {
                            map: o.map,
                            forEach: o.forEach,
                            count: o.count,
                            only: b
                        },
                        Component: i,
                        DOM: c,
                        PropTypes: v,
                        initializeTouchEvents: function(e) {
                            r.useTouchEvents = e
                        },
                        createClass: a.createClass,
                        createElement: _,
                        cloneElement: D,
                        createFactory: x,
                        createMixin: function(e) {
                            return e
                        },
                        constructAndRenderComponent: h.constructAndRenderComponent,
                        constructAndRenderComponentByID: h.constructAndRenderComponentByID,
                        findDOMNode: E,
                        render: M,
                        renderToString: y.renderToString,
                        renderToStaticMarkup: y.renderToStaticMarkup,
                        unmountComponentAtNode: h.unmountComponentAtNode,
                        isValidElement: l.isValidElement,
                        withContext: s.withContext,
                        __spread: C
                    };
                "undefined" != typeof __REACT_DEVTOOLS_GLOBAL_HOOK__ && "function" == typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.inject && __REACT_DEVTOOLS_GLOBAL_HOOK__.inject({
                    CurrentOwner: u,
                    InstanceHandles: f,
                    Mount: h,
                    Reconciler: g,
                    TextComponent: p
                }), T.version = "0.13.3", t.exports = T
            }, {
                129: 129,
                157: 157,
                20: 20,
                29: 29,
                37: 37,
                38: 38,
                39: 39,
                44: 44,
                45: 45,
                46: 46,
                57: 57,
                60: 60,
                61: 61,
                62: 62,
                70: 70,
                75: 75,
                80: 80,
                84: 84,
                87: 87,
                90: 90
            }],
            32: [function(e, t, n) {
                "use strict";
                var r = e(129),
                    o = {
                        getDOMNode: function() {
                            return r(this)
                        }
                    };
                t.exports = o
            }, {
                129: 129
            }],
            33: [function(e, t, n) {
                "use strict";

                function r(e) {
                    return Object.prototype.hasOwnProperty.call(e, m) || (e[m] = f++, p[e[m]] = {}), p[e[m]]
                }
                var o = e(16),
                    i = e(18),
                    a = e(19),
                    s = e(65),
                    u = e(114),
                    l = e(29),
                    c = e(148),
                    p = {},
                    d = !1,
                    f = 0,
                    h = {
                        topBlur: "blur",
                        topChange: "change",
                        topClick: "click",
                        topCompositionEnd: "compositionend",
                        topCompositionStart: "compositionstart",
                        topCompositionUpdate: "compositionupdate",
                        topContextMenu: "contextmenu",
                        topCopy: "copy",
                        topCut: "cut",
                        topDoubleClick: "dblclick",
                        topDrag: "drag",
                        topDragEnd: "dragend",
                        topDragEnter: "dragenter",
                        topDragExit: "dragexit",
                        topDragLeave: "dragleave",
                        topDragOver: "dragover",
                        topDragStart: "dragstart",
                        topDrop: "drop",
                        topFocus: "focus",
                        topInput: "input",
                        topKeyDown: "keydown",
                        topKeyPress: "keypress",
                        topKeyUp: "keyup",
                        topMouseDown: "mousedown",
                        topMouseMove: "mousemove",
                        topMouseOut: "mouseout",
                        topMouseOver: "mouseover",
                        topMouseUp: "mouseup",
                        topPaste: "paste",
                        topScroll: "scroll",
                        topSelectionChange: "selectionchange",
                        topTextInput: "textInput",
                        topTouchCancel: "touchcancel",
                        topTouchEnd: "touchend",
                        topTouchMove: "touchmove",
                        topTouchStart: "touchstart",
                        topWheel: "wheel"
                    },
                    m = "_reactListenersID" + String(Math.random()).slice(2),
                    v = l({}, s, {
                        ReactEventListener: null,
                        injection: {
                            injectReactEventListener: function(e) {
                                e.setHandleTopLevel(v.handleTopLevel), v.ReactEventListener = e;
                            }
                        },
                        setEnabled: function(e) {
                            v.ReactEventListener && v.ReactEventListener.setEnabled(e)
                        },
                        isEnabled: function() {
                            return !(!v.ReactEventListener || !v.ReactEventListener.isEnabled())
                        },
                        listenTo: function(e, t) {
                            for (var n = t, i = r(n), s = a.registrationNameDependencies[e], u = o.topLevelTypes, l = 0, p = s.length; p > l; l++) {
                                var d = s[l];
                                i.hasOwnProperty(d) && i[d] || (d === u.topWheel ? c("wheel") ? v.ReactEventListener.trapBubbledEvent(u.topWheel, "wheel", n) : c("mousewheel") ? v.ReactEventListener.trapBubbledEvent(u.topWheel, "mousewheel", n) : v.ReactEventListener.trapBubbledEvent(u.topWheel, "DOMMouseScroll", n) : d === u.topScroll ? c("scroll", !0) ? v.ReactEventListener.trapCapturedEvent(u.topScroll, "scroll", n) : v.ReactEventListener.trapBubbledEvent(u.topScroll, "scroll", v.ReactEventListener.WINDOW_HANDLE) : d === u.topFocus || d === u.topBlur ? (c("focus", !0) ? (v.ReactEventListener.trapCapturedEvent(u.topFocus, "focus", n), v.ReactEventListener.trapCapturedEvent(u.topBlur, "blur", n)) : c("focusin") && (v.ReactEventListener.trapBubbledEvent(u.topFocus, "focusin", n), v.ReactEventListener.trapBubbledEvent(u.topBlur, "focusout", n)), i[u.topBlur] = !0, i[u.topFocus] = !0) : h.hasOwnProperty(d) && v.ReactEventListener.trapBubbledEvent(d, h[d], n), i[d] = !0)
                            }
                        },
                        trapBubbledEvent: function(e, t, n) {
                            return v.ReactEventListener.trapBubbledEvent(e, t, n)
                        },
                        trapCapturedEvent: function(e, t, n) {
                            return v.ReactEventListener.trapCapturedEvent(e, t, n)
                        },
                        ensureScrollValueMonitoring: function() {
                            if (!d) {
                                var e = u.refreshScrollValues;
                                v.ReactEventListener.monitorScrollValue(e), d = !0
                            }
                        },
                        eventNameDispatchConfigs: i.eventNameDispatchConfigs,
                        registrationNameModules: i.registrationNameModules,
                        putListener: i.putListener,
                        getListener: i.getListener,
                        deleteListener: i.deleteListener,
                        deleteAllListeners: i.deleteAllListeners
                    });
                t.exports = v
            }, {
                114: 114,
                148: 148,
                16: 16,
                18: 18,
                19: 19,
                29: 29,
                65: 65
            }],
            34: [function(e, t, n) {
                "use strict";
                var r = e(31),
                    o = e(29),
                    i = r.createFactory(e(95)),
                    a = r.createFactory(e(35)),
                    s = r.createClass({
                        displayName: "ReactCSSTransitionGroup",
                        propTypes: {
                            transitionName: r.PropTypes.string.isRequired,
                            transitionAppear: r.PropTypes.bool,
                            transitionEnter: r.PropTypes.bool,
                            transitionLeave: r.PropTypes.bool
                        },
                        getDefaultProps: function() {
                            return {
                                transitionAppear: !1,
                                transitionEnter: !0,
                                transitionLeave: !0
                            }
                        },
                        _wrapChild: function(e) {
                            return a({
                                name: this.props.transitionName,
                                appear: this.props.transitionAppear,
                                enter: this.props.transitionEnter,
                                leave: this.props.transitionLeave
                            }, e)
                        },
                        render: function() {
                            return i(o({}, this.props, {
                                childFactory: this._wrapChild
                            }))
                        }
                    });
                t.exports = s
            }, {
                29: 29,
                31: 31,
                35: 35,
                95: 95
            }],
            35: [function(e, t, n) {
                "use strict";
                var r = e(31),
                    o = e(4),
                    i = e(94),
                    a = e(157),
                    s = (e(166), 17),
                    u = r.createClass({
                        displayName: "ReactCSSTransitionGroupChild",
                        transition: function(e, t) {
                            var n = this.getDOMNode(),
                                r = this.props.name + "-" + e,
                                a = r + "-active",
                                s = function(e) {
                                    e && e.target !== n || (o.removeClass(n, r), o.removeClass(n, a), i.removeEndEventListener(n, s), t && t())
                                };
                            i.addEndEventListener(n, s), o.addClass(n, r), this.queueClass(a)
                        },
                        queueClass: function(e) {
                            this.classNameQueue.push(e), this.timeout || (this.timeout = setTimeout(this.flushClassNameQueue, s))
                        },
                        flushClassNameQueue: function() {
                            this.isMounted() && this.classNameQueue.forEach(o.addClass.bind(o, this.getDOMNode())), this.classNameQueue.length = 0, this.timeout = null
                        },
                        componentWillMount: function() {
                            this.classNameQueue = []
                        },
                        componentWillUnmount: function() {
                            this.timeout && clearTimeout(this.timeout)
                        },
                        componentWillAppear: function(e) {
                            this.props.appear ? this.transition("appear", e) : e()
                        },
                        componentWillEnter: function(e) {
                            this.props.enter ? this.transition("enter", e) : e()
                        },
                        componentWillLeave: function(e) {
                            this.props.leave ? this.transition("leave", e) : e()
                        },
                        render: function() {
                            return a(this.props.children)
                        }
                    });
                t.exports = u
            }, {
                157: 157,
                166: 166,
                31: 31,
                4: 4,
                94: 94
            }],
            36: [function(e, t, n) {
                "use strict";
                var r = e(87),
                    o = e(130),
                    i = e(146),
                    a = e(162),
                    s = {
                        instantiateChildren: function(e, t, n) {
                            var r = o(e);
                            for (var a in r)
                                if (r.hasOwnProperty(a)) {
                                    var s = r[a],
                                        u = i(s, null);
                                    r[a] = u
                                }
                            return r
                        },
                        updateChildren: function(e, t, n, s) {
                            var u = o(t);
                            if (!u && !e) return null;
                            var l;
                            for (l in u)
                                if (u.hasOwnProperty(l)) {
                                    var c = e && e[l],
                                        p = c && c._currentElement,
                                        d = u[l];
                                    if (a(p, d)) r.receiveComponent(c, d, n, s), u[l] = c;
                                    else {
                                        c && r.unmountComponent(c, l);
                                        var f = i(d, null);
                                        u[l] = f
                                    }
                                }
                            for (l in e) !e.hasOwnProperty(l) || u && u.hasOwnProperty(l) || r.unmountComponent(e[l]);
                            return u
                        },
                        unmountChildren: function(e) {
                            for (var t in e) {
                                var n = e[t];
                                r.unmountComponent(n)
                            }
                        }
                    };
                t.exports = s
            }, {
                130: 130,
                146: 146,
                162: 162,
                87: 87
            }],
            37: [function(e, t, n) {
                "use strict";

                function r(e, t) {
                    this.forEachFunction = e, this.forEachContext = t
                }

                function o(e, t, n, r) {
                    var o = e;
                    o.forEachFunction.call(o.forEachContext, t, r)
                }

                function i(e, t, n) {
                    if (null == e) return e;
                    var i = r.getPooled(t, n);
                    f(e, o, i), r.release(i)
                }

                function a(e, t, n) {
                    this.mapResult = e, this.mapFunction = t, this.mapContext = n
                }

                function s(e, t, n, r) {
                    var o = e,
                        i = o.mapResult,
                        a = !i.hasOwnProperty(n);
                    if (a) {
                        var s = o.mapFunction.call(o.mapContext, t, r);
                        i[n] = s
                    }
                }

                function u(e, t, n) {
                    if (null == e) return e;
                    var r = {},
                        o = a.getPooled(r, t, n);
                    return f(e, s, o), a.release(o), d.create(r)
                }

                function l(e, t, n, r) {
                    return null
                }

                function c(e, t) {
                    return f(e, l, null)
                }
                var p = e(30),
                    d = e(67),
                    f = e(164),
                    h = (e(166), p.twoArgumentPooler),
                    m = p.threeArgumentPooler;
                p.addPoolingTo(r, h), p.addPoolingTo(a, m);
                var v = {
                    forEach: i,
                    map: u,
                    count: c
                };
                t.exports = v
            }, {
                164: 164,
                166: 166,
                30: 30,
                67: 67
            }],
            38: [function(e, t, n) {
                "use strict";

                function r(e, t) {
                    var n = D.hasOwnProperty(t) ? D[t] : null;
                    T.hasOwnProperty(t) && y(n === _.OVERRIDE_BASE), e.hasOwnProperty(t) && y(n === _.DEFINE_MANY || n === _.DEFINE_MANY_MERGED)
                }

                function o(e, t) {
                    if (t) {
                        y("function" != typeof t), y(!d.isValidElement(t));
                        var n = e.prototype;
                        t.hasOwnProperty(b) && M.mixins(e, t.mixins);
                        for (var o in t)
                            if (t.hasOwnProperty(o) && o !== b) {
                                var i = t[o];
                                if (r(n, o), M.hasOwnProperty(o)) M[o](e, i);
                                else {
                                    var a = D.hasOwnProperty(o),
                                        l = n.hasOwnProperty(o),
                                        c = i && i.__reactDontBind,
                                        p = "function" == typeof i,
                                        f = p && !a && !l && !c;
                                    if (f) n.__reactAutoBindMap || (n.__reactAutoBindMap = {}), n.__reactAutoBindMap[o] = i, n[o] = i;
                                    else if (l) {
                                        var h = D[o];
                                        y(a && (h === _.DEFINE_MANY_MERGED || h === _.DEFINE_MANY)), h === _.DEFINE_MANY_MERGED ? n[o] = s(n[o], i) : h === _.DEFINE_MANY && (n[o] = u(n[o], i))
                                    } else n[o] = i
                                }
                            }
                    }
                }

                function i(e, t) {
                    if (t)
                        for (var n in t) {
                            var r = t[n];
                            if (t.hasOwnProperty(n)) {
                                var o = n in M;
                                y(!o);
                                var i = n in e;
                                y(!i), e[n] = r
                            }
                        }
                }

                function a(e, t) {
                    y(e && t && "object" == typeof e && "object" == typeof t);
                    for (var n in t) t.hasOwnProperty(n) && (y(void 0 === e[n]), e[n] = t[n]);
                    return e
                }

                function s(e, t) {
                    return function() {
                        var n = e.apply(this, arguments),
                            r = t.apply(this, arguments);
                        if (null == n) return r;
                        if (null == r) return n;
                        var o = {};
                        return a(o, n), a(o, r), o
                    }
                }

                function u(e, t) {
                    return function() {
                        e.apply(this, arguments), t.apply(this, arguments)
                    }
                }

                function l(e, t) {
                    var n = t.bind(e);
                    return n
                }

                function c(e) {
                    for (var t in e.__reactAutoBindMap)
                        if (e.__reactAutoBindMap.hasOwnProperty(t)) {
                            var n = e.__reactAutoBindMap[t];
                            e[t] = l(e, f.guard(n, e.constructor.displayName + "." + t))
                        }
                }
                var p = e(39),
                    d = (e(45), e(61)),
                    f = e(64),
                    h = e(71),
                    m = e(72),
                    v = (e(83), e(82), e(96)),
                    g = e(29),
                    y = e(147),
                    C = e(153),
                    E = e(154),
                    b = (e(166), E({
                        mixins: null
                    })),
                    _ = C({
                        DEFINE_ONCE: null,
                        DEFINE_MANY: null,
                        OVERRIDE_BASE: null,
                        DEFINE_MANY_MERGED: null
                    }),
                    x = [],
                    D = {
                        mixins: _.DEFINE_MANY,
                        statics: _.DEFINE_MANY,
                        propTypes: _.DEFINE_MANY,
                        contextTypes: _.DEFINE_MANY,
                        childContextTypes: _.DEFINE_MANY,
                        getDefaultProps: _.DEFINE_MANY_MERGED,
                        getInitialState: _.DEFINE_MANY_MERGED,
                        getChildContext: _.DEFINE_MANY_MERGED,
                        render: _.DEFINE_ONCE,
                        componentWillMount: _.DEFINE_MANY,
                        componentDidMount: _.DEFINE_MANY,
                        componentWillReceiveProps: _.DEFINE_MANY,
                        shouldComponentUpdate: _.DEFINE_ONCE,
                        componentWillUpdate: _.DEFINE_MANY,
                        componentDidUpdate: _.DEFINE_MANY,
                        componentWillUnmount: _.DEFINE_MANY,
                        updateComponent: _.OVERRIDE_BASE
                    },
                    M = {
                        displayName: function(e, t) {
                            e.displayName = t
                        },
                        mixins: function(e, t) {
                            if (t)
                                for (var n = 0; n < t.length; n++) o(e, t[n])
                        },
                        childContextTypes: function(e, t) {
                            e.childContextTypes = g({}, e.childContextTypes, t)
                        },
                        contextTypes: function(e, t) {
                            e.contextTypes = g({}, e.contextTypes, t)
                        },
                        getDefaultProps: function(e, t) {
                            e.getDefaultProps ? e.getDefaultProps = s(e.getDefaultProps, t) : e.getDefaultProps = t
                        },
                        propTypes: function(e, t) {
                            e.propTypes = g({}, e.propTypes, t)
                        },
                        statics: function(e, t) {
                            i(e, t)
                        }
                    },
                    T = {
                        replaceState: function(e, t) {
                            v.enqueueReplaceState(this, e), t && v.enqueueCallback(this, t)
                        },
                        isMounted: function() {
                            var e = h.get(this);
                            return e && e !== m.currentlyMountingInstance
                        },
                        setProps: function(e, t) {
                            v.enqueueSetProps(this, e), t && v.enqueueCallback(this, t)
                        },
                        replaceProps: function(e, t) {
                            v.enqueueReplaceProps(this, e), t && v.enqueueCallback(this, t)
                        }
                    },
                    N = function() {};
                g(N.prototype, p.prototype, T);
                var P = {
                    createClass: function(e) {
                        var t = function(e, t) {
                            this.__reactAutoBindMap && c(this), this.props = e, this.context = t, this.state = null;
                            var n = this.getInitialState ? this.getInitialState() : null;
                            y("object" == typeof n && !Array.isArray(n)), this.state = n
                        };
                        t.prototype = new N, t.prototype.constructor = t, x.forEach(o.bind(null, t)), o(t, e), t.getDefaultProps && (t.defaultProps = t.getDefaultProps()), y(t.prototype.render);
                        for (var n in D) t.prototype[n] || (t.prototype[n] = null);
                        return t.type = t, t
                    },
                    injection: {
                        injectMixin: function(e) {
                            x.push(e)
                        }
                    }
                };
                t.exports = P
            }, {
                147: 147,
                153: 153,
                154: 154,
                166: 166,
                29: 29,
                39: 39,
                45: 45,
                61: 61,
                64: 64,
                71: 71,
                72: 72,
                82: 82,
                83: 83,
                96: 96
            }],
            39: [function(e, t, n) {
                "use strict";

                function r(e, t) {
                    this.props = e, this.context = t
                }
                var o = e(96),
                    i = e(147);
                e(166), r.prototype.setState = function(e, t) {
                    i("object" == typeof e || "function" == typeof e || null == e), o.enqueueSetState(this, e), t && o.enqueueCallback(this, t)
                }, r.prototype.forceUpdate = function(e) {
                    o.enqueueForceUpdate(this), e && o.enqueueCallback(this, e)
                }, t.exports = r
            }, {
                147: 147,
                166: 166,
                96: 96
            }],
            40: [function(e, t, n) {
                "use strict";
                var r = e(50),
                    o = e(75),
                    i = {
                        processChildrenUpdates: r.dangerouslyProcessChildrenUpdates,
                        replaceNodeWithMarkupByID: r.dangerouslyReplaceNodeWithMarkupByID,
                        unmountIDFromEnvironment: function(e) {
                            o.purgeID(e)
                        }
                    };
                t.exports = i
            }, {
                50: 50,
                75: 75
            }],
            41: [function(e, t, n) {
                "use strict";
                var r = e(147),
                    o = !1,
                    i = {
                        unmountIDFromEnvironment: null,
                        replaceNodeWithMarkupByID: null,
                        processChildrenUpdates: null,
                        injection: {
                            injectEnvironment: function(e) {
                                r(!o), i.unmountIDFromEnvironment = e.unmountIDFromEnvironment, i.replaceNodeWithMarkupByID = e.replaceNodeWithMarkupByID, i.processChildrenUpdates = e.processChildrenUpdates, o = !0
                            }
                        }
                    };
                t.exports = i
            }, {
                147: 147
            }],
            42: [function(e, t, n) {
                "use strict";
                var r = e(161),
                    o = {
                        shouldComponentUpdate: function(e, t) {
                            return !r(this.props, e) || !r(this.state, t)
                        }
                    };
                t.exports = o
            }, {
                161: 161
            }],
            43: [function(e, t, n) {
                "use strict";

                function r(e) {
                    var t = e._currentElement._owner || null;
                    if (t) {
                        var n = t.getName();
                        if (n) return " Check the render method of `" + n + "`."
                    }
                    return ""
                }
                var o = e(41),
                    i = e(44),
                    a = e(45),
                    s = e(61),
                    u = (e(62), e(71)),
                    l = e(72),
                    c = e(78),
                    p = e(80),
                    d = e(83),
                    f = (e(82), e(87)),
                    h = e(97),
                    m = e(29),
                    v = e(127),
                    g = e(147),
                    y = e(162),
                    C = (e(166), 1),
                    E = {
                        construct: function(e) {
                            this._currentElement = e, this._rootNodeID = null, this._instance = null, this._pendingElement = null, this._pendingStateQueue = null, this._pendingReplaceState = !1, this._pendingForceUpdate = !1, this._renderedComponent = null, this._context = null, this._mountOrder = 0, this._isTopLevel = !1, this._pendingCallbacks = null
                        },
                        mountComponent: function(e, t, n) {
                            this._context = n, this._mountOrder = C++, this._rootNodeID = e;
                            var r = this._processProps(this._currentElement.props),
                                o = this._processContext(this._currentElement._context),
                                i = c.getComponentClassForElement(this._currentElement),
                                a = new i(r, o);
                            a.props = r, a.context = o, a.refs = v, this._instance = a, u.set(a, this);
                            var s = a.state;
                            void 0 === s && (a.state = s = null), g("object" == typeof s && !Array.isArray(s)), this._pendingStateQueue = null, this._pendingReplaceState = !1, this._pendingForceUpdate = !1;
                            var p, d, h = l.currentlyMountingInstance;
                            l.currentlyMountingInstance = this;
                            try {
                                a.componentWillMount && (a.componentWillMount(), this._pendingStateQueue && (a.state = this._processPendingState(a.props, a.context))), p = this._getValidatedChildContext(n), d = this._renderValidatedComponent(p)
                            } finally {
                                l.currentlyMountingInstance = h
                            }
                            this._renderedComponent = this._instantiateReactComponent(d, this._currentElement.type);
                            var m = f.mountComponent(this._renderedComponent, e, t, this._mergeChildContext(n, p));
                            return a.componentDidMount && t.getReactMountReady().enqueue(a.componentDidMount, a), m
                        },
                        unmountComponent: function() {
                            var e = this._instance;
                            if (e.componentWillUnmount) {
                                var t = l.currentlyUnmountingInstance;
                                l.currentlyUnmountingInstance = this;
                                try {
                                    e.componentWillUnmount()
                                } finally {
                                    l.currentlyUnmountingInstance = t
                                }
                            }
                            f.unmountComponent(this._renderedComponent), this._renderedComponent = null, this._pendingStateQueue = null, this._pendingReplaceState = !1, this._pendingForceUpdate = !1, this._pendingCallbacks = null, this._pendingElement = null, this._context = null, this._rootNodeID = null, u.remove(e)
                        },
                        _setPropsInternal: function(e, t) {
                            var n = this._pendingElement || this._currentElement;
                            this._pendingElement = s.cloneAndReplaceProps(n, m({}, n.props, e)), h.enqueueUpdate(this, t)
                        },
                        _maskContext: function(e) {
                            var t = null;
                            if ("string" == typeof this._currentElement.type) return v;
                            var n = this._currentElement.type.contextTypes;
                            if (!n) return v;
                            t = {};
                            for (var r in n) t[r] = e[r];
                            return t
                        },
                        _processContext: function(e) {
                            var t = this._maskContext(e);
                            return t
                        },
                        _getValidatedChildContext: function(e) {
                            var t = this._instance,
                                n = t.getChildContext && t.getChildContext();
                            if (n) {
                                g("object" == typeof t.constructor.childContextTypes);
                                for (var r in n) g(r in t.constructor.childContextTypes);
                                return n
                            }
                            return null
                        },
                        _mergeChildContext: function(e, t) {
                            return t ? m({}, e, t) : e
                        },
                        _processProps: function(e) {
                            return e
                        },
                        _checkPropTypes: function(e, t, n) {
                            var o = this.getName();
                            for (var i in e)
                                if (e.hasOwnProperty(i)) {
                                    var a;
                                    try {
                                        g("function" == typeof e[i]), a = e[i](t, i, o, n)
                                    } catch (s) {
                                        a = s
                                    }
                                    a instanceof Error && (r(this), n === d.prop)
                                }
                        },
                        receiveComponent: function(e, t, n) {
                            var r = this._currentElement,
                                o = this._context;
                            this._pendingElement = null, this.updateComponent(t, r, e, o, n)
                        },
                        performUpdateIfNecessary: function(e) {
                            null != this._pendingElement && f.receiveComponent(this, this._pendingElement || this._currentElement, e, this._context), (null !== this._pendingStateQueue || this._pendingForceUpdate) && this.updateComponent(e, this._currentElement, this._currentElement, this._context, this._context)
                        },
                        _warnIfContextsDiffer: function(e, t) {
                            e = this._maskContext(e), t = this._maskContext(t);
                            for (var n = Object.keys(t).sort(), r = (this.getName() || "ReactCompositeComponent", 0); r < n.length; r++) n[r]
                        },
                        updateComponent: function(e, t, n, r, o) {
                            var i = this._instance,
                                a = i.context,
                                s = i.props;
                            t !== n && (a = this._processContext(n._context), s = this._processProps(n.props), i.componentWillReceiveProps && i.componentWillReceiveProps(s, a));
                            var u = this._processPendingState(s, a),
                                l = this._pendingForceUpdate || !i.shouldComponentUpdate || i.shouldComponentUpdate(s, u, a);
                            l ? (this._pendingForceUpdate = !1, this._performComponentUpdate(n, s, u, a, e, o)) : (this._currentElement = n, this._context = o, i.props = s, i.state = u, i.context = a)
                        },
                        _processPendingState: function(e, t) {
                            var n = this._instance,
                                r = this._pendingStateQueue,
                                o = this._pendingReplaceState;
                            if (this._pendingReplaceState = !1, this._pendingStateQueue = null, !r) return n.state;
                            if (o && 1 === r.length) return r[0];
                            for (var i = m({}, o ? r[0] : n.state), a = o ? 1 : 0; a < r.length; a++) {
                                var s = r[a];
                                m(i, "function" == typeof s ? s.call(n, i, e, t) : s)
                            }
                            return i
                        },
                        _performComponentUpdate: function(e, t, n, r, o, i) {
                            var a = this._instance,
                                s = a.props,
                                u = a.state,
                                l = a.context;
                            a.componentWillUpdate && a.componentWillUpdate(t, n, r), this._currentElement = e, this._context = i, a.props = t, a.state = n, a.context = r, this._updateRenderedComponent(o, i), a.componentDidUpdate && o.getReactMountReady().enqueue(a.componentDidUpdate.bind(a, s, u, l), a)
                        },
                        _updateRenderedComponent: function(e, t) {
                            var n = this._renderedComponent,
                                r = n._currentElement,
                                o = this._getValidatedChildContext(),
                                i = this._renderValidatedComponent(o);
                            if (y(r, i)) f.receiveComponent(n, i, e, this._mergeChildContext(t, o));
                            else {
                                var a = this._rootNodeID,
                                    s = n._rootNodeID;
                                f.unmountComponent(n), this._renderedComponent = this._instantiateReactComponent(i, this._currentElement.type);
                                var u = f.mountComponent(this._renderedComponent, a, e, this._mergeChildContext(t, o));
                                this._replaceNodeWithMarkupByID(s, u)
                            }
                        },
                        _replaceNodeWithMarkupByID: function(e, t) {
                            o.replaceNodeWithMarkupByID(e, t)
                        },
                        _renderValidatedComponentWithoutOwnerOrContext: function() {
                            var e = this._instance,
                                t = e.render();
                            return t
                        },
                        _renderValidatedComponent: function(e) {
                            var t, n = i.current;
                            i.current = this._mergeChildContext(this._currentElement._context, e), a.current = this;
                            try {
                                t = this._renderValidatedComponentWithoutOwnerOrContext()
                            } finally {
                                i.current = n, a.current = null
                            }
                            return g(null === t || t === !1 || s.isValidElement(t)), t
                        },
                        attachRef: function(e, t) {
                            var n = this.getPublicInstance(),
                                r = n.refs === v ? n.refs = {} : n.refs;
                            r[e] = t.getPublicInstance()
                        },
                        detachRef: function(e) {
                            var t = this.getPublicInstance().refs;
                            delete t[e]
                        },
                        getName: function() {
                            var e = this._currentElement.type,
                                t = this._instance && this._instance.constructor;
                            return e.displayName || t && t.displayName || e.name || t && t.name || null
                        },
                        getPublicInstance: function() {
                            return this._instance
                        },
                        _instantiateReactComponent: null
                    };
                p.measureMethods(E, "ReactCompositeComponent", {
                    mountComponent: "mountComponent",
                    updateComponent: "updateComponent",
                    _renderValidatedComponent: "_renderValidatedComponent"
                });
                var b = {
                    Mixin: E
                };
                t.exports = b
            }, {
                127: 127,
                147: 147,
                162: 162,
                166: 166,
                29: 29,
                41: 41,
                44: 44,
                45: 45,
                61: 61,
                62: 62,
                71: 71,
                72: 72,
                78: 78,
                80: 80,
                82: 82,
                83: 83,
                87: 87,
                97: 97
            }],
            44: [function(e, t, n) {
                "use strict";
                var r = e(29),
                    o = e(127),
                    i = (e(166), {
                        current: o,
                        withContext: function(e, t) {
                            var n, o = i.current;
                            i.current = r({}, o, e);
                            try {
                                n = t()
                            } finally {
                                i.current = o
                            }
                            return n
                        }
                    });
                t.exports = i
            }, {
                127: 127,
                166: 166,
                29: 29
            }],
            45: [function(e, t, n) {
                "use strict";
                var r = {
                    current: null
                };
                t.exports = r
            }, {}],
            46: [function(e, t, n) {
                "use strict";

                function r(e) {
                    return o.createFactory(e)
                }
                var o = e(61),
                    i = (e(62), e(155)),
                    a = i({
                        a: "a",
                        abbr: "abbr",
                        address: "address",
                        area: "area",
                        article: "article",
                        aside: "aside",
                        audio: "audio",
                        b: "b",
                        base: "base",
                        bdi: "bdi",
                        bdo: "bdo",
                        big: "big",
                        blockquote: "blockquote",
                        body: "body",
                        br: "br",
                        button: "button",
                        canvas: "canvas",
                        caption: "caption",
                        cite: "cite",
                        code: "code",
                        col: "col",
                        colgroup: "colgroup",
                        data: "data",
                        datalist: "datalist",
                        dd: "dd",
                        del: "del",
                        details: "details",
                        dfn: "dfn",
                        dialog: "dialog",
                        div: "div",
                        dl: "dl",
                        dt: "dt",
                        em: "em",
                        embed: "embed",
                        fieldset: "fieldset",
                        figcaption: "figcaption",
                        figure: "figure",
                        footer: "footer",
                        form: "form",
                        h1: "h1",
                        h2: "h2",
                        h3: "h3",
                        h4: "h4",
                        h5: "h5",
                        h6: "h6",
                        head: "head",
                        header: "header",
                        hr: "hr",
                        html: "html",
                        i: "i",
                        iframe: "iframe",
                        img: "img",
                        input: "input",
                        ins: "ins",
                        kbd: "kbd",
                        keygen: "keygen",
                        label: "label",
                        legend: "legend",
                        li: "li",
                        link: "link",
                        main: "main",
                        map: "map",
                        mark: "mark",
                        menu: "menu",
                        menuitem: "menuitem",
                        meta: "meta",
                        meter: "meter",
                        nav: "nav",
                        noscript: "noscript",
                        object: "object",
                        ol: "ol",
                        optgroup: "optgroup",
                        option: "option",
                        output: "output",
                        p: "p",
                        param: "param",
                        picture: "picture",
                        pre: "pre",
                        progress: "progress",
                        q: "q",
                        rp: "rp",
                        rt: "rt",
                        ruby: "ruby",
                        s: "s",
                        samp: "samp",
                        script: "script",
                        section: "section",
                        select: "select",
                        small: "small",
                        source: "source",
                        span: "span",
                        strong: "strong",
                        style: "style",
                        sub: "sub",
                        summary: "summary",
                        sup: "sup",
                        table: "table",
                        tbody: "tbody",
                        td: "td",
                        textarea: "textarea",
                        tfoot: "tfoot",
                        th: "th",
                        thead: "thead",
                        time: "time",
                        title: "title",
                        tr: "tr",
                        track: "track",
                        u: "u",
                        ul: "ul",
                        "var": "var",
                        video: "video",
                        wbr: "wbr",
                        circle: "circle",
                        clipPath: "clipPath",
                        defs: "defs",
                        ellipse: "ellipse",
                        g: "g",
                        line: "line",
                        linearGradient: "linearGradient",
                        mask: "mask",
                        path: "path",
                        pattern: "pattern",
                        polygon: "polygon",
                        polyline: "polyline",
                        radialGradient: "radialGradient",
                        rect: "rect",
                        stop: "stop",
                        svg: "svg",
                        text: "text",
                        tspan: "tspan"
                    }, r);
                t.exports = a
            }, {
                155: 155,
                61: 61,
                62: 62
            }],
            47: [function(e, t, n) {
                "use strict";
                var r = e(2),
                    o = e(32),
                    i = e(38),
                    a = e(61),
                    s = e(153),
                    u = a.createFactory("button"),
                    l = s({
                        onClick: !0,
                        onDoubleClick: !0,
                        onMouseDown: !0,
                        onMouseMove: !0,
                        onMouseUp: !0,
                        onClickCapture: !0,
                        onDoubleClickCapture: !0,
                        onMouseDownCapture: !0,
                        onMouseMoveCapture: !0,
                        onMouseUpCapture: !0
                    }),
                    c = i.createClass({
                        displayName: "ReactDOMButton",
                        tagName: "BUTTON",
                        mixins: [r, o],
                        render: function() {
                            var e = {};
                            for (var t in this.props) !this.props.hasOwnProperty(t) || this.props.disabled && l[t] || (e[t] = this.props[t]);
                            return u(e, this.props.children)
                        }
                    });
                t.exports = c
            }, {
                153: 153,
                2: 2,
                32: 32,
                38: 38,
                61: 61
            }],
            48: [function(e, t, n) {
                "use strict";

                function r(e) {
                    e && (null != e.dangerouslySetInnerHTML && (g(null == e.children), g("object" == typeof e.dangerouslySetInnerHTML && "__html" in e.dangerouslySetInnerHTML)), g(null == e.style || "object" == typeof e.style))
                }

                function o(e, t, n, r) {
                    var o = d.findReactContainerForID(e);
                    if (o) {
                        var i = o.nodeType === D ? o.ownerDocument : o;
                        E(t, i)
                    }
                    r.getPutListenerQueue().enqueuePutListener(e, t, n)
                }

                function i(e) {
                    I.call(P, e) || (g(N.test(e)), P[e] = !0)
                }

                function a(e) {
                    i(e), this._tag = e, this._renderedChildren = null, this._previousStyleCopy = null, this._rootNodeID = null
                }
                var s = e(6),
                    u = e(11),
                    l = e(12),
                    c = e(33),
                    p = e(40),
                    d = e(75),
                    f = e(76),
                    h = e(80),
                    m = e(29),
                    v = e(128),
                    g = e(147),
                    y = (e(148), e(154)),
                    C = (e(166), c.deleteListener),
                    E = c.listenTo,
                    b = c.registrationNameModules,
                    _ = {
                        string: !0,
                        number: !0
                    },
                    x = y({
                        style: null
                    }),
                    D = 1,
                    M = null,
                    T = {
                        area: !0,
                        base: !0,
                        br: !0,
                        col: !0,
                        embed: !0,
                        hr: !0,
                        img: !0,
                        input: !0,
                        keygen: !0,
                        link: !0,
                        meta: !0,
                        param: !0,
                        source: !0,
                        track: !0,
                        wbr: !0
                    },
                    N = /^[a-zA-Z][a-zA-Z:_\.\-\d]*$/,
                    P = {},
                    I = {}.hasOwnProperty;
                a.displayName = "ReactDOMComponent", a.Mixin = {
                    construct: function(e) {
                        this._currentElement = e
                    },
                    mountComponent: function(e, t, n) {
                        this._rootNodeID = e, r(this._currentElement.props);
                        var o = T[this._tag] ? "" : "</" + this._tag + ">";
                        return this._createOpenTagMarkupAndPutListeners(t) + this._createContentMarkup(t, n) + o
                    },
                    _createOpenTagMarkupAndPutListeners: function(e) {
                        var t = this._currentElement.props,
                            n = "<" + this._tag;
                        for (var r in t)
                            if (t.hasOwnProperty(r)) {
                                var i = t[r];
                                if (null != i)
                                    if (b.hasOwnProperty(r)) o(this._rootNodeID, r, i, e);
                                    else {
                                        r === x && (i && (i = this._previousStyleCopy = m({}, t.style)), i = s.createMarkupForStyles(i));
                                        var a = l.createMarkupForProperty(r, i);
                                        a && (n += " " + a)
                                    }
                            }
                        if (e.renderToStaticMarkup) return n + ">";
                        var u = l.createMarkupForID(this._rootNodeID);
                        return n + " " + u + ">"
                    },
                    _createContentMarkup: function(e, t) {
                        var n = "";
                        ("listing" === this._tag || "pre" === this._tag || "textarea" === this._tag) && (n = "\n");
                        var r = this._currentElement.props,
                            o = r.dangerouslySetInnerHTML;
                        if (null != o) {
                            if (null != o.__html) return n + o.__html
                        } else {
                            var i = _[typeof r.children] ? r.children : null,
                                a = null != i ? null : r.children;
                            if (null != i) return n + v(i);
                            if (null != a) {
                                var s = this.mountChildren(a, e, t);
                                return n + s.join("")
                            }
                        }
                        return n
                    },
                    receiveComponent: function(e, t, n) {
                        var r = this._currentElement;
                        this._currentElement = e, this.updateComponent(t, r, e, n)
                    },
                    updateComponent: function(e, t, n, o) {
                        r(this._currentElement.props), this._updateDOMProperties(t.props, e), this._updateDOMChildren(t.props, e, o)
                    },
                    _updateDOMProperties: function(e, t) {
                        var n, r, i, a = this._currentElement.props;
                        for (n in e)
                            if (!a.hasOwnProperty(n) && e.hasOwnProperty(n))
                                if (n === x) {
                                    var s = this._previousStyleCopy;
                                    for (r in s) s.hasOwnProperty(r) && (i = i || {}, i[r] = "");
                                    this._previousStyleCopy = null
                                } else b.hasOwnProperty(n) ? C(this._rootNodeID, n) : (u.isStandardName[n] || u.isCustomAttribute(n)) && M.deletePropertyByID(this._rootNodeID, n);
                        for (n in a) {
                            var l = a[n],
                                c = n === x ? this._previousStyleCopy : e[n];
                            if (a.hasOwnProperty(n) && l !== c)
                                if (n === x)
                                    if (l ? l = this._previousStyleCopy = m({}, l) : this._previousStyleCopy = null, c) {
                                        for (r in c) !c.hasOwnProperty(r) || l && l.hasOwnProperty(r) || (i = i || {}, i[r] = "");
                                        for (r in l) l.hasOwnProperty(r) && c[r] !== l[r] && (i = i || {}, i[r] = l[r])
                                    } else i = l;
                            else b.hasOwnProperty(n) ? o(this._rootNodeID, n, l, t) : (u.isStandardName[n] || u.isCustomAttribute(n)) && M.updatePropertyByID(this._rootNodeID, n, l)
                        }
                        i && M.updateStylesByID(this._rootNodeID, i)
                    },
                    _updateDOMChildren: function(e, t, n) {
                        var r = this._currentElement.props,
                            o = _[typeof e.children] ? e.children : null,
                            i = _[typeof r.children] ? r.children : null,
                            a = e.dangerouslySetInnerHTML && e.dangerouslySetInnerHTML.__html,
                            s = r.dangerouslySetInnerHTML && r.dangerouslySetInnerHTML.__html,
                            u = null != o ? null : e.children,
                            l = null != i ? null : r.children,
                            c = null != o || null != a,
                            p = null != i || null != s;
                        null != u && null == l ? this.updateChildren(null, t, n) : c && !p && this.updateTextContent(""), null != i ? o !== i && this.updateTextContent("" + i) : null != s ? a !== s && M.updateInnerHTMLByID(this._rootNodeID, s) : null != l && this.updateChildren(l, t, n)
                    },
                    unmountComponent: function() {
                        this.unmountChildren(), c.deleteAllListeners(this._rootNodeID), p.unmountIDFromEnvironment(this._rootNodeID), this._rootNodeID = null
                    }
                }, h.measureMethods(a, "ReactDOMComponent", {
                    mountComponent: "mountComponent",
                    updateComponent: "updateComponent"
                }), m(a.prototype, a.Mixin, f.Mixin), a.injection = {
                    injectIDOperations: function(e) {
                        a.BackendIDOperations = M = e
                    }
                }, t.exports = a
            }, {
                11: 11,
                12: 12,
                128: 128,
                147: 147,
                148: 148,
                154: 154,
                166: 166,
                29: 29,
                33: 33,
                40: 40,
                6: 6,
                75: 75,
                76: 76,
                80: 80
            }],
            49: [function(e, t, n) {
                "use strict";
                var r = e(16),
                    o = e(27),
                    i = e(32),
                    a = e(38),
                    s = e(61),
                    u = s.createFactory("form"),
                    l = a.createClass({
                        displayName: "ReactDOMForm",
                        tagName: "FORM",
                        mixins: [i, o],
                        render: function() {
                            return u(this.props)
                        },
                        componentDidMount: function() {
                            this.trapBubbledEvent(r.topLevelTypes.topReset, "reset"), this.trapBubbledEvent(r.topLevelTypes.topSubmit, "submit")
                        }
                    });
                t.exports = l
            }, {
                16: 16,
                27: 27,
                32: 32,
                38: 38,
                61: 61
            }],
            50: [function(e, t, n) {
                "use strict";
                var r = e(6),
                    o = e(10),
                    i = e(12),
                    a = e(75),
                    s = e(80),
                    u = e(147),
                    l = e(159),
                    c = {
                        dangerouslySetInnerHTML: "`dangerouslySetInnerHTML` must be set using `updateInnerHTMLByID()`.",
                        style: "`style` must be set using `updateStylesByID()`."
                    },
                    p = {
                        updatePropertyByID: function(e, t, n) {
                            var r = a.getNode(e);
                            u(!c.hasOwnProperty(t)), null != n ? i.setValueForProperty(r, t, n) : i.deleteValueForProperty(r, t)
                        },
                        deletePropertyByID: function(e, t, n) {
                            var r = a.getNode(e);
                            u(!c.hasOwnProperty(t)), i.deleteValueForProperty(r, t, n)
                        },
                        updateStylesByID: function(e, t) {
                            var n = a.getNode(e);
                            r.setValueForStyles(n, t)
                        },
                        updateInnerHTMLByID: function(e, t) {
                            var n = a.getNode(e);
                            l(n, t)
                        },
                        updateTextContentByID: function(e, t) {
                            var n = a.getNode(e);
                            o.updateTextContent(n, t)
                        },
                        dangerouslyReplaceNodeWithMarkupByID: function(e, t) {
                            var n = a.getNode(e);
                            o.dangerouslyReplaceNodeWithMarkup(n, t)
                        },
                        dangerouslyProcessChildrenUpdates: function(e, t) {
                            for (var n = 0; n < e.length; n++) e[n].parentNode = a.getNode(e[n].parentID);
                            o.processUpdates(e, t)
                        }
                    };
                s.measureMethods(p, "ReactDOMIDOperations", {
                    updatePropertyByID: "updatePropertyByID",
                    deletePropertyByID: "deletePropertyByID",
                    updateStylesByID: "updateStylesByID",
                    updateInnerHTMLByID: "updateInnerHTMLByID",
                    updateTextContentByID: "updateTextContentByID",
                    dangerouslyReplaceNodeWithMarkupByID: "dangerouslyReplaceNodeWithMarkupByID",
                    dangerouslyProcessChildrenUpdates: "dangerouslyProcessChildrenUpdates"
                }), t.exports = p
            }, {
                10: 10,
                12: 12,
                147: 147,
                159: 159,
                6: 6,
                75: 75,
                80: 80
            }],
            51: [function(e, t, n) {
                "use strict";
                var r = e(16),
                    o = e(27),
                    i = e(32),
                    a = e(38),
                    s = e(61),
                    u = s.createFactory("iframe"),
                    l = a.createClass({
                        displayName: "ReactDOMIframe",
                        tagName: "IFRAME",
                        mixins: [i, o],
                        render: function() {
                            return u(this.props)
                        },
                        componentDidMount: function() {
                            this.trapBubbledEvent(r.topLevelTypes.topLoad, "load")
                        }
                    });
                t.exports = l
            }, {
                16: 16,
                27: 27,
                32: 32,
                38: 38,
                61: 61
            }],
            52: [function(e, t, n) {
                "use strict";
                var r = e(16),
                    o = e(27),
                    i = e(32),
                    a = e(38),
                    s = e(61),
                    u = s.createFactory("img"),
                    l = a.createClass({
                        displayName: "ReactDOMImg",
                        tagName: "IMG",
                        mixins: [i, o],
                        render: function() {
                            return u(this.props)
                        },
                        componentDidMount: function() {
                            this.trapBubbledEvent(r.topLevelTypes.topLoad, "load"), this.trapBubbledEvent(r.topLevelTypes.topError, "error")
                        }
                    });
                t.exports = l
            }, {
                16: 16,
                27: 27,
                32: 32,
                38: 38,
                61: 61
            }],
            53: [function(e, t, n) {
                "use strict";

                function r() {
                    this.isMounted() && this.forceUpdate()
                }
                var o = e(2),
                    i = e(12),
                    a = e(26),
                    s = e(32),
                    u = e(38),
                    l = e(61),
                    c = e(75),
                    p = e(97),
                    d = e(29),
                    f = e(147),
                    h = l.createFactory("input"),
                    m = {},
                    v = u.createClass({
                        displayName: "ReactDOMInput",
                        tagName: "INPUT",
                        mixins: [o, a.Mixin, s],
                        getInitialState: function() {
                            var e = this.props.defaultValue;
                            return {
                                initialChecked: this.props.defaultChecked || !1,
                                initialValue: null != e ? e : null
                            }
                        },
                        render: function() {
                            var e = d({}, this.props);
                            e.defaultChecked = null, e.defaultValue = null;
                            var t = a.getValue(this);
                            e.value = null != t ? t : this.state.initialValue;
                            var n = a.getChecked(this);
                            return e.checked = null != n ? n : this.state.initialChecked, e.onChange = this._handleChange, h(e, this.props.children)
                        },
                        componentDidMount: function() {
                            var e = c.getID(this.getDOMNode());
                            m[e] = this
                        },
                        componentWillUnmount: function() {
                            var e = this.getDOMNode(),
                                t = c.getID(e);
                            delete m[t]
                        },
                        componentDidUpdate: function(e, t, n) {
                            var r = this.getDOMNode();
                            null != this.props.checked && i.setValueForProperty(r, "checked", this.props.checked || !1);
                            var o = a.getValue(this);
                            null != o && i.setValueForProperty(r, "value", "" + o)
                        },
                        _handleChange: function(e) {
                            var t, n = a.getOnChange(this);
                            n && (t = n.call(this, e)), p.asap(r, this);
                            var o = this.props.name;
                            if ("radio" === this.props.type && null != o) {
                                for (var i = this.getDOMNode(), s = i; s.parentNode;) s = s.parentNode;
                                for (var u = s.querySelectorAll("input[name=" + JSON.stringify("" + o) + '][type="radio"]'), l = 0, d = u.length; d > l; l++) {
                                    var h = u[l];
                                    if (h !== i && h.form === i.form) {
                                        var v = c.getID(h);
                                        f(v);
                                        var g = m[v];
                                        f(g), p.asap(r, g)
                                    }
                                }
                            }
                            return t
                        }
                    });
                t.exports = v
            }, {
                12: 12,
                147: 147,
                2: 2,
                26: 26,
                29: 29,
                32: 32,
                38: 38,
                61: 61,
                75: 75,
                97: 97
            }],
            54: [function(e, t, n) {
                "use strict";
                var r = e(32),
                    o = e(38),
                    i = e(61),
                    a = (e(166), i.createFactory("option")),
                    s = o.createClass({
                        displayName: "ReactDOMOption",
                        tagName: "OPTION",
                        mixins: [r],
                        componentWillMount: function() {},
                        render: function() {
                            return a(this.props, this.props.children)
                        }
                    });
                t.exports = s
            }, {
                166: 166,
                32: 32,
                38: 38,
                61: 61
            }],
            55: [function(e, t, n) {
                "use strict";

                function r() {
                    if (this._pendingUpdate) {
                        this._pendingUpdate = !1;
                        var e = s.getValue(this);
                        null != e && this.isMounted() && i(this, e)
                    }
                }

                function o(e, t, n) {
                    if (null == e[t]) return null;
                    if (e.multiple) {
                        if (!Array.isArray(e[t])) return new Error("The `" + t + "` prop supplied to <select> must be an array if `multiple` is true.")
                    } else if (Array.isArray(e[t])) return new Error("The `" + t + "` prop supplied to <select> must be a scalar value if `multiple` is false.")
                }

                function i(e, t) {
                    var n, r, o, i = e.getDOMNode().options;
                    if (e.props.multiple) {
                        for (n = {}, r = 0, o = t.length; o > r; r++) n["" + t[r]] = !0;
                        for (r = 0, o = i.length; o > r; r++) {
                            var a = n.hasOwnProperty(i[r].value);
                            i[r].selected !== a && (i[r].selected = a)
                        }
                    } else {
                        for (n = "" + t, r = 0, o = i.length; o > r; r++)
                            if (i[r].value === n) return void(i[r].selected = !0);
                        i.length && (i[0].selected = !0)
                    }
                }
                var a = e(2),
                    s = e(26),
                    u = e(32),
                    l = e(38),
                    c = e(61),
                    p = e(97),
                    d = e(29),
                    f = c.createFactory("select"),
                    h = l.createClass({
                        displayName: "ReactDOMSelect",
                        tagName: "SELECT",
                        mixins: [a, s.Mixin, u],
                        propTypes: {
                            defaultValue: o,
                            value: o
                        },
                        render: function() {
                            var e = d({}, this.props);
                            return e.onChange = this._handleChange, e.value = null, f(e, this.props.children)
                        },
                        componentWillMount: function() {
                            this._pendingUpdate = !1
                        },
                        componentDidMount: function() {
                            var e = s.getValue(this);
                            null != e ? i(this, e) : null != this.props.defaultValue && i(this, this.props.defaultValue)
                        },
                        componentDidUpdate: function(e) {
                            var t = s.getValue(this);
                            null != t ? (this._pendingUpdate = !1, i(this, t)) : !e.multiple != !this.props.multiple && (null != this.props.defaultValue ? i(this, this.props.defaultValue) : i(this, this.props.multiple ? [] : ""))
                        },
                        _handleChange: function(e) {
                            var t, n = s.getOnChange(this);
                            return n && (t = n.call(this, e)), this._pendingUpdate = !0, p.asap(r, this), t
                        }
                    });
                t.exports = h
            }, {
                2: 2,
                26: 26,
                29: 29,
                32: 32,
                38: 38,
                61: 61,
                97: 97
            }],
            56: [function(e, t, n) {
                "use strict";

                function r(e, t, n, r) {
                    return e === n && t === r
                }

                function o(e) {
                    var t = document.selection,
                        n = t.createRange(),
                        r = n.text.length,
                        o = n.duplicate();
                    o.moveToElementText(e), o.setEndPoint("EndToStart", n);
                    var i = o.text.length,
                        a = i + r;
                    return {
                        start: i,
                        end: a
                    }
                }

                function i(e) {
                    var t = window.getSelection && window.getSelection();
                    if (!t || 0 === t.rangeCount) return null;
                    var n = t.anchorNode,
                        o = t.anchorOffset,
                        i = t.focusNode,
                        a = t.focusOffset,
                        s = t.getRangeAt(0),
                        u = r(t.anchorNode, t.anchorOffset, t.focusNode, t.focusOffset),
                        l = u ? 0 : s.toString().length,
                        c = s.cloneRange();
                    c.selectNodeContents(e), c.setEnd(s.startContainer, s.startOffset);
                    var p = r(c.startContainer, c.startOffset, c.endContainer, c.endOffset),
                        d = p ? 0 : c.toString().length,
                        f = d + l,
                        h = document.createRange();
                    h.setStart(n, o), h.setEnd(i, a);
                    var m = h.collapsed;
                    return {
                        start: m ? f : d,
                        end: m ? d : f
                    }
                }

                function a(e, t) {
                    var n, r, o = document.selection.createRange().duplicate();
                    "undefined" == typeof t.end ? (n = t.start, r = n) : t.start > t.end ? (n = t.end, r = t.start) : (n = t.start, r = t.end), o.moveToElementText(e), o.moveStart("character", n), o.setEndPoint("EndToStart", o), o.moveEnd("character", r - n), o.select()
                }

                function s(e, t) {
                    if (window.getSelection) {
                        var n = window.getSelection(),
                            r = e[c()].length,
                            o = Math.min(t.start, r),
                            i = "undefined" == typeof t.end ? o : Math.min(t.end, r);
                        if (!n.extend && o > i) {
                            var a = i;
                            i = o, o = a
                        }
                        var s = l(e, o),
                            u = l(e, i);
                        if (s && u) {
                            var p = document.createRange();
                            p.setStart(s.node, s.offset), n.removeAllRanges(), o > i ? (n.addRange(p), n.extend(u.node, u.offset)) : (p.setEnd(u.node, u.offset), n.addRange(p))
                        }
                    }
                }
                var u = e(22),
                    l = e(140),
                    c = e(142),
                    p = u.canUseDOM && "selection" in document && !("getSelection" in window),
                    d = {
                        getOffsets: p ? o : i,
                        setOffsets: p ? a : s
                    };
                t.exports = d
            }, {
                140: 140,
                142: 142,
                22: 22
            }],
            57: [function(e, t, n) {
                "use strict";
                var r = e(12),
                    o = e(40),
                    i = e(48),
                    a = e(29),
                    s = e(128),
                    u = function(e) {};
                a(u.prototype, {
                    construct: function(e) {
                        this._currentElement = e, this._stringText = "" + e, this._rootNodeID = null, this._mountIndex = 0
                    },
                    mountComponent: function(e, t, n) {
                        this._rootNodeID = e;
                        var o = s(this._stringText);
                        return t.renderToStaticMarkup ? o : "<span " + r.createMarkupForID(e) + ">" + o + "</span>"
                    },
                    receiveComponent: function(e, t) {
                        if (e !== this._currentElement) {
                            this._currentElement = e;
                            var n = "" + e;
                            n !== this._stringText && (this._stringText = n,
                                i.BackendIDOperations.updateTextContentByID(this._rootNodeID, n))
                        }
                    },
                    unmountComponent: function() {
                        o.unmountIDFromEnvironment(this._rootNodeID)
                    }
                }), t.exports = u
            }, {
                12: 12,
                128: 128,
                29: 29,
                40: 40,
                48: 48
            }],
            58: [function(e, t, n) {
                "use strict";

                function r() {
                    this.isMounted() && this.forceUpdate()
                }
                var o = e(2),
                    i = e(12),
                    a = e(26),
                    s = e(32),
                    u = e(38),
                    l = e(61),
                    c = e(97),
                    p = e(29),
                    d = e(147),
                    f = (e(166), l.createFactory("textarea")),
                    h = u.createClass({
                        displayName: "ReactDOMTextarea",
                        tagName: "TEXTAREA",
                        mixins: [o, a.Mixin, s],
                        getInitialState: function() {
                            var e = this.props.defaultValue,
                                t = this.props.children;
                            null != t && (d(null == e), Array.isArray(t) && (d(t.length <= 1), t = t[0]), e = "" + t), null == e && (e = "");
                            var n = a.getValue(this);
                            return {
                                initialValue: "" + (null != n ? n : e)
                            }
                        },
                        render: function() {
                            var e = p({}, this.props);
                            return d(null == e.dangerouslySetInnerHTML), e.defaultValue = null, e.value = null, e.onChange = this._handleChange, f(e, this.state.initialValue)
                        },
                        componentDidUpdate: function(e, t, n) {
                            var r = a.getValue(this);
                            if (null != r) {
                                var o = this.getDOMNode();
                                i.setValueForProperty(o, "value", "" + r)
                            }
                        },
                        _handleChange: function(e) {
                            var t, n = a.getOnChange(this);
                            return n && (t = n.call(this, e)), c.asap(r, this), t
                        }
                    });
                t.exports = h
            }, {
                12: 12,
                147: 147,
                166: 166,
                2: 2,
                26: 26,
                29: 29,
                32: 32,
                38: 38,
                61: 61,
                97: 97
            }],
            59: [function(e, t, n) {
                "use strict";

                function r() {
                    this.reinitializeTransaction()
                }
                var o = e(97),
                    i = e(113),
                    a = e(29),
                    s = e(126),
                    u = {
                        initialize: s,
                        close: function() {
                            d.isBatchingUpdates = !1
                        }
                    },
                    l = {
                        initialize: s,
                        close: o.flushBatchedUpdates.bind(o)
                    },
                    c = [l, u];
                a(r.prototype, i.Mixin, {
                    getTransactionWrappers: function() {
                        return c
                    }
                });
                var p = new r,
                    d = {
                        isBatchingUpdates: !1,
                        batchedUpdates: function(e, t, n, r, o) {
                            var i = d.isBatchingUpdates;
                            d.isBatchingUpdates = !0, i ? e(t, n, r, o) : p.perform(e, null, t, n, r, o)
                        }
                    };
                t.exports = d
            }, {
                113: 113,
                126: 126,
                29: 29,
                97: 97
            }],
            60: [function(e, t, n) {
                "use strict";

                function r(e) {
                    return h.createClass({
                        tagName: e.toUpperCase(),
                        render: function() {
                            return new P(e, null, null, null, null, this.props)
                        }
                    })
                }

                function o() {
                    R.EventEmitter.injectReactEventListener(I), R.EventPluginHub.injectEventPluginOrder(u), R.EventPluginHub.injectInstanceHandle(w), R.EventPluginHub.injectMount(O), R.EventPluginHub.injectEventPluginsByName({
                        SimpleEventPlugin: L,
                        EnterLeaveEventPlugin: l,
                        ChangeEventPlugin: a,
                        MobileSafariClickEventPlugin: d,
                        SelectEventPlugin: A,
                        BeforeInputEventPlugin: i
                    }), R.NativeComponent.injectGenericComponentClass(g), R.NativeComponent.injectTextComponentClass(N), R.NativeComponent.injectAutoWrapper(r), R.Class.injectMixin(f), R.NativeComponent.injectComponentClasses({
                        button: y,
                        form: C,
                        iframe: _,
                        img: E,
                        input: x,
                        option: D,
                        select: M,
                        textarea: T,
                        html: F("html"),
                        head: F("head"),
                        body: F("body")
                    }), R.DOMProperty.injectDOMPropertyConfig(p), R.DOMProperty.injectDOMPropertyConfig(U), R.EmptyComponent.injectEmptyComponent("noscript"), R.Updates.injectReconcileTransaction(S), R.Updates.injectBatchingStrategy(v), R.RootIndex.injectCreateReactRootIndex(c.canUseDOM ? s.createReactRootIndex : k.createReactRootIndex), R.Component.injectEnvironment(m), R.DOMComponent.injectIDOperations(b)
                }
                var i = e(3),
                    a = e(8),
                    s = e(9),
                    u = e(14),
                    l = e(15),
                    c = e(22),
                    p = e(24),
                    d = e(28),
                    f = e(32),
                    h = e(38),
                    m = e(40),
                    v = e(59),
                    g = e(48),
                    y = e(47),
                    C = e(49),
                    E = e(52),
                    b = e(50),
                    _ = e(51),
                    x = e(53),
                    D = e(54),
                    M = e(55),
                    T = e(58),
                    N = e(57),
                    P = e(61),
                    I = e(66),
                    R = e(68),
                    w = e(70),
                    O = e(75),
                    S = e(86),
                    A = e(99),
                    k = e(100),
                    L = e(101),
                    U = e(98),
                    F = e(122);
                t.exports = {
                    inject: o
                }
            }, {
                100: 100,
                101: 101,
                122: 122,
                14: 14,
                15: 15,
                22: 22,
                24: 24,
                28: 28,
                3: 3,
                32: 32,
                38: 38,
                40: 40,
                47: 47,
                48: 48,
                49: 49,
                50: 50,
                51: 51,
                52: 52,
                53: 53,
                54: 54,
                55: 55,
                57: 57,
                58: 58,
                59: 59,
                61: 61,
                66: 66,
                68: 68,
                70: 70,
                75: 75,
                8: 8,
                86: 86,
                9: 9,
                98: 98,
                99: 99
            }],
            61: [function(e, t, n) {
                "use strict";
                var r = e(44),
                    o = e(45),
                    i = e(29),
                    a = (e(166), {
                        key: !0,
                        ref: !0
                    }),
                    s = function(e, t, n, r, o, i) {
                        this.type = e, this.key = t, this.ref = n, this._owner = r, this._context = o, this.props = i
                    };
                s.prototype = {
                    _isReactElement: !0
                }, s.createElement = function(e, t, n) {
                    var i, u = {},
                        l = null,
                        c = null;
                    if (null != t) {
                        c = void 0 === t.ref ? null : t.ref, l = void 0 === t.key ? null : "" + t.key;
                        for (i in t) t.hasOwnProperty(i) && !a.hasOwnProperty(i) && (u[i] = t[i])
                    }
                    var p = arguments.length - 2;
                    if (1 === p) u.children = n;
                    else if (p > 1) {
                        for (var d = Array(p), f = 0; p > f; f++) d[f] = arguments[f + 2];
                        u.children = d
                    }
                    if (e && e.defaultProps) {
                        var h = e.defaultProps;
                        for (i in h) "undefined" == typeof u[i] && (u[i] = h[i])
                    }
                    return new s(e, l, c, o.current, r.current, u)
                }, s.createFactory = function(e) {
                    var t = s.createElement.bind(null, e);
                    return t.type = e, t
                }, s.cloneAndReplaceProps = function(e, t) {
                    var n = new s(e.type, e.key, e.ref, e._owner, e._context, t);
                    return n
                }, s.cloneElement = function(e, t, n) {
                    var r, u = i({}, e.props),
                        l = e.key,
                        c = e.ref,
                        p = e._owner;
                    if (null != t) {
                        void 0 !== t.ref && (c = t.ref, p = o.current), void 0 !== t.key && (l = "" + t.key);
                        for (r in t) t.hasOwnProperty(r) && !a.hasOwnProperty(r) && (u[r] = t[r])
                    }
                    var d = arguments.length - 2;
                    if (1 === d) u.children = n;
                    else if (d > 1) {
                        for (var f = Array(d), h = 0; d > h; h++) f[h] = arguments[h + 2];
                        u.children = f
                    }
                    return new s(e.type, l, c, p, e._context, u)
                }, s.isValidElement = function(e) {
                    var t = !(!e || !e._isReactElement);
                    return t
                }, t.exports = s
            }, {
                166: 166,
                29: 29,
                44: 44,
                45: 45
            }],
            62: [function(e, t, n) {
                "use strict";

                function r() {
                    if (y.current) {
                        var e = y.current.getName();
                        if (e) return " Check the render method of `" + e + "`."
                    }
                    return ""
                }

                function o(e) {
                    var t = e && e.getPublicInstance();
                    if (!t) return void 0;
                    var n = t.constructor;
                    return n ? n.displayName || n.name || void 0 : void 0
                }

                function i() {
                    var e = y.current;
                    return e && o(e) || void 0
                }

                function a(e, t) {
                    e._store.validated || null != e.key || (e._store.validated = !0, u('Each child in an array or iterator should have a unique "key" prop.', e, t))
                }

                function s(e, t, n) {
                    D.test(e) && u("Child objects should have non-numeric keys so ordering is preserved.", t, n)
                }

                function u(e, t, n) {
                    var r = i(),
                        a = "string" == typeof n ? n : n.displayName || n.name,
                        s = r || a,
                        u = _[e] || (_[e] = {});
                    if (!u.hasOwnProperty(s)) {
                        u[s] = !0;
                        var l = "";
                        if (t && t._owner && t._owner !== y.current) {
                            var c = o(t._owner);
                            l = " It was passed a child from " + c + "."
                        }
                    }
                }

                function l(e, t) {
                    if (Array.isArray(e))
                        for (var n = 0; n < e.length; n++) {
                            var r = e[n];
                            m.isValidElement(r) && a(r, t)
                        } else if (m.isValidElement(e)) e._store.validated = !0;
                        else if (e) {
                        var o = E(e);
                        if (o) {
                            if (o !== e.entries)
                                for (var i, u = o.call(e); !(i = u.next()).done;) m.isValidElement(i.value) && a(i.value, t)
                        } else if ("object" == typeof e) {
                            var l = v.extractIfFragment(e);
                            for (var c in l) l.hasOwnProperty(c) && s(c, l[c], t)
                        }
                    }
                }

                function c(e, t, n, o) {
                    for (var i in t)
                        if (t.hasOwnProperty(i)) {
                            var a;
                            try {
                                b("function" == typeof t[i]), a = t[i](n, i, e, o)
                            } catch (s) {
                                a = s
                            }
                            a instanceof Error && !(a.message in x) && (x[a.message] = !0, r(this))
                        }
                }

                function p(e, t) {
                    var n = t.type,
                        r = "string" == typeof n ? n : n.displayName,
                        o = t._owner ? t._owner.getPublicInstance().constructor.displayName : null,
                        i = e + "|" + r + "|" + o;
                    if (!M.hasOwnProperty(i)) {
                        M[i] = !0;
                        var a = "";
                        r && (a = " <" + r + " />");
                        var s = "";
                        o && (s = " The element was created by " + o + ".")
                    }
                }

                function d(e, t) {
                    return e !== e ? t !== t : 0 === e && 0 === t ? 1 / e === 1 / t : e === t
                }

                function f(e) {
                    if (e._store) {
                        var t = e._store.originalProps,
                            n = e.props;
                        for (var r in n) n.hasOwnProperty(r) && (t.hasOwnProperty(r) && d(t[r], n[r]) || (p(r, e), t[r] = n[r]))
                    }
                }

                function h(e) {
                    if (null != e.type) {
                        var t = C.getComponentClassForElement(e),
                            n = t.displayName || t.name;
                        t.propTypes && c(n, t.propTypes, e.props, g.prop), "function" == typeof t.getDefaultProps
                    }
                }
                var m = e(61),
                    v = e(67),
                    g = e(83),
                    y = (e(82), e(45)),
                    C = e(78),
                    E = e(138),
                    b = e(147),
                    _ = (e(166), {}),
                    x = {},
                    D = /^\d+$/,
                    M = {},
                    T = {
                        checkAndWarnForMutatedProps: f,
                        createElement: function(e, t, n) {
                            var r = m.createElement.apply(this, arguments);
                            if (null == r) return r;
                            for (var o = 2; o < arguments.length; o++) l(arguments[o], e);
                            return h(r), r
                        },
                        createFactory: function(e) {
                            var t = T.createElement.bind(null, e);
                            return t.type = e, t
                        },
                        cloneElement: function(e, t, n) {
                            for (var r = m.cloneElement.apply(this, arguments), o = 2; o < arguments.length; o++) l(arguments[o], r.type);
                            return h(r), r
                        }
                    };
                t.exports = T
            }, {
                138: 138,
                147: 147,
                166: 166,
                45: 45,
                61: 61,
                67: 67,
                78: 78,
                82: 82,
                83: 83
            }],
            63: [function(e, t, n) {
                "use strict";

                function r(e) {
                    c[e] = !0
                }

                function o(e) {
                    delete c[e]
                }

                function i(e) {
                    return !!c[e]
                }
                var a, s = e(61),
                    u = e(71),
                    l = e(147),
                    c = {},
                    p = {
                        injectEmptyComponent: function(e) {
                            a = s.createFactory(e)
                        }
                    },
                    d = function() {};
                d.prototype.componentDidMount = function() {
                    var e = u.get(this);
                    e && r(e._rootNodeID)
                }, d.prototype.componentWillUnmount = function() {
                    var e = u.get(this);
                    e && o(e._rootNodeID)
                }, d.prototype.render = function() {
                    return l(a), a()
                };
                var f = s.createElement(d),
                    h = {
                        emptyElement: f,
                        injection: p,
                        isNullComponentID: i
                    };
                t.exports = h
            }, {
                147: 147,
                61: 61,
                71: 71
            }],
            64: [function(e, t, n) {
                "use strict";
                var r = {
                    guard: function(e, t) {
                        return e
                    }
                };
                t.exports = r
            }, {}],
            65: [function(e, t, n) {
                "use strict";

                function r(e) {
                    o.enqueueEvents(e), o.processEventQueue()
                }
                var o = e(18),
                    i = {
                        handleTopLevel: function(e, t, n, i) {
                            var a = o.extractEvents(e, t, n, i);
                            r(a)
                        }
                    };
                t.exports = i
            }, {
                18: 18
            }],
            66: [function(e, t, n) {
                "use strict";

                function r(e) {
                    var t = p.getID(e),
                        n = c.getReactRootIDFromNodeID(t),
                        r = p.findReactContainerForID(n),
                        o = p.getFirstReactDOM(r);
                    return o
                }

                function o(e, t) {
                    this.topLevelType = e, this.nativeEvent = t, this.ancestors = []
                }

                function i(e) {
                    for (var t = p.getFirstReactDOM(h(e.nativeEvent)) || window, n = t; n;) e.ancestors.push(n), n = r(n);
                    for (var o = 0, i = e.ancestors.length; i > o; o++) {
                        t = e.ancestors[o];
                        var a = p.getID(t) || "";
                        v._handleTopLevel(e.topLevelType, t, a, e.nativeEvent)
                    }
                }

                function a(e) {
                    var t = m(window);
                    e(t)
                }
                var s = e(17),
                    u = e(22),
                    l = e(30),
                    c = e(70),
                    p = e(75),
                    d = e(97),
                    f = e(29),
                    h = e(137),
                    m = e(143);
                f(o.prototype, {
                    destructor: function() {
                        this.topLevelType = null, this.nativeEvent = null, this.ancestors.length = 0
                    }
                }), l.addPoolingTo(o, l.twoArgumentPooler);
                var v = {
                    _enabled: !0,
                    _handleTopLevel: null,
                    WINDOW_HANDLE: u.canUseDOM ? window : null,
                    setHandleTopLevel: function(e) {
                        v._handleTopLevel = e
                    },
                    setEnabled: function(e) {
                        v._enabled = !!e
                    },
                    isEnabled: function() {
                        return v._enabled
                    },
                    trapBubbledEvent: function(e, t, n) {
                        var r = n;
                        return r ? s.listen(r, t, v.dispatchEvent.bind(null, e)) : null
                    },
                    trapCapturedEvent: function(e, t, n) {
                        var r = n;
                        return r ? s.capture(r, t, v.dispatchEvent.bind(null, e)) : null
                    },
                    monitorScrollValue: function(e) {
                        var t = a.bind(null, e);
                        s.listen(window, "scroll", t)
                    },
                    dispatchEvent: function(e, t) {
                        if (v._enabled) {
                            var n = o.getPooled(e, t);
                            try {
                                d.batchedUpdates(i, n)
                            } finally {
                                o.release(n)
                            }
                        }
                    }
                };
                t.exports = v
            }, {
                137: 137,
                143: 143,
                17: 17,
                22: 22,
                29: 29,
                30: 30,
                70: 70,
                75: 75,
                97: 97
            }],
            67: [function(e, t, n) {
                "use strict";
                var r = (e(61), e(166), {
                    create: function(e) {
                        return e
                    },
                    extract: function(e) {
                        return e
                    },
                    extractIfFragment: function(e) {
                        return e
                    }
                });
                t.exports = r
            }, {
                166: 166,
                61: 61
            }],
            68: [function(e, t, n) {
                "use strict";
                var r = e(11),
                    o = e(18),
                    i = e(41),
                    a = e(38),
                    s = e(63),
                    u = e(33),
                    l = e(78),
                    c = e(48),
                    p = e(80),
                    d = e(89),
                    f = e(97),
                    h = {
                        Component: i.injection,
                        Class: a.injection,
                        DOMComponent: c.injection,
                        DOMProperty: r.injection,
                        EmptyComponent: s.injection,
                        EventPluginHub: o.injection,
                        EventEmitter: u.injection,
                        NativeComponent: l.injection,
                        Perf: p.injection,
                        RootIndex: d.injection,
                        Updates: f.injection
                    };
                t.exports = h
            }, {
                11: 11,
                18: 18,
                33: 33,
                38: 38,
                41: 41,
                48: 48,
                63: 63,
                78: 78,
                80: 80,
                89: 89,
                97: 97
            }],
            69: [function(e, t, n) {
                "use strict";

                function r(e) {
                    return i(document.documentElement, e)
                }
                var o = e(56),
                    i = e(120),
                    a = e(131),
                    s = e(133),
                    u = {
                        hasSelectionCapabilities: function(e) {
                            return e && ("INPUT" === e.nodeName && "text" === e.type || "TEXTAREA" === e.nodeName || "true" === e.contentEditable)
                        },
                        getSelectionInformation: function() {
                            var e = s();
                            return {
                                focusedElem: e,
                                selectionRange: u.hasSelectionCapabilities(e) ? u.getSelection(e) : null
                            }
                        },
                        restoreSelection: function(e) {
                            var t = s(),
                                n = e.focusedElem,
                                o = e.selectionRange;
                            t !== n && r(n) && (u.hasSelectionCapabilities(n) && u.setSelection(n, o), a(n))
                        },
                        getSelection: function(e) {
                            var t;
                            if ("selectionStart" in e) t = {
                                start: e.selectionStart,
                                end: e.selectionEnd
                            };
                            else if (document.selection && "INPUT" === e.nodeName) {
                                var n = document.selection.createRange();
                                n.parentElement() === e && (t = {
                                    start: -n.moveStart("character", -e.value.length),
                                    end: -n.moveEnd("character", -e.value.length)
                                })
                            } else t = o.getOffsets(e);
                            return t || {
                                start: 0,
                                end: 0
                            }
                        },
                        setSelection: function(e, t) {
                            var n = t.start,
                                r = t.end;
                            if ("undefined" == typeof r && (r = n), "selectionStart" in e) e.selectionStart = n, e.selectionEnd = Math.min(r, e.value.length);
                            else if (document.selection && "INPUT" === e.nodeName) {
                                var i = e.createTextRange();
                                i.collapse(!0), i.moveStart("character", n), i.moveEnd("character", r - n), i.select()
                            } else o.setOffsets(e, t)
                        }
                    };
                t.exports = u
            }, {
                120: 120,
                131: 131,
                133: 133,
                56: 56
            }],
            70: [function(e, t, n) {
                "use strict";

                function r(e) {
                    return f + e.toString(36)
                }

                function o(e, t) {
                    return e.charAt(t) === f || t === e.length
                }

                function i(e) {
                    return "" === e || e.charAt(0) === f && e.charAt(e.length - 1) !== f
                }

                function a(e, t) {
                    return 0 === t.indexOf(e) && o(t, e.length)
                }

                function s(e) {
                    return e ? e.substr(0, e.lastIndexOf(f)) : ""
                }

                function u(e, t) {
                    if (d(i(e) && i(t)), d(a(e, t)), e === t) return e;
                    var n, r = e.length + h;
                    for (n = r; n < t.length && !o(t, n); n++);
                    return t.substr(0, n)
                }

                function l(e, t) {
                    var n = Math.min(e.length, t.length);
                    if (0 === n) return "";
                    for (var r = 0, a = 0; n >= a; a++)
                        if (o(e, a) && o(t, a)) r = a;
                        else if (e.charAt(a) !== t.charAt(a)) break;
                    var s = e.substr(0, r);
                    return d(i(s)), s
                }

                function c(e, t, n, r, o, i) {
                    e = e || "", t = t || "", d(e !== t);
                    var l = a(t, e);
                    d(l || a(e, t));
                    for (var c = 0, p = l ? s : u, f = e;; f = p(f, t)) {
                        var h;
                        if (o && f === e || i && f === t || (h = n(f, l, r)), h === !1 || f === t) break;
                        d(c++ < m)
                    }
                }
                var p = e(89),
                    d = e(147),
                    f = ".",
                    h = f.length,
                    m = 100,
                    v = {
                        createReactRootID: function() {
                            return r(p.createReactRootIndex())
                        },
                        createReactID: function(e, t) {
                            return e + t
                        },
                        getReactRootIDFromNodeID: function(e) {
                            if (e && e.charAt(0) === f && e.length > 1) {
                                var t = e.indexOf(f, 1);
                                return t > -1 ? e.substr(0, t) : e
                            }
                            return null
                        },
                        traverseEnterLeave: function(e, t, n, r, o) {
                            var i = l(e, t);
                            i !== e && c(e, i, n, r, !1, !0), i !== t && c(i, t, n, o, !0, !1)
                        },
                        traverseTwoPhase: function(e, t, n) {
                            e && (c("", e, t, n, !0, !1), c(e, "", t, n, !1, !0))
                        },
                        traverseAncestors: function(e, t, n) {
                            c("", e, t, n, !0, !1)
                        },
                        _getFirstCommonAncestorID: l,
                        _getNextDescendantID: u,
                        isAncestorIDOf: a,
                        SEPARATOR: f
                    };
                t.exports = v
            }, {
                147: 147,
                89: 89
            }],
            71: [function(e, t, n) {
                "use strict";
                var r = {
                    remove: function(e) {
                        e._reactInternalInstance = void 0
                    },
                    get: function(e) {
                        return e._reactInternalInstance
                    },
                    has: function(e) {
                        return void 0 !== e._reactInternalInstance
                    },
                    set: function(e, t) {
                        e._reactInternalInstance = t
                    }
                };
                t.exports = r
            }, {}],
            72: [function(e, t, n) {
                "use strict";
                var r = {
                    currentlyMountingInstance: null,
                    currentlyUnmountingInstance: null
                };
                t.exports = r
            }, {}],
            73: [function(e, t, n) {
                "use strict";

                function r(e, t) {
                    this.value = e, this.requestChange = t
                }

                function o(e) {
                    var t = {
                        value: "undefined" == typeof e ? i.PropTypes.any.isRequired : e.isRequired,
                        requestChange: i.PropTypes.func.isRequired
                    };
                    return i.PropTypes.shape(t)
                }
                var i = e(31);
                r.PropTypes = {
                    link: o
                }, t.exports = r
            }, {
                31: 31
            }],
            74: [function(e, t, n) {
                "use strict";
                var r = e(116),
                    o = {
                        CHECKSUM_ATTR_NAME: "data-react-checksum",
                        addChecksumToMarkup: function(e) {
                            var t = r(e);
                            return e.replace(">", " " + o.CHECKSUM_ATTR_NAME + '="' + t + '">')
                        },
                        canReuseMarkup: function(e, t) {
                            var n = t.getAttribute(o.CHECKSUM_ATTR_NAME);
                            n = n && parseInt(n, 10);
                            var i = r(e);
                            return i === n
                        }
                    };
                t.exports = o
            }, {
                116: 116
            }],
            75: [function(e, t, n) {
                "use strict";

                function r(e, t) {
                    for (var n = Math.min(e.length, t.length), r = 0; n > r; r++)
                        if (e.charAt(r) !== t.charAt(r)) return r;
                    return e.length === t.length ? -1 : n
                }

                function o(e) {
                    var t = I(e);
                    return t && K.getID(t)
                }

                function i(e) {
                    var t = a(e);
                    if (t)
                        if (L.hasOwnProperty(t)) {
                            var n = L[t];
                            n !== e && (w(!c(n, t)), L[t] = e)
                        } else L[t] = e;
                    return t
                }

                function a(e) {
                    return e && e.getAttribute && e.getAttribute(k) || ""
                }

                function s(e, t) {
                    var n = a(e);
                    n !== t && delete L[n], e.setAttribute(k, t), L[t] = e
                }

                function u(e) {
                    return L.hasOwnProperty(e) && c(L[e], e) || (L[e] = K.findReactNodeByID(e)), L[e]
                }

                function l(e) {
                    var t = b.get(e)._rootNodeID;
                    return C.isNullComponentID(t) ? null : (L.hasOwnProperty(t) && c(L[t], t) || (L[t] = K.findReactNodeByID(t)), L[t])
                }

                function c(e, t) {
                    if (e) {
                        w(a(e) === t);
                        var n = K.findReactContainerForID(t);
                        if (n && P(n, e)) return !0
                    }
                    return !1
                }

                function p(e) {
                    delete L[e]
                }

                function d(e) {
                    var t = L[e];
                    return t && c(t, e) ? void(W = t) : !1
                }

                function f(e) {
                    W = null, E.traverseAncestors(e, d);
                    var t = W;
                    return W = null, t
                }

                function h(e, t, n, r, o) {
                    var i = D.mountComponent(e, t, r, N);
                    e._isTopLevel = !0, K._mountImageIntoNode(i, n, o)
                }

                function m(e, t, n, r) {
                    var o = T.ReactReconcileTransaction.getPooled();
                    o.perform(h, null, e, t, n, o, r), T.ReactReconcileTransaction.release(o)
                }
                var v = e(11),
                    g = e(33),
                    y = (e(45), e(61)),
                    C = (e(62), e(63)),
                    E = e(70),
                    b = e(71),
                    _ = e(74),
                    x = e(80),
                    D = e(87),
                    M = e(96),
                    T = e(97),
                    N = e(127),
                    P = e(120),
                    I = e(141),
                    R = e(146),
                    w = e(147),
                    O = e(159),
                    S = e(162),
                    A = (e(166), E.SEPARATOR),
                    k = v.ID_ATTRIBUTE_NAME,
                    L = {},
                    U = 1,
                    F = 9,
                    B = {},
                    j = {},
                    V = [],
                    W = null,
                    K = {
                        _instancesByReactRootID: B,
                        scrollMonitor: function(e, t) {
                            t()
                        },
                        _updateRootComponent: function(e, t, n, r) {
                            return K.scrollMonitor(n, function() {
                                M.enqueueElementInternal(e, t), r && M.enqueueCallbackInternal(e, r)
                            }), e
                        },
                        _registerComponent: function(e, t) {
                            w(t && (t.nodeType === U || t.nodeType === F)), g.ensureScrollValueMonitoring();
                            var n = K.registerContainer(t);
                            return B[n] = e, n
                        },
                        _renderNewRootComponent: function(e, t, n) {
                            var r = R(e, null),
                                o = K._registerComponent(r, t);
                            return T.batchedUpdates(m, r, o, t, n), r
                        },
                        render: function(e, t, n) {
                            w(y.isValidElement(e));
                            var r = B[o(t)];
                            if (r) {
                                var i = r._currentElement;
                                if (S(i, e)) return K._updateRootComponent(r, e, t, n).getPublicInstance();
                                K.unmountComponentAtNode(t)
                            }
                            var a = I(t),
                                s = a && K.isRenderedByReact(a),
                                u = s && !r,
                                l = K._renderNewRootComponent(e, t, u).getPublicInstance();
                            return n && n.call(l), l
                        },
                        constructAndRenderComponent: function(e, t, n) {
                            var r = y.createElement(e, t);
                            return K.render(r, n)
                        },
                        constructAndRenderComponentByID: function(e, t, n) {
                            var r = document.getElementById(n);
                            return w(r), K.constructAndRenderComponent(e, t, r)
                        },
                        registerContainer: function(e) {
                            var t = o(e);
                            return t && (t = E.getReactRootIDFromNodeID(t)), t || (t = E.createReactRootID()), j[t] = e, t
                        },
                        unmountComponentAtNode: function(e) {
                            w(e && (e.nodeType === U || e.nodeType === F));
                            var t = o(e),
                                n = B[t];
                            return n ? (K.unmountComponentFromNode(n, e), delete B[t], delete j[t], !0) : !1
                        },
                        unmountComponentFromNode: function(e, t) {
                            for (D.unmountComponent(e), t.nodeType === F && (t = t.documentElement); t.lastChild;) t.removeChild(t.lastChild)
                        },
                        findReactContainerForID: function(e) {
                            var t = E.getReactRootIDFromNodeID(e),
                                n = j[t];
                            return n
                        },
                        findReactNodeByID: function(e) {
                            var t = K.findReactContainerForID(e);
                            return K.findComponentRoot(t, e)
                        },
                        isRenderedByReact: function(e) {
                            if (1 !== e.nodeType) return !1;
                            var t = K.getID(e);
                            return t ? t.charAt(0) === A : !1
                        },
                        getFirstReactDOM: function(e) {
                            for (var t = e; t && t.parentNode !== t;) {
                                if (K.isRenderedByReact(t)) return t;
                                t = t.parentNode
                            }
                            return null
                        },
                        findComponentRoot: function(e, t) {
                            var n = V,
                                r = 0,
                                o = f(t) || e;
                            for (n[0] = o.firstChild, n.length = 1; r < n.length;) {
                                for (var i, a = n[r++]; a;) {
                                    var s = K.getID(a);
                                    s ? t === s ? i = a : E.isAncestorIDOf(s, t) && (n.length = r = 0, n.push(a.firstChild)) : n.push(a.firstChild), a = a.nextSibling
                                }
                                if (i) return n.length = 0, i
                            }
                            n.length = 0, w(!1)
                        },
                        _mountImageIntoNode: function(e, t, n) {
                            if (w(t && (t.nodeType === U || t.nodeType === F)), n) {
                                var o = I(t);
                                if (_.canReuseMarkup(e, o)) return;
                                var i = o.getAttribute(_.CHECKSUM_ATTR_NAME);
                                o.removeAttribute(_.CHECKSUM_ATTR_NAME);
                                var a = o.outerHTML;
                                o.setAttribute(_.CHECKSUM_ATTR_NAME, i);
                                var s = r(e, a);
                                " (client) " + e.substring(s - 20, s + 20) + "\n (server) " + a.substring(s - 20, s + 20), w(t.nodeType !== F)
                            }
                            w(t.nodeType !== F), O(t, e)
                        },
                        getReactRootID: o,
                        getID: i,
                        setID: s,
                        getNode: u,
                        getNodeFromInstance: l,
                        purgeID: p
                    };
                x.measureMethods(K, "ReactMount", {
                    _renderNewRootComponent: "_renderNewRootComponent",
                    _mountImageIntoNode: "_mountImageIntoNode"
                }), t.exports = K
            }, {
                11: 11,
                120: 120,
                127: 127,
                141: 141,
                146: 146,
                147: 147,
                159: 159,
                162: 162,
                166: 166,
                33: 33,
                45: 45,
                61: 61,
                62: 62,
                63: 63,
                70: 70,
                71: 71,
                74: 74,
                80: 80,
                87: 87,
                96: 96,
                97: 97
            }],
            76: [function(e, t, n) {
                "use strict";

                function r(e, t, n) {
                    h.push({
                        parentID: e,
                        parentNode: null,
                        type: c.INSERT_MARKUP,
                        markupIndex: m.push(t) - 1,
                        textContent: null,
                        fromIndex: null,
                        toIndex: n
                    })
                }

                function o(e, t, n) {
                    h.push({
                        parentID: e,
                        parentNode: null,
                        type: c.MOVE_EXISTING,
                        markupIndex: null,
                        textContent: null,
                        fromIndex: t,
                        toIndex: n
                    })
                }

                function i(e, t) {
                    h.push({
                        parentID: e,
                        parentNode: null,
                        type: c.REMOVE_NODE,
                        markupIndex: null,
                        textContent: null,
                        fromIndex: t,
                        toIndex: null
                    })
                }

                function a(e, t) {
                    h.push({
                        parentID: e,
                        parentNode: null,
                        type: c.TEXT_CONTENT,
                        markupIndex: null,
                        textContent: t,
                        fromIndex: null,
                        toIndex: null
                    })
                }

                function s() {
                    h.length && (l.processChildrenUpdates(h, m), u())
                }

                function u() {
                    h.length = 0, m.length = 0
                }
                var l = e(41),
                    c = e(77),
                    p = e(87),
                    d = e(36),
                    f = 0,
                    h = [],
                    m = [],
                    v = {
                        Mixin: {
                            mountChildren: function(e, t, n) {
                                var r = d.instantiateChildren(e, t, n);
                                this._renderedChildren = r;
                                var o = [],
                                    i = 0;
                                for (var a in r)
                                    if (r.hasOwnProperty(a)) {
                                        var s = r[a],
                                            u = this._rootNodeID + a,
                                            l = p.mountComponent(s, u, t, n);
                                        s._mountIndex = i, o.push(l), i++
                                    }
                                return o
                            },
                            updateTextContent: function(e) {
                                f++;
                                var t = !0;
                                try {
                                    var n = this._renderedChildren;
                                    d.unmountChildren(n);
                                    for (var r in n) n.hasOwnProperty(r) && this._unmountChildByName(n[r], r);
                                    this.setTextContent(e), t = !1
                                } finally {
                                    f--, f || (t ? u() : s())
                                }
                            },
                            updateChildren: function(e, t, n) {
                                f++;
                                var r = !0;
                                try {
                                    this._updateChildren(e, t, n), r = !1
                                } finally {
                                    f--, f || (r ? u() : s())
                                }
                            },
                            _updateChildren: function(e, t, n) {
                                var r = this._renderedChildren,
                                    o = d.updateChildren(r, e, t, n);
                                if (this._renderedChildren = o, o || r) {
                                    var i, a = 0,
                                        s = 0;
                                    for (i in o)
                                        if (o.hasOwnProperty(i)) {
                                            var u = r && r[i],
                                                l = o[i];
                                            u === l ? (this.moveChild(u, s, a), a = Math.max(u._mountIndex, a), u._mountIndex = s) : (u && (a = Math.max(u._mountIndex, a), this._unmountChildByName(u, i)), this._mountChildByNameAtIndex(l, i, s, t, n)), s++
                                        }
                                    for (i in r) !r.hasOwnProperty(i) || o && o.hasOwnProperty(i) || this._unmountChildByName(r[i], i)
                                }
                            },
                            unmountChildren: function() {
                                var e = this._renderedChildren;
                                d.unmountChildren(e), this._renderedChildren = null
                            },
                            moveChild: function(e, t, n) {
                                e._mountIndex < n && o(this._rootNodeID, e._mountIndex, t)
                            },
                            createChild: function(e, t) {
                                r(this._rootNodeID, t, e._mountIndex)
                            },
                            removeChild: function(e) {
                                i(this._rootNodeID, e._mountIndex)
                            },
                            setTextContent: function(e) {
                                a(this._rootNodeID, e)
                            },
                            _mountChildByNameAtIndex: function(e, t, n, r, o) {
                                var i = this._rootNodeID + t,
                                    a = p.mountComponent(e, i, r, o);
                                e._mountIndex = n, this.createChild(e, a)
                            },
                            _unmountChildByName: function(e, t) {
                                this.removeChild(e), e._mountIndex = null
                            }
                        }
                    };
                t.exports = v
            }, {
                36: 36,
                41: 41,
                77: 77,
                87: 87
            }],
            77: [function(e, t, n) {
                "use strict";
                var r = e(153),
                    o = r({
                        INSERT_MARKUP: null,
                        MOVE_EXISTING: null,
                        REMOVE_NODE: null,
                        TEXT_CONTENT: null
                    });
                t.exports = o
            }, {
                153: 153
            }],
            78: [function(e, t, n) {
                "use strict";

                function r(e) {
                    if ("function" == typeof e.type) return e.type;
                    var t = e.type,
                        n = p[t];
                    return null == n && (p[t] = n = l(t)), n
                }

                function o(e) {
                    return u(c), new c(e.type, e.props)
                }

                function i(e) {
                    return new d(e)
                }

                function a(e) {
                    return e instanceof d
                }
                var s = e(29),
                    u = e(147),
                    l = null,
                    c = null,
                    p = {},
                    d = null,
                    f = {
                        injectGenericComponentClass: function(e) {
                            c = e
                        },
                        injectTextComponentClass: function(e) {
                            d = e
                        },
                        injectComponentClasses: function(e) {
                            s(p, e)
                        },
                        injectAutoWrapper: function(e) {
                            l = e
                        }
                    },
                    h = {
                        getComponentClassForElement: r,
                        createInternalComponent: o,
                        createInstanceForText: i,
                        isTextComponent: a,
                        injection: f
                    };
                t.exports = h
            }, {
                147: 147,
                29: 29
            }],
            79: [function(e, t, n) {
                "use strict";
                var r = e(147),
                    o = {
                        isValidOwner: function(e) {
                            return !(!e || "function" != typeof e.attachRef || "function" != typeof e.detachRef)
                        },
                        addComponentAsRefTo: function(e, t, n) {
                            r(o.isValidOwner(n)), n.attachRef(t, e)
                        },
                        removeComponentAsRefFrom: function(e, t, n) {
                            r(o.isValidOwner(n)), n.getPublicInstance().refs[t] === e.getPublicInstance() && n.detachRef(t)
                        }
                    };
                t.exports = o
            }, {
                147: 147
            }],
            80: [function(e, t, n) {
                "use strict";

                function r(e, t, n) {
                    return n
                }
                var o = {
                    enableMeasure: !1,
                    storedMeasure: r,
                    measureMethods: function(e, t, n) {},
                    measure: function(e, t, n) {
                        return n
                    },
                    injection: {
                        injectMeasure: function(e) {
                            o.storedMeasure = e
                        }
                    }
                };
                t.exports = o
            }, {}],
            81: [function(e, t, n) {
                "use strict";

                function r(e) {
                    return function(t, n, r) {
                        t.hasOwnProperty(n) ? t[n] = e(t[n], r) : t[n] = r
                    }
                }

                function o(e, t) {
                    for (var n in t)
                        if (t.hasOwnProperty(n)) {
                            var r = l[n];
                            r && l.hasOwnProperty(n) ? r(e, n, t[n]) : e.hasOwnProperty(n) || (e[n] = t[n])
                        }
                    return e
                }
                var i = e(29),
                    a = e(126),
                    s = e(152),
                    u = r(function(e, t) {
                        return i({}, t, e)
                    }),
                    l = {
                        children: a,
                        className: r(s),
                        style: u
                    },
                    c = {
                        mergeProps: function(e, t) {
                            return o(i({}, e), t)
                        }
                    };
                t.exports = c
            }, {
                126: 126,
                152: 152,
                29: 29
            }],
            82: [function(e, t, n) {
                "use strict";
                var r = {};
                t.exports = r
            }, {}],
            83: [function(e, t, n) {
                "use strict";
                var r = e(153),
                    o = r({
                        prop: null,
                        context: null,
                        childContext: null
                    });
                t.exports = o
            }, {
                153: 153
            }],
            84: [function(e, t, n) {
                "use strict";

                function r(e) {
                    function t(t, n, r, o, i) {
                        if (o = o || b, null == n[r]) {
                            var a = C[i];
                            return t ? new Error("Required " + a + " `" + r + "` was not specified in " + ("`" + o + "`.")) : null
                        }
                        return e(n, r, o, i)
                    }
                    var n = t.bind(null, !1);
                    return n.isRequired = t.bind(null, !0), n
                }

                function o(e) {
                    function t(t, n, r, o) {
                        var i = t[n],
                            a = m(i);
                        if (a !== e) {
                            var s = C[o],
                                u = v(i);
                            return new Error("Invalid " + s + " `" + n + "` of type `" + u + "` " + ("supplied to `" + r + "`, expected `" + e + "`."))
                        }
                        return null
                    }
                    return r(t)
                }

                function i() {
                    return r(E.thatReturns(null))
                }

                function a(e) {
                    function t(t, n, r, o) {
                        var i = t[n];
                        if (!Array.isArray(i)) {
                            var a = C[o],
                                s = m(i);
                            return new Error("Invalid " + a + " `" + n + "` of type " + ("`" + s + "` supplied to `" + r + "`, expected an array."))
                        }
                        for (var u = 0; u < i.length; u++) {
                            var l = e(i, u, r, o);
                            if (l instanceof Error) return l
                        }
                        return null
                    }
                    return r(t)
                }

                function s() {
                    function e(e, t, n, r) {
                        if (!g.isValidElement(e[t])) {
                            var o = C[r];
                            return new Error("Invalid " + o + " `" + t + "` supplied to " + ("`" + n + "`, expected a ReactElement."))
                        }
                        return null
                    }
                    return r(e)
                }

                function u(e) {
                    function t(t, n, r, o) {
                        if (!(t[n] instanceof e)) {
                            var i = C[o],
                                a = e.name || b;
                            return new Error("Invalid " + i + " `" + n + "` supplied to " + ("`" + r + "`, expected instance of `" + a + "`."))
                        }
                        return null
                    }
                    return r(t)
                }

                function l(e) {
                    function t(t, n, r, o) {
                        for (var i = t[n], a = 0; a < e.length; a++)
                            if (i === e[a]) return null;
                        var s = C[o],
                            u = JSON.stringify(e);
                        return new Error("Invalid " + s + " `" + n + "` of value `" + i + "` " + ("supplied to `" + r + "`, expected one of " + u + "."))
                    }
                    return r(t)
                }

                function c(e) {
                    function t(t, n, r, o) {
                        var i = t[n],
                            a = m(i);
                        if ("object" !== a) {
                            var s = C[o];
                            return new Error("Invalid " + s + " `" + n + "` of type " + ("`" + a + "` supplied to `" + r + "`, expected an object."))
                        }
                        for (var u in i)
                            if (i.hasOwnProperty(u)) {
                                var l = e(i, u, r, o);
                                if (l instanceof Error) return l
                            }
                        return null
                    }
                    return r(t)
                }

                function p(e) {
                    function t(t, n, r, o) {
                        for (var i = 0; i < e.length; i++) {
                            var a = e[i];
                            if (null == a(t, n, r, o)) return null
                        }
                        var s = C[o];
                        return new Error("Invalid " + s + " `" + n + "` supplied to " + ("`" + r + "`."))
                    }
                    return r(t)
                }

                function d() {
                    function e(e, t, n, r) {
                        if (!h(e[t])) {
                            var o = C[r];
                            return new Error("Invalid " + o + " `" + t + "` supplied to " + ("`" + n + "`, expected a ReactNode."))
                        }
                        return null
                    }
                    return r(e)
                }

                function f(e) {
                    function t(t, n, r, o) {
                        var i = t[n],
                            a = m(i);
                        if ("object" !== a) {
                            var s = C[o];
                            return new Error("Invalid " + s + " `" + n + "` of type `" + a + "` " + ("supplied to `" + r + "`, expected `object`."))
                        }
                        for (var u in e) {
                            var l = e[u];
                            if (l) {
                                var c = l(i, u, r, o);
                                if (c) return c
                            }
                        }
                        return null
                    }
                    return r(t)
                }

                function h(e) {
                    switch (typeof e) {
                        case "number":
                        case "string":
                        case "undefined":
                            return !0;
                        case "boolean":
                            return !e;
                        case "object":
                            if (Array.isArray(e)) return e.every(h);
                            if (null === e || g.isValidElement(e)) return !0;
                            e = y.extractIfFragment(e);
                            for (var t in e)
                                if (!h(e[t])) return !1;
                            return !0;
                        default:
                            return !1
                    }
                }

                function m(e) {
                    var t = typeof e;
                    return Array.isArray(e) ? "array" : e instanceof RegExp ? "object" : t
                }

                function v(e) {
                    var t = m(e);
                    if ("object" === t) {
                        if (e instanceof Date) return "date";
                        if (e instanceof RegExp) return "regexp"
                    }
                    return t
                }
                var g = e(61),
                    y = e(67),
                    C = e(82),
                    E = e(126),
                    b = "<<anonymous>>",
                    _ = s(),
                    x = d(),
                    D = {
                        array: o("array"),
                        bool: o("boolean"),
                        func: o("function"),
                        number: o("number"),
                        object: o("object"),
                        string: o("string"),
                        any: i(),
                        arrayOf: a,
                        element: _,
                        instanceOf: u,
                        node: x,
                        objectOf: c,
                        oneOf: l,
                        oneOfType: p,
                        shape: f
                    };
                t.exports = D
            }, {
                126: 126,
                61: 61,
                67: 67,
                82: 82
            }],
            85: [function(e, t, n) {
                "use strict";

                function r() {
                    this.listenersToPut = []
                }
                var o = e(30),
                    i = e(33),
                    a = e(29);
                a(r.prototype, {
                    enqueuePutListener: function(e, t, n) {
                        this.listenersToPut.push({
                            rootNodeID: e,
                            propKey: t,
                            propValue: n
                        })
                    },
                    putListeners: function() {
                        for (var e = 0; e < this.listenersToPut.length; e++) {
                            var t = this.listenersToPut[e];
                            i.putListener(t.rootNodeID, t.propKey, t.propValue)
                        }
                    },
                    reset: function() {
                        this.listenersToPut.length = 0
                    },
                    destructor: function() {
                        this.reset()
                    }
                }), o.addPoolingTo(r), t.exports = r
            }, {
                29: 29,
                30: 30,
                33: 33
            }],
            86: [function(e, t, n) {
                "use strict";

                function r() {
                    this.reinitializeTransaction(), this.renderToStaticMarkup = !1, this.reactMountReady = o.getPooled(null), this.putListenerQueue = u.getPooled()
                }
                var o = e(7),
                    i = e(30),
                    a = e(33),
                    s = e(69),
                    u = e(85),
                    l = e(113),
                    c = e(29),
                    p = {
                        initialize: s.getSelectionInformation,
                        close: s.restoreSelection
                    },
                    d = {
                        initialize: function() {
                            var e = a.isEnabled();
                            return a.setEnabled(!1), e
                        },
                        close: function(e) {
                            a.setEnabled(e)
                        }
                    },
                    f = {
                        initialize: function() {
                            this.reactMountReady.reset()
                        },
                        close: function() {
                            this.reactMountReady.notifyAll()
                        }
                    },
                    h = {
                        initialize: function() {
                            this.putListenerQueue.reset()
                        },
                        close: function() {
                            this.putListenerQueue.putListeners()
                        }
                    },
                    m = [h, p, d, f],
                    v = {
                        getTransactionWrappers: function() {
                            return m
                        },
                        getReactMountReady: function() {
                            return this.reactMountReady
                        },
                        getPutListenerQueue: function() {
                            return this.putListenerQueue
                        },
                        destructor: function() {
                            o.release(this.reactMountReady), this.reactMountReady = null, u.release(this.putListenerQueue), this.putListenerQueue = null
                        }
                    };
                c(r.prototype, l.Mixin, v), i.addPoolingTo(r), t.exports = r
            }, {
                113: 113,
                29: 29,
                30: 30,
                33: 33,
                69: 69,
                7: 7,
                85: 85
            }],
            87: [function(e, t, n) {
                "use strict";

                function r() {
                    o.attachRefs(this, this._currentElement)
                }
                var o = e(88),
                    i = (e(62), {
                        mountComponent: function(e, t, n, o) {
                            var i = e.mountComponent(t, n, o);
                            return n.getReactMountReady().enqueue(r, e), i
                        },
                        unmountComponent: function(e) {
                            o.detachRefs(e, e._currentElement), e.unmountComponent()
                        },
                        receiveComponent: function(e, t, n, i) {
                            var a = e._currentElement;
                            if (t !== a || null == t._owner) {
                                var s = o.shouldUpdateRefs(a, t);
                                s && o.detachRefs(e, a), e.receiveComponent(t, n, i), s && n.getReactMountReady().enqueue(r, e)
                            }
                        },
                        performUpdateIfNecessary: function(e, t) {
                            e.performUpdateIfNecessary(t)
                        }
                    });
                t.exports = i
            }, {
                62: 62,
                88: 88
            }],
            88: [function(e, t, n) {
                "use strict";

                function r(e, t, n) {
                    "function" == typeof e ? e(t.getPublicInstance()) : i.addComponentAsRefTo(t, e, n)
                }

                function o(e, t, n) {
                    "function" == typeof e ? e(null) : i.removeComponentAsRefFrom(t, e, n)
                }
                var i = e(79),
                    a = {};
                a.attachRefs = function(e, t) {
                    var n = t.ref;
                    null != n && r(n, e, t._owner)
                }, a.shouldUpdateRefs = function(e, t) {
                    return t._owner !== e._owner || t.ref !== e.ref
                }, a.detachRefs = function(e, t) {
                    var n = t.ref;
                    null != n && o(n, e, t._owner)
                }, t.exports = a
            }, {
                79: 79
            }],
            89: [function(e, t, n) {
                "use strict";
                var r = {
                        injectCreateReactRootIndex: function(e) {
                            o.createReactRootIndex = e
                        }
                    },
                    o = {
                        createReactRootIndex: null,
                        injection: r
                    };
                t.exports = o
            }, {}],
            90: [function(e, t, n) {
                "use strict";

                function r(e) {
                    p(i.isValidElement(e));
                    var t;
                    try {
                        var n = a.createReactRootID();
                        return t = u.getPooled(!1), t.perform(function() {
                            var r = c(e, null),
                                o = r.mountComponent(n, t, l);
                            return s.addChecksumToMarkup(o)
                        }, null)
                    } finally {
                        u.release(t)
                    }
                }

                function o(e) {
                    p(i.isValidElement(e));
                    var t;
                    try {
                        var n = a.createReactRootID();
                        return t = u.getPooled(!0), t.perform(function() {
                            var r = c(e, null);
                            return r.mountComponent(n, t, l)
                        }, null)
                    } finally {
                        u.release(t)
                    }
                }
                var i = e(61),
                    a = e(70),
                    s = e(74),
                    u = e(91),
                    l = e(127),
                    c = e(146),
                    p = e(147);
                t.exports = {
                    renderToString: r,
                    renderToStaticMarkup: o
                }
            }, {
                127: 127,
                146: 146,
                147: 147,
                61: 61,
                70: 70,
                74: 74,
                91: 91
            }],
            91: [function(e, t, n) {
                "use strict";

                function r(e) {
                    this.reinitializeTransaction(), this.renderToStaticMarkup = e, this.reactMountReady = i.getPooled(null), this.putListenerQueue = a.getPooled()
                }
                var o = e(30),
                    i = e(7),
                    a = e(85),
                    s = e(113),
                    u = e(29),
                    l = e(126),
                    c = {
                        initialize: function() {
                            this.reactMountReady.reset()
                        },
                        close: l
                    },
                    p = {
                        initialize: function() {
                            this.putListenerQueue.reset()
                        },
                        close: l
                    },
                    d = [p, c],
                    f = {
                        getTransactionWrappers: function() {
                            return d
                        },
                        getReactMountReady: function() {
                            return this.reactMountReady
                        },
                        getPutListenerQueue: function() {
                            return this.putListenerQueue
                        },
                        destructor: function() {
                            i.release(this.reactMountReady), this.reactMountReady = null, a.release(this.putListenerQueue), this.putListenerQueue = null
                        }
                    };
                u(r.prototype, s.Mixin, f), o.addPoolingTo(r), t.exports = r
            }, {
                113: 113,
                126: 126,
                29: 29,
                30: 30,
                7: 7,
                85: 85
            }],
            92: [function(e, t, n) {
                "use strict";

                function r(e, t) {
                    var n = {};
                    return function(r) {
                        n[t] = r, e.setState(n)
                    }
                }
                var o = {
                    createStateSetter: function(e, t) {
                        return function(n, r, o, i, a, s) {
                            var u = t.call(e, n, r, o, i, a, s);
                            u && e.setState(u)
                        }
                    },
                    createStateKeySetter: function(e, t) {
                        var n = e.__keySetters || (e.__keySetters = {});
                        return n[t] || (n[t] = r(e, t))
                    }
                };
                o.Mixin = {
                    createStateSetter: function(e) {
                        return o.createStateSetter(this, e)
                    },
                    createStateKeySetter: function(e) {
                        return o.createStateKeySetter(this, e)
                    }
                }, t.exports = o
            }, {}],
            93: [function(e, t, n) {
                "use strict";
                var r = e(37),
                    o = e(67),
                    i = {
                        getChildMapping: function(e) {
                            return e ? o.extract(r.map(e, function(e) {
                                return e
                            })) : e
                        },
                        mergeChildMappings: function(e, t) {
                            function n(n) {
                                return t.hasOwnProperty(n) ? t[n] : e[n]
                            }
                            e = e || {}, t = t || {};
                            var r = {},
                                o = [];
                            for (var i in e) t.hasOwnProperty(i) ? o.length && (r[i] = o, o = []) : o.push(i);
                            var a, s = {};
                            for (var u in t) {
                                if (r.hasOwnProperty(u))
                                    for (a = 0; a < r[u].length; a++) {
                                        var l = r[u][a];
                                        s[r[u][a]] = n(l)
                                    }
                                s[u] = n(u)
                            }
                            for (a = 0; a < o.length; a++) s[o[a]] = n(o[a]);
                            return s
                        }
                    };
                t.exports = i
            }, {
                37: 37,
                67: 67
            }],
            94: [function(e, t, n) {
                "use strict";

                function r() {
                    var e = document.createElement("div"),
                        t = e.style;
                    "AnimationEvent" in window || delete s.animationend.animation, "TransitionEvent" in window || delete s.transitionend.transition;
                    for (var n in s) {
                        var r = s[n];
                        for (var o in r)
                            if (o in t) {
                                u.push(r[o]);
                                break
                            }
                    }
                }

                function o(e, t, n) {
                    e.addEventListener(t, n, !1)
                }

                function i(e, t, n) {
                    e.removeEventListener(t, n, !1)
                }
                var a = e(22),
                    s = {
                        transitionend: {
                            transition: "transitionend",
                            WebkitTransition: "webkitTransitionEnd",
                            MozTransition: "mozTransitionEnd",
                            OTransition: "oTransitionEnd",
                            msTransition: "MSTransitionEnd"
                        },
                        animationend: {
                            animation: "animationend",
                            WebkitAnimation: "webkitAnimationEnd",
                            MozAnimation: "mozAnimationEnd",
                            OAnimation: "oAnimationEnd",
                            msAnimation: "MSAnimationEnd"
                        }
                    },
                    u = [];
                a.canUseDOM && r();
                var l = {
                    addEndEventListener: function(e, t) {
                        return 0 === u.length ? void window.setTimeout(t, 0) : void u.forEach(function(n) {
                            o(e, n, t)
                        })
                    },
                    removeEndEventListener: function(e, t) {
                        0 !== u.length && u.forEach(function(n) {
                            i(e, n, t)
                        })
                    }
                };
                t.exports = l
            }, {
                22: 22
            }],
            95: [function(e, t, n) {
                "use strict";
                var r = e(31),
                    o = e(93),
                    i = e(29),
                    a = e(119),
                    s = e(126),
                    u = r.createClass({
                        displayName: "ReactTransitionGroup",
                        propTypes: {
                            component: r.PropTypes.any,
                            childFactory: r.PropTypes.func
                        },
                        getDefaultProps: function() {
                            return {
                                component: "span",
                                childFactory: s.thatReturnsArgument
                            }
                        },
                        getInitialState: function() {
                            return {
                                children: o.getChildMapping(this.props.children)
                            }
                        },
                        componentWillMount: function() {
                            this.currentlyTransitioningKeys = {}, this.keysToEnter = [], this.keysToLeave = []
                        },
                        componentDidMount: function() {
                            var e = this.state.children;
                            for (var t in e) e[t] && this.performAppear(t)
                        },
                        componentWillReceiveProps: function(e) {
                            var t = o.getChildMapping(e.children),
                                n = this.state.children;
                            this.setState({
                                children: o.mergeChildMappings(n, t)
                            });
                            var r;
                            for (r in t) {
                                var i = n && n.hasOwnProperty(r);
                                !t[r] || i || this.currentlyTransitioningKeys[r] || this.keysToEnter.push(r)
                            }
                            for (r in n) {
                                var a = t && t.hasOwnProperty(r);
                                !n[r] || a || this.currentlyTransitioningKeys[r] || this.keysToLeave.push(r)
                            }
                        },
                        componentDidUpdate: function() {
                            var e = this.keysToEnter;
                            this.keysToEnter = [], e.forEach(this.performEnter);
                            var t = this.keysToLeave;
                            this.keysToLeave = [], t.forEach(this.performLeave)
                        },
                        performAppear: function(e) {
                            this.currentlyTransitioningKeys[e] = !0;
                            var t = this.refs[e];
                            t.componentWillAppear ? t.componentWillAppear(this._handleDoneAppearing.bind(this, e)) : this._handleDoneAppearing(e)
                        },
                        _handleDoneAppearing: function(e) {
                            var t = this.refs[e];
                            t.componentDidAppear && t.componentDidAppear(), delete this.currentlyTransitioningKeys[e];
                            var n = o.getChildMapping(this.props.children);
                            n && n.hasOwnProperty(e) || this.performLeave(e)
                        },
                        performEnter: function(e) {
                            this.currentlyTransitioningKeys[e] = !0;
                            var t = this.refs[e];
                            t.componentWillEnter ? t.componentWillEnter(this._handleDoneEntering.bind(this, e)) : this._handleDoneEntering(e)
                        },
                        _handleDoneEntering: function(e) {
                            var t = this.refs[e];
                            t.componentDidEnter && t.componentDidEnter(), delete this.currentlyTransitioningKeys[e];
                            var n = o.getChildMapping(this.props.children);
                            n && n.hasOwnProperty(e) || this.performLeave(e)
                        },
                        performLeave: function(e) {
                            this.currentlyTransitioningKeys[e] = !0;
                            var t = this.refs[e];
                            t.componentWillLeave ? t.componentWillLeave(this._handleDoneLeaving.bind(this, e)) : this._handleDoneLeaving(e)
                        },
                        _handleDoneLeaving: function(e) {
                            var t = this.refs[e];
                            t.componentDidLeave && t.componentDidLeave(), delete this.currentlyTransitioningKeys[e];
                            var n = o.getChildMapping(this.props.children);
                            if (n && n.hasOwnProperty(e)) this.performEnter(e);
                            else {
                                var r = i({}, this.state.children);
                                delete r[e], this.setState({
                                    children: r
                                })
                            }
                        },
                        render: function() {
                            var e = [];
                            for (var t in this.state.children) {
                                var n = this.state.children[t];
                                n && e.push(a(this.props.childFactory(n), {
                                    ref: t,
                                    key: t
                                }))
                            }
                            return r.createElement(this.props.component, this.props, e)
                        }
                    });
                t.exports = u
            }, {
                119: 119,
                126: 126,
                29: 29,
                31: 31,
                93: 93
            }],
            96: [function(e, t, n) {
                "use strict";

                function r(e) {
                    e !== i.currentlyMountingInstance && l.enqueueUpdate(e)
                }

                function o(e, t) {
                    p(null == a.current);
                    var n = u.get(e);
                    return n ? n === i.currentlyUnmountingInstance ? null : n : null
                }
                var i = e(72),
                    a = e(45),
                    s = e(61),
                    u = e(71),
                    l = e(97),
                    c = e(29),
                    p = e(147),
                    d = (e(166), {
                        enqueueCallback: function(e, t) {
                            p("function" == typeof t);
                            var n = o(e);
                            return n && n !== i.currentlyMountingInstance ? (n._pendingCallbacks ? n._pendingCallbacks.push(t) : n._pendingCallbacks = [t], void r(n)) : null
                        },
                        enqueueCallbackInternal: function(e, t) {
                            p("function" == typeof t), e._pendingCallbacks ? e._pendingCallbacks.push(t) : e._pendingCallbacks = [t], r(e)
                        },
                        enqueueForceUpdate: function(e) {
                            var t = o(e, "forceUpdate");
                            t && (t._pendingForceUpdate = !0, r(t))
                        },
                        enqueueReplaceState: function(e, t) {
                            var n = o(e, "replaceState");
                            n && (n._pendingStateQueue = [t], n._pendingReplaceState = !0, r(n))
                        },
                        enqueueSetState: function(e, t) {
                            var n = o(e, "setState");
                            if (n) {
                                var i = n._pendingStateQueue || (n._pendingStateQueue = []);
                                i.push(t), r(n)
                            }
                        },
                        enqueueSetProps: function(e, t) {
                            var n = o(e, "setProps");
                            if (n) {
                                p(n._isTopLevel);
                                var i = n._pendingElement || n._currentElement,
                                    a = c({}, i.props, t);
                                n._pendingElement = s.cloneAndReplaceProps(i, a), r(n)
                            }
                        },
                        enqueueReplaceProps: function(e, t) {
                            var n = o(e, "replaceProps");
                            if (n) {
                                p(n._isTopLevel);
                                var i = n._pendingElement || n._currentElement;
                                n._pendingElement = s.cloneAndReplaceProps(i, t), r(n)
                            }
                        },
                        enqueueElementInternal: function(e, t) {
                            e._pendingElement = t, r(e)
                        }
                    });
                t.exports = d
            }, {
                147: 147,
                166: 166,
                29: 29,
                45: 45,
                61: 61,
                71: 71,
                72: 72,
                97: 97
            }],
            97: [function(e, t, n) {
                "use strict";

                function r() {
                    v(T.ReactReconcileTransaction && E)
                }

                function o() {
                    this.reinitializeTransaction(), this.dirtyComponentsLength = null, this.callbackQueue = c.getPooled(), this.reconcileTransaction = T.ReactReconcileTransaction.getPooled()
                }

                function i(e, t, n, o, i) {
                    r(), E.batchedUpdates(e, t, n, o, i)
                }

                function a(e, t) {
                    return e._mountOrder - t._mountOrder
                }

                function s(e) {
                    var t = e.dirtyComponentsLength;
                    v(t === g.length), g.sort(a);
                    for (var n = 0; t > n; n++) {
                        var r = g[n],
                            o = r._pendingCallbacks;
                        if (r._pendingCallbacks = null, f.performUpdateIfNecessary(r, e.reconcileTransaction), o)
                            for (var i = 0; i < o.length; i++) e.callbackQueue.enqueue(o[i], r.getPublicInstance())
                    }
                }

                function u(e) {
                    return r(), E.isBatchingUpdates ? void g.push(e) : void E.batchedUpdates(u, e)
                }

                function l(e, t) {
                    v(E.isBatchingUpdates), y.enqueue(e, t), C = !0
                }
                var c = e(7),
                    p = e(30),
                    d = (e(45), e(80)),
                    f = e(87),
                    h = e(113),
                    m = e(29),
                    v = e(147),
                    g = (e(166), []),
                    y = c.getPooled(),
                    C = !1,
                    E = null,
                    b = {
                        initialize: function() {
                            this.dirtyComponentsLength = g.length
                        },
                        close: function() {
                            this.dirtyComponentsLength !== g.length ? (g.splice(0, this.dirtyComponentsLength), D()) : g.length = 0
                        }
                    },
                    _ = {
                        initialize: function() {
                            this.callbackQueue.reset()
                        },
                        close: function() {
                            this.callbackQueue.notifyAll()
                        }
                    },
                    x = [b, _];
                m(o.prototype, h.Mixin, {
                    getTransactionWrappers: function() {
                        return x
                    },
                    destructor: function() {
                        this.dirtyComponentsLength = null, c.release(this.callbackQueue), this.callbackQueue = null, T.ReactReconcileTransaction.release(this.reconcileTransaction), this.reconcileTransaction = null
                    },
                    perform: function(e, t, n) {
                        return h.Mixin.perform.call(this, this.reconcileTransaction.perform, this.reconcileTransaction, e, t, n)
                    }
                }), p.addPoolingTo(o);
                var D = function() {
                    for (; g.length || C;) {
                        if (g.length) {
                            var e = o.getPooled();
                            e.perform(s, null, e), o.release(e)
                        }
                        if (C) {
                            C = !1;
                            var t = y;
                            y = c.getPooled(), t.notifyAll(), c.release(t)
                        }
                    }
                };
                D = d.measure("ReactUpdates", "flushBatchedUpdates", D);
                var M = {
                        injectReconcileTransaction: function(e) {
                            v(e), T.ReactReconcileTransaction = e
                        },
                        injectBatchingStrategy: function(e) {
                            v(e), v("function" == typeof e.batchedUpdates), v("boolean" == typeof e.isBatchingUpdates), E = e
                        }
                    },
                    T = {
                        ReactReconcileTransaction: null,
                        batchedUpdates: i,
                        enqueueUpdate: u,
                        flushBatchedUpdates: D,
                        injection: M,
                        asap: l
                    };
                t.exports = T
            }, {
                113: 113,
                147: 147,
                166: 166,
                29: 29,
                30: 30,
                45: 45,
                7: 7,
                80: 80,
                87: 87
            }],
            98: [function(e, t, n) {
                "use strict";
                var r = e(11),
                    o = r.injection.MUST_USE_ATTRIBUTE,
                    i = {
                        Properties: {
                            clipPath: o,
                            cx: o,
                            cy: o,
                            d: o,
                            dx: o,
                            dy: o,
                            fill: o,
                            fillOpacity: o,
                            fontFamily: o,
                            fontSize: o,
                            fx: o,
                            fy: o,
                            gradientTransform: o,
                            gradientUnits: o,
                            markerEnd: o,
                            markerMid: o,
                            markerStart: o,
                            offset: o,
                            opacity: o,
                            patternContentUnits: o,
                            patternUnits: o,
                            points: o,
                            preserveAspectRatio: o,
                            r: o,
                            rx: o,
                            ry: o,
                            spreadMethod: o,
                            stopColor: o,
                            stopOpacity: o,
                            stroke: o,
                            strokeDasharray: o,
                            strokeLinecap: o,
                            strokeOpacity: o,
                            strokeWidth: o,
                            textAnchor: o,
                            transform: o,
                            version: o,
                            viewBox: o,
                            x1: o,
                            x2: o,
                            x: o,
                            y1: o,
                            y2: o,
                            y: o
                        },
                        DOMAttributeNames: {
                            clipPath: "clip-path",
                            fillOpacity: "fill-opacity",
                            fontFamily: "font-family",
                            fontSize: "font-size",
                            gradientTransform: "gradientTransform",
                            gradientUnits: "gradientUnits",
                            markerEnd: "marker-end",
                            markerMid: "marker-mid",
                            markerStart: "marker-start",
                            patternContentUnits: "patternContentUnits",
                            patternUnits: "patternUnits",
                            preserveAspectRatio: "preserveAspectRatio",
                            spreadMethod: "spreadMethod",
                            stopColor: "stop-color",
                            stopOpacity: "stop-opacity",
                            strokeDasharray: "stroke-dasharray",
                            strokeLinecap: "stroke-linecap",
                            strokeOpacity: "stroke-opacity",
                            strokeWidth: "stroke-width",
                            textAnchor: "text-anchor",
                            viewBox: "viewBox"
                        }
                    };
                t.exports = i
            }, {
                11: 11
            }],
            99: [function(e, t, n) {
                "use strict";

                function r(e) {
                    if ("selectionStart" in e && s.hasSelectionCapabilities(e)) return {
                        start: e.selectionStart,
                        end: e.selectionEnd
                    };
                    if (window.getSelection) {
                        var t = window.getSelection();
                        return {
                            anchorNode: t.anchorNode,
                            anchorOffset: t.anchorOffset,
                            focusNode: t.focusNode,
                            focusOffset: t.focusOffset
                        }
                    }
                    if (document.selection) {
                        var n = document.selection.createRange();
                        return {
                            parentElement: n.parentElement(),
                            text: n.text,
                            top: n.boundingTop,
                            left: n.boundingLeft
                        }
                    }
                }

                function o(e) {
                    if (y || null == m || m !== l()) return null;
                    var t = r(m);
                    if (!g || !d(g, t)) {
                        g = t;
                        var n = u.getPooled(h.select, v, e);
                        return n.type = "select", n.target = m, a.accumulateTwoPhaseDispatches(n), n
                    }
                }
                var i = e(16),
                    a = e(21),
                    s = e(69),
                    u = e(105),
                    l = e(133),
                    c = e(150),
                    p = e(154),
                    d = e(161),
                    f = i.topLevelTypes,
                    h = {
                        select: {
                            phasedRegistrationNames: {
                                bubbled: p({
                                    onSelect: null
                                }),
                                captured: p({
                                    onSelectCapture: null
                                })
                            },
                            dependencies: [f.topBlur, f.topContextMenu, f.topFocus, f.topKeyDown, f.topMouseDown, f.topMouseUp, f.topSelectionChange]
                        }
                    },
                    m = null,
                    v = null,
                    g = null,
                    y = !1,
                    C = {
                        eventTypes: h,
                        extractEvents: function(e, t, n, r) {
                            switch (e) {
                                case f.topFocus:
                                    (c(t) || "true" === t.contentEditable) && (m = t, v = n, g = null);
                                    break;
                                case f.topBlur:
                                    m = null, v = null, g = null;
                                    break;
                                case f.topMouseDown:
                                    y = !0;
                                    break;
                                case f.topContextMenu:
                                case f.topMouseUp:
                                    return y = !1, o(r);
                                case f.topSelectionChange:
                                case f.topKeyDown:
                                case f.topKeyUp:
                                    return o(r)
                            }
                        }
                    };
                t.exports = C
            }, {
                105: 105,
                133: 133,
                150: 150,
                154: 154,
                16: 16,
                161: 161,
                21: 21,
                69: 69
            }],
            100: [function(e, t, n) {
                "use strict";
                var r = Math.pow(2, 53),
                    o = {
                        createReactRootIndex: function() {
                            return Math.ceil(Math.random() * r)
                        }
                    };
                t.exports = o
            }, {}],
            101: [function(e, t, n) {
                "use strict";
                var r = e(16),
                    o = e(20),
                    i = e(21),
                    a = e(102),
                    s = e(105),
                    u = e(106),
                    l = e(108),
                    c = e(109),
                    p = e(104),
                    d = e(110),
                    f = e(111),
                    h = e(112),
                    m = e(134),
                    v = e(147),
                    g = e(154),
                    y = (e(166), r.topLevelTypes),
                    C = {
                        blur: {
                            phasedRegistrationNames: {
                                bubbled: g({
                                    onBlur: !0
                                }),
                                captured: g({
                                    onBlurCapture: !0
                                })
                            }
                        },
                        click: {
                            phasedRegistrationNames: {
                                bubbled: g({
                                    onClick: !0
                                }),
                                captured: g({
                                    onClickCapture: !0
                                })
                            }
                        },
                        contextMenu: {
                            phasedRegistrationNames: {
                                bubbled: g({
                                    onContextMenu: !0
                                }),
                                captured: g({
                                    onContextMenuCapture: !0
                                })
                            }
                        },
                        copy: {
                            phasedRegistrationNames: {
                                bubbled: g({
                                    onCopy: !0
                                }),
                                captured: g({
                                    onCopyCapture: !0
                                })
                            }
                        },
                        cut: {
                            phasedRegistrationNames: {
                                bubbled: g({
                                    onCut: !0
                                }),
                                captured: g({
                                    onCutCapture: !0
                                })
                            }
                        },
                        doubleClick: {
                            phasedRegistrationNames: {
                                bubbled: g({
                                    onDoubleClick: !0
                                }),
                                captured: g({
                                    onDoubleClickCapture: !0
                                })
                            }
                        },
                        drag: {
                            phasedRegistrationNames: {
                                bubbled: g({
                                    onDrag: !0
                                }),
                                captured: g({
                                    onDragCapture: !0
                                })
                            }
                        },
                        dragEnd: {
                            phasedRegistrationNames: {
                                bubbled: g({
                                    onDragEnd: !0
                                }),
                                captured: g({
                                    onDragEndCapture: !0
                                })
                            }
                        },
                        dragEnter: {
                            phasedRegistrationNames: {
                                bubbled: g({
                                    onDragEnter: !0
                                }),
                                captured: g({
                                    onDragEnterCapture: !0
                                })
                            }
                        },
                        dragExit: {
                            phasedRegistrationNames: {
                                bubbled: g({
                                    onDragExit: !0
                                }),
                                captured: g({
                                    onDragExitCapture: !0
                                })
                            }
                        },
                        dragLeave: {
                            phasedRegistrationNames: {
                                bubbled: g({
                                    onDragLeave: !0
                                }),
                                captured: g({
                                    onDragLeaveCapture: !0
                                })
                            }
                        },
                        dragOver: {
                            phasedRegistrationNames: {
                                bubbled: g({
                                    onDragOver: !0
                                }),
                                captured: g({
                                    onDragOverCapture: !0
                                })
                            }
                        },
                        dragStart: {
                            phasedRegistrationNames: {
                                bubbled: g({
                                    onDragStart: !0
                                }),
                                captured: g({
                                    onDragStartCapture: !0
                                })
                            }
                        },
                        drop: {
                            phasedRegistrationNames: {
                                bubbled: g({
                                    onDrop: !0
                                }),
                                captured: g({
                                    onDropCapture: !0
                                })
                            }
                        },
                        focus: {
                            phasedRegistrationNames: {
                                bubbled: g({
                                    onFocus: !0
                                }),
                                captured: g({
                                    onFocusCapture: !0
                                })
                            }
                        },
                        input: {
                            phasedRegistrationNames: {
                                bubbled: g({
                                    onInput: !0
                                }),
                                captured: g({
                                    onInputCapture: !0
                                })
                            }
                        },
                        keyDown: {
                            phasedRegistrationNames: {
                                bubbled: g({
                                    onKeyDown: !0
                                }),
                                captured: g({
                                    onKeyDownCapture: !0
                                })
                            }
                        },
                        keyPress: {
                            phasedRegistrationNames: {
                                bubbled: g({
                                    onKeyPress: !0
                                }),
                                captured: g({
                                    onKeyPressCapture: !0
                                })
                            }
                        },
                        keyUp: {
                            phasedRegistrationNames: {
                                bubbled: g({
                                    onKeyUp: !0
                                }),
                                captured: g({
                                    onKeyUpCapture: !0
                                })
                            }
                        },
                        load: {
                            phasedRegistrationNames: {
                                bubbled: g({
                                    onLoad: !0
                                }),
                                captured: g({
                                    onLoadCapture: !0
                                })
                            }
                        },
                        error: {
                            phasedRegistrationNames: {
                                bubbled: g({
                                    onError: !0
                                }),
                                captured: g({
                                    onErrorCapture: !0
                                })
                            }
                        },
                        mouseDown: {
                            phasedRegistrationNames: {
                                bubbled: g({
                                    onMouseDown: !0
                                }),
                                captured: g({
                                    onMouseDownCapture: !0
                                })
                            }
                        },
                        mouseMove: {
                            phasedRegistrationNames: {
                                bubbled: g({
                                    onMouseMove: !0
                                }),
                                captured: g({
                                    onMouseMoveCapture: !0
                                })
                            }
                        },
                        mouseOut: {
                            phasedRegistrationNames: {
                                bubbled: g({
                                    onMouseOut: !0
                                }),
                                captured: g({
                                    onMouseOutCapture: !0
                                })
                            }
                        },
                        mouseOver: {
                            phasedRegistrationNames: {
                                bubbled: g({
                                    onMouseOver: !0
                                }),
                                captured: g({
                                    onMouseOverCapture: !0
                                })
                            }
                        },
                        mouseUp: {
                            phasedRegistrationNames: {
                                bubbled: g({
                                    onMouseUp: !0
                                }),
                                captured: g({
                                    onMouseUpCapture: !0
                                })
                            }
                        },
                        paste: {
                            phasedRegistrationNames: {
                                bubbled: g({
                                    onPaste: !0
                                }),
                                captured: g({
                                    onPasteCapture: !0
                                })
                            }
                        },
                        reset: {
                            phasedRegistrationNames: {
                                bubbled: g({
                                    onReset: !0
                                }),
                                captured: g({
                                    onResetCapture: !0
                                })
                            }
                        },
                        scroll: {
                            phasedRegistrationNames: {
                                bubbled: g({
                                    onScroll: !0
                                }),
                                captured: g({
                                    onScrollCapture: !0
                                })
                            }
                        },
                        submit: {
                            phasedRegistrationNames: {
                                bubbled: g({
                                    onSubmit: !0
                                }),
                                captured: g({
                                    onSubmitCapture: !0
                                })
                            }
                        },
                        touchCancel: {
                            phasedRegistrationNames: {
                                bubbled: g({
                                    onTouchCancel: !0
                                }),
                                captured: g({
                                    onTouchCancelCapture: !0
                                })
                            }
                        },
                        touchEnd: {
                            phasedRegistrationNames: {
                                bubbled: g({
                                    onTouchEnd: !0
                                }),
                                captured: g({
                                    onTouchEndCapture: !0
                                })
                            }
                        },
                        touchMove: {
                            phasedRegistrationNames: {
                                bubbled: g({
                                    onTouchMove: !0
                                }),
                                captured: g({
                                    onTouchMoveCapture: !0
                                })
                            }
                        },
                        touchStart: {
                            phasedRegistrationNames: {
                                bubbled: g({
                                    onTouchStart: !0
                                }),
                                captured: g({
                                    onTouchStartCapture: !0
                                })
                            }
                        },
                        wheel: {
                            phasedRegistrationNames: {
                                bubbled: g({
                                    onWheel: !0
                                }),
                                captured: g({
                                    onWheelCapture: !0
                                })
                            }
                        }
                    },
                    E = {
                        topBlur: C.blur,
                        topClick: C.click,
                        topContextMenu: C.contextMenu,
                        topCopy: C.copy,
                        topCut: C.cut,
                        topDoubleClick: C.doubleClick,
                        topDrag: C.drag,
                        topDragEnd: C.dragEnd,
                        topDragEnter: C.dragEnter,
                        topDragExit: C.dragExit,
                        topDragLeave: C.dragLeave,
                        topDragOver: C.dragOver,
                        topDragStart: C.dragStart,
                        topDrop: C.drop,
                        topError: C.error,
                        topFocus: C.focus,
                        topInput: C.input,
                        topKeyDown: C.keyDown,
                        topKeyPress: C.keyPress,
                        topKeyUp: C.keyUp,
                        topLoad: C.load,
                        topMouseDown: C.mouseDown,
                        topMouseMove: C.mouseMove,
                        topMouseOut: C.mouseOut,
                        topMouseOver: C.mouseOver,
                        topMouseUp: C.mouseUp,
                        topPaste: C.paste,
                        topReset: C.reset,
                        topScroll: C.scroll,
                        topSubmit: C.submit,
                        topTouchCancel: C.touchCancel,
                        topTouchEnd: C.touchEnd,
                        topTouchMove: C.touchMove,
                        topTouchStart: C.touchStart,
                        topWheel: C.wheel
                    };
                for (var b in E) E[b].dependencies = [b];
                var _ = {
                    eventTypes: C,
                    executeDispatch: function(e, t, n) {
                        var r = o.executeDispatch(e, t, n);
                        r === !1 && (e.stopPropagation(), e.preventDefault())
                    },
                    extractEvents: function(e, t, n, r) {
                        var o = E[e];
                        if (!o) return null;
                        var g;
                        switch (e) {
                            case y.topInput:
                            case y.topLoad:
                            case y.topError:
                            case y.topReset:
                            case y.topSubmit:
                                g = s;
                                break;
                            case y.topKeyPress:
                                if (0 === m(r)) return null;
                            case y.topKeyDown:
                            case y.topKeyUp:
                                g = l;
                                break;
                            case y.topBlur:
                            case y.topFocus:
                                g = u;
                                break;
                            case y.topClick:
                                if (2 === r.button) return null;
                            case y.topContextMenu:
                            case y.topDoubleClick:
                            case y.topMouseDown:
                            case y.topMouseMove:
                            case y.topMouseOut:
                            case y.topMouseOver:
                            case y.topMouseUp:
                                g = c;
                                break;
                            case y.topDrag:
                            case y.topDragEnd:
                            case y.topDragEnter:
                            case y.topDragExit:
                            case y.topDragLeave:
                            case y.topDragOver:
                            case y.topDragStart:
                            case y.topDrop:
                                g = p;
                                break;
                            case y.topTouchCancel:
                            case y.topTouchEnd:
                            case y.topTouchMove:
                            case y.topTouchStart:
                                g = d;
                                break;
                            case y.topScroll:
                                g = f;
                                break;
                            case y.topWheel:
                                g = h;
                                break;
                            case y.topCopy:
                            case y.topCut:
                            case y.topPaste:
                                g = a
                        }
                        v(g);
                        var C = g.getPooled(o, n, r);
                        return i.accumulateTwoPhaseDispatches(C), C
                    }
                };
                t.exports = _
            }, {
                102: 102,
                104: 104,
                105: 105,
                106: 106,
                108: 108,
                109: 109,
                110: 110,
                111: 111,
                112: 112,
                134: 134,
                147: 147,
                154: 154,
                16: 16,
                166: 166,
                20: 20,
                21: 21
            }],
            102: [function(e, t, n) {
                "use strict";

                function r(e, t, n) {
                    o.call(this, e, t, n)
                }
                var o = e(105),
                    i = {
                        clipboardData: function(e) {
                            return "clipboardData" in e ? e.clipboardData : window.clipboardData
                        }
                    };
                o.augmentClass(r, i), t.exports = r
            }, {
                105: 105
            }],
            103: [function(e, t, n) {
                "use strict";

                function r(e, t, n) {
                    o.call(this, e, t, n)
                }
                var o = e(105),
                    i = {
                        data: null
                    };
                o.augmentClass(r, i), t.exports = r
            }, {
                105: 105
            }],
            104: [function(e, t, n) {
                "use strict";

                function r(e, t, n) {
                    o.call(this, e, t, n)
                }
                var o = e(109),
                    i = {
                        dataTransfer: null
                    };
                o.augmentClass(r, i), t.exports = r
            }, {
                109: 109
            }],
            105: [function(e, t, n) {
                "use strict";

                function r(e, t, n) {
                    this.dispatchConfig = e, this.dispatchMarker = t, this.nativeEvent = n;
                    var r = this.constructor.Interface;
                    for (var o in r)
                        if (r.hasOwnProperty(o)) {
                            var i = r[o];
                            i ? this[o] = i(n) : this[o] = n[o]
                        }
                    var s = null != n.defaultPrevented ? n.defaultPrevented : n.returnValue === !1;
                    s ? this.isDefaultPrevented = a.thatReturnsTrue : this.isDefaultPrevented = a.thatReturnsFalse, this.isPropagationStopped = a.thatReturnsFalse
                }
                var o = e(30),
                    i = e(29),
                    a = e(126),
                    s = e(137),
                    u = {
                        type: null,
                        target: s,
                        currentTarget: a.thatReturnsNull,
                        eventPhase: null,
                        bubbles: null,
                        cancelable: null,
                        timeStamp: function(e) {
                            return e.timeStamp || Date.now()
                        },
                        defaultPrevented: null,
                        isTrusted: null
                    };
                i(r.prototype, {
                    preventDefault: function() {
                        this.defaultPrevented = !0;
                        var e = this.nativeEvent;
                        e.preventDefault ? e.preventDefault() : e.returnValue = !1, this.isDefaultPrevented = a.thatReturnsTrue
                    },
                    stopPropagation: function() {
                        var e = this.nativeEvent;
                        e.stopPropagation ? e.stopPropagation() : e.cancelBubble = !0, this.isPropagationStopped = a.thatReturnsTrue
                    },
                    persist: function() {
                        this.isPersistent = a.thatReturnsTrue
                    },
                    isPersistent: a.thatReturnsFalse,
                    destructor: function() {
                        var e = this.constructor.Interface;
                        for (var t in e) this[t] = null;
                        this.dispatchConfig = null, this.dispatchMarker = null, this.nativeEvent = null
                    }
                }), r.Interface = u, r.augmentClass = function(e, t) {
                    var n = this,
                        r = Object.create(n.prototype);
                    i(r, e.prototype), e.prototype = r, e.prototype.constructor = e, e.Interface = i({}, n.Interface, t), e.augmentClass = n.augmentClass, o.addPoolingTo(e, o.threeArgumentPooler)
                }, o.addPoolingTo(r, o.threeArgumentPooler), t.exports = r
            }, {
                126: 126,
                137: 137,
                29: 29,
                30: 30
            }],
            106: [function(e, t, n) {
                "use strict";

                function r(e, t, n) {
                    o.call(this, e, t, n)
                }
                var o = e(111),
                    i = {
                        relatedTarget: null
                    };
                o.augmentClass(r, i), t.exports = r
            }, {
                111: 111
            }],
            107: [function(e, t, n) {
                "use strict";

                function r(e, t, n) {
                    o.call(this, e, t, n)
                }
                var o = e(105),
                    i = {
                        data: null
                    };
                o.augmentClass(r, i), t.exports = r
            }, {
                105: 105
            }],
            108: [function(e, t, n) {
                "use strict";

                function r(e, t, n) {
                    o.call(this, e, t, n)
                }
                var o = e(111),
                    i = e(134),
                    a = e(135),
                    s = e(136),
                    u = {
                        key: a,
                        location: null,
                        ctrlKey: null,
                        shiftKey: null,
                        altKey: null,
                        metaKey: null,
                        repeat: null,
                        locale: null,
                        getModifierState: s,
                        charCode: function(e) {
                            return "keypress" === e.type ? i(e) : 0
                        },
                        keyCode: function(e) {
                            return "keydown" === e.type || "keyup" === e.type ? e.keyCode : 0
                        },
                        which: function(e) {
                            return "keypress" === e.type ? i(e) : "keydown" === e.type || "keyup" === e.type ? e.keyCode : 0
                        }
                    };
                o.augmentClass(r, u), t.exports = r
            }, {
                111: 111,
                134: 134,
                135: 135,
                136: 136
            }],
            109: [function(e, t, n) {
                "use strict";

                function r(e, t, n) {
                    o.call(this, e, t, n)
                }
                var o = e(111),
                    i = e(114),
                    a = e(136),
                    s = {
                        screenX: null,
                        screenY: null,
                        clientX: null,
                        clientY: null,
                        ctrlKey: null,
                        shiftKey: null,
                        altKey: null,
                        metaKey: null,
                        getModifierState: a,
                        button: function(e) {
                            var t = e.button;
                            return "which" in e ? t : 2 === t ? 2 : 4 === t ? 1 : 0
                        },
                        buttons: null,
                        relatedTarget: function(e) {
                            return e.relatedTarget || (e.fromElement === e.srcElement ? e.toElement : e.fromElement)
                        },
                        pageX: function(e) {
                            return "pageX" in e ? e.pageX : e.clientX + i.currentScrollLeft
                        },
                        pageY: function(e) {
                            return "pageY" in e ? e.pageY : e.clientY + i.currentScrollTop
                        }
                    };
                o.augmentClass(r, s), t.exports = r
            }, {
                111: 111,
                114: 114,
                136: 136
            }],
            110: [function(e, t, n) {
                "use strict";

                function r(e, t, n) {
                    o.call(this, e, t, n)
                }
                var o = e(111),
                    i = e(136),
                    a = {
                        touches: null,
                        targetTouches: null,
                        changedTouches: null,
                        altKey: null,
                        metaKey: null,
                        ctrlKey: null,
                        shiftKey: null,
                        getModifierState: i
                    };
                o.augmentClass(r, a), t.exports = r
            }, {
                111: 111,
                136: 136
            }],
            111: [function(e, t, n) {
                "use strict";

                function r(e, t, n) {
                    o.call(this, e, t, n)
                }
                var o = e(105),
                    i = e(137),
                    a = {
                        view: function(e) {
                            if (e.view) return e.view;
                            var t = i(e);
                            if (null != t && t.window === t) return t;
                            var n = t.ownerDocument;
                            return n ? n.defaultView || n.parentWindow : window
                        },
                        detail: function(e) {
                            return e.detail || 0
                        }
                    };
                o.augmentClass(r, a), t.exports = r
            }, {
                105: 105,
                137: 137
            }],
            112: [function(e, t, n) {
                "use strict";

                function r(e, t, n) {
                    o.call(this, e, t, n)
                }
                var o = e(109),
                    i = {
                        deltaX: function(e) {
                            return "deltaX" in e ? e.deltaX : "wheelDeltaX" in e ? -e.wheelDeltaX : 0
                        },
                        deltaY: function(e) {
                            return "deltaY" in e ? e.deltaY : "wheelDeltaY" in e ? -e.wheelDeltaY : "wheelDelta" in e ? -e.wheelDelta : 0
                        },
                        deltaZ: null,
                        deltaMode: null
                    };
                o.augmentClass(r, i), t.exports = r
            }, {
                109: 109
            }],
            113: [function(e, t, n) {
                "use strict";
                var r = e(147),
                    o = {
                        reinitializeTransaction: function() {
                            this.transactionWrappers = this.getTransactionWrappers(), this.wrapperInitData ? this.wrapperInitData.length = 0 : this.wrapperInitData = [], this._isInTransaction = !1
                        },
                        _isInTransaction: !1,
                        getTransactionWrappers: null,
                        isInTransaction: function() {
                            return !!this._isInTransaction
                        },
                        perform: function(e, t, n, o, i, a, s, u) {
                            r(!this.isInTransaction());
                            var l, c;
                            try {
                                this._isInTransaction = !0, l = !0, this.initializeAll(0), c = e.call(t, n, o, i, a, s, u), l = !1
                            } finally {
                                try {
                                    if (l) try {
                                        this.closeAll(0)
                                    } catch (p) {} else this.closeAll(0)
                                } finally {
                                    this._isInTransaction = !1
                                }
                            }
                            return c
                        },
                        initializeAll: function(e) {
                            for (var t = this.transactionWrappers, n = e; n < t.length; n++) {
                                var r = t[n];
                                try {
                                    this.wrapperInitData[n] = i.OBSERVED_ERROR, this.wrapperInitData[n] = r.initialize ? r.initialize.call(this) : null
                                } finally {
                                    if (this.wrapperInitData[n] === i.OBSERVED_ERROR) try {
                                        this.initializeAll(n + 1)
                                    } catch (o) {}
                                }
                            }
                        },
                        closeAll: function(e) {
                            r(this.isInTransaction());
                            for (var t = this.transactionWrappers, n = e; n < t.length; n++) {
                                var o, a = t[n],
                                    s = this.wrapperInitData[n];
                                try {
                                    o = !0, s !== i.OBSERVED_ERROR && a.close && a.close.call(this, s), o = !1
                                } finally {
                                    if (o) try {
                                        this.closeAll(n + 1)
                                    } catch (u) {}
                                }
                            }
                            this.wrapperInitData.length = 0
                        }
                    },
                    i = {
                        Mixin: o,
                        OBSERVED_ERROR: {}
                    };
                t.exports = i
            }, {
                147: 147
            }],
            114: [function(e, t, n) {
                "use strict";
                var r = {
                    currentScrollLeft: 0,
                    currentScrollTop: 0,
                    refreshScrollValues: function(e) {
                        r.currentScrollLeft = e.x, r.currentScrollTop = e.y
                    }
                };
                t.exports = r
            }, {}],
            115: [function(e, t, n) {
                "use strict";

                function r(e, t) {
                    if (o(null != t), null == e) return t;
                    var n = Array.isArray(e),
                        r = Array.isArray(t);
                    return n && r ? (e.push.apply(e, t), e) : n ? (e.push(t), e) : r ? [e].concat(t) : [e, t]
                }
                var o = e(147);
                t.exports = r
            }, {
                147: 147
            }],
            116: [function(e, t, n) {
                "use strict";

                function r(e) {
                    for (var t = 1, n = 0, r = 0; r < e.length; r++) t = (t + e.charCodeAt(r)) % o, n = (n + t) % o;
                    return t | n << 16
                }
                var o = 65521;
                t.exports = r
            }, {}],
            117: [function(e, t, n) {
                function r(e) {
                    return e.replace(o, function(e, t) {
                        return t.toUpperCase()
                    })
                }
                var o = /-(.)/g;
                t.exports = r
            }, {}],
            118: [function(e, t, n) {
                "use strict";

                function r(e) {
                    return o(e.replace(i, "ms-"))
                }
                var o = e(117),
                    i = /^-ms-/;
                t.exports = r
            }, {
                117: 117
            }],
            119: [function(e, t, n) {
                "use strict";

                function r(e, t) {
                    var n = i.mergeProps(t, e.props);
                    return !n.hasOwnProperty(s) && e.props.hasOwnProperty(s) && (n.children = e.props.children), o.createElement(e.type, n)
                }
                var o = e(61),
                    i = e(81),
                    a = e(154),
                    s = (e(166), a({
                        children: null
                    }));
                t.exports = r
            }, {
                154: 154,
                166: 166,
                61: 61,
                81: 81
            }],
            120: [function(e, t, n) {
                function r(e, t) {
                    return e && t ? e === t ? !0 : o(e) ? !1 : o(t) ? r(e, t.parentNode) : e.contains ? e.contains(t) : e.compareDocumentPosition ? !!(16 & e.compareDocumentPosition(t)) : !1 : !1
                }
                var o = e(151);
                t.exports = r
            }, {
                151: 151
            }],
            121: [function(e, t, n) {
                function r(e) {
                    return !!e && ("object" == typeof e || "function" == typeof e) && "length" in e && !("setInterval" in e) && "number" != typeof e.nodeType && (Array.isArray(e) || "callee" in e || "item" in e)
                }

                function o(e) {
                    return r(e) ? Array.isArray(e) ? e.slice() : i(e) : [e]
                }
                var i = e(163);
                t.exports = o
            }, {
                163: 163
            }],
            122: [function(e, t, n) {
                "use strict";

                function r(e) {
                    var t = i.createFactory(e),
                        n = o.createClass({
                            tagName: e.toUpperCase(),
                            displayName: "ReactFullPageComponent" + e,
                            componentWillUnmount: function() {
                                a(!1)
                            },
                            render: function() {
                                return t(this.props)
                            }
                        });
                    return n
                }
                var o = e(38),
                    i = e(61),
                    a = e(147);
                t.exports = r
            }, {
                147: 147,
                38: 38,
                61: 61
            }],
            123: [function(e, t, n) {
                function r(e) {
                    var t = e.match(c);
                    return t && t[1].toLowerCase()
                }

                function o(e, t) {
                    var n = l;
                    u(!!l);
                    var o = r(e),
                        i = o && s(o);
                    if (i) {
                        n.innerHTML = i[1] + e + i[2];
                        for (var c = i[0]; c--;) n = n.lastChild
                    } else n.innerHTML = e;
                    var p = n.getElementsByTagName("script");
                    p.length && (u(t), a(p).forEach(t));
                    for (var d = a(n.childNodes); n.lastChild;) n.removeChild(n.lastChild);
                    return d
                }
                var i = e(22),
                    a = e(121),
                    s = e(139),
                    u = e(147),
                    l = i.canUseDOM ? document.createElement("div") : null,
                    c = /^\s*<(\w+)/;
                t.exports = o
            }, {
                121: 121,
                139: 139,
                147: 147,
                22: 22
            }],
            124: [function(e, t, n) {
                "use strict";

                function r(e) {
                    return "object" == typeof e ? Object.keys(e).filter(function(t) {
                        return e[t]
                    }).join(" ") : Array.prototype.join.call(arguments, " ")
                }
                e(166), t.exports = r
            }, {
                166: 166
            }],
            125: [function(e, t, n) {
                "use strict";

                function r(e, t) {
                    var n = null == t || "boolean" == typeof t || "" === t;
                    if (n) return "";
                    var r = isNaN(t);
                    return r || 0 === t || i.hasOwnProperty(e) && i[e] ? "" + t : ("string" == typeof t && (t = t.trim()), t + "px")
                }
                var o = e(5),
                    i = o.isUnitlessNumber;
                t.exports = r
            }, {
                5: 5
            }],
            126: [function(e, t, n) {
                function r(e) {
                    return function() {
                        return e
                    }
                }

                function o() {}
                o.thatReturns = r, o.thatReturnsFalse = r(!1), o.thatReturnsTrue = r(!0), o.thatReturnsNull = r(null), o.thatReturnsThis = function() {
                    return this
                }, o.thatReturnsArgument = function(e) {
                    return e
                }, t.exports = o
            }, {}],
            127: [function(e, t, n) {
                "use strict";
                var r = {};
                t.exports = r
            }, {}],
            128: [function(e, t, n) {
                "use strict";

                function r(e) {
                    return i[e]
                }

                function o(e) {
                    return ("" + e).replace(a, r)
                }
                var i = {
                        "&": "&amp;",
                        ">": "&gt;",
                        "<": "&lt;",
                        '"': "&quot;",
                        "'": "&#x27;"
                    },
                    a = /[&><"']/g;
                t.exports = o
            }, {}],
            129: [function(e, t, n) {
                "use strict";

                function r(e) {
                    return null == e ? null : s(e) ? e : o.has(e) ? i.getNodeFromInstance(e) : (a(null == e.render || "function" != typeof e.render), void a(!1))
                }
                var o = (e(45), e(71)),
                    i = e(75),
                    a = e(147),
                    s = e(149);
                e(166), t.exports = r
            }, {
                147: 147,
                149: 149,
                166: 166,
                45: 45,
                71: 71,
                75: 75
            }],
            130: [function(e, t, n) {
                "use strict";

                function r(e, t, n) {
                    var r = e,
                        o = !r.hasOwnProperty(n);
                    o && null != t && (r[n] = t)
                }

                function o(e) {
                    if (null == e) return e;
                    var t = {};
                    return i(e, r, t), t
                }
                var i = e(164);
                e(166), t.exports = o
            }, {
                164: 164,
                166: 166
            }],
            131: [function(e, t, n) {
                "use strict";

                function r(e) {
                    try {
                        e.focus()
                    } catch (t) {}
                }
                t.exports = r
            }, {}],
            132: [function(e, t, n) {
                "use strict";
                var r = function(e, t, n) {
                    Array.isArray(e) ? e.forEach(t, n) : e && t.call(n, e)
                };
                t.exports = r
            }, {}],
            133: [function(e, t, n) {
                function r() {
                    try {
                        return document.activeElement || document.body
                    } catch (e) {
                        return document.body
                    }
                }
                t.exports = r
            }, {}],
            134: [function(e, t, n) {
                "use strict";

                function r(e) {
                    var t, n = e.keyCode;
                    return "charCode" in e ? (t = e.charCode, 0 === t && 13 === n && (t = 13)) : t = n, t >= 32 || 13 === t ? t : 0
                }
                t.exports = r
            }, {}],
            135: [function(e, t, n) {
                "use strict";

                function r(e) {
                    if (e.key) {
                        var t = i[e.key] || e.key;
                        if ("Unidentified" !== t) return t
                    }
                    if ("keypress" === e.type) {
                        var n = o(e);
                        return 13 === n ? "Enter" : String.fromCharCode(n)
                    }
                    return "keydown" === e.type || "keyup" === e.type ? a[e.keyCode] || "Unidentified" : ""
                }
                var o = e(134),
                    i = {
                        Esc: "Escape",
                        Spacebar: " ",
                        Left: "ArrowLeft",
                        Up: "ArrowUp",
                        Right: "ArrowRight",
                        Down: "ArrowDown",
                        Del: "Delete",
                        Win: "OS",
                        Menu: "ContextMenu",
                        Apps: "ContextMenu",
                        Scroll: "ScrollLock",
                        MozPrintableKey: "Unidentified"
                    },
                    a = {
                        8: "Backspace",
                        9: "Tab",
                        12: "Clear",
                        13: "Enter",
                        16: "Shift",
                        17: "Control",
                        18: "Alt",
                        19: "Pause",
                        20: "CapsLock",
                        27: "Escape",
                        32: " ",
                        33: "PageUp",
                        34: "PageDown",
                        35: "End",
                        36: "Home",
                        37: "ArrowLeft",
                        38: "ArrowUp",
                        39: "ArrowRight",
                        40: "ArrowDown",
                        45: "Insert",
                        46: "Delete",
                        112: "F1",
                        113: "F2",
                        114: "F3",
                        115: "F4",
                        116: "F5",
                        117: "F6",
                        118: "F7",
                        119: "F8",
                        120: "F9",
                        121: "F10",
                        122: "F11",
                        123: "F12",
                        144: "NumLock",
                        145: "ScrollLock",
                        224: "Meta"
                    };
                t.exports = r
            }, {
                134: 134
            }],
            136: [function(e, t, n) {
                "use strict";

                function r(e) {
                    var t = this,
                        n = t.nativeEvent;
                    if (n.getModifierState) return n.getModifierState(e);
                    var r = i[e];
                    return r ? !!n[r] : !1
                }

                function o(e) {
                    return r
                }
                var i = {
                    Alt: "altKey",
                    Control: "ctrlKey",
                    Meta: "metaKey",
                    Shift: "shiftKey"
                };
                t.exports = o
            }, {}],
            137: [function(e, t, n) {
                "use strict";

                function r(e) {
                    var t = e.target || e.srcElement || window;
                    return 3 === t.nodeType ? t.parentNode : t
                }
                t.exports = r
            }, {}],
            138: [function(e, t, n) {
                "use strict";

                function r(e) {
                    var t = e && (o && e[o] || e[i]);
                    return "function" == typeof t ? t : void 0
                }
                var o = "function" == typeof Symbol && Symbol.iterator,
                    i = "@@iterator";
                t.exports = r
            }, {}],
            139: [function(e, t, n) {
                function r(e) {
                    return i(!!a), d.hasOwnProperty(e) || (e = "*"), s.hasOwnProperty(e) || ("*" === e ? a.innerHTML = "<link />" : a.innerHTML = "<" + e + "></" + e + ">", s[e] = !a.firstChild), s[e] ? d[e] : null
                }
                var o = e(22),
                    i = e(147),
                    a = o.canUseDOM ? document.createElement("div") : null,
                    s = {
                        circle: !0,
                        clipPath: !0,
                        defs: !0,
                        ellipse: !0,
                        g: !0,
                        line: !0,
                        linearGradient: !0,
                        path: !0,
                        polygon: !0,
                        polyline: !0,
                        radialGradient: !0,
                        rect: !0,
                        stop: !0,
                        text: !0
                    },
                    u = [1, '<select multiple="true">', "</select>"],
                    l = [1, "<table>", "</table>"],
                    c = [3, "<table><tbody><tr>", "</tr></tbody></table>"],
                    p = [1, "<svg>", "</svg>"],
                    d = {
                        "*": [1, "?<div>", "</div>"],
                        area: [1, "<map>", "</map>"],
                        col: [2, "<table><tbody></tbody><colgroup>", "</colgroup></table>"],
                        legend: [1, "<fieldset>", "</fieldset>"],
                        param: [1, "<object>", "</object>"],
                        tr: [2, "<table><tbody>", "</tbody></table>"],
                        optgroup: u,
                        option: u,
                        caption: l,
                        colgroup: l,
                        tbody: l,
                        tfoot: l,
                        thead: l,
                        td: c,
                        th: c,
                        circle: p,
                        clipPath: p,
                        defs: p,
                        ellipse: p,
                        g: p,
                        line: p,
                        linearGradient: p,
                        path: p,
                        polygon: p,
                        polyline: p,
                        radialGradient: p,
                        rect: p,
                        stop: p,
                        text: p
                    };
                t.exports = r
            }, {
                147: 147,
                22: 22
            }],
            140: [function(e, t, n) {
                "use strict";

                function r(e) {
                    for (; e && e.firstChild;) e = e.firstChild;
                    return e
                }

                function o(e) {
                    for (; e;) {
                        if (e.nextSibling) return e.nextSibling;
                        e = e.parentNode
                    }
                }

                function i(e, t) {
                    for (var n = r(e), i = 0, a = 0; n;) {
                        if (3 === n.nodeType) {
                            if (a = i + n.textContent.length, t >= i && a >= t) return {
                                node: n,
                                offset: t - i
                            };
                            i = a
                        }
                        n = r(o(n))
                    }
                }
                t.exports = i
            }, {}],
            141: [function(e, t, n) {
                "use strict";

                function r(e) {
                    return e ? e.nodeType === o ? e.documentElement : e.firstChild : null
                }
                var o = 9;
                t.exports = r
            }, {}],
            142: [function(e, t, n) {
                "use strict";

                function r() {
                    return !i && o.canUseDOM && (i = "textContent" in document.documentElement ? "textContent" : "innerText"), i
                }
                var o = e(22),
                    i = null;
                t.exports = r
            }, {
                22: 22
            }],
            143: [function(e, t, n) {
                "use strict";

                function r(e) {
                    return e === window ? {
                        x: window.pageXOffset || document.documentElement.scrollLeft,
                        y: window.pageYOffset || document.documentElement.scrollTop
                    } : {
                        x: e.scrollLeft,
                        y: e.scrollTop
                    }
                }
                t.exports = r
            }, {}],
            144: [function(e, t, n) {
                function r(e) {
                    return e.replace(o, "-$1").toLowerCase()
                }
                var o = /([A-Z])/g;
                t.exports = r
            }, {}],
            145: [function(e, t, n) {
                "use strict";

                function r(e) {
                    return o(e).replace(i, "-ms-")
                }
                var o = e(144),
                    i = /^ms-/;
                t.exports = r
            }, {
                144: 144
            }],
            146: [function(e, t, n) {
                "use strict";

                function r(e) {
                    return "function" == typeof e && "undefined" != typeof e.prototype && "function" == typeof e.prototype.mountComponent && "function" == typeof e.prototype.receiveComponent
                }

                function o(e, t) {
                    var n;
                    if ((null === e || e === !1) && (e = a.emptyElement), "object" == typeof e) {
                        var o = e;
                        n = t === o.type && "string" == typeof o.type ? s.createInternalComponent(o) : r(o.type) ? new o.type(o) : new c
                    } else "string" == typeof e || "number" == typeof e ? n = s.createInstanceForText(e) : l(!1);
                    return n.construct(e), n._mountIndex = 0, n._mountImage = null, n
                }
                var i = e(43),
                    a = e(63),
                    s = e(78),
                    u = e(29),
                    l = e(147),
                    c = (e(166), function() {});
                u(c.prototype, i.Mixin, {
                    _instantiateReactComponent: o
                }), t.exports = o
            }, {
                147: 147,
                166: 166,
                29: 29,
                43: 43,
                63: 63,
                78: 78
            }],
            147: [function(e, t, n) {
                "use strict";
                var r = function(e, t, n, r, o, i, a, s) {
                    if (!e) {
                        var u;
                        if (void 0 === t) u = new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");
                        else {
                            var l = [n, r, o, i, a, s],
                                c = 0;
                            u = new Error("Invariant Violation: " + t.replace(/%s/g, function() {
                                return l[c++]
                            }))
                        }
                        throw u.framesToPop = 1, u
                    }
                };
                t.exports = r
            }, {}],
            148: [function(e, t, n) {
                "use strict";

                function r(e, t) {
                    if (!i.canUseDOM || t && !("addEventListener" in document)) return !1;
                    var n = "on" + e,
                        r = n in document;
                    if (!r) {
                        var a = document.createElement("div");
                        a.setAttribute(n, "return;"), r = "function" == typeof a[n]
                    }
                    return !r && o && "wheel" === e && (r = document.implementation.hasFeature("Events.wheel", "3.0")), r
                }
                var o, i = e(22);
                i.canUseDOM && (o = document.implementation && document.implementation.hasFeature && document.implementation.hasFeature("", "") !== !0), t.exports = r
            }, {
                22: 22
            }],
            149: [function(e, t, n) {
                function r(e) {
                    return !(!e || !("function" == typeof Node ? e instanceof Node : "object" == typeof e && "number" == typeof e.nodeType && "string" == typeof e.nodeName))
                }
                t.exports = r
            }, {}],
            150: [function(e, t, n) {
                "use strict";

                function r(e) {
                    return e && ("INPUT" === e.nodeName && o[e.type] || "TEXTAREA" === e.nodeName)
                }
                var o = {
                    color: !0,
                    date: !0,
                    datetime: !0,
                    "datetime-local": !0,
                    email: !0,
                    month: !0,
                    number: !0,
                    password: !0,
                    range: !0,
                    search: !0,
                    tel: !0,
                    text: !0,
                    time: !0,
                    url: !0,
                    week: !0
                };
                t.exports = r
            }, {}],
            151: [function(e, t, n) {
                function r(e) {
                    return o(e) && 3 == e.nodeType
                }
                var o = e(149);
                t.exports = r
            }, {
                149: 149
            }],
            152: [function(e, t, n) {
                "use strict";

                function r(e) {
                    e || (e = "");
                    var t, n = arguments.length;
                    if (n > 1)
                        for (var r = 1; n > r; r++) t = arguments[r], t && (e = (e ? e + " " : "") + t);
                    return e
                }
                t.exports = r
            }, {}],
            153: [function(e, t, n) {
                "use strict";
                var r = e(147),
                    o = function(e) {
                        var t, n = {};
                        r(e instanceof Object && !Array.isArray(e));
                        for (t in e) e.hasOwnProperty(t) && (n[t] = t);
                        return n
                    };
                t.exports = o
            }, {
                147: 147
            }],
            154: [function(e, t, n) {
                var r = function(e) {
                    var t;
                    for (t in e)
                        if (e.hasOwnProperty(t)) return t;
                    return null
                };
                t.exports = r
            }, {}],
            155: [function(e, t, n) {
                "use strict";

                function r(e, t, n) {
                    if (!e) return null;
                    var r = {};
                    for (var i in e) o.call(e, i) && (r[i] = t.call(n, e[i], i, e));
                    return r
                }
                var o = Object.prototype.hasOwnProperty;
                t.exports = r
            }, {}],
            156: [function(e, t, n) {
                "use strict";

                function r(e) {
                    var t = {};
                    return function(n) {
                        return t.hasOwnProperty(n) || (t[n] = e.call(this, n)), t[n]
                    }
                }
                t.exports = r
            }, {}],
            157: [function(e, t, n) {
                "use strict";

                function r(e) {
                    return i(o.isValidElement(e)), e
                }
                var o = e(61),
                    i = e(147);
                t.exports = r
            }, {
                147: 147,
                61: 61
            }],
            158: [function(e, t, n) {
                "use strict";

                function r(e) {
                    return '"' + o(e) + '"'
                }
                var o = e(128);
                t.exports = r
            }, {
                128: 128
            }],
            159: [function(e, t, n) {
                "use strict";
                var r = e(22),
                    o = /^[ \r\n\t\f]/,
                    i = /<(!--|link|noscript|meta|script|style)[ \r\n\t\f\/>]/,
                    a = function(e, t) {
                        e.innerHTML = t
                    };
                if ("undefined" != typeof MSApp && MSApp.execUnsafeLocalFunction && (a = function(e, t) {
                        MSApp.execUnsafeLocalFunction(function() {
                            e.innerHTML = t
                        })
                    }), r.canUseDOM) {
                    var s = document.createElement("div");
                    s.innerHTML = " ", "" === s.innerHTML && (a = function(e, t) {
                        if (e.parentNode && e.parentNode.replaceChild(e, e), o.test(t) || "<" === t[0] && i.test(t)) {
                            e.innerHTML = "\ufeff" + t;
                            var n = e.firstChild;
                            1 === n.data.length ? e.removeChild(n) : n.deleteData(0, 1)
                        } else e.innerHTML = t
                    })
                }
                t.exports = a
            }, {
                22: 22
            }],
            160: [function(e, t, n) {
                "use strict";
                var r = e(22),
                    o = e(128),
                    i = e(159),
                    a = function(e, t) {
                        e.textContent = t
                    };
                r.canUseDOM && ("textContent" in document.documentElement || (a = function(e, t) {
                    i(e, o(t))
                })), t.exports = a
            }, {
                128: 128,
                159: 159,
                22: 22
            }],
            161: [function(e, t, n) {
                "use strict";

                function r(e, t) {
                    if (e === t) return !0;
                    var n;
                    for (n in e)
                        if (e.hasOwnProperty(n) && (!t.hasOwnProperty(n) || e[n] !== t[n])) return !1;
                    for (n in t)
                        if (t.hasOwnProperty(n) && !e.hasOwnProperty(n)) return !1;
                    return !0
                }
                t.exports = r
            }, {}],
            162: [function(e, t, n) {
                "use strict";

                function r(e, t) {
                    if (null != e && null != t) {
                        var n = typeof e,
                            r = typeof t;
                        if ("string" === n || "number" === n) return "string" === r || "number" === r;
                        if ("object" === r && e.type === t.type && e.key === t.key) {
                            var o = e._owner === t._owner;
                            return o
                        }
                    }
                    return !1
                }
                e(166), t.exports = r
            }, {
                166: 166
            }],
            163: [function(e, t, n) {
                function r(e) {
                    var t = e.length;
                    if (o(!Array.isArray(e) && ("object" == typeof e || "function" == typeof e)), o("number" == typeof t), o(0 === t || t - 1 in e), e.hasOwnProperty) try {
                        return Array.prototype.slice.call(e)
                    } catch (n) {}
                    for (var r = Array(t), i = 0; t > i; i++) r[i] = e[i];
                    return r
                }
                var o = e(147);
                t.exports = r
            }, {
                147: 147
            }],
            164: [function(e, t, n) {
                "use strict";

                function r(e) {
                    return v[e]
                }

                function o(e, t) {
                    return e && null != e.key ? a(e.key) : t.toString(36)
                }

                function i(e) {
                    return ("" + e).replace(g, r)
                }

                function a(e) {
                    return "$" + i(e)
                }

                function s(e, t, n, r, i) {
                    var u = typeof e;
                    if (("undefined" === u || "boolean" === u) && (e = null), null === e || "string" === u || "number" === u || l.isValidElement(e)) return r(i, e, "" === t ? h + o(e, 0) : t, n), 1;
                    var p, v, g, y = 0;
                    if (Array.isArray(e))
                        for (var C = 0; C < e.length; C++) p = e[C], v = ("" !== t ? t + m : h) + o(p, C), g = n + y, y += s(p, v, g, r, i);
                    else {
                        var E = d(e);
                        if (E) {
                            var b, _ = E.call(e);
                            if (E !== e.entries)
                                for (var x = 0; !(b = _.next()).done;) p = b.value, v = ("" !== t ? t + m : h) + o(p, x++), g = n + y, y += s(p, v, g, r, i);
                            else
                                for (; !(b = _.next()).done;) {
                                    var D = b.value;
                                    D && (p = D[1], v = ("" !== t ? t + m : h) + a(D[0]) + m + o(p, 0), g = n + y, y += s(p, v, g, r, i))
                                }
                        } else if ("object" === u) {
                            f(1 !== e.nodeType);
                            var M = c.extract(e);
                            for (var T in M) M.hasOwnProperty(T) && (p = M[T], v = ("" !== t ? t + m : h) + a(T) + m + o(p, 0), g = n + y, y += s(p, v, g, r, i))
                        }
                    }
                    return y
                }

                function u(e, t, n) {
                    return null == e ? 0 : s(e, "", 0, t, n)
                }
                var l = e(61),
                    c = e(67),
                    p = e(70),
                    d = e(138),
                    f = e(147),
                    h = (e(166), p.SEPARATOR),
                    m = ":",
                    v = {
                        "=": "=0",
                        ".": "=1",
                        ":": "=2"
                    },
                    g = /[=.:]/g;
                t.exports = u
            }, {
                138: 138,
                147: 147,
                166: 166,
                61: 61,
                67: 67,
                70: 70
            }],
            165: [function(e, t, n) {
                "use strict";

                function r(e) {
                    return Array.isArray(e) ? e.concat() : e && "object" == typeof e ? a(new e.constructor, e) : e
                }

                function o(e, t, n) {
                    u(Array.isArray(e));
                    var r = t[n];
                    u(Array.isArray(r))
                }

                function i(e, t) {
                    if (u("object" == typeof t), l.call(t, f)) return u(1 === Object.keys(t).length), t[f];
                    var n = r(e);
                    if (l.call(t, h)) {
                        var s = t[h];
                        u(s && "object" == typeof s), u(n && "object" == typeof n), a(n, t[h])
                    }
                    l.call(t, c) && (o(e, t, c), t[c].forEach(function(e) {
                        n.push(e)
                    })), l.call(t, p) && (o(e, t, p), t[p].forEach(function(e) {
                        n.unshift(e)
                    })), l.call(t, d) && (u(Array.isArray(e)), u(Array.isArray(t[d])), t[d].forEach(function(e) {
                        u(Array.isArray(e)), n.splice.apply(n, e)
                    })), l.call(t, m) && (u("function" == typeof t[m]), n = t[m](n));
                    for (var v in t) g.hasOwnProperty(v) && g[v] || (n[v] = i(e[v], t[v]));
                    return n
                }
                var a = e(29),
                    s = e(154),
                    u = e(147),
                    l = {}.hasOwnProperty,
                    c = s({
                        $push: null
                    }),
                    p = s({
                        $unshift: null
                    }),
                    d = s({
                        $splice: null
                    }),
                    f = s({
                        $set: null
                    }),
                    h = s({
                        $merge: null
                    }),
                    m = s({
                        $apply: null
                    }),
                    v = [c, p, d, f, h, m],
                    g = {};
                v.forEach(function(e) {
                    g[e] = !0
                }), t.exports = i
            }, {
                147: 147,
                154: 154,
                29: 29
            }],
            166: [function(e, t, n) {
                "use strict";
                var r = e(126),
                    o = r;
                t.exports = o
            }, {
                126: 126
            }]
        }, {}, [1])(1)
    }), window.React = n.exports
});

Requireify.register("react-router", function(t, e, n, r) {
    ! function(e, o) {
        "object" == typeof r && "object" == typeof n ? n.exports = o(t("react")) : "function" == typeof define && define.amd ? define(["react"], o) : "object" == typeof r ? r.ReactRouter = o(t("react")) : e.ReactRouter = o(e.React)
    }(this, function(t) {
        return function(t) {
            function e(r) {
                if (n[r]) return n[r].exports;
                var o = n[r] = {
                    exports: {},
                    id: r,
                    loaded: !1
                };
                return t[r].call(o.exports, o, o.exports, e), o.loaded = !0, o.exports
            }
            var n = {};
            return e.m = t, e.c = n, e.p = "", e(0)
        }([function(t, e, n) {
            "use strict";
            e.DefaultRoute = n(1), e.Link = n(2), e.NotFoundRoute = n(3), e.Redirect = n(4), e.Route = n(5), e.ActiveHandler = n(6), e.RouteHandler = e.ActiveHandler, e.HashLocation = n(7), e.HistoryLocation = n(8), e.RefreshLocation = n(9), e.StaticLocation = n(10), e.TestLocation = n(11), e.ImitateBrowserBehavior = n(12), e.ScrollToTopBehavior = n(13), e.History = n(14), e.Navigation = n(15), e.State = n(16), e.createRoute = n(17).createRoute, e.createDefaultRoute = n(17).createDefaultRoute, e.createNotFoundRoute = n(17).createNotFoundRoute, e.createRedirect = n(17).createRedirect, e.createRoutesFromReactChildren = n(18), e.create = n(19), e.run = n(20)
        }, function(t, e, n) {
            "use strict";
            var r = function(t, e) {
                    if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function")
                },
                o = function(t, e) {
                    if ("function" != typeof e && null !== e) throw new TypeError("Super expression must either be null or a function, not " + typeof e);
                    t.prototype = Object.create(e && e.prototype, {
                        constructor: {
                            value: t,
                            enumerable: !1,
                            writable: !0,
                            configurable: !0
                        }
                    }), e && (t.__proto__ = e)
                },
                i = n(22),
                a = n(6),
                u = n(5),
                s = function(t) {
                    function e() {
                        r(this, e), null != t && t.apply(this, arguments)
                    }
                    return o(e, t), e
                }(u);
            s.propTypes = {
                name: i.string,
                path: i.falsy,
                children: i.falsy,
                handler: i.func.isRequired
            }, s.defaultProps = {
                handler: a
            }, t.exports = s
        }, function(t, e, n) {
            "use strict";

            function r(t) {
                return 0 === t.button
            }

            function o(t) {
                return !!(t.metaKey || t.altKey || t.ctrlKey || t.shiftKey)
            }
            var i = function(t, e) {
                    if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function")
                },
                a = function() {
                    function t(t, e) {
                        for (var n = 0; n < e.length; n++) {
                            var r = e[n];
                            r.enumerable = r.enumerable || !1, r.configurable = !0, "value" in r && (r.writable = !0), Object.defineProperty(t, r.key, r)
                        }
                    }
                    return function(e, n, r) {
                        return n && t(e.prototype, n), r && t(e, r), e
                    }
                }(),
                u = function(t, e) {
                    if ("function" != typeof e && null !== e) throw new TypeError("Super expression must either be null or a function, not " + typeof e);
                    t.prototype = Object.create(e && e.prototype, {
                        constructor: {
                            value: t,
                            enumerable: !1,
                            writable: !0,
                            configurable: !0
                        }
                    }), e && (t.__proto__ = e)
                },
                s = n(21),
                c = n(33),
                l = n(22),
                f = function(t) {
                    function e() {
                        i(this, e), null != t && t.apply(this, arguments)
                    }
                    return u(e, t), a(e, [{
                        key: "handleClick",
                        value: function(t) {
                            var e, n = !0;
                            this.props.onClick && (e = this.props.onClick(t)), !o(t) && r(t) && ((e === !1 || t.defaultPrevented === !0) && (n = !1), t.preventDefault(), n && this.context.router.transitionTo(this.props.to, this.props.params, this.props.query))
                        }
                    }, {
                        key: "getHref",
                        value: function() {
                            return this.context.router.makeHref(this.props.to, this.props.params, this.props.query)
                        }
                    }, {
                        key: "getClassName",
                        value: function() {
                            var t = this.props.className;
                            return this.getActiveState() && (t += " " + this.props.activeClassName), t
                        }
                    }, {
                        key: "getActiveState",
                        value: function() {
                            return this.context.router.isActive(this.props.to, this.props.params, this.props.query)
                        }
                    }, {
                        key: "render",
                        value: function() {
                            var t = c({}, this.props, {
                                href: this.getHref(),
                                className: this.getClassName(),
                                onClick: this.handleClick.bind(this)
                            });
                            return t.activeStyle && this.getActiveState() && (t.style = t.activeStyle), s.DOM.a(t, this.props.children)
                        }
                    }]), e
                }(s.Component);
            f.contextTypes = {
                router: l.router.isRequired
            }, f.propTypes = {
                activeClassName: l.string.isRequired,
                to: l.oneOfType([l.string, l.route]).isRequired,
                params: l.object,
                query: l.object,
                activeStyle: l.object,
                onClick: l.func
            }, f.defaultProps = {
                activeClassName: "active",
                className: ""
            }, t.exports = f
        }, function(t, e, n) {
            "use strict";
            var r = function(t, e) {
                    if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function")
                },
                o = function(t, e) {
                    if ("function" != typeof e && null !== e) throw new TypeError("Super expression must either be null or a function, not " + typeof e);
                    t.prototype = Object.create(e && e.prototype, {
                        constructor: {
                            value: t,
                            enumerable: !1,
                            writable: !0,
                            configurable: !0
                        }
                    }), e && (t.__proto__ = e)
                },
                i = n(22),
                a = n(6),
                u = n(5),
                s = function(t) {
                    function e() {
                        r(this, e), null != t && t.apply(this, arguments)
                    }
                    return o(e, t), e
                }(u);
            s.propTypes = {
                name: i.string,
                path: i.falsy,
                children: i.falsy,
                handler: i.func.isRequired
            }, s.defaultProps = {
                handler: a
            }, t.exports = s
        }, function(t, e, n) {
            "use strict";
            var r = function(t, e) {
                    if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function")
                },
                o = function(t, e) {
                    if ("function" != typeof e && null !== e) throw new TypeError("Super expression must either be null or a function, not " + typeof e);
                    t.prototype = Object.create(e && e.prototype, {
                        constructor: {
                            value: t,
                            enumerable: !1,
                            writable: !0,
                            configurable: !0
                        }
                    }), e && (t.__proto__ = e)
                },
                i = n(22),
                a = n(5),
                u = function(t) {
                    function e() {
                        r(this, e), null != t && t.apply(this, arguments)
                    }
                    return o(e, t), e
                }(a);
            u.propTypes = {
                path: i.string,
                from: i.string,
                to: i.string,
                handler: i.falsy
            }, u.defaultProps = {}, t.exports = u
        }, function(t, e, n) {
            "use strict";
            var r = function(t, e) {
                    if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function")
                },
                o = function() {
                    function t(t, e) {
                        for (var n = 0; n < e.length; n++) {
                            var r = e[n];
                            r.enumerable = r.enumerable || !1, r.configurable = !0, "value" in r && (r.writable = !0), Object.defineProperty(t, r.key, r)
                        }
                    }
                    return function(e, n, r) {
                        return n && t(e.prototype, n), r && t(e, r), e
                    }
                }(),
                i = function(t, e) {
                    if ("function" != typeof e && null !== e) throw new TypeError("Super expression must either be null or a function, not " + typeof e);
                    t.prototype = Object.create(e && e.prototype, {
                        constructor: {
                            value: t,
                            enumerable: !1,
                            writable: !0,
                            configurable: !0
                        }
                    }), e && (t.__proto__ = e)
                },
                a = n(21),
                u = n(34),
                s = n(22),
                c = n(6),
                l = function(t) {
                    function e() {
                        r(this, e), null != t && t.apply(this, arguments)
                    }
                    return i(e, t), o(e, [{
                        key: "render",
                        value: function() {
                            u(!1, "%s elements are for router configuration only and should not be rendered", this.constructor.name)
                        }
                    }]), e
                }(a.Component);
            l.propTypes = {
                name: s.string,
                path: s.string,
                handler: s.func,
                ignoreScrollBehavior: s.bool
            }, l.defaultProps = {
                handler: c
            }, t.exports = l
        }, function(t, e, n) {
            "use strict";
            var r = function(t, e) {
                    if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function")
                },
                o = function() {
                    function t(t, e) {
                        for (var n = 0; n < e.length; n++) {
                            var r = e[n];
                            r.enumerable = r.enumerable || !1, r.configurable = !0, "value" in r && (r.writable = !0), Object.defineProperty(t, r.key, r)
                        }
                    }
                    return function(e, n, r) {
                        return n && t(e.prototype, n), r && t(e, r), e
                    }
                }(),
                i = function(t, e) {
                    if ("function" != typeof e && null !== e) throw new TypeError("Super expression must either be null or a function, not " + typeof e);
                    t.prototype = Object.create(e && e.prototype, {
                        constructor: {
                            value: t,
                            enumerable: !1,
                            writable: !0,
                            configurable: !0
                        }
                    }), e && (t.__proto__ = e)
                },
                a = n(21),
                u = n(23),
                s = n(33),
                c = n(22),
                l = "__routeHandler__",
                f = function(t) {
                    function e() {
                        r(this, e), null != t && t.apply(this, arguments)
                    }
                    return i(e, t), o(e, [{
                        key: "getChildContext",
                        value: function() {
                            return {
                                routeDepth: this.context.routeDepth + 1
                            }
                        }
                    }, {
                        key: "componentDidMount",
                        value: function() {
                            this._updateRouteComponent(this.refs[l])
                        }
                    }, {
                        key: "componentDidUpdate",
                        value: function() {
                            this._updateRouteComponent(this.refs[l])
                        }
                    }, {
                        key: "componentWillUnmount",
                        value: function() {
                            this._updateRouteComponent(null)
                        }
                    }, {
                        key: "_updateRouteComponent",
                        value: function(t) {
                            this.context.router.setRouteComponentAtDepth(this.getRouteDepth(), t)
                        }
                    }, {
                        key: "getRouteDepth",
                        value: function() {
                            return this.context.routeDepth
                        }
                    }, {
                        key: "createChildRouteHandler",
                        value: function(t) {
                            var e = this.context.router.getRouteAtDepth(this.getRouteDepth());
                            if (null == e) return null;
                            var n = s({}, t || this.props, {
                                ref: l,
                                params: this.context.router.getCurrentParams(),
                                query: this.context.router.getCurrentQuery()
                            });
                            return a.createElement(e.handler, n)
                        }
                    }, {
                        key: "render",
                        value: function() {
                            var t = this.createChildRouteHandler();
                            return t ? a.createElement(u, null, t) : a.createElement("script", null)
                        }
                    }]), e
                }(a.Component);
            f.contextTypes = {
                routeDepth: c.number.isRequired,
                router: c.router.isRequired
            }, f.childContextTypes = {
                routeDepth: c.number.isRequired
            }, t.exports = f
        }, function(t, e, n) {
            "use strict";

            function r(t) {
                t === u.PUSH && (s.length += 1);
                var e = {
                    path: f.getCurrentPath(),
                    type: t
                };
                c.forEach(function(t) {
                    t.call(f, e)
                })
            }

            function o() {
                var t = f.getCurrentPath();
                return "/" === t.charAt(0) ? !0 : (f.replace("/" + t), !1)
            }

            function i() {
                if (o()) {
                    var t = a;
                    a = null, r(t || u.POP)
                }
            }
            var a, u = n(24),
                s = n(14),
                c = [],
                l = !1,
                f = {
                    addChangeListener: function(t) {
                        c.push(t), o(), l || (window.addEventListener ? window.addEventListener("hashchange", i, !1) : window.attachEvent("onhashchange", i), l = !0)
                    },
                    removeChangeListener: function(t) {
                        c = c.filter(function(e) {
                            return e !== t
                        }), 0 === c.length && (window.removeEventListener ? window.removeEventListener("hashchange", i, !1) : window.removeEvent("onhashchange", i), l = !1)
                    },
                    push: function(t) {
                        a = u.PUSH, window.location.hash = t
                    },
                    replace: function(t) {
                        a = u.REPLACE, window.location.replace(window.location.pathname + window.location.search + "#" + t)
                    },
                    pop: function() {
                        a = u.POP, s.back()
                    },
                    getCurrentPath: function() {
                        return decodeURI(window.location.href.split("#")[1] || "")
                    },
                    toString: function() {
                        return "<HashLocation>"
                    }
                };
            t.exports = f
        }, function(t, e, n) {
            "use strict";

            function r(t) {
                var e = {
                    path: c.getCurrentPath(),
                    type: t
                };
                u.forEach(function(t) {
                    t.call(c, e)
                })
            }

            function o(t) {
                void 0 !== t.state && r(i.POP)
            }
            var i = n(24),
                a = n(14),
                u = [],
                s = !1,
                c = {
                    addChangeListener: function(t) {
                        u.push(t), s || (window.addEventListener ? window.addEventListener("popstate", o, !1) : window.attachEvent("onpopstate", o), s = !0)
                    },
                    removeChangeListener: function(t) {
                        u = u.filter(function(e) {
                            return e !== t
                        }), 0 === u.length && (window.addEventListener ? window.removeEventListener("popstate", o, !1) : window.removeEvent("onpopstate", o), s = !1)
                    },
                    push: function(t) {
                        window.history.pushState({
                            path: t
                        }, "", t), a.length += 1, r(i.PUSH)
                    },
                    replace: function(t) {
                        window.history.replaceState({
                            path: t
                        }, "", t), r(i.REPLACE)
                    },
                    pop: a.back,
                    getCurrentPath: function() {
                        return decodeURI(window.location.pathname + window.location.search)
                    },
                    toString: function() {
                        return "<HistoryLocation>"
                    }
                };
            t.exports = c
        }, function(t, e, n) {
            "use strict";
            var r = n(8),
                o = n(14),
                i = {
                    push: function(t) {
                        window.location = t
                    },
                    replace: function(t) {
                        window.location.replace(t)
                    },
                    pop: o.back,
                    getCurrentPath: r.getCurrentPath,
                    toString: function() {
                        return "<RefreshLocation>"
                    }
                };
            t.exports = i
        }, function(t, e, n) {
            "use strict";

            function r() {
                a(!1, "You cannot modify a static location")
            }
            var o = function(t, e) {
                    if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function")
                },
                i = function() {
                    function t(t, e) {
                        for (var n = 0; n < e.length; n++) {
                            var r = e[n];
                            r.enumerable = r.enumerable || !1, r.configurable = !0, "value" in r && (r.writable = !0), Object.defineProperty(t, r.key, r)
                        }
                    }
                    return function(e, n, r) {
                        return n && t(e.prototype, n), r && t(e, r), e
                    }
                }(),
                a = n(34),
                u = function() {
                    function t(e) {
                        o(this, t), this.path = e
                    }
                    return i(t, [{
                        key: "getCurrentPath",
                        value: function() {
                            return this.path
                        }
                    }, {
                        key: "toString",
                        value: function() {
                            return '<StaticLocation path="' + this.path + '">'
                        }
                    }]), t
                }();
            u.prototype.push = r, u.prototype.replace = r, u.prototype.pop = r, t.exports = u
        }, function(t, e, n) {
            "use strict";
            var r = function(t, e) {
                    if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function")
                },
                o = function() {
                    function t(t, e) {
                        for (var n = 0; n < e.length; n++) {
                            var r = e[n];
                            r.enumerable = r.enumerable || !1, r.configurable = !0, "value" in r && (r.writable = !0), Object.defineProperty(t, r.key, r)
                        }
                    }
                    return function(e, n, r) {
                        return n && t(e.prototype, n), r && t(e, r), e
                    }
                }(),
                i = n(34),
                a = n(24),
                u = n(14),
                s = function() {
                    function t(e) {
                        r(this, t), this.history = e || [], this.listeners = [], this._updateHistoryLength()
                    }
                    return o(t, [{
                        key: "needsDOM",
                        get: function() {
                            return !1
                        }
                    }, {
                        key: "_updateHistoryLength",
                        value: function() {
                            u.length = this.history.length
                        }
                    }, {
                        key: "_notifyChange",
                        value: function(t) {
                            for (var e = {
                                    path: this.getCurrentPath(),
                                    type: t
                                }, n = 0, r = this.listeners.length; r > n; ++n) this.listeners[n].call(this, e)
                        }
                    }, {
                        key: "addChangeListener",
                        value: function(t) {
                            this.listeners.push(t)
                        }
                    }, {
                        key: "removeChangeListener",
                        value: function(t) {
                            this.listeners = this.listeners.filter(function(e) {
                                return e !== t
                            })
                        }
                    }, {
                        key: "push",
                        value: function(t) {
                            this.history.push(t), this._updateHistoryLength(), this._notifyChange(a.PUSH)
                        }
                    }, {
                        key: "replace",
                        value: function(t) {
                            i(this.history.length, "You cannot replace the current path with no history"), this.history[this.history.length - 1] = t, this._notifyChange(a.REPLACE)
                        }
                    }, {
                        key: "pop",
                        value: function() {
                            this.history.pop(), this._updateHistoryLength(), this._notifyChange(a.POP)
                        }
                    }, {
                        key: "getCurrentPath",
                        value: function() {
                            return this.history[this.history.length - 1]
                        }
                    }, {
                        key: "toString",
                        value: function() {
                            return "<TestLocation>"
                        }
                    }]), t
                }();
            t.exports = s
        }, function(t, e, n) {
            "use strict";
            var r = n(24),
                o = {
                    updateScrollPosition: function(t, e) {
                        switch (e) {
                            case r.PUSH:
                            case r.REPLACE:
                                window.scrollTo(0, 0);
                                break;
                            case r.POP:
                                t ? window.scrollTo(t.x, t.y) : window.scrollTo(0, 0)
                        }
                    }
                };
            t.exports = o
        }, function(t) {
            "use strict";
            var e = {
                updateScrollPosition: function() {
                    window.scrollTo(0, 0)
                }
            };
            t.exports = e
        }, function(t, e, n) {
            "use strict";
            var r = n(34),
                o = n(35).canUseDOM,
                i = {
                    length: 1,
                    back: function() {
                        r(o, "Cannot use History.back without a DOM"), i.length -= 1, window.history.back()
                    }
                };
            t.exports = i
        }, function(t, e, n) {
            "use strict";
            var r = n(22),
                o = {
                    contextTypes: {
                        router: r.router.isRequired
                    },
                    makePath: function(t, e, n) {
                        return this.context.router.makePath(t, e, n)
                    },
                    makeHref: function(t, e, n) {
                        return this.context.router.makeHref(t, e, n)
                    },
                    transitionTo: function(t, e, n) {
                        this.context.router.transitionTo(t, e, n)
                    },
                    replaceWith: function(t, e, n) {
                        this.context.router.replaceWith(t, e, n)
                    },
                    goBack: function() {
                        return this.context.router.goBack()
                    }
                };
            t.exports = o
        }, function(t, e, n) {
            "use strict";
            var r = n(22),
                o = {
                    contextTypes: {
                        router: r.router.isRequired
                    },
                    getPath: function() {
                        return this.context.router.getCurrentPath()
                    },
                    getPathname: function() {
                        return this.context.router.getCurrentPathname()
                    },
                    getParams: function() {
                        return this.context.router.getCurrentParams()
                    },
                    getQuery: function() {
                        return this.context.router.getCurrentQuery()
                    },
                    getRoutes: function() {
                        return this.context.router.getCurrentRoutes()
                    },
                    isActive: function(t, e, n) {
                        return this.context.router.isActive(t, e, n)
                    }
                };
            t.exports = o
        }, function(t, e, n) {
            "use strict";
            var r, o = function(t, e) {
                    if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function")
                },
                i = function() {
                    function t(t, e) {
                        for (var n = 0; n < e.length; n++) {
                            var r = e[n];
                            r.enumerable = r.enumerable || !1, r.configurable = !0, "value" in r && (r.writable = !0), Object.defineProperty(t, r.key, r)
                        }
                    }
                    return function(e, n, r) {
                        return n && t(e.prototype, n), r && t(e, r), e
                    }
                }(),
                a = n(33),
                u = n(34),
                s = n(36),
                c = n(25),
                l = function() {
                    function t(e, n, r, i, a, u, s, l) {
                        o(this, t), this.name = e, this.path = n, this.paramNames = c.extractParamNames(this.path), this.ignoreScrollBehavior = !!r, this.isDefault = !!i, this.isNotFound = !!a, this.onEnter = u, this.onLeave = s, this.handler = l
                    }
                    return i(t, [{
                        key: "appendChild",
                        value: function(e) {
                            u(e instanceof t, "route.appendChild must use a valid Route"), this.childRoutes || (this.childRoutes = []), this.childRoutes.push(e)
                        }
                    }, {
                        key: "toString",
                        value: function() {
                            var t = "<Route";
                            return this.name && (t += ' name="' + this.name + '"'), t += ' path="' + this.path + '">'
                        }
                    }], [{
                        key: "createRoute",
                        value: function(e, n) {
                            e = e || {}, "string" == typeof e && (e = {
                                path: e
                            });
                            var o = r;
                            o ? s(null == e.parentRoute || e.parentRoute === o, "You should not use parentRoute with createRoute inside another route's child callback; it is ignored") : o = e.parentRoute;
                            var i = e.name,
                                a = e.path || i;
                            !a || e.isDefault || e.isNotFound ? a = o ? o.path : "/" : c.isAbsolute(a) ? o && u(a === o.path || 0 === o.paramNames.length, 'You cannot nest path "%s" inside "%s"; the parent requires URL parameters', a, o.path) : a = o ? c.join(o.path, a) : "/" + a, e.isNotFound && !/\*$/.test(a) && (a += "*");
                            var l = new t(i, a, e.ignoreScrollBehavior, e.isDefault, e.isNotFound, e.onEnter, e.onLeave, e.handler);
                            if (o && (l.isDefault ? (u(null == o.defaultRoute, "%s may not have more than one default route", o), o.defaultRoute = l) : l.isNotFound && (u(null == o.notFoundRoute, "%s may not have more than one not found route", o), o.notFoundRoute = l), o.appendChild(l)), "function" == typeof n) {
                                var f = r;
                                r = l, n.call(l, l), r = f
                            }
                            return l
                        }
                    }, {
                        key: "createDefaultRoute",
                        value: function(e) {
                            return t.createRoute(a({}, e, {
                                isDefault: !0
                            }))
                        }
                    }, {
                        key: "createNotFoundRoute",
                        value: function(e) {
                            return t.createRoute(a({}, e, {
                                isNotFound: !0
                            }))
                        }
                    }, {
                        key: "createRedirect",
                        value: function(e) {
                            return t.createRoute(a({}, e, {
                                path: e.path || e.from || "*",
                                onEnter: function(t, n, r) {
                                    t.redirect(e.to, e.params || n, e.query || r)
                                }
                            }))
                        }
                    }]), t
                }();
            t.exports = l
        }, function(t, e, n) {
            "use strict";

            function r(t, e, n) {
                t = t || "UnknownComponent";
                for (var r in e)
                    if (e.hasOwnProperty(r)) {
                        var o = e[r](n, r, t);
                        o instanceof Error && c(!1, o.message)
                    }
            }

            function o(t) {
                var e = s({}, t),
                    n = e.handler;
                return n && (e.onEnter = n.willTransitionTo, e.onLeave = n.willTransitionFrom), e
            }

            function i(t) {
                if (u.isValidElement(t)) {
                    var e = t.type,
                        n = s({}, e.defaultProps, t.props);
                    return e.propTypes && r(e.displayName, e.propTypes, n), e === l ? h.createDefaultRoute(o(n)) : e === f ? h.createNotFoundRoute(o(n)) : e === p ? h.createRedirect(o(n)) : h.createRoute(o(n), function() {
                        n.children && a(n.children)
                    })
                }
            }

            function a(t) {
                var e = [];
                return u.Children.forEach(t, function(t) {
                    (t = i(t)) && e.push(t)
                }), e
            }
            var u = n(21),
                s = n(33),
                c = n(36),
                l = n(1),
                f = n(3),
                p = n(4),
                h = n(17);
            t.exports = a
        }, function(t, e, n) {
            "use strict";

            function r(t, e) {
                for (var n in e)
                    if (e.hasOwnProperty(n) && t[n] !== e[n]) return !1;
                return !0
            }

            function o(t, e, n, o, i, a) {
                return t.some(function(t) {
                    if (t !== e) return !1;
                    for (var u, s = e.paramNames, c = 0, l = s.length; l > c; ++c)
                        if (u = s[c], o[u] !== n[u]) return !1;
                    return r(i, a) && r(a, i)
                })
            }

            function i(t, e) {
                for (var n, r = 0, o = t.length; o > r; ++r) n = t[r], n.name && (p(null == e[n.name], 'You may not have more than one route named "%s"', n.name), e[n.name] = n), n.childRoutes && i(n.childRoutes, e)
            }

            function a(t, e) {
                return t.some(function(t) {
                    return t.name === e
                })
            }

            function u(t, e) {
                for (var n in e)
                    if (String(t[n]) !== String(e[n])) return !1;
                return !0
            }

            function s(t, e) {
                for (var n in e)
                    if (String(t[n]) !== String(e[n])) return !1;
                return !0
            }

            function c(t) {
                t = t || {}, x(t) && (t = {
                    routes: t
                });
                var e = [],
                    n = t.location || A,
                    r = t.scrollBehavior || _,
                    c = {},
                    y = {},
                    D = null,
                    H = null;
                "string" == typeof n && (n = new w(n)), n instanceof w ? f(!h || !1, "You should not use a static location in a DOM environment because the router will not be kept in sync with the current URL") : p(h || n.needsDOM === !1, "You cannot use %s without a DOM", n), n !== v || S() || (n = g);
                var N = l.createClass({
                    displayName: "Router",
                    statics: {
                        isRunning: !1,
                        cancelPendingTransition: function() {
                            D && (D.cancel(), D = null)
                        },
                        clearAllRoutes: function() {
                            N.cancelPendingTransition(), N.namedRoutes = {}, N.routes = []
                        },
                        addRoutes: function(t) {
                            x(t) && (t = R(t)), i(t, N.namedRoutes), N.routes.push.apply(N.routes, t)
                        },
                        replaceRoutes: function(t) {
                            N.clearAllRoutes(), N.addRoutes(t), N.refresh()
                        },
                        match: function(t) {
                            return L.findMatch(N.routes, t)
                        },
                        makePath: function(t, e, n) {
                            var r;
                            if (j.isAbsolute(t)) r = t;
                            else {
                                var o = t instanceof T ? t : N.namedRoutes[t];
                                p(o instanceof T, 'Cannot find a route named "%s"', t), r = o.path
                            }
                            return j.withQuery(j.injectParams(r, e), n)
                        },
                        makeHref: function(t, e, r) {
                            var o = N.makePath(t, e, r);
                            return n === m ? "#" + o : o
                        },
                        transitionTo: function(t, e, r) {
                            var o = N.makePath(t, e, r);
                            D ? n.replace(o) : n.push(o)
                        },
                        replaceWith: function(t, e, r) {
                            n.replace(N.makePath(t, e, r))
                        },
                        goBack: function() {
                            return O.length > 1 || n === g ? (n.pop(), !0) : (f(!1, "goBack() was ignored because there is no router history"), !1)
                        },
                        handleAbort: t.onAbort || function(t) {
                            if (n instanceof w) throw new Error("Unhandled aborted transition! Reason: " + t);
                            t instanceof E || (t instanceof k ? n.replace(N.makePath(t.to, t.params, t.query)) : n.pop())
                        },
                        handleError: t.onError || function(t) {
                            throw t
                        },
                        handleLocationChange: function(t) {
                            N.dispatch(t.path, t.type)
                        },
                        dispatch: function(t, n) {
                            N.cancelPendingTransition();
                            var r = c.path,
                                i = null == n;
                            if (r !== t || i) {
                                r && n === d.PUSH && N.recordScrollPosition(r);
                                var a = N.match(t);
                                f(null != a, 'No route matches path "%s". Make sure you have <Route path="%s"> somewhere in your routes', t, t), null == a && (a = {});
                                var u, s, l = c.routes || [],
                                    p = c.params || {},
                                    h = c.query || {},
                                    y = a.routes || [],
                                    m = a.params || {},
                                    v = a.query || {};
                                l.length ? (u = l.filter(function(t) {
                                    return !o(y, t, p, m, h, v)
                                }), s = y.filter(function(t) {
                                    return !o(l, t, p, m, h, v)
                                })) : (u = [], s = y);
                                var g = new C(t, N.replaceWith.bind(N, t));
                                D = g;
                                var w = e.slice(l.length - u.length);
                                C.from(g, u, w, function(e) {
                                    return e || g.abortReason ? H.call(N, e, g) : void C.to(g, s, m, v, function(e) {
                                        H.call(N, e, g, {
                                            path: t,
                                            action: n,
                                            pathname: a.pathname,
                                            routes: y,
                                            params: m,
                                            query: v
                                        })
                                    })
                                })
                            }
                        },
                        run: function(t) {
                            p(!N.isRunning, "Router is already running"), H = function(e, n, r) {
                                e && N.handleError(e), D === n && (D = null, n.abortReason ? N.handleAbort(n.abortReason) : t.call(N, N, y = r))
                            }, n instanceof w || (n.addChangeListener && n.addChangeListener(N.handleLocationChange), N.isRunning = !0), N.refresh()
                        },
                        refresh: function() {
                            N.dispatch(n.getCurrentPath(), null)
                        },
                        stop: function() {
                            N.cancelPendingTransition(), n.removeChangeListener && n.removeChangeListener(N.handleLocationChange), N.isRunning = !1
                        },
                        getLocation: function() {
                            return n
                        },
                        getScrollBehavior: function() {
                            return r
                        },
                        getRouteAtDepth: function(t) {
                            var e = c.routes;
                            return e && e[t]
                        },
                        setRouteComponentAtDepth: function(t, n) {
                            e[t] = n
                        },
                        getCurrentPath: function() {
                            return c.path
                        },
                        getCurrentPathname: function() {
                            return c.pathname
                        },
                        getCurrentParams: function() {
                            return c.params
                        },
                        getCurrentQuery: function() {
                            return c.query
                        },
                        getCurrentRoutes: function() {
                            return c.routes
                        },
                        isActive: function(t, e, n) {
                            return j.isAbsolute(t) ? t === c.path : a(c.routes, t) && u(c.params, e) && (null == n || s(c.query, n))
                        }
                    },
                    mixins: [b],
                    propTypes: {
                        children: P.falsy
                    },
                    childContextTypes: {
                        routeDepth: P.number.isRequired,
                        router: P.router.isRequired
                    },
                    getChildContext: function() {
                        return {
                            routeDepth: 1,
                            router: N
                        }
                    },
                    getInitialState: function() {
                        return c = y
                    },
                    componentWillReceiveProps: function() {
                        this.setState(c = y)
                    },
                    componentWillUnmount: function() {
                        N.stop()
                    },
                    render: function() {
                        var t = N.getRouteAtDepth(0);
                        return t ? l.createElement(t.handler, this.props) : null
                    }
                });
                return N.clearAllRoutes(), t.routes && N.addRoutes(t.routes), N
            }
            var l = n(21),
                f = n(36),
                p = n(34),
                h = n(35).canUseDOM,
                d = n(24),
                y = n(12),
                m = n(7),
                v = n(8),
                g = n(9),
                w = n(10),
                b = n(26),
                R = n(18),
                x = n(27),
                C = n(28),
                P = n(22),
                k = n(29),
                O = n(14),
                E = n(30),
                L = n(31),
                T = n(17),
                S = n(32),
                j = n(25),
                A = h ? m : "/",
                _ = h ? y : null;
            t.exports = c
        }, function(t, e, n) {
            "use strict";

            function r(t, e, n) {
                "function" == typeof e && (n = e, e = null);
                var r = o({
                    routes: t,
                    location: e
                });
                return r.run(n), r
            }
            var o = n(19);
            t.exports = r
        }, function(e) {
            e.exports = t
        }, function(t, e, n) {
            "use strict";
            var r = n(33),
                o = n(21).PropTypes,
                i = n(17),
                a = r({}, o, {
                    falsy: function(t, e, n) {
                        return t[e] ? new Error("<" + n + '> should not have a "' + e + '" prop') : void 0
                    },
                    route: o.instanceOf(i),
                    router: o.func
                });
            t.exports = a
        }, function(t, e, n) {
            "use strict";
            var r = function(t, e) {
                    if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function")
                },
                o = function() {
                    function t(t, e) {
                        for (var n = 0; n < e.length; n++) {
                            var r = e[n];
                            r.enumerable = r.enumerable || !1, r.configurable = !0, "value" in r && (r.writable = !0), Object.defineProperty(t, r.key, r)
                        }
                    }
                    return function(e, n, r) {
                        return n && t(e.prototype, n), r && t(e, r), e
                    }
                }(),
                i = function(t, e) {
                    if ("function" != typeof e && null !== e) throw new TypeError("Super expression must either be null or a function, not " + typeof e);
                    t.prototype = Object.create(e && e.prototype, {
                        constructor: {
                            value: t,
                            enumerable: !1,
                            writable: !0,
                            configurable: !0
                        }
                    }), e && (t.__proto__ = e)
                },
                a = n(21),
                u = function(t) {
                    function e() {
                        r(this, e), null != t && t.apply(this, arguments)
                    }
                    return i(e, t), o(e, [{
                        key: "render",
                        value: function() {
                            return this.props.children
                        }
                    }]), e
                }(a.Component);
            t.exports = u
        }, function(t) {
            "use strict";
            var e = {
                PUSH: "push",
                REPLACE: "replace",
                POP: "pop"
            };
            t.exports = e
        }, function(t, e, n) {
            "use strict";

            function r(t) {
                if (!(t in f)) {
                    var e = [],
                        n = t.replace(u, function(t, n) {
                            return n ? (e.push(n), "([^/?#]+)") : "*" === t ? (e.push("splat"), "(.*?)") : "\\" + t
                        });
                    f[t] = {
                        matcher: new RegExp("^" + n + "$", "i"),
                        paramNames: e
                    }
                }
                return f[t]
            }
            var o = n(34),
                i = n(38),
                a = n(39),
                u = /:([a-zA-Z_$][a-zA-Z0-9_$]*)|[*.()\[\]\\+|{}^$]/g,
                s = /:([a-zA-Z_$][a-zA-Z0-9_$?]*[?]?)|[*]/g,
                c = /\/\/\?|\/\?\/|\/\?/g,
                l = /\?(.*)$/,
                f = {},
                p = {
                    isAbsolute: function(t) {
                        return "/" === t.charAt(0)
                    },
                    join: function(t, e) {
                        return t.replace(/\/*$/, "/") + e
                    },
                    extractParamNames: function(t) {
                        return r(t).paramNames
                    },
                    extractParams: function(t, e) {
                        var n = r(t),
                            o = n.matcher,
                            i = n.paramNames,
                            a = e.match(o);
                        if (!a) return null;
                        var u = {};
                        return i.forEach(function(t, e) {
                            u[t] = a[e + 1]
                        }), u
                    },
                    injectParams: function(t, e) {
                        e = e || {};
                        var n = 0;
                        return t.replace(s, function(r, i) {
                            if (i = i || "splat", "?" === i.slice(-1)) {
                                if (i = i.slice(0, -1), null == e[i]) return ""
                            } else o(null != e[i], 'Missing "%s" parameter for path "%s"', i, t);
                            var a;
                            return "splat" === i && Array.isArray(e[i]) ? (a = e[i][n++], o(null != a, 'Missing splat # %s for path "%s"', n, t)) : a = e[i], a
                        }).replace(c, "/")
                    },
                    extractQuery: function(t) {
                        var e = t.match(l);
                        return e && a.parse(e[1])
                    },
                    withoutQuery: function(t) {
                        return t.replace(l, "")
                    },
                    withQuery: function(t, e) {
                        var n = p.extractQuery(t);
                        n && (e = e ? i(n, e) : n);
                        var r = a.stringify(e, {
                            arrayFormat: "brackets"
                        });
                        return r ? p.withoutQuery(t) + "?" + r : p.withoutQuery(t)
                    }
                };
            t.exports = p
        }, function(t, e, n) {
            "use strict";

            function r(t, e) {
                if (!e) return !0;
                if (t.pathname === e.pathname) return !1;
                var n = t.routes,
                    r = e.routes,
                    o = n.filter(function(t) {
                        return -1 !== r.indexOf(t)
                    });
                return !o.some(function(t) {
                    return t.ignoreScrollBehavior
                })
            }
            var o = n(34),
                i = n(35).canUseDOM,
                a = n(37),
                u = {
                    statics: {
                        recordScrollPosition: function(t) {
                            this.scrollHistory || (this.scrollHistory = {}), this.scrollHistory[t] = a()
                        },
                        getScrollPosition: function(t) {
                            return this.scrollHistory || (this.scrollHistory = {}), this.scrollHistory[t] || null
                        }
                    },
                    componentWillMount: function() {
                        o(null == this.constructor.getScrollBehavior() || i, "Cannot use scroll behavior without a DOM")
                    },
                    componentDidMount: function() {
                        this._updateScroll()
                    },
                    componentDidUpdate: function(t, e) {
                        this._updateScroll(e)
                    },
                    _updateScroll: function(t) {
                        if (r(this.state, t)) {
                            var e = this.constructor.getScrollBehavior();
                            e && e.updateScrollPosition(this.constructor.getScrollPosition(this.state.path), this.state.action)
                        }
                    }
                };
            t.exports = u
        }, function(t, e, n) {
            "use strict";

            function r(t) {
                return null == t || i.isValidElement(t)
            }

            function o(t) {
                return r(t) || Array.isArray(t) && t.every(r)
            }
            var i = n(21);
            t.exports = o
        }, function(t, e, n) {
            "use strict";

            function r(t, e) {
                this.path = t, this.abortReason = null, this.retry = e.bind(this)
            }
            var o = n(30),
                i = n(29);
            r.prototype.abort = function(t) {
                null == this.abortReason && (this.abortReason = t || "ABORT")
            }, r.prototype.redirect = function(t, e, n) {
                this.abort(new i(t, e, n))
            }, r.prototype.cancel = function() {
                this.abort(new o)
            }, r.from = function(t, e, n, r) {
                e.reduce(function(e, r, o) {
                    return function(i) {
                        if (i || t.abortReason) e(i);
                        else if (r.onLeave) try {
                            r.onLeave(t, n[o], e), r.onLeave.length < 3 && e()
                        } catch (a) {
                            e(a)
                        } else e()
                    }
                }, r)()
            }, r.to = function(t, e, n, r, o) {
                e.reduceRight(function(e, o) {
                    return function(i) {
                        if (i || t.abortReason) e(i);
                        else if (o.onEnter) try {
                            o.onEnter(t, n, r, e), o.onEnter.length < 4 && e()
                        } catch (a) {
                            e(a)
                        } else e()
                    }
                }, o)()
            }, t.exports = r
        }, function(t) {
            "use strict";

            function e(t, e, n) {
                this.to = t, this.params = e, this.query = n
            }
            t.exports = e
        }, function(t) {
            "use strict";

            function e() {}
            t.exports = e
        }, function(t, e, n) {
            "use strict";

            function r(t, e, n) {
                var o = t.childRoutes;
                if (o)
                    for (var i, s, c = 0, l = o.length; l > c; ++c)
                        if (s = o[c], !s.isDefault && !s.isNotFound && (i = r(s, e, n))) return i.routes.unshift(t), i;
                var f = t.defaultRoute;
                if (f && (h = a.extractParams(f.path, e))) return new u(e, h, n, [t, f]);
                var p = t.notFoundRoute;
                if (p && (h = a.extractParams(p.path, e))) return new u(e, h, n, [t, p]);
                var h = a.extractParams(t.path, e);
                return h ? new u(e, h, n, [t]) : null
            }
            var o = function(t, e) {
                    if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function")
                },
                i = function() {
                    function t(t, e) {
                        for (var n = 0; n < e.length; n++) {
                            var r = e[n];
                            r.enumerable = r.enumerable || !1, r.configurable = !0, "value" in r && (r.writable = !0), Object.defineProperty(t, r.key, r)
                        }
                    }
                    return function(e, n, r) {
                        return n && t(e.prototype, n), r && t(e, r), e
                    }
                }(),
                a = n(25),
                u = function() {
                    function t(e, n, r, i) {
                        o(this, t), this.pathname = e, this.params = n, this.query = r, this.routes = i
                    }
                    return i(t, null, [{
                        key: "findMatch",
                        value: function(t, e) {
                            for (var n = a.withoutQuery(e), o = a.extractQuery(e), i = null, u = 0, s = t.length; null == i && s > u; ++u) i = r(t[u], n, o);
                            return i
                        }
                    }]), t
                }();
            t.exports = u
        }, function(t) {
            "use strict";

            function e() {
                var t = navigator.userAgent;
                return -1 === t.indexOf("Android 2.") && -1 === t.indexOf("Android 4.0") || -1 === t.indexOf("Mobile Safari") || -1 !== t.indexOf("Chrome") || -1 !== t.indexOf("Windows Phone") ? window.history && "pushState" in window.history : !1
            }
            t.exports = e
        }, function(t) {
            "use strict";

            function e(t) {
                if (null == t) throw new TypeError("Object.assign target cannot be null or undefined");
                for (var e = Object(t), n = Object.prototype.hasOwnProperty, r = 1; r < arguments.length; r++) {
                    var o = arguments[r];
                    if (null != o) {
                        var i = Object(o);
                        for (var a in i) n.call(i, a) && (e[a] = i[a])
                    }
                }
                return e
            }
            t.exports = e
        }, function(t) {
            "use strict";
            var e = function(t, e, n, r, o, i, a, u) {
                if (!t) {
                    var s;
                    if (void 0 === e) s = new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");
                    else {
                        var c = [n, r, o, i, a, u],
                            l = 0;
                        s = new Error("Invariant Violation: " + e.replace(/%s/g, function() {
                            return c[l++]
                        }))
                    }
                    throw s.framesToPop = 1, s
                }
            };
            t.exports = e
        }, function(t) {
            "use strict";
            var e = !("undefined" == typeof window || !window.document || !window.document.createElement),
                n = {
                    canUseDOM: e,
                    canUseWorkers: "undefined" != typeof Worker,
                    canUseEventListeners: e && !(!window.addEventListener && !window.attachEvent),
                    canUseViewport: e && !!window.screen,
                    isInWorker: !e
                };
            t.exports = n
        }, function(t, e, n) {
            "use strict";
            var r = n(40),
                o = r;
            t.exports = o
        }, function(t, e, n) {
            "use strict";

            function r() {
                return o(i, "Cannot get current scroll position without a DOM"), {
                    x: window.pageXOffset || document.documentElement.scrollLeft,
                    y: window.pageYOffset || document.documentElement.scrollTop
                }
            }
            var o = n(34),
                i = n(35).canUseDOM;
            t.exports = r
        }, function(t) {
            "use strict";

            function e(t) {
                if (null == t) throw new TypeError("Object.assign cannot be called with null or undefined");
                return Object(t)
            }
            t.exports = Object.assign || function(t) {
                for (var n, r, o = e(t), i = 1; i < arguments.length; i++) {
                    n = arguments[i], r = Object.keys(Object(n));
                    for (var a = 0; a < r.length; a++) o[r[a]] = n[r[a]]
                }
                return o
            }
        }, function(t, e, n) {
            "use strict";
            t.exports = n(41)
        }, function(t) {
            "use strict";

            function e(t) {
                return function() {
                    return t
                }
            }

            function n() {}
            n.thatReturns = e, n.thatReturnsFalse = e(!1), n.thatReturnsTrue = e(!0), n.thatReturnsNull = e(null), n.thatReturnsThis = function() {
                return this
            }, n.thatReturnsArgument = function(t) {
                return t
            }, t.exports = n
        }, function(t, e, n) {
            "use strict";
            var r = n(42),
                o = n(43);
            t.exports = {
                stringify: r,
                parse: o
            }
        }, function(t, e, n) {
            "use strict";
            var r = n(44),
                o = {
                    delimiter: "&",
                    arrayPrefixGenerators: {
                        brackets: function(t) {
                            return t + "[]"
                        },
                        indices: function(t, e) {
                            return t + "[" + e + "]"
                        },
                        repeat: function(t) {
                            return t
                        }
                    }
                };
            o.stringify = function(t, e, n) {
                if (r.isBuffer(t) ? t = t.toString() : t instanceof Date ? t = t.toISOString() : null === t && (t = ""), "string" == typeof t || "number" == typeof t || "boolean" == typeof t) return [encodeURIComponent(e) + "=" + encodeURIComponent(t)];
                var i = [];
                if ("undefined" == typeof t) return i;
                for (var a = Object.keys(t), u = 0, s = a.length; s > u; ++u) {
                    var c = a[u];
                    i = i.concat(Array.isArray(t) ? o.stringify(t[c], n(e, c), n) : o.stringify(t[c], e + "[" + c + "]", n))
                }
                return i
            }, t.exports = function(t, e) {
                e = e || {};
                var n = "undefined" == typeof e.delimiter ? o.delimiter : e.delimiter,
                    r = [];
                if ("object" != typeof t || null === t) return "";
                var i;
                i = e.arrayFormat in o.arrayPrefixGenerators ? e.arrayFormat : "indices" in e ? e.indices ? "indices" : "repeat" : "indices";
                for (var a = o.arrayPrefixGenerators[i], u = Object.keys(t), s = 0, c = u.length; c > s; ++s) {
                    var l = u[s];
                    r = r.concat(o.stringify(t[l], l, a))
                }
                return r.join(n)
            }
        }, function(t, e, n) {
            "use strict";
            var r = n(44),
                o = {
                    delimiter: "&",
                    depth: 5,
                    arrayLimit: 20,
                    parameterLimit: 1e3
                };
            o.parseValues = function(t, e) {
                for (var n = {}, o = t.split(e.delimiter, 1 / 0 === e.parameterLimit ? void 0 : e.parameterLimit), i = 0, a = o.length; a > i; ++i) {
                    var u = o[i],
                        s = -1 === u.indexOf("]=") ? u.indexOf("=") : u.indexOf("]=") + 1;
                    if (-1 === s) n[r.decode(u)] = "";
                    else {
                        var c = r.decode(u.slice(0, s)),
                            l = r.decode(u.slice(s + 1));
                        if (Object.prototype.hasOwnProperty(c)) continue;
                        n[c] = n.hasOwnProperty(c) ? [].concat(n[c]).concat(l) : l
                    }
                }
                return n
            }, o.parseObject = function(t, e, n) {
                if (!t.length) return e;
                var r = t.shift(),
                    i = {};
                if ("[]" === r) i = [], i = i.concat(o.parseObject(t, e, n));
                else {
                    var a = "[" === r[0] && "]" === r[r.length - 1] ? r.slice(1, r.length - 1) : r,
                        u = parseInt(a, 10),
                        s = "" + u;
                    !isNaN(u) && r !== a && s === a && u >= 0 && u <= n.arrayLimit ? (i = [], i[u] = o.parseObject(t, e, n)) : i[a] = o.parseObject(t, e, n)
                }
                return i
            }, o.parseKeys = function(t, e, n) {
                if (t) {
                    var r = /^([^\[\]]*)/,
                        i = /(\[[^\[\]]*\])/g,
                        a = r.exec(t);
                    if (!Object.prototype.hasOwnProperty(a[1])) {
                        var u = [];
                        a[1] && u.push(a[1]);
                        for (var s = 0; null !== (a = i.exec(t)) && s < n.depth;) ++s, Object.prototype.hasOwnProperty(a[1].replace(/\[|\]/g, "")) || u.push(a[1]);
                        return a && u.push("[" + t.slice(a.index) + "]"), o.parseObject(u, e, n)
                    }
                }
            }, t.exports = function(t, e) {
                if ("" === t || null === t || "undefined" == typeof t) return {};
                e = e || {}, e.delimiter = "string" == typeof e.delimiter || r.isRegExp(e.delimiter) ? e.delimiter : o.delimiter, e.depth = "number" == typeof e.depth ? e.depth : o.depth, e.arrayLimit = "number" == typeof e.arrayLimit ? e.arrayLimit : o.arrayLimit, e.parameterLimit = "number" == typeof e.parameterLimit ? e.parameterLimit : o.parameterLimit;
                for (var n = "string" == typeof t ? o.parseValues(t, e) : t, i = {}, a = Object.keys(n), u = 0, s = a.length; s > u; ++u) {
                    var c = a[u],
                        l = o.parseKeys(c, n[c], e);
                    i = r.merge(i, l)
                }
                return r.compact(i)
            }
        }, function(t, e) {
            "use strict";
            e.arrayToObject = function(t) {
                for (var e = {}, n = 0, r = t.length; r > n; ++n) "undefined" != typeof t[n] && (e[n] = t[n]);
                return e
            }, e.merge = function(t, n) {
                if (!n) return t;
                if ("object" != typeof n) return Array.isArray(t) ? t.push(n) : t[n] = !0, t;
                if ("object" != typeof t) return t = [t].concat(n);
                Array.isArray(t) && !Array.isArray(n) && (t = e.arrayToObject(t));
                for (var r = Object.keys(n), o = 0, i = r.length; i > o; ++o) {
                    var a = r[o],
                        u = n[a];
                    t[a] = t[a] ? e.merge(t[a], u) : u
                }
                return t
            }, e.decode = function(t) {
                try {
                    return decodeURIComponent(t.replace(/\+/g, " "))
                } catch (e) {
                    return t
                }
            }, e.compact = function(t, n) {
                if ("object" != typeof t || null === t) return t;
                n = n || [];
                var r = n.indexOf(t);
                if (-1 !== r) return n[r];
                if (n.push(t), Array.isArray(t)) {
                    for (var o = [], i = 0, a = t.length; a > i; ++i) "undefined" != typeof t[i] && o.push(t[i]);
                    return o
                }
                var u = Object.keys(t);
                for (i = 0, a = u.length; a > i; ++i) {
                    var s = u[i];
                    t[s] = e.compact(t[s], n)
                }
                return t
            }, e.isRegExp = function(t) {
                return "[object RegExp]" === Object.prototype.toString.call(t)
            }, e.isBuffer = function(t) {
                return null === t || "undefined" == typeof t ? !1 : !!(t.constructor && t.constructor.isBuffer && t.constructor.isBuffer(t))
            }
        }])
    })
});

Requireify.register('js/utils/URLGenerator.js', function(require, requireAsync, module, exports) {


    "use strict";

    function ensureValidProtocol(e) {
        return _.endsWith(e, PROTOCOL_END) ? e : e.replace(/[\/|:]/g, EMPTY_STRING) + PROTOCOL_END
    }

    function ensureValidPath(e) {
        var t = e;
        return _.startsWith(t, PATH_START) || (t = PATH_START + t), t
    }

    function ensureValidQuery(e) {
        var t = EMPTY_STRING,
            r = !1;
        return _.forIn(e, function(e, n) {
            t += [r ? QUERY_NTH_SEPARATOR : QUERY_FIRST_SEPARATOR, n, QUERY_PAIR_SEPARATOR, e].join(EMPTY_STRING), r = !0
        }), t
    }

    function ensureValidHash(e) {
        if (_.isUndefined(e) || _.isEmpty(e)) return EMPTY_STRING;
        var t = e;
        return _.startsWith(t, HASH_SEPARATOR) || (t = HASH_SEPARATOR + t), t
    }

    function create(e) {
        var t = "undefined" != typeof document ? document : {},
            r = _.assign({
                protocol: _.get(t, "location.protocol", PROTOCOL_DEFAULT),
                hostname: _.get(t, "location.hostname", HOSTNAME_DEFAULT),
                path: PATH_DEFAULT,
                query: QUERY_DEFAULT
            }, e);
        return [ensureValidProtocol(r.protocol), r.hostname, ensureValidPath(r.path), ensureValidQuery(r.query), ensureValidHash(r.hash)].join(EMPTY_STRING)
    }

    function createRelative(e) {
        var t = _.assign({
            path: PATH_DEFAULT,
            query: QUERY_DEFAULT
        }, e);
        return [ensureValidPath(t.path), ensureValidQuery(t.query), ensureValidHash(t.hash)].join(EMPTY_STRING)
    }

    function locationToConfig(e) {
        var t;
        if (e.search === EMPTY_STRING) t = QUERY_DEFAULT;
        else {
            var r = e.search.replace(/^\?/, EMPTY_STRING).split(QUERY_NTH_SEPARATOR);
            t = _.reduce(r, function(e, t) {
                var r = t.split(QUERY_PAIR_SEPARATOR);
                return 2 === r.length ? e[r[0]] = r[1] : 1 === r.length && (e[r[0]] = null), e
            }, {})
        }
        return {
            protocol: ensureValidProtocol(e.protocol),
            hostname: e.hostname,
            path: ensureValidPath(e.pathname),
            hash: ensureValidHash(e.hash),
            query: t
        }
    }

    function requestToConfig(e) {
        return {
            protocol: PROTOCOL_DEFAULT,
            hostname: HOSTNAME_DEFAULT,
            path: ensureValidPath(_.result(e, "getPath", PATH_DEFAULT)),
            query: e.query || QUERY_DEFAULT
        }
    }
    var _ = require("lodash"),
        PROTOCOL_DEFAULT = "https:",
        PROTOCOL_END = "://",
        HOSTNAME_DEFAULT = "www.netflix.com",
        PATH_START = "/",
        PATH_DEFAULT = "/",
        QUERY_DEFAULT = {},
        QUERY_FIRST_SEPARATOR = "?",
        QUERY_NTH_SEPARATOR = "&",
        QUERY_PAIR_SEPARATOR = "=",
        HASH_SEPARATOR = "#",
        EMPTY_STRING = "";
    module.exports = {
        create: create,
        createRelative: createRelative,
        locationToConfig: locationToConfig,
        requestToConfig: requestToConfig
    };


});


Requireify.register('js/utils/URLSafety.js', function(require, requireAsync, module, exports) {


    "use strict";

    function isAbsoluteNetflixUrl(e) {
        var t, i;
        return e = decodeURIComponent(e), e && (t = e.indexOf(PROTOCOL_END), t > 0 && (e = e.substring(t + PROTOCOL_END.length)), i = e.indexOf(HOSTNAME_END_FOLDER), 0 > i && (i = e.indexOf(HOSTNAME_END_QUERY), 0 > i && (i = e.length)), t >= 0 && i >= 0) ? _.endsWith(e.substring(0, i), NETFLIX_DOMAIN_SUFFIX) : !1
    }

    function isRelativeURL(e) {
        return _.startsWith(e, "/")
    }
    var _ = require("lodash"),
        NETFLIX_DOMAIN_SUFFIX = ".netflix.com",
        PROTOCOL_END = "://",
        HOSTNAME_END_FOLDER = "/",
        HOSTNAME_END_QUERY = "?";
    module.exports = {
        isAbsoluteNetflixUrl: isAbsoluteNetflixUrl,
        isRelativeURL: isRelativeURL
    };


});


Requireify.register('js/utils/urls.js', function(require, requireAsync, module, exports) {


    "use strict";
    var URLGenerator = require("./URLGenerator"),
        URLSafety = require("./URLSafety"),
        ctx = require("./contextData"),
        _ = require("lodash"),
        serverDefs = ctx.getFeatureData("serverDefs"),
        ROOT = "",
        env = serverDefs && serverDefs.production ? "prod" : "test",
        BASE_SECURE_URL = {
            prod: "https://www.netflix.com",
            test: "https://www-qa.test.netflix.com"
        },
        BASE_URL = {
            prod: "http://www.netflix.com",
            test: "http://www-qa.test.netflix.com"
        },
        paths = {
            app: "/browse",
            genre: "/browse/genre",
            similars: "/browse/similars",
            genrenewrelease: "/browse/genre-new-release",
            hd: "/browse/hd",
            person: "/browse/person",
            mylist: "/browse/my-list",
            watchagain: "/browse/watch-again",
            recentlyadded: "/browse/recently-added",
            justadded: "/browse/just-added",
            newarrivals: "/browse/new-arrivals",
            newrelease: "/browse/new-release",
            newreleases: "/browse/new-releases",
            watch: "/watch",
            watchCharacter: "/watch/character",
            SLinstall: "/slinstall",
            title: "/title",
            addToMyList: "/add",
            subtitle: "/browse/subtitle",
            subtitles: "/browse/subtitles",
            search: "/search",
            audioDescription: "/browse/audio-description",
            manageProfiles: "/ManageProfiles",
            editProfiles: "/editProfiles",
            densityAudioDescription: "/audio-description",
            netflixOriginals: "/browse/originals",
            profilesGate: "/ProfilesGate",
            kids: "/Kids"
        },
        urls = {
            paths: paths,
            page: {
                app: ROOT + paths.app,
                genre: ROOT + paths.genre,
                similars: ROOT + paths.similars,
                genrenewrelease: ROOT + paths.genrenewrelease,
                hd: ROOT + paths.hd,
                person: ROOT + paths.person,
                mylist: ROOT + paths.mylist,
                watchagain: ROOT + paths.watchagain,
                recentlyadded: ROOT + paths.recentlyadded,
                justadded: ROOT + paths.justadded,
                newrelease: ROOT + paths.newrelease,
                newreleases: ROOT + paths.newreleases,
                newarrivals: ROOT + paths.newarrivals,
                watch: ROOT + paths.watch,
                watchCharacter: ROOT + paths.watchCharacter,
                SLinstall: ROOT + paths.SLinstall,
                title: ROOT + paths.title,
                addToMyList: ROOT + paths.addToMyList,
                subtitle: ROOT + paths.subtitle,
                subtitles: ROOT + paths.subtitles,
                search: ROOT + paths.search,
                audioDescription: ROOT + paths.audioDescription,
                densityAudioDesc: ROOT + paths.densityAudioDescription,
                netflixOriginals: ROOT + paths.netflixOriginals,
                manageProfiles: ROOT + paths.manageProfiles,
                editProfiles: ROOT + paths.editProfiles,
                kids: ROOT + paths.kids,
                doNotTest: "/DoNotTest",
                manageFB: "/ManageFB",
                yourAccount: "/YourAccount",
                affiliates: "/Affiliates",
                termsOfUse: "https://help.netflix.com/legal/termsofuse",
                socialterms: "/socialterms",
                privacyPolicy: "https://help.netflix.com/legal/privacy",
                cookiePolicy: "/Cookies",
                signOut: "/SignOut?lnkctr=mL",
                freeTrialDetails: "/PopupDetails",
                gift: "/Gift",
                merchweb: {
                    home: "/WiHome",
                    player: "/WiPlayer",
                    viewingActivity: "/WiViewingActivity",
                    editProfiles: "/EditProfiles",
                    mdp: "/WiMovie",
                    manualSortMyList: "/ChangeListOrderCustomer",
                    myList: "/MyList",
                    kidsHome: "/Kids",
                    mwkidsHome: "/Kids",
                    onRamp: "/Welcome/OnRamp",
                    genre: "/WiGenre",
                    profilesGate: "/ProfilesGate",
                    role: "/RoleDisplay",
                    subtitles: "/Subtitles",
                    newReleases: "/NewReleases",
                    recentAdditionsGallery: "/WiRecentAdditionsGallery",
                    unsupportedCountry: "/Error?type=nonSupportedCountry"
                },
                test: {
                    base: BASE_URL.test
                },
                dvdCo: {
                    hostname: {
                        test: "dvd-www-test-baseline-stable.eng.dvdco.netflix.com",
                        prod: "dvd.netflix.com"
                    },
                    home: "/MemberHome?lnkctr=mhbwse",
                    mdp: "/Movie",
                    dvdUpsell: "/SubscriptionAdd",
                    search: "/Search"
                },
                help: {
                    ratings: "/support/2064",
                    reviewsFaq: "/support/9977",
                    playerSupport: "/support/23742"
                },
                external: {
                    devices: {
                        protocol: "https",
                        hostname: "devices.netflix.com"
                    },
                    mediaCenter: {
                        protocol: "http",
                        hostname: "media.netflix.com"
                    },
                    investors: {
                        protocol: "http",
                        hostname: "ir.netflix.com"
                    },
                    help: {
                        protocol: "http",
                        hostname: "help.netflix.com"
                    },
                    contact: {
                        protocol: "http",
                        hostname: "help.netflix.com",
                        path: "/contactus"
                    },
                    jobs: {
                        protocol: "http",
                        hostname: "jobs.netflix.com"
                    },
                    support: {
                        protocol: "https",
                        hostname: "support.netflix.com"
                    },
                    jpTransactionAct: {
                        protocol: "https",
                        hostname: "help.netflix.com",
                        path: "/support/26101"
                    }
                }
            },
            endpoint: {
                setVideoRating: "/setVideoRating"
            },
            param: {
                merchweb: {
                    playerMovieId: "movieid",
                    trackId: "trkid",
                    uiPlayContext: "tctx",
                    audioDescription: "ad"
                },
                dvdUpsell: {
                    preselect: "preselect",
                    dsrc: "dsrc",
                    source: {
                        search: "STRWEB_SEARCH",
                        nav: "STRWEB_NAV"
                    },
                    videoid: "videoid",
                    isShowMember: "isShowMember"
                }
            },
            devParam: {},
            appStores: {
                iOS: "http://itunes.com/apps/netflix",
                android: "https://play.google.com/store/apps/details?id=com.netflix.mediaclient"
            },
            getExternalUrl: function(e) {
                return URLGenerator.create(this.page.external[e])
            },
            getMerchWebPlayerUrl: function(e, t, r, a) {
                var s = {};
                return s[this.param.merchweb.playerMovieId] = e, t && (s[this.param.merchweb.trackId] = t), r && (s[this.param.merchweb.uiPlayContext] = r), a === !0 && (s[this.param.merchweb.audioDescription] = "true"), URLGenerator.createRelative({
                    path: this.page.merchweb.player,
                    query: s
                })
            },
            getMerchWebMDPUrl: function(e) {
                return URLGenerator.create({
                    path: this.page.merchweb.mdp + "/" + e
                })
            },
            getMerchWebGenreUrl: function(e) {
                return URLGenerator.create({
                    path: this.page.merchweb.genre,
                    query: {
                        agid: e
                    }
                })
            },
            getMerchWebRoleUrl: function(e) {
                return URLGenerator.create({
                    path: this.page.merchweb.role,
                    query: {
                        personid: e
                    }
                })
            },
            getMerchWebSubtitlesUrl: function(e) {
                return URLGenerator.create({
                    path: this.page.merchweb.subtitles,
                    query: {
                        sub: e
                    }
                })
            },
            getMerchWebRecentAdditionsGalleryUrl: function(e) {
                return URLGenerator.create({
                    path: this.page.merchweb.recentAdditionsGallery,
                    query: {
                        nRR: "arrivalDate",
                        nRT: "all",
                        genreId: e
                    }
                })
            },
            getViewingActivityUrl: function() {
                return URLGenerator.create({
                    path: urls.page.merchweb.viewingActivity
                })
            },
            getMerchWebKidsAltGenreUrl: function(e) {
                return URLGenerator.create({
                    path: "/KidsAltGenre",
                    query: {
                        agid: e
                    }
                })
            },
            getTitleUrl: function(e) {
                return urls.page.title + "/" + e
            },
            getSearchPersonUrl: function(e, t) {
                return urls.page.search + "/" + e + "/person/" + t
            },
            getSearchSuggestionUrl: function(e, t) {
                return urls.page.search + "/" + e + "/suggestion/" + t
            },
            getHelpUrl: function(e) {
                var t = this.page.external.help;
                return URLGenerator.create({
                    protocol: t.protocol,
                    hostname: t.hostname,
                    path: _.get(this.page.help, e, "")
                })
            },
            getSwitchProfileUrl: function(e, t) {
                var r = {
                    tkn: t
                };
                return e && (r.nextpage = "/app"), URLGenerator.create({
                    path: "/SwitchProfile",
                    query: r
                })
            },
            getSafeNextUrl: function(e) {
                return e = e.replace(/[<\[\^>\]\*>]/g, ""), !URLSafety.isRelativeURL(e) && URLSafety.isAbsoluteNetflixUrl(e) ? e : URLGenerator.create({
                    path: urls.page.merchweb.home
                })
            },
            makeAkiraPlayerUrl: function(e, t, r) {
                var a = {};
                return isNaN(parseInt(e, 10)) && (e = 0), "object" != typeof t && (t = {}), r && (a.protocol = "http:"), a.path = paths.watch + "/" + e, a.query = t, URLGenerator.create(a)
            },
            getDVDCoHomeURL: function() {
                return URLGenerator.create({
                    protocol: "http:",
                    hostname: this.page.dvdCo.hostname[env],
                    path: this.page.dvdCo.home
                })
            },
            getDVDCoMDPURL: function(e, t) {
                var r = {};
                return r[this.param.merchweb.trackId] = t, URLGenerator.create({
                    protocol: "http:",
                    hostname: this.page.dvdCo.hostname[env],
                    path: this.page.dvdCo.mdp + "/" + e,
                    query: r
                })
            },
            getDVDUpsellURL: function(e, t) {
                var r = {};
                return e && (r[this.param.dvdUpsell.videoid] = e), t ? r[this.param.dvdUpsell.dsrc] = this.param.dvdUpsell.source[t] : r[this.param.dvdUpsell.dsrc] = this.param.dvdUpsell.source.nav, r[this.param.dvdUpsell.preselect] = "1u", URLGenerator.create({
                    protocol: "http:",
                    hostname: this.page.dvdCo.hostname[env],
                    path: this.page.dvdCo.dvdUpsell,
                    query: r
                })
            },
            getDVDCoSearchURL: function(e) {
                return URLGenerator.create({
                    hostname: this.page.dvdCo.hostname[env],
                    path: this.page.dvdCo.search,
                    query: {
                        v1: e
                    }
                })
            },
            getIOSAppStoreURL: function() {
                return urls.page.appStores.iOS
            },
            getAndroidAppStoreURL: function() {
                return urls.page.appStores.android
            },
            getBaseURL: function(e) {
                return e && e.production === !1 ? BASE_URL.test : BASE_URL.prod
            },
            getSecureBaseURL: function(e) {
                return e && e.production === !1 ? BASE_SECURE_URL.test : BASE_SECURE_URL.prod
            }
        };
    module.exports = urls;


});


Requireify.register("qs", function(e, r, t, n) {
    ! function(e) {
        if ("object" == typeof n && "undefined" != typeof t) t.exports = e();
        else if ("function" == typeof define && define.amd) define([], e);
        else {
            var r;
            r = "undefined" != typeof window ? window : "undefined" != typeof global ? global : "undefined" != typeof self ? self : this, r.qs = e()
        }
    }(function() {
        return function r(t, n, i) {
            function o(l, f) {
                if (!n[l]) {
                    if (!t[l]) {
                        var s = "function" == typeof e && e;
                        if (!f && s) return s(l, !0);
                        if (a) return a(l, !0);
                        var c = new Error("Cannot find module '" + l + "'");
                        throw c.code = "MODULE_NOT_FOUND", c
                    }
                    var p = n[l] = {
                        exports: {}
                    };
                    t[l][0].call(p.exports, function(e) {
                        var r = t[l][1][e];
                        return o(r ? r : e)
                    }, p, p.exports, r, t, n, i)
                }
                return n[l].exports
            }
            for (var a = "function" == typeof e && e, l = 0; l < i.length; l++) o(i[l]);
            return o
        }({
            1: [function(e, r, t) {
                var n = e("./stringify"),
                    i = e("./parse");
                r.exports = {
                    stringify: n,
                    parse: i
                }
            }, {
                "./parse": 2,
                "./stringify": 3
            }],
            2: [function(e, r, t) {
                var n = e("./utils"),
                    i = {
                        delimiter: "&",
                        depth: 5,
                        arrayLimit: 20,
                        parameterLimit: 1e3,
                        strictNullHandling: !1,
                        plainObjects: !1,
                        allowPrototypes: !1,
                        allowDots: !1
                    };
                i.parseValues = function(e, r) {
                    for (var t = {}, i = e.split(r.delimiter, r.parameterLimit === 1 / 0 ? void 0 : r.parameterLimit), o = 0, a = i.length; a > o; ++o) {
                        var l = i[o],
                            f = -1 === l.indexOf("]=") ? l.indexOf("=") : l.indexOf("]=") + 1;
                        if (-1 === f) t[n.decode(l)] = "", r.strictNullHandling && (t[n.decode(l)] = null);
                        else {
                            var s = n.decode(l.slice(0, f)),
                                c = n.decode(l.slice(f + 1));
                            Object.prototype.hasOwnProperty.call(t, s) ? t[s] = [].concat(t[s]).concat(c) : t[s] = c
                        }
                    }
                    return t
                }, i.parseObject = function(e, r, t) {
                    if (!e.length) return r;
                    var n, o = e.shift();
                    if ("[]" === o) n = [], n = n.concat(i.parseObject(e, r, t));
                    else {
                        n = t.plainObjects ? Object.create(null) : {};
                        var a = "[" === o[0] && "]" === o[o.length - 1] ? o.slice(1, o.length - 1) : o,
                            l = parseInt(a, 10),
                            f = "" + l;
                        !isNaN(l) && o !== a && f === a && l >= 0 && t.parseArrays && l <= t.arrayLimit ? (n = [], n[l] = i.parseObject(e, r, t)) : n[a] = i.parseObject(e, r, t)
                    }
                    return n
                }, i.parseKeys = function(e, r, t) {
                    if (e) {
                        t.allowDots && (e = e.replace(/\.([^\.\[]+)/g, "[$1]"));
                        var n = /^([^\[\]]*)/,
                            o = /(\[[^\[\]]*\])/g,
                            a = n.exec(e),
                            l = [];
                        if (a[1]) {
                            if (!t.plainObjects && Object.prototype.hasOwnProperty(a[1]) && !t.allowPrototypes) return;
                            l.push(a[1])
                        }
                        for (var f = 0; null !== (a = o.exec(e)) && f < t.depth;) ++f, (t.plainObjects || !Object.prototype.hasOwnProperty(a[1].replace(/\[|\]/g, "")) || t.allowPrototypes) && l.push(a[1]);
                        return a && l.push("[" + e.slice(a.index) + "]"), i.parseObject(l, r, t)
                    }
                }, r.exports = function(e, r) {
                    if (r = r || {}, r.delimiter = "string" == typeof r.delimiter || n.isRegExp(r.delimiter) ? r.delimiter : i.delimiter, r.depth = "number" == typeof r.depth ? r.depth : i.depth, r.arrayLimit = "number" == typeof r.arrayLimit ? r.arrayLimit : i.arrayLimit, r.parseArrays = r.parseArrays !== !1, r.allowDots = "boolean" == typeof r.allowDots ? r.allowDots : i.allowDots, r.plainObjects = "boolean" == typeof r.plainObjects ? r.plainObjects : i.plainObjects, r.allowPrototypes = "boolean" == typeof r.allowPrototypes ? r.allowPrototypes : i.allowPrototypes, r.parameterLimit = "number" == typeof r.parameterLimit ? r.parameterLimit : i.parameterLimit, r.strictNullHandling = "boolean" == typeof r.strictNullHandling ? r.strictNullHandling : i.strictNullHandling, "" === e || null === e || "undefined" == typeof e) return r.plainObjects ? Object.create(null) : {};
                    for (var t = "string" == typeof e ? i.parseValues(e, r) : e, o = r.plainObjects ? Object.create(null) : {}, a = Object.keys(t), l = 0, f = a.length; f > l; ++l) {
                        var s = a[l],
                            c = i.parseKeys(s, t[s], r);
                        o = n.merge(o, c, r)
                    }
                    return n.compact(o)
                }
            }, {
                "./utils": 4
            }],
            3: [function(e, r, t) {
                var n = e("./utils"),
                    i = {
                        delimiter: "&",
                        arrayPrefixGenerators: {
                            brackets: function(e, r) {
                                return e + "[]"
                            },
                            indices: function(e, r) {
                                return e + "[" + r + "]"
                            },
                            repeat: function(e, r) {
                                return e
                            }
                        },
                        strictNullHandling: !1,
                        skipNulls: !1,
                        encode: !0
                    };
                i.stringify = function(e, r, t, o, a, l, f, s) {
                    if ("function" == typeof f) e = f(r, e);
                    else if (n.isBuffer(e)) e = e.toString();
                    else if (e instanceof Date) e = e.toISOString();
                    else if (null === e) {
                        if (o) return l ? n.encode(r) : r;
                        e = ""
                    }
                    if ("string" == typeof e || "number" == typeof e || "boolean" == typeof e) return l ? [n.encode(r) + "=" + n.encode(e)] : [r + "=" + e];
                    var c = [];
                    if ("undefined" == typeof e) return c;
                    var p;
                    if (Array.isArray(f)) p = f;
                    else {
                        var u = Object.keys(e);
                        p = s ? u.sort(s) : u
                    }
                    for (var y = 0, d = p.length; d > y; ++y) {
                        var b = p[y];
                        a && null === e[b] || (c = Array.isArray(e) ? c.concat(i.stringify(e[b], t(r, b), t, o, a, l, f)) : c.concat(i.stringify(e[b], r + "[" + b + "]", t, o, a, l, f)))
                    }
                    return c
                }, r.exports = function(e, r) {
                    r = r || {};
                    var t, n, o = "undefined" == typeof r.delimiter ? i.delimiter : r.delimiter,
                        a = "boolean" == typeof r.strictNullHandling ? r.strictNullHandling : i.strictNullHandling,
                        l = "boolean" == typeof r.skipNulls ? r.skipNulls : i.skipNulls,
                        f = "boolean" == typeof r.encode ? r.encode : i.encode,
                        s = "function" == typeof r.sort ? r.sort : null;
                    "function" == typeof r.filter ? (n = r.filter, e = n("", e)) : Array.isArray(r.filter) && (t = n = r.filter);
                    var c = [];
                    if ("object" != typeof e || null === e) return "";
                    var p;
                    p = r.arrayFormat in i.arrayPrefixGenerators ? r.arrayFormat : "indices" in r ? r.indices ? "indices" : "repeat" : "indices";
                    var u = i.arrayPrefixGenerators[p];
                    t || (t = Object.keys(e)), s && t.sort(s);
                    for (var y = 0, d = t.length; d > y; ++y) {
                        var b = t[y];
                        l && null === e[b] || (c = c.concat(i.stringify(e[b], b, u, a, l, f, n, s)))
                    }
                    return c.join(o)
                }
            }, {
                "./utils": 4
            }],
            4: [function(e, r, t) {
                var n = {};
                n.hexTable = new Array(256);
                for (var i = 0; 256 > i; ++i) n.hexTable[i] = "%" + ((16 > i ? "0" : "") + i.toString(16)).toUpperCase();
                t.arrayToObject = function(e, r) {
                    for (var t = r.plainObjects ? Object.create(null) : {}, n = 0, i = e.length; i > n; ++n) "undefined" != typeof e[n] && (t[n] = e[n]);
                    return t
                }, t.merge = function(e, r, n) {
                    if (!r) return e;
                    if ("object" != typeof r) return Array.isArray(e) ? e.push(r) : "object" == typeof e ? e[r] = !0 : e = [e, r], e;
                    if ("object" != typeof e) return e = [e].concat(r);
                    Array.isArray(e) && !Array.isArray(r) && (e = t.arrayToObject(e, n));
                    for (var i = Object.keys(r), o = 0, a = i.length; a > o; ++o) {
                        var l = i[o],
                            f = r[l];
                        Object.prototype.hasOwnProperty.call(e, l) ? e[l] = t.merge(e[l], f, n) : e[l] = f
                    }
                    return e
                }, t.decode = function(e) {
                    try {
                        return decodeURIComponent(e.replace(/\+/g, " "))
                    } catch (r) {
                        return e
                    }
                }, t.encode = function(e) {
                    if (0 === e.length) return e;
                    "string" != typeof e && (e = "" + e);
                    for (var r = "", t = 0, i = e.length; i > t; ++t) {
                        var o = e.charCodeAt(t);
                        45 === o || 46 === o || 95 === o || 126 === o || o >= 48 && 57 >= o || o >= 65 && 90 >= o || o >= 97 && 122 >= o ? r += e[t] : 128 > o ? r += n.hexTable[o] : 2048 > o ? r += n.hexTable[192 | o >> 6] + n.hexTable[128 | 63 & o] : 55296 > o || o >= 57344 ? r += n.hexTable[224 | o >> 12] + n.hexTable[128 | o >> 6 & 63] + n.hexTable[128 | 63 & o] : (++t, o = 65536 + ((1023 & o) << 10 | 1023 & e.charCodeAt(t)), r += n.hexTable[240 | o >> 18] + n.hexTable[128 | o >> 12 & 63] + n.hexTable[128 | o >> 6 & 63] + n.hexTable[128 | 63 & o])
                    }
                    return r
                }, t.compact = function(e, r) {
                    if ("object" != typeof e || null === e) return e;
                    r = r || [];
                    var n = r.indexOf(e);
                    if (-1 !== n) return r[n];
                    if (r.push(e), Array.isArray(e)) {
                        for (var i = [], o = 0, a = e.length; a > o; ++o) "undefined" != typeof e[o] && i.push(e[o]);
                        return i
                    }
                    var l = Object.keys(e);
                    for (o = 0, a = l.length; a > o; ++o) {
                        var f = l[o];
                        e[f] = t.compact(e[f], r)
                    }
                    return e
                }, t.isRegExp = function(e) {
                    return "[object RegExp]" === Object.prototype.toString.call(e)
                }, t.isBuffer = function(e) {
                    return null === e || "undefined" == typeof e ? !1 : !!(e.constructor && e.constructor.isBuffer && e.constructor.isBuffer(e))
                }
            }, {}]
        }, {}, [1])(1)
    })
});

Requireify.register("cookie-dough", function(e, n, r, t) {
    ! function(e) {
        if ("object" == typeof t && "undefined" != typeof r) r.exports = e();
        else if ("function" == typeof define && define.amd) define([], e);
        else {
            var n;
            n = "undefined" != typeof window ? window : "undefined" != typeof global ? global : "undefined" != typeof self ? self : this, n.cookieDough = e()
        }
    }(function() {
        return function n(r, t, o) {
            function i(f, a) {
                if (!t[f]) {
                    if (!r[f]) {
                        var s = "function" == typeof e && e;
                        if (!a && s) return s(f, !0);
                        if (u) return u(f, !0);
                        var c = new Error("Cannot find module '" + f + "'");
                        throw c.code = "MODULE_NOT_FOUND", c
                    }
                    var p = t[f] = {
                        exports: {}
                    };
                    r[f][0].call(p.exports, function(e) {
                        var n = r[f][1][e];
                        return i(n ? n : e)
                    }, p, p.exports, n, r, t, o)
                }
                return t[f].exports
            }
            for (var u = "function" == typeof e && e, f = 0; f < o.length; f++) i(o[f]);
            return i
        }({
            1: [function(e, n, r) {
                var t = e("cookie");
                n.exports = function() {
                    return {
                        set: function(e, n, r) {
                            return document.cookie = t.serialize(e, n, r)
                        },
                        get: function(e) {
                            return t.parse(document.cookie)[e]
                        },
                        remove: function(e) {
                            return !!(document.cookie = t.serialize(e, "", {
                                expires: new Date(0)
                            }))
                        },
                        all: function() {
                            return t.parse(document.cookie)
                        }
                    }
                }
            }, {
                cookie: 2
            }],
            2: [function(e, n, r) {
                function t(e, n) {
                    if ("string" != typeof e) throw new TypeError("argument str must be a string");
                    var r = {},
                        t = n || {},
                        o = e.split(/; */),
                        f = t.decode || u;
                    return o.forEach(function(e) {
                        var n = e.indexOf("=");
                        if (!(0 > n)) {
                            var t = e.substr(0, n).trim(),
                                o = e.substr(++n, e.length).trim();
                            '"' == o[0] && (o = o.slice(1, -1)), void 0 == r[t] && (r[t] = i(o, f))
                        }
                    }), r
                }

                function o(e, n, r) {
                    var t = r || {},
                        o = t.encode || f;
                    if (!a.test(e)) throw new TypeError("argument name is invalid");
                    var i = o(n);
                    if (i && !a.test(i)) throw new TypeError("argument val is invalid");
                    var u = [e + "=" + i];
                    if (null != t.maxAge) {
                        var s = t.maxAge - 0;
                        if (isNaN(s)) throw new Error("maxAge should be a Number");
                        u.push("Max-Age=" + s)
                    }
                    if (t.domain) {
                        if (!a.test(t.domain)) throw new TypeError("option domain is invalid");
                        u.push("Domain=" + t.domain)
                    }
                    if (t.path) {
                        if (!a.test(t.path)) throw new TypeError("option path is invalid");
                        u.push("Path=" + t.path)
                    }
                    return t.expires && u.push("Expires=" + t.expires.toUTCString()), t.httpOnly && u.push("HttpOnly"), t.secure && u.push("Secure"), u.join("; ")
                }

                function i(e, n) {
                    try {
                        return n(e)
                    } catch (r) {
                        return e
                    }
                }
                r.parse = t, r.serialize = o;
                var u = decodeURIComponent,
                    f = encodeURIComponent,
                    a = /^[\u0009\u0020-\u007e\u0080-\u00ff]+$/
            }, {}]
        }, {}, [1])(1)
    })
});

Requireify.register('js/reactMixins/isomorphicCookies.js', function(require, requireAsync, module, exports) {


    "use strict";
    var CookieDough = require("cookie-dough"),
        inNode = require("../utils/inNode");
    module.exports = {
        ROOT_PATH: "/",
        TOP_DOMAIN: ".netflix.com",
        cookies: function() {
            return inNode ? new CookieDough(this.nodeRequest()) : new CookieDough
        }
    };


});


Requireify.register('js/common/iframeCommunicator.js', function(require, requireAsync, module, exports) {


    "use strict";
    var _ = require("lodash"),
        nfProps = require("nf-iso-properties"),
        inNode = require("../utils/inNode"),
        IFRAME_STYLE = {
            height: "1px",
            width: "1px",
            position: "absolute",
            top: "-9px",
            left: "-9px"
        },
        FAST_PROPS = {
            LIFETIME_MAX: "ui.iframeCommunicator.maxLifetimeMs",
            IS_ACTIVE: "ui.iframeCommunicator.isActive"
        },
        ACTIVE = !inNode && nfProps.get(FAST_PROPS.IS_ACTIVE) || !1,
        IFRAME_MAX_LIFETIME_MS = nfProps.get(FAST_PROPS.LIFETIME_MAX) || 3e4,
        FRAME_NAME_PREFIX = "if-communicator-",
        protoIframe, iframeCommunicator = {
            _initialized: !1,
            _currentChannels: {},
            _buildUrl: function(e, i) {
                var t = encodeURIComponent(JSON.stringify(i));
                return e + (-1 === e.search("\\?") ? "?" : "&") + "data=" + t
            },
            _init: function() {
                return this._initialized ? !1 : (protoIframe = document.createElement("iframe"), _.assign(protoIframe.style, IFRAME_STYLE), window.addEventListener("message", this._processMessage.bind(this)), this._initialized = !0, !0)
            },
            _processMessage: function(e) {
                e && e.data && e.data.sender && this._removeIframe(e.data.sender)
            },
            _removeIframe: function(e) {
                var i = this._currentChannels[e];
                i && (window.clearTimeout(i.timeout), i.ref.parentNode.removeChild(i.ref), delete this._currentChannels[e])
            },
            _saveIframe: function(e, i) {
                var t = this,
                    r = window.setTimeout(function() {
                        t._removeIframe(e)
                    }, IFRAME_MAX_LIFETIME_MS);
                this._currentChannels[e] = {
                    timeout: r,
                    ref: i
                }
            },
            send: function(e, i) {
                if (!inNode && ACTIVE && e) {
                    this._init();
                    var t = protoIframe.cloneNode(!1),
                        r = FRAME_NAME_PREFIX + String(Math.random()).slice(2, 15);
                    if (t.src = this._buildUrl(e, i), t.src) return t.name = r, document.body.appendChild(t), this._saveIframe(r, t), r
                }
            }
        };
    module.exports = iframeCommunicator;


});


Requireify.register('js/common/adtech-iFrame.js', function(require, requireAsync, module, exports) {


    "use strict";

    function getQuery() {
        return "undefined" != typeof window && _.has(window, "location.search") ? qs.parse(window.location.search) : {}
    }

    function sendAdTech(e, r, i) {
        if ("undefined" != typeof window && nfProps.get("ui.iframeCommunicator.isActive")) {
            var o = ctx.getFeatureData("geo"),
                n = _.get(window, "netflix.clientNotifications.getCurrentSession", function() {
                    return {}
                })("userSession"),
                t = _.get(ctx.getFeatureData("brightTag"), "referer"),
                s = getQuery(),
                a = IsoCookies.cookies(),
                u = {
                    is_member: r,
                    session: n.sessionId,
                    country: _.get(o, "preferredLocale.country", ""),
                    referrer: e,
                    source: t
                };
            i && (u.signup_type = i ? "former" : "was_never");
            var c = {
                mqso: a.get("mqso"),
                nan_pid: s.nan_pid,
                utm_campaign: s.utm_campaign
            };
            _.assign(u, _.omit(c, _.isUndefined));
            var m = nfProps.get("ui.iframeCommunicator.locations.adTech");
            iframeCommunicator.send(m, u)
        }
    }
    var _ = require("lodash"),
        qs = require("qs"),
        nfProps = require("nf-iso-properties"),
        ctx = require("../utils/contextData"),
        IsoCookies = require("../reactMixins/isomorphicCookies"),
        iframeCommunicator = require("./iframeCommunicator");
    module.exports = {
        sendAdTech: sendAdTech
    };


});


Requireify.register("classnames", function(e, r, n, s) {
    function t() {
        "use strict";
        for (var e = "", r = 0; r < arguments.length; r++) {
            var n = arguments[r];
            if (n) {
                var s = typeof n;
                if ("string" === s || "number" === s) e += " " + n;
                else if (Array.isArray(n)) e += " " + t.apply(null, n);
                else if ("object" === s)
                    for (var i in n) n.hasOwnProperty(i) && n[i] && (e += " " + i)
            }
        }
        return e.substr(1)
    }
    "undefined" != typeof n && n.exports && (n.exports = t), "undefined" != typeof define && define.amd && define("classnames", [], function() {
        return t
    })
});

Requireify.register('js/components/messageHeadline.jsx', function(require, requireAsync, module, exports) {


    "use strict";
    var React = require("react"),
        MessageHeadline = React.createClass({
            displayName: "MessageHeadline",
            propTypes: {
                children: React.PropTypes.array
            },
            render: function() {
                return React.createElement("h2", {
                    className: "message-headline"
                }, this.props.children)
            }
        });
    module.exports = MessageHeadline;


});


Requireify.register('js/components/nfMsgBox.jsx', function(require, requireAsync, module, exports) {


    "use strict";
    var React = require("react"),
        classNames = require("classnames"),
        MessageHeadline = require("./messageHeadline.jsx"),
        MessageBox = React.createClass({
            displayName: "MessageBox",
            render: function() {
                var e, s = {
                        message: !0
                    },
                    a = this.props.msgType || "warn",
                    t = this.props.title ? React.createElement(MessageHeadline, null, this.props.title) : "";
                return s[a] = !0, e = classNames(s), React.createElement("article", {
                    className: e
                }, t, React.createElement("section", {
                    className: "msgContent"
                }, this.props.children))
            }
        });
    module.exports = MessageBox;


});


Requireify.register('js/components/buttonBar.jsx', function(require, requireAsync, module, exports) {


    "use strict";
    var React = require("react"),
        classnames = require("classnames"),
        ButtonBar = React.createClass({
            displayName: "ButtonBar",
            propTypes: {
                align: React.PropTypes.string,
                children: React.PropTypes.oneOfType([React.PropTypes.array, React.PropTypes.object]).isRequired,
                className: React.PropTypes.string,
                topPadding: React.PropTypes.bool
            },
            render: function() {
                var e = {
                    "btn-bar": !0,
                    "top-padding": this.props.topPadding,
                    "btn-bar-left": "left" === this.props.align,
                    "btn-bar-right": "right" === this.props.align,
                    "btn-bar-center": "center" === this.props.align
                };
                this.props.className && (e[this.props.className] = !0);
                var a = classnames(e);
                return React.createElement("div", {
                    className: a
                }, this.props.children)
            }
        });
    module.exports = ButtonBar;


});


Requireify.register('js/components/basicSpinner.jsx', function(require, requireAsync, module, exports) {


    "use strict";
    var React = require("react"),
        classnames = require("classnames"),
        BasicSpinner = React.createClass({
            displayName: "BasicSpinner",
            getDefaultProps: function() {
                return {
                    width: "50px",
                    height: "50px"
                }
            },
            render: function() {
                var e = {
                        width: this.props.width,
                        height: this.props.height
                    },
                    s = {
                        "basic-spinner": !0,
                        isHidden: this.props.isHidden,
                        "center-fixed": this.props.centerFixed
                    };
                return React.createElement("div", {
                    className: classnames(s),
                    style: e
                })
            }
        });
    module.exports = BasicSpinner;


});


Requireify.register('js/components/ux/UIButton.jsx', function(require, requireAsync, module, exports) {


    "use strict";
    var React = require("react"),
        _ = require("lodash"),
        classnames = require("classnames"),
        BasicSpinner = require("../../components/basicSpinner.jsx"),
        UIButton = React.createClass({
            displayName: "UIButton",
            getDefaultProps: function() {
                return {
                    color: "",
                    additionalClasses: {},
                    size: "small",
                    clickHandler: function() {},
                    disabled: !1,
                    type: "button",
                    waiting: !1,
                    autoComplete: "off",
                    tabIndex: 0
                }
            },
            propTypes: {
                waiting: React.PropTypes.bool,
                disabled: React.PropTypes.bool,
                color: React.PropTypes.string,
                id: React.PropTypes.string,
                size: React.PropTypes.string,
                type: React.PropTypes.string,
                additionalClasses: React.PropTypes.object,
                clickHandler: React.PropTypes.func,
                autoComplete: React.PropTypes.string,
                tabIndex: React.PropTypes.number,
                children: React.PropTypes.node,
                role: React.PropTypes.string,
                automationTags: React.PropTypes.object
            },
            clickHandler: function(e) {
                this.props.disabled || this.props.clickHandler(e)
            },
            render: function() {
                var e, t = !!this.props.waiting,
                    s = this.props.disabled || t,
                    a = _.extend({
                        btn: !0,
                        waiting: t,
                        disabled: s
                    }, this.props.additionalClasses),
                    i = this.props.color,
                    o = null;
                return t && (o = React.createElement("div", {
                    className: "waitIndicator"
                }, React.createElement(BasicSpinner, {
                    width: "25px",
                    height: "25px"
                }))), i || (i = "submit" === this.props.type ? "submit" : "plain"), a["btn-" + i] = !0, a["btn-" + this.props.size] = !0, e = {
                    className: classnames(a),
                    onClick: this.clickHandler,
                    type: this.props.type,
                    disabled: s,
                    autoComplete: this.props.autoComplete,
                    tabIndex: this.props.tabIndex,
                    role: this.props.role
                }, this.props.id && (e.id = this.props.id), this.props.automationTags && _.assign(e, this.props.automationTags), React.createElement("button", e, this.props.children, o)
            }
        });
    module.exports = UIButton;


});


Requireify.register('js/components/ux/UILinkButton.jsx', function(require, requireAsync, module, exports) {


    "use strict";

    function _classCallCheck(e, t) {
        if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
    }

    function _inherits(e, t) {
        if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t);
        e.prototype = Object.create(t && t.prototype, {
            constructor: {
                value: e,
                enumerable: !1,
                writable: !0,
                configurable: !0
            }
        }), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t)
    }
    var _createClass = function() {
            function e(e, t) {
                for (var r = 0; r < t.length; r++) {
                    var o = t[r];
                    o.enumerable = o.enumerable || !1, o.configurable = !0, "value" in o && (o.writable = !0), Object.defineProperty(e, o.key, o)
                }
            }
            return function(t, r, o) {
                return r && e(t.prototype, r), o && e(t, o), t
            }
        }(),
        _get = function(e, t, r) {
            for (var o = !0; o;) {
                var n = e,
                    a = t,
                    s = r;
                o = !1, null === n && (n = Function.prototype);
                var i = Object.getOwnPropertyDescriptor(n, a);
                if (void 0 !== i) {
                    if ("value" in i) return i.value;
                    var c = i.get;
                    return void 0 === c ? void 0 : c.call(s)
                }
                var l = Object.getPrototypeOf(n);
                if (null === l) return void 0;
                e = l, t = a, r = s, o = !0, i = l = void 0
            }
        },
        React = require("react"),
        classnames = require("classnames"),
        _ = require("lodash"),
        UILinkButton = function(e) {
            function t(e) {
                _classCallCheck(this, t), _get(Object.getPrototypeOf(t.prototype), "constructor", this).call(this, e)
            }
            return _inherits(t, e), _createClass(t, [{
                key: "handleClick",
                value: function(e) {
                    this.props.clickHandler(e)
                }
            }, {
                key: "render",
                value: function() {
                    var e = _.extend({
                        btn: !0
                    }, this.props.additionalClasses);
                    e["btn-" + this.props.color] = !0, e["btn-" + this.props.size] = !0;
                    var t = classnames(e);
                    return React.createElement("a", {
                        className: t,
                        onClick: _.bind(this.handleClick, this),
                        href: this.props.href,
                        target: this.props.target
                    }, this.props.children)
                }
            }]), t
        }(React.Component);
    UILinkButton.propTypes = {
        children: React.PropTypes.oneOfType([React.PropTypes.array, React.PropTypes.node]),
        color: React.PropTypes.string,
        size: React.PropTypes.string,
        additionalClasses: React.PropTypes.object,
        href: React.PropTypes.string,
        clickHandler: React.PropTypes.func,
        target: React.PropTypes.string
    }, UILinkButton.defaultProps = {
        color: "gray",
        additionalClasses: {},
        href: "#",
        size: "small",
        target: "_top",
        clickHandler: _.noop
    }, module.exports = UILinkButton;


});


Requireify.register('js/common/customEvents.js', function(require, requireAsync, module, exports) {


    "use strict";
    var NFEvent = {
        send: function(e, t) {
            var n;
            document.createEvent ? (n = document.createEvent("HTMLEvents"), n.initEvent(t, !0, !0)) : (n = document.createEventObject(), n.eventType = t), n.eventName = t, document.createEvent ? e.dispatchEvent(n) : e.fireEvent("on" + t, n)
        },
        listen: function(e, t, n) {
            e.addEventListener ? e.addEventListener(t, n, !1) : e.attachEvent && e.attachEvent(t, n)
        },
        stopListening: function(e, t, n) {
            e.removeEventListener ? e.removeEventListener(t, n) : e.detachEvent && e.detachEvent(t, n)
        }
    };
    module.exports = NFEvent;


});


Requireify.register('js/falkorClient/rxUltraLite.js', function(require, requireAsync, module, exports) {


    var Rx = {
        I: function() {
            return arguments[0]
        },
        Disposable: function() {
            function t(t) {
                this.action = t
            }
            return t.create = function(e) {
                return new t(e)
            }, t.empty = new t(function() {}), t.prototype.dispose = function() {
                "function" == typeof this.action && this.action()
            }, t
        }(),
        Observable: function() {
            function t(t) {
                this.s = t
            }
            return t.create = t.createWithDisposable = function(e) {
                return new t(e)
            }, t.fastCreateWithDisposable = t.create, t.fastReturnValue = function(e) {
                return t.create(function(t) {
                    t.onNext(e), t.onCompleted()
                })
            }, t.prototype.subscribe = function(t, e, n) {
                return this.s(null != t && "object" == typeof t ? t : Rx.Observer.create(t, e, n))
            }, t.prototype.catchException = function(e) {
                var n = this;
                return t.create(function(t) {
                    return n.subscribe(function(e) {
                        t.onNext(e)
                    }, function(n) {
                        return ("function" == typeof e ? e(n) : e).subscribe(t)
                    }, function() {
                        t.onCompleted()
                    })
                })
            }, t
        }(),
        Observer: function() {
            function t(t, e, n) {
                this.onNext = t || Rx.I, this.onError = e || Rx.I, this.onCompleted = n || Rx.I
            }
            return t.create = function(e, n, o) {
                return new t(e, n, o)
            }, t
        }(),
        Subject: function() {
            function t() {
                this.observers = []
            }
            return t.prototype.subscribe = function(t) {
                var e = this.observers,
                    n = e.length;
                return e[n] = t, {
                    dispose: function() {
                        e.splice(n, 1)
                    }
                }
            }, t.prototype.onNext = function(t) {
                for (var e = this.observers.concat(), n = -1, o = e.length; ++n < o;) e[n].onNext(t)
            }, t.prototype.onError = function(t) {
                var e = this.observers.concat(),
                    n = -1,
                    o = e.length;
                for (this.observers.length = 0; ++n < o;) e[n].onError(t)
            }, t.prototype.onCompleted = function() {
                var t = this.observers.concat(),
                    e = -1,
                    n = t.length;
                for (this.observers.length = 0; ++e < n;) t[e].onCompleted()
            }, t
        }()
    };
    module.exports = Rx;


});


Requireify.register('js/utils/XHRConstants.js', function(require, requireAsync, module, exports) {


    "use strict";
    module.exports = {
        EVENT_TYPES: {
            load: "load",
            error: "error",
            timeout: "timeout",
            abort: "abort"
        },
        METHODS: {
            get: "get",
            post: "post"
        },
        POST_TYPES: {
            text: "text",
            json: "json",
            buffer: "arraybuffer"
        }
    };


});


Requireify.register('js/utils/XHR.js', function(require, requireAsync, module, exports) {


    "use strict";

    function _authToken(e) {
        return e.authorize && userInfo && userInfo.authURL || null
    }

    function _generateUrl(e, r) {
        var t = services[e.service],
            o = _.assign({}, t, e),
            n = {},
            s = {
                _: (new Date).getTime()
            },
            a = {};
        return "api" === e.service && browserInfo && browserInfo.esnPrefix && (n.fallbackEsn = browserInfo.esnPrefix), e.method.toLowerCase() === XHRConstants.METHODS.get ? (r && (s.authURL = r), usePrimer ? development && (s.stack = currentBuildId) : prod || (s.revision = DEVELOPER_REVISION), o.query = _.assign({}, o.query || {}, o.data, n, s)) : (usePrimer ? development && (a.stack = currentBuildId) : prod || (a.revision = DEVELOPER_REVISION), o.query = _.assign({}, o.query || {}, n, a)), URLGenerator.create({
            protocol: o.protocol,
            hostname: o.hostname,
            path: (o.path ? o.path.join("/") : DEFAULT_EMPTY_STRING) + o.resource,
            query: o.query
        })
    }

    function _massageConfiguration(e) {
        var r = _.assign({
                method: XHRConstants.METHODS.get,
                headers: {},
                timeout: 15e3,
                authorize: !1,
                postType: XHRConstants.POST_TYPES.json,
                responseType: XHRConstants.POST_TYPES.json,
                withCredentials: !0
            }, e),
            t = _authToken(r);
        if (r.method.toLowerCase() === XHRConstants.METHODS.post) {
            t && (r.data.authURL = t);
            var o = r.postType.toLowerCase();
            o === XHRConstants.POST_TYPES.json ? (r.postBody = JSON.stringify(r.data), r.headers["Content-Type"] = "application/json", r.headers.Accept = ["application/json", "text/javascript", "*/*"].join(", ")) : o === XHRConstants.POST_TYPES.text && (r.postBody = _.reduce(r.data, function(e, r, t) {
                return (e === DEFAULT_EMPTY_STRING ? DEFAULT_EMPTY_STRING : e + "&") + t + "=" + encodeURIComponent(r)
            }, DEFAULT_EMPTY_STRING))
        }
        return !r.url && _.isString(r.resource) && _.isString(r.service) && (r.url = _generateUrl(r, t)), r
    }

    function _openXhr(e) {
        var r = new XMLHttpRequest;
        return r.open(e.method.toLowerCase(), e.url), r.timeout = e.timeout, r.withCredentials = e.withCredentials, r.responseType = e.responseType, _.forEach(e.headers, function(e, t) {
            r.setRequestHeader(t, e)
        }), r
    }

    function request(e) {
        return Rx.Observable.create(function(r) {
            var t, o = _massageConfiguration(e);
            return t = _openXhr(o), t.onload = onXhrComplete.bind(null, r, t, XHRConstants.EVENT_TYPES.load, o), t.onerror = onXhrComplete.bind(null, r, t, XHRConstants.EVENT_TYPES.error, o), t.ontimeout = onXhrComplete.bind(null, r, t, XHRConstants.EVENT_TYPES.timeout, o), t.onabort = onXhrComplete.bind(null, r, t, XHRConstants.EVENT_TYPES.abort, o), o.timing && (t._requestTime = Date.now()), t.send(o.postBody || DEFAULT_EMPTY_STRING),
                function() {
                    t.onload = null, t.onerror = null, t.ontimeout = null, t.onabort = null, t.abort(), t = null
                }
        })
    }

    function onXhrComplete(e, r, t, o) {
        var n;
        r && e && (n = r.status, t === XHRConstants.EVENT_TYPES.load && n >= 200 && 399 >= n ? _xhrComplete(e, r, t, o) : _xhrError(e, r, t))
    }

    function _xhrComplete(e, r, t, o) {
        var n, s = XHRConstants.POST_TYPES,
            a = _.get(r, "responseType", o.responseType).toLowerCase();
        o.timing && (r._requestTime = Date.now() - r._requestTime);
        try {
            a === s.buffer && r.response ? n = r.response : a === s.text || r.response && !_.isObject(r.response) ? n = JSON.parse(r.responseText || "") : a === s.json && (n = r.response), r._requestTime ? e.onNext({
                requestTime: r._requestTime,
                data: n
            }) : e.onNext(n), e.onCompleted()
        } catch (i) {
            _xhrError(e, r, t)
        }
    }

    function _xhrError(e, r, t) {
        e.onError(new Error("xhr error - " + t), r, t)
    }
    var Rx = require("../falkorClient/rxUltraLite"),
        _ = require("lodash"),
        URLGenerator = require("./URLGenerator"),
        ctx = require("./contextData"),
        XHRConstants = require("./XHRConstants"),
        inNode = require("../utils/inNode"),
        DEVELOPER_REVISION = "latest",
        DEFAULT_EMPTY_STRING = "";
    if (!inNode) var userInfo = ctx.getFeatureData("userInfo"),
        serverDefs = ctx.getFeatureData("serverDefs"),
        services = ctx.getFeatureData("services"),
        browserInfo = ctx.getFeatureData("browserInfo"),
        currentBuildId = serverDefs.BUILD_IDENTIFIER,
        usePrimer = serverDefs.API_PRIMER,
        prod = serverDefs.production,
        development = serverDefs.development;
    module.exports = {
        request: request
    };


});


Requireify.register('js/common/umaUpdateXHR.js', function(require, requireAsync, module, exports) {


    "use strict";
    var XHR = require("../utils/XHR.js"),
        UmaUpdateXHR = function(e, s, t) {
            XHR.request({
                method: "post",
                protocol: "https",
                data: e,
                query: {
                    esn: "www"
                },
                resource: "/usermessages",
                service: "api",
                authorize: !0
            }).subscribe(s, t)
        };
    module.exports = UmaUpdateXHR;


});


Requireify.register("URIjs", function(e, t, r, o) {
    ! function(e) {
        if ("object" == typeof o && "undefined" != typeof r) r.exports = e();
        else if ("function" == typeof define && define.amd) define([], e);
        else {
            var t;
            t = "undefined" != typeof window ? window : "undefined" != typeof global ? global : "undefined" != typeof self ? self : this, t.URIjs = e()
        }
    }(function() {
        var t;
        return function r(t, o, n) {
            function i(a, u) {
                if (!o[a]) {
                    if (!t[a]) {
                        var c = "function" == typeof e && e;
                        if (!u && c) return c(a, !0);
                        if (s) return s(a, !0);
                        var h = new Error("Cannot find module '" + a + "'");
                        throw h.code = "MODULE_NOT_FOUND", h
                    }
                    var p = o[a] = {
                        exports: {}
                    };
                    t[a][0].call(p.exports, function(e) {
                        var r = t[a][1][e];
                        return i(r ? r : e)
                    }, p, p.exports, r, t, o, n)
                }
                return o[a].exports
            }
            for (var s = "function" == typeof e && e, a = 0; a < n.length; a++) i(n[a]);
            return i
        }({
            1: [function(e, r, o) {
                ! function(e, n) {
                    "use strict";
                    "object" == typeof o ? r.exports = n() : "function" == typeof t && t.amd ? t(n) : e.IPv6 = n(e)
                }(this, function(e) {
                    "use strict";

                    function t(e) {
                        var t = e.toLowerCase(),
                            r = t.split(":"),
                            o = r.length,
                            n = 8;
                        "" === r[0] && "" === r[1] && "" === r[2] ? (r.shift(), r.shift()) : "" === r[0] && "" === r[1] ? r.shift() : "" === r[o - 1] && "" === r[o - 2] && r.pop(), o = r.length, -1 !== r[o - 1].indexOf(".") && (n = 7);
                        var i;
                        for (i = 0; o > i && "" !== r[i]; i++);
                        if (n > i) {
                            for (r.splice(i, 1, "0000"); r.length < n;) r.splice(i, 0, "0000");
                            o = r.length
                        }
                        for (var s, a = 0; n > a; a++) {
                            s = r[a].split("");
                            for (var u = 0; 3 > u && ("0" === s[0] && s.length > 1); u++) s.splice(0, 1);
                            r[a] = s.join("")
                        }
                        var c = -1,
                            h = 0,
                            p = 0,
                            l = -1,
                            d = !1;
                        for (a = 0; n > a; a++) d ? "0" === r[a] ? p += 1 : (d = !1, p > h && (c = l, h = p)) : "0" === r[a] && (d = !0, l = a, p = 1);
                        p > h && (c = l, h = p), h > 1 && r.splice(c, h, ""), o = r.length;
                        var g = "";
                        for ("" === r[0] && (g = ":"), a = 0; o > a && (g += r[a], a !== o - 1); a++) g += ":";
                        return "" === r[o - 1] && (g += ":"), g
                    }

                    function r() {
                        return e.IPv6 === this && (e.IPv6 = o), this
                    }
                    var o = e && e.IPv6;
                    return {
                        best: t,
                        noConflict: r
                    }
                })
            }, {}],
            2: [function(e, r, o) {
                ! function(e, n) {
                    "use strict";
                    "object" == typeof o ? r.exports = n() : "function" == typeof t && t.amd ? t(n) : e.SecondLevelDomains = n(e)
                }(this, function(e) {
                    "use strict";
                    var t = e && e.SecondLevelDomains,
                        r = {
                            list: {
                                ac: " com gov mil net org ",
                                ae: " ac co gov mil name net org pro sch ",
                                af: " com edu gov net org ",
                                al: " com edu gov mil net org ",
                                ao: " co ed gv it og pb ",
                                ar: " com edu gob gov int mil net org tur ",
                                at: " ac co gv or ",
                                au: " asn com csiro edu gov id net org ",
                                ba: " co com edu gov mil net org rs unbi unmo unsa untz unze ",
                                bb: " biz co com edu gov info net org store tv ",
                                bh: " biz cc com edu gov info net org ",
                                bn: " com edu gov net org ",
                                bo: " com edu gob gov int mil net org tv ",
                                br: " adm adv agr am arq art ato b bio blog bmd cim cng cnt com coop ecn edu eng esp etc eti far flog fm fnd fot fst g12 ggf gov imb ind inf jor jus lel mat med mil mus net nom not ntr odo org ppg pro psc psi qsl rec slg srv tmp trd tur tv vet vlog wiki zlg ",
                                bs: " com edu gov net org ",
                                bz: " du et om ov rg ",
                                ca: " ab bc mb nb nf nl ns nt nu on pe qc sk yk ",
                                ck: " biz co edu gen gov info net org ",
                                cn: " ac ah bj com cq edu fj gd gov gs gx gz ha hb he hi hl hn jl js jx ln mil net nm nx org qh sc sd sh sn sx tj tw xj xz yn zj ",
                                co: " com edu gov mil net nom org ",
                                cr: " ac c co ed fi go or sa ",
                                cy: " ac biz com ekloges gov ltd name net org parliament press pro tm ",
                                "do": " art com edu gob gov mil net org sld web ",
                                dz: " art asso com edu gov net org pol ",
                                ec: " com edu fin gov info med mil net org pro ",
                                eg: " com edu eun gov mil name net org sci ",
                                er: " com edu gov ind mil net org rochest w ",
                                es: " com edu gob nom org ",
                                et: " biz com edu gov info name net org ",
                                fj: " ac biz com info mil name net org pro ",
                                fk: " ac co gov net nom org ",
                                fr: " asso com f gouv nom prd presse tm ",
                                gg: " co net org ",
                                gh: " com edu gov mil org ",
                                gn: " ac com gov net org ",
                                gr: " com edu gov mil net org ",
                                gt: " com edu gob ind mil net org ",
                                gu: " com edu gov net org ",
                                hk: " com edu gov idv net org ",
                                hu: " 2000 agrar bolt casino city co erotica erotika film forum games hotel info ingatlan jogasz konyvelo lakas media news org priv reklam sex shop sport suli szex tm tozsde utazas video ",
                                id: " ac co go mil net or sch web ",
                                il: " ac co gov idf k12 muni net org ",
                                "in": " ac co edu ernet firm gen gov i ind mil net nic org res ",
                                iq: " com edu gov i mil net org ",
                                ir: " ac co dnssec gov i id net org sch ",
                                it: " edu gov ",
                                je: " co net org ",
                                jo: " com edu gov mil name net org sch ",
                                jp: " ac ad co ed go gr lg ne or ",
                                ke: " ac co go info me mobi ne or sc ",
                                kh: " com edu gov mil net org per ",
                                ki: " biz com de edu gov info mob net org tel ",
                                km: " asso com coop edu gouv k medecin mil nom notaires pharmaciens presse tm veterinaire ",
                                kn: " edu gov net org ",
                                kr: " ac busan chungbuk chungnam co daegu daejeon es gangwon go gwangju gyeongbuk gyeonggi gyeongnam hs incheon jeju jeonbuk jeonnam k kg mil ms ne or pe re sc seoul ulsan ",
                                kw: " com edu gov net org ",
                                ky: " com edu gov net org ",
                                kz: " com edu gov mil net org ",
                                lb: " com edu gov net org ",
                                lk: " assn com edu gov grp hotel int ltd net ngo org sch soc web ",
                                lr: " com edu gov net org ",
                                lv: " asn com conf edu gov id mil net org ",
                                ly: " com edu gov id med net org plc sch ",
                                ma: " ac co gov m net org press ",
                                mc: " asso tm ",
                                me: " ac co edu gov its net org priv ",
                                mg: " com edu gov mil nom org prd tm ",
                                mk: " com edu gov inf name net org pro ",
                                ml: " com edu gov net org presse ",
                                mn: " edu gov org ",
                                mo: " com edu gov net org ",
                                mt: " com edu gov net org ",
                                mv: " aero biz com coop edu gov info int mil museum name net org pro ",
                                mw: " ac co com coop edu gov int museum net org ",
                                mx: " com edu gob net org ",
                                my: " com edu gov mil name net org sch ",
                                nf: " arts com firm info net other per rec store web ",
                                ng: " biz com edu gov mil mobi name net org sch ",
                                ni: " ac co com edu gob mil net nom org ",
                                np: " com edu gov mil net org ",
                                nr: " biz com edu gov info net org ",
                                om: " ac biz co com edu gov med mil museum net org pro sch ",
                                pe: " com edu gob mil net nom org sld ",
                                ph: " com edu gov i mil net ngo org ",
                                pk: " biz com edu fam gob gok gon gop gos gov net org web ",
                                pl: " art bialystok biz com edu gda gdansk gorzow gov info katowice krakow lodz lublin mil net ngo olsztyn org poznan pwr radom slupsk szczecin torun warszawa waw wroc wroclaw zgora ",
                                pr: " ac biz com edu est gov info isla name net org pro prof ",
                                ps: " com edu gov net org plo sec ",
                                pw: " belau co ed go ne or ",
                                ro: " arts com firm info nom nt org rec store tm www ",
                                rs: " ac co edu gov in org ",
                                sb: " com edu gov net org ",
                                sc: " com edu gov net org ",
                                sh: " co com edu gov net nom org ",
                                sl: " com edu gov net org ",
                                st: " co com consulado edu embaixada gov mil net org principe saotome store ",
                                sv: " com edu gob org red ",
                                sz: " ac co org ",
                                tr: " av bbs bel biz com dr edu gen gov info k12 name net org pol tel tsk tv web ",
                                tt: " aero biz cat co com coop edu gov info int jobs mil mobi museum name net org pro tel travel ",
                                tw: " club com ebiz edu game gov idv mil net org ",
                                mu: " ac co com gov net or org ",
                                mz: " ac co edu gov org ",
                                na: " co com ",
                                nz: " ac co cri geek gen govt health iwi maori mil net org parliament school ",
                                pa: " abo ac com edu gob ing med net nom org sld ",
                                pt: " com edu gov int net nome org publ ",
                                py: " com edu gov mil net org ",
                                qa: " com edu gov mil net org ",
                                re: " asso com nom ",
                                ru: " ac adygeya altai amur arkhangelsk astrakhan bashkiria belgorod bir bryansk buryatia cbg chel chelyabinsk chita chukotka chuvashia com dagestan e-burg edu gov grozny int irkutsk ivanovo izhevsk jar joshkar-ola kalmykia kaluga kamchatka karelia kazan kchr kemerovo khabarovsk khakassia khv kirov koenig komi kostroma kranoyarsk kuban kurgan kursk lipetsk magadan mari mari-el marine mil mordovia mosreg msk murmansk nalchik net nnov nov novosibirsk nsk omsk orenburg org oryol penza perm pp pskov ptz rnd ryazan sakhalin samara saratov simbirsk smolensk spb stavropol stv surgut tambov tatarstan tom tomsk tsaritsyn tsk tula tuva tver tyumen udm udmurtia ulan-ude vladikavkaz vladimir vladivostok volgograd vologda voronezh vrn vyatka yakutia yamal yekaterinburg yuzhno-sakhalinsk ",
                                rw: " ac co com edu gouv gov int mil net ",
                                sa: " com edu gov med net org pub sch ",
                                sd: " com edu gov info med net org tv ",
                                se: " a ac b bd c d e f g h i k l m n o org p parti pp press r s t tm u w x y z ",
                                sg: " com edu gov idn net org per ",
                                sn: " art com edu gouv org perso univ ",
                                sy: " com edu gov mil net news org ",
                                th: " ac co go in mi net or ",
                                tj: " ac biz co com edu go gov info int mil name net nic org test web ",
                                tn: " agrinet com defense edunet ens fin gov ind info intl mincom nat net org perso rnrt rns rnu tourism ",
                                tz: " ac co go ne or ",
                                ua: " biz cherkassy chernigov chernovtsy ck cn co com crimea cv dn dnepropetrovsk donetsk dp edu gov if in ivano-frankivsk kh kharkov kherson khmelnitskiy kiev kirovograd km kr ks kv lg lugansk lutsk lviv me mk net nikolaev od odessa org pl poltava pp rovno rv sebastopol sumy te ternopil uzhgorod vinnica vn zaporizhzhe zhitomir zp zt ",
                                ug: " ac co go ne or org sc ",
                                uk: " ac bl british-library co cym gov govt icnet jet lea ltd me mil mod national-library-scotland nel net nhs nic nls org orgn parliament plc police sch scot soc ",
                                us: " dni fed isa kids nsn ",
                                uy: " com edu gub mil net org ",
                                ve: " co com edu gob info mil net org web ",
                                vi: " co com k12 net org ",
                                vn: " ac biz com edu gov health info int name net org pro ",
                                ye: " co com gov ltd me net org plc ",
                                yu: " ac co edu gov org ",
                                za: " ac agric alt bourse city co cybernet db edu gov grondar iaccess imt inca landesign law mil net ngo nis nom olivetti org pix school tm web ",
                                zm: " ac co com edu gov net org sch "
                            },
                            has: function(e) {
                                var t = e.lastIndexOf(".");
                                if (0 >= t || t >= e.length - 1) return !1;
                                var o = e.lastIndexOf(".", t - 1);
                                if (0 >= o || o >= t - 1) return !1;
                                var n = r.list[e.slice(t + 1)];
                                return n ? n.indexOf(" " + e.slice(o + 1, t) + " ") >= 0 : !1
                            },
                            is: function(e) {
                                var t = e.lastIndexOf(".");
                                if (0 >= t || t >= e.length - 1) return !1;
                                var o = e.lastIndexOf(".", t - 1);
                                if (o >= 0) return !1;
                                var n = r.list[e.slice(t + 1)];
                                return n ? n.indexOf(" " + e.slice(0, t) + " ") >= 0 : !1
                            },
                            get: function(e) {
                                var t = e.lastIndexOf(".");
                                if (0 >= t || t >= e.length - 1) return null;
                                var o = e.lastIndexOf(".", t - 1);
                                if (0 >= o || o >= t - 1) return null;
                                var n = r.list[e.slice(t + 1)];
                                return n ? n.indexOf(" " + e.slice(o + 1, t) + " ") < 0 ? null : e.slice(o + 1) : null
                            },
                            noConflict: function() {
                                return e.SecondLevelDomains === this && (e.SecondLevelDomains = t), this
                            }
                        };
                    return r
                })
            }, {}],
            3: [function(e, r, o) {
                ! function(n, i) {
                    "use strict";
                    "object" == typeof o ? r.exports = i(e("./punycode"), e("./IPv6"), e("./SecondLevelDomains")) : "function" == typeof t && t.amd ? t(["./punycode", "./IPv6", "./SecondLevelDomains"], i) : n.URI = i(n.punycode, n.IPv6, n.SecondLevelDomains, n)
                }(this, function(e, t, r, o) {
                    "use strict";

                    function n(e, t) {
                        return this instanceof n ? (void 0 === e && (e = "undefined" != typeof location ? location.href + "" : ""), this.href(e), void 0 !== t ? this.absoluteTo(t) : this) : new n(e, t)
                    }

                    function i(e) {
                        return e.replace(/([.*+?^=!:${}()|[\]\/\\])/g, "\\$1")
                    }

                    function s(e) {
                        return void 0 === e ? "Undefined" : String(Object.prototype.toString.call(e)).slice(8, -1)
                    }

                    function a(e) {
                        return "Array" === s(e)
                    }

                    function u(e, t) {
                        var r, o, n = {};
                        if (a(t))
                            for (r = 0, o = t.length; o > r; r++) n[t[r]] = !0;
                        else n[t] = !0;
                        for (r = 0, o = e.length; o > r; r++) void 0 !== n[e[r]] && (e.splice(r, 1), o--, r--);
                        return e
                    }

                    function c(e, t) {
                        var r, o;
                        if (a(t)) {
                            for (r = 0, o = t.length; o > r; r++)
                                if (!c(e, t[r])) return !1;
                            return !0
                        }
                        var n = s(t);
                        for (r = 0, o = e.length; o > r; r++)
                            if ("RegExp" === n) {
                                if ("string" == typeof e[r] && e[r].match(t)) return !0
                            } else if (e[r] === t) return !0;
                        return !1
                    }

                    function h(e, t) {
                        if (!a(e) || !a(t)) return !1;
                        if (e.length !== t.length) return !1;
                        e.sort(), t.sort();
                        for (var r = 0, o = e.length; o > r; r++)
                            if (e[r] !== t[r]) return !1;
                        return !0
                    }

                    function p(e) {
                        return escape(e)
                    }

                    function l(e) {
                        return encodeURIComponent(e).replace(/[!'()*]/g, p).replace(/\*/g, "%2A")
                    }

                    function d(e) {
                        return function(t, r) {
                            return void 0 === t ? this._parts[e] || "" : (this._parts[e] = t || null, this.build(!r), this)
                        }
                    }

                    function g(e, t) {
                        return function(r, o) {
                            return void 0 === r ? this._parts[e] || "" : (null !== r && (r += "", r.charAt(0) === t && (r = r.substring(1))), this._parts[e] = r, this.build(!o), this)
                        }
                    }
                    var m = o && o.URI;
                    n.version = "1.14.1";
                    var f = n.prototype,
                        v = Object.prototype.hasOwnProperty;
                    n._parts = function() {
                        return {
                            protocol: null,
                            username: null,
                            password: null,
                            hostname: null,
                            urn: null,
                            port: null,
                            path: null,
                            query: null,
                            fragment: null,
                            duplicateQueryParameters: n.duplicateQueryParameters,
                            escapeQuerySpace: n.escapeQuerySpace
                        }
                    }, n.duplicateQueryParameters = !1, n.escapeQuerySpace = !0, n.protocol_expression = /^[a-z][a-z0-9.+-]*$/i, n.idn_expression = /[^a-z0-9\.-]/i, n.punycode_expression = /(xn--)/i, n.ip4_expression = /^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/, n.ip6_expression = /^\s*((([0-9A-Fa-f]{1,4}:){7}([0-9A-Fa-f]{1,4}|:))|(([0-9A-Fa-f]{1,4}:){6}(:[0-9A-Fa-f]{1,4}|((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9A-Fa-f]{1,4}:){5}(((:[0-9A-Fa-f]{1,4}){1,2})|:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9A-Fa-f]{1,4}:){4}(((:[0-9A-Fa-f]{1,4}){1,3})|((:[0-9A-Fa-f]{1,4})?:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){3}(((:[0-9A-Fa-f]{1,4}){1,4})|((:[0-9A-Fa-f]{1,4}){0,2}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){2}(((:[0-9A-Fa-f]{1,4}){1,5})|((:[0-9A-Fa-f]{1,4}){0,3}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){1}(((:[0-9A-Fa-f]{1,4}){1,6})|((:[0-9A-Fa-f]{1,4}){0,4}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(:(((:[0-9A-Fa-f]{1,4}){1,7})|((:[0-9A-Fa-f]{1,4}){0,5}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))(%.+)?\s*$/, n.find_uri_expression = /\b((?:[a-z][\w-]+:(?:\/{1,3}|[a-z0-9%])|www\d{0,3}[.]|[a-z0-9.\-]+[.][a-z]{2,4}\/)(?:[^\s()<>]+|\(([^\s()<>]+|(\([^\s()<>]+\)))*\))+(?:\(([^\s()<>]+|(\([^\s()<>]+\)))*\)|[^\s`!()\[\]{};:'".,<>?«»“”‘’]))/gi, n.findUri = {
                        start: /\b(?:([a-z][a-z0-9.+-]*:\/\/)|www\.)/gi,
                        end: /[\s\r\n]|$/,
                        trim: /[`!()\[\]{};:'".,<>?«»“”„‘’]+$/
                    }, n.defaultPorts = {
                        http: "80",
                        https: "443",
                        ftp: "21",
                        gopher: "70",
                        ws: "80",
                        wss: "443"
                    }, n.invalid_hostname_characters = /[^a-zA-Z0-9\.-]/, n.domAttributes = {
                        a: "href",
                        blockquote: "cite",
                        link: "href",
                        base: "href",
                        script: "src",
                        form: "action",
                        img: "src",
                        area: "href",
                        iframe: "src",
                        embed: "src",
                        source: "src",
                        track: "src",
                        input: "src",
                        audio: "src",
                        video: "src"
                    }, n.getDomAttribute = function(e) {
                        if (!e || !e.nodeName) return void 0;
                        var t = e.nodeName.toLowerCase();
                        return "input" === t && "image" !== e.type ? void 0 : n.domAttributes[t]
                    }, n.encode = l, n.decode = decodeURIComponent, n.iso8859 = function() {
                        n.encode = escape, n.decode = unescape
                    }, n.unicode = function() {
                        n.encode = l, n.decode = decodeURIComponent
                    }, n.characters = {
                        pathname: {
                            encode: {
                                expression: /%(24|26|2B|2C|3B|3D|3A|40)/gi,
                                map: {
                                    "%24": "$",
                                    "%26": "&",
                                    "%2B": "+",
                                    "%2C": ",",
                                    "%3B": ";",
                                    "%3D": "=",
                                    "%3A": ":",
                                    "%40": "@"
                                }
                            },
                            decode: {
                                expression: /[\/\?#]/g,
                                map: {
                                    "/": "%2F",
                                    "?": "%3F",
                                    "#": "%23"
                                }
                            }
                        },
                        reserved: {
                            encode: {
                                expression: /%(21|23|24|26|27|28|29|2A|2B|2C|2F|3A|3B|3D|3F|40|5B|5D)/gi,
                                map: {
                                    "%3A": ":",
                                    "%2F": "/",
                                    "%3F": "?",
                                    "%23": "#",
                                    "%5B": "[",
                                    "%5D": "]",
                                    "%40": "@",
                                    "%21": "!",
                                    "%24": "$",
                                    "%26": "&",
                                    "%27": "'",
                                    "%28": "(",
                                    "%29": ")",
                                    "%2A": "*",
                                    "%2B": "+",
                                    "%2C": ",",
                                    "%3B": ";",
                                    "%3D": "="
                                }
                            }
                        }
                    }, n.encodeQuery = function(e, t) {
                        var r = n.encode(e + "");
                        return void 0 === t && (t = n.escapeQuerySpace), t ? r.replace(/%20/g, "+") : r
                    }, n.decodeQuery = function(e, t) {
                        e += "", void 0 === t && (t = n.escapeQuerySpace);
                        try {
                            return n.decode(t ? e.replace(/\+/g, "%20") : e)
                        } catch (r) {
                            return e
                        }
                    }, n.recodePath = function(e) {
                        for (var t = (e + "").split("/"), r = 0, o = t.length; o > r; r++) t[r] = n.encodePathSegment(n.decode(t[r]));
                        return t.join("/")
                    }, n.decodePath = function(e) {
                        for (var t = (e + "").split("/"), r = 0, o = t.length; o > r; r++) t[r] = n.decodePathSegment(t[r]);
                        return t.join("/")
                    };
                    var y, b = {
                            encode: "encode",
                            decode: "decode"
                        },
                        _ = function(e, t) {
                            return function(r) {
                                try {
                                    return n[t](r + "").replace(n.characters[e][t].expression, function(r) {
                                        return n.characters[e][t].map[r]
                                    })
                                } catch (o) {
                                    return r
                                }
                            }
                        };
                    for (y in b) n[y + "PathSegment"] = _("pathname", b[y]);
                    n.encodeReserved = _("reserved", "encode"), n.parse = function(e, t) {
                        var r;
                        return t || (t = {}), r = e.indexOf("#"), r > -1 && (t.fragment = e.substring(r + 1) || null, e = e.substring(0, r)), r = e.indexOf("?"), r > -1 && (t.query = e.substring(r + 1) || null, e = e.substring(0, r)), "//" === e.substring(0, 2) ? (t.protocol = null, e = e.substring(2), e = n.parseAuthority(e, t)) : (r = e.indexOf(":"), r > -1 && (t.protocol = e.substring(0, r) || null, t.protocol && !t.protocol.match(n.protocol_expression) ? t.protocol = void 0 : "//" === e.substring(r + 1, r + 3) ? (e = e.substring(r + 3), e = n.parseAuthority(e, t)) : (e = e.substring(r + 1), t.urn = !0))), t.path = e, t
                    }, n.parseHost = function(e, t) {
                        var r, o, n = e.indexOf("/");
                        return -1 === n && (n = e.length), "[" === e.charAt(0) ? (r = e.indexOf("]"), t.hostname = e.substring(1, r) || null, t.port = e.substring(r + 2, n) || null, "/" === t.port && (t.port = null)) : e.indexOf(":") !== e.lastIndexOf(":") ? (t.hostname = e.substring(0, n) || null, t.port = null) : (o = e.substring(0, n).split(":"), t.hostname = o[0] || null, t.port = o[1] || null), t.hostname && "/" !== e.substring(n).charAt(0) && (n++, e = "/" + e), e.substring(n) || "/"
                    }, n.parseAuthority = function(e, t) {
                        return e = n.parseUserinfo(e, t), n.parseHost(e, t)
                    }, n.parseUserinfo = function(e, t) {
                        var r, o = e.indexOf("/"),
                            i = e.lastIndexOf("@", o > -1 ? o : e.length - 1);
                        return i > -1 && (-1 === o || o > i) ? (r = e.substring(0, i).split(":"), t.username = r[0] ? n.decode(r[0]) : null, r.shift(), t.password = r[0] ? n.decode(r.join(":")) : null, e = e.substring(i + 1)) : (t.username = null, t.password = null), e
                    }, n.parseQuery = function(e, t) {
                        if (!e) return {};
                        if (e = e.replace(/&+/g, "&").replace(/^\?*&*|&+$/g, ""), !e) return {};
                        for (var r, o, i, s = {}, a = e.split("&"), u = a.length, c = 0; u > c; c++) r = a[c].split("="), o = n.decodeQuery(r.shift(), t), i = r.length ? n.decodeQuery(r.join("="), t) : null, v.call(s, o) ? ("string" == typeof s[o] && (s[o] = [s[o]]), s[o].push(i)) : s[o] = i;
                        return s
                    }, n.build = function(e) {
                        var t = "";
                        return e.protocol && (t += e.protocol + ":"), e.urn || !t && !e.hostname || (t += "//"), t += n.buildAuthority(e) || "", "string" == typeof e.path && ("/" !== e.path.charAt(0) && "string" == typeof e.hostname && (t += "/"), t += e.path), "string" == typeof e.query && e.query && (t += "?" + e.query), "string" == typeof e.fragment && e.fragment && (t += "#" + e.fragment), t
                    }, n.buildHost = function(e) {
                        var t = "";
                        return e.hostname ? (t += n.ip6_expression.test(e.hostname) ? "[" + e.hostname + "]" : e.hostname, e.port && (t += ":" + e.port), t) : ""
                    }, n.buildAuthority = function(e) {
                        return n.buildUserinfo(e) + n.buildHost(e)
                    }, n.buildUserinfo = function(e) {
                        var t = "";
                        return e.username && (t += n.encode(e.username), e.password && (t += ":" + n.encode(e.password)), t += "@"), t
                    }, n.buildQuery = function(e, t, r) {
                        var o, i, s, u, c = "";
                        for (i in e)
                            if (v.call(e, i) && i)
                                if (a(e[i]))
                                    for (o = {}, s = 0, u = e[i].length; u > s; s++) void 0 !== e[i][s] && void 0 === o[e[i][s] + ""] && (c += "&" + n.buildQueryParameter(i, e[i][s], r), t !== !0 && (o[e[i][s] + ""] = !0));
                                else void 0 !== e[i] && (c += "&" + n.buildQueryParameter(i, e[i], r));
                        return c.substring(1)
                    }, n.buildQueryParameter = function(e, t, r) {
                        return n.encodeQuery(e, r) + (null !== t ? "=" + n.encodeQuery(t, r) : "")
                    }, n.addQuery = function(e, t, r) {
                        if ("object" == typeof t)
                            for (var o in t) v.call(t, o) && n.addQuery(e, o, t[o]);
                        else {
                            if ("string" != typeof t) throw new TypeError("URI.addQuery() accepts an object, string as the name parameter");
                            if (void 0 === e[t]) return void(e[t] = r);
                            "string" == typeof e[t] && (e[t] = [e[t]]), a(r) || (r = [r]), e[t] = (e[t] || []).concat(r)
                        }
                    }, n.removeQuery = function(e, t, r) {
                        var o, i, s;
                        if (a(t))
                            for (o = 0, i = t.length; i > o; o++) e[t[o]] = void 0;
                        else if ("object" == typeof t)
                            for (s in t) v.call(t, s) && n.removeQuery(e, s, t[s]);
                        else {
                            if ("string" != typeof t) throw new TypeError("URI.addQuery() accepts an object, string as the first parameter");
                            void 0 !== r ? e[t] === r ? e[t] = void 0 : a(e[t]) && (e[t] = u(e[t], r)) : e[t] = void 0
                        }
                    }, n.hasQuery = function(e, t, r, o) {
                        if ("object" == typeof t) {
                            for (var i in t)
                                if (v.call(t, i) && !n.hasQuery(e, i, t[i])) return !1;
                            return !0
                        }
                        if ("string" != typeof t) throw new TypeError("URI.hasQuery() accepts an object, string as the name parameter");
                        switch (s(r)) {
                            case "Undefined":
                                return t in e;
                            case "Boolean":
                                var u = Boolean(a(e[t]) ? e[t].length : e[t]);
                                return r === u;
                            case "Function":
                                return !!r(e[t], t, e);
                            case "Array":
                                if (!a(e[t])) return !1;
                                var p = o ? c : h;
                                return p(e[t], r);
                            case "RegExp":
                                return a(e[t]) ? o ? c(e[t], r) : !1 : Boolean(e[t] && e[t].match(r));
                            case "Number":
                                r = String(r);
                            case "String":
                                return a(e[t]) ? o ? c(e[t], r) : !1 : e[t] === r;
                            default:
                                throw new TypeError("URI.hasQuery() accepts undefined, boolean, string, number, RegExp, Function as the value parameter")
                        }
                    }, n.commonPath = function(e, t) {
                        var r, o = Math.min(e.length, t.length);
                        for (r = 0; o > r; r++)
                            if (e.charAt(r) !== t.charAt(r)) {
                                r--;
                                break
                            }
                        return 1 > r ? e.charAt(0) === t.charAt(0) && "/" === e.charAt(0) ? "/" : "" : (("/" !== e.charAt(r) || "/" !== t.charAt(r)) && (r = e.substring(0, r).lastIndexOf("/")), e.substring(0, r + 1))
                    }, n.withinString = function(e, t, r) {
                        r || (r = {});
                        var o = r.start || n.findUri.start,
                            i = r.end || n.findUri.end,
                            s = r.trim || n.findUri.trim,
                            a = /[a-z0-9-]=["']?$/i;
                        for (o.lastIndex = 0;;) {
                            var u = o.exec(e);
                            if (!u) break;
                            var c = u.index;
                            if (r.ignoreHtml) {
                                var h = e.slice(Math.max(c - 3, 0), c);
                                if (h && a.test(h)) continue
                            }
                            var p = c + e.slice(c).search(i),
                                l = e.slice(c, p).replace(s, "");
                            if (!r.ignore || !r.ignore.test(l)) {
                                p = c + l.length;
                                var d = t(l, c, p, e);
                                e = e.slice(0, c) + d + e.slice(p), o.lastIndex = c + d.length
                            }
                        }
                        return o.lastIndex = 0, e
                    }, n.ensureValidHostname = function(t) {
                        if (t.match(n.invalid_hostname_characters)) {
                            if (!e) throw new TypeError('Hostname "' + t + '" contains characters other than [A-Z0-9.-] and Punycode.js is not available');
                            if (e.toASCII(t).match(n.invalid_hostname_characters)) throw new TypeError('Hostname "' + t + '" contains characters other than [A-Z0-9.-]')
                        }
                    }, n.noConflict = function(e) {
                        if (e) {
                            var t = {
                                URI: this.noConflict()
                            };
                            return o.URITemplate && "function" == typeof o.URITemplate.noConflict && (t.URITemplate = o.URITemplate.noConflict()), o.IPv6 && "function" == typeof o.IPv6.noConflict && (t.IPv6 = o.IPv6.noConflict()), o.SecondLevelDomains && "function" == typeof o.SecondLevelDomains.noConflict && (t.SecondLevelDomains = o.SecondLevelDomains.noConflict()), t
                        }
                        return o.URI === this && (o.URI = m), this
                    }, f.build = function(e) {
                        return e === !0 ? this._deferred_build = !0 : (void 0 === e || this._deferred_build) && (this._string = n.build(this._parts), this._deferred_build = !1), this
                    }, f.clone = function() {
                        return new n(this)
                    }, f.valueOf = f.toString = function() {
                        return this.build(!1)._string
                    }, f.protocol = d("protocol"), f.username = d("username"), f.password = d("password"), f.hostname = d("hostname"), f.port = d("port"), f.query = g("query", "?"), f.fragment = g("fragment", "#"), f.search = function(e, t) {
                        var r = this.query(e, t);
                        return "string" == typeof r && r.length ? "?" + r : r
                    }, f.hash = function(e, t) {
                        var r = this.fragment(e, t);
                        return "string" == typeof r && r.length ? "#" + r : r
                    }, f.pathname = function(e, t) {
                        if (void 0 === e || e === !0) {
                            var r = this._parts.path || (this._parts.hostname ? "/" : "");
                            return e ? n.decodePath(r) : r
                        }
                        return this._parts.path = e ? n.recodePath(e) : "/", this.build(!t), this
                    }, f.path = f.pathname, f.href = function(e, t) {
                        var r;
                        if (void 0 === e) return this.toString();
                        this._string = "", this._parts = n._parts();
                        var o = e instanceof n,
                            i = "object" == typeof e && (e.hostname || e.path || e.pathname);
                        if (e.nodeName) {
                            var s = n.getDomAttribute(e);
                            e = e[s] || "", i = !1
                        }
                        if (!o && i && void 0 !== e.pathname && (e = e.toString()), "string" == typeof e || e instanceof String) this._parts = n.parse(String(e), this._parts);
                        else {
                            if (!o && !i) throw new TypeError("invalid input");
                            var a = o ? e._parts : e;
                            for (r in a) v.call(this._parts, r) && (this._parts[r] = a[r])
                        }
                        return this.build(!t), this
                    }, f.is = function(e) {
                        var t = !1,
                            o = !1,
                            i = !1,
                            s = !1,
                            a = !1,
                            u = !1,
                            c = !1,
                            h = !this._parts.urn;
                        switch (this._parts.hostname && (h = !1, o = n.ip4_expression.test(this._parts.hostname), i = n.ip6_expression.test(this._parts.hostname), t = o || i, s = !t, a = s && r && r.has(this._parts.hostname), u = s && n.idn_expression.test(this._parts.hostname), c = s && n.punycode_expression.test(this._parts.hostname)), e.toLowerCase()) {
                            case "relative":
                                return h;
                            case "absolute":
                                return !h;
                            case "domain":
                            case "name":
                                return s;
                            case "sld":
                                return a;
                            case "ip":
                                return t;
                            case "ip4":
                            case "ipv4":
                            case "inet4":
                                return o;
                            case "ip6":
                            case "ipv6":
                            case "inet6":
                                return i;
                            case "idn":
                                return u;
                            case "url":
                                return !this._parts.urn;
                            case "urn":
                                return !!this._parts.urn;
                            case "punycode":
                                return c
                        }
                        return null
                    };
                    var w = f.protocol,
                        k = f.port,
                        z = f.hostname;
                    f.protocol = function(e, t) {
                        if (void 0 !== e && e && (e = e.replace(/:(\/\/)?$/, ""), !e.match(n.protocol_expression))) throw new TypeError('Protocol "' + e + "\" contains characters other than [A-Z0-9.+-] or doesn't start with [A-Z]");
                        return w.call(this, e, t)
                    }, f.scheme = f.protocol, f.port = function(e, t) {
                        if (this._parts.urn) return void 0 === e ? "" : this;
                        if (void 0 !== e && (0 === e && (e = null), e && (e += "", ":" === e.charAt(0) && (e = e.substring(1)), e.match(/[^0-9]/)))) throw new TypeError('Port "' + e + '" contains characters other than [0-9]');
                        return k.call(this, e, t)
                    }, f.hostname = function(e, t) {
                        if (this._parts.urn) return void 0 === e ? "" : this;
                        if (void 0 !== e) {
                            var r = {};
                            n.parseHost(e, r), e = r.hostname
                        }
                        return z.call(this, e, t)
                    }, f.host = function(e, t) {
                        return this._parts.urn ? void 0 === e ? "" : this : void 0 === e ? this._parts.hostname ? n.buildHost(this._parts) : "" : (n.parseHost(e, this._parts), this.build(!t), this)
                    }, f.authority = function(e, t) {
                        return this._parts.urn ? void 0 === e ? "" : this : void 0 === e ? this._parts.hostname ? n.buildAuthority(this._parts) : "" : (n.parseAuthority(e, this._parts), this.build(!t), this)
                    }, f.userinfo = function(e, t) {
                        if (this._parts.urn) return void 0 === e ? "" : this;
                        if (void 0 === e) {
                            if (!this._parts.username) return "";
                            var r = n.buildUserinfo(this._parts);
                            return r.substring(0, r.length - 1)
                        }
                        return "@" !== e[e.length - 1] && (e += "@"), n.parseUserinfo(e, this._parts), this.build(!t), this
                    }, f.resource = function(e, t) {
                        var r;
                        return void 0 === e ? this.path() + this.search() + this.hash() : (r = n.parse(e), this._parts.path = r.path, this._parts.query = r.query, this._parts.fragment = r.fragment, this.build(!t), this)
                    }, f.subdomain = function(e, t) {
                        if (this._parts.urn) return void 0 === e ? "" : this;
                        if (void 0 === e) {
                            if (!this._parts.hostname || this.is("IP")) return "";
                            var r = this._parts.hostname.length - this.domain().length - 1;
                            return this._parts.hostname.substring(0, r) || ""
                        }
                        var o = this._parts.hostname.length - this.domain().length,
                            s = this._parts.hostname.substring(0, o),
                            a = new RegExp("^" + i(s));
                        return e && "." !== e.charAt(e.length - 1) && (e += "."), e && n.ensureValidHostname(e), this._parts.hostname = this._parts.hostname.replace(a, e), this.build(!t), this
                    }, f.domain = function(e, t) {
                        if (this._parts.urn) return void 0 === e ? "" : this;
                        if ("boolean" == typeof e && (t = e, e = void 0), void 0 === e) {
                            if (!this._parts.hostname || this.is("IP")) return "";
                            var r = this._parts.hostname.match(/\./g);
                            if (r && r.length < 2) return this._parts.hostname;
                            var o = this._parts.hostname.length - this.tld(t).length - 1;
                            return o = this._parts.hostname.lastIndexOf(".", o - 1) + 1, this._parts.hostname.substring(o) || ""
                        }
                        if (!e) throw new TypeError("cannot set domain empty");
                        if (n.ensureValidHostname(e), !this._parts.hostname || this.is("IP")) this._parts.hostname = e;
                        else {
                            var s = new RegExp(i(this.domain()) + "$");
                            this._parts.hostname = this._parts.hostname.replace(s, e)
                        }
                        return this.build(!t), this
                    }, f.tld = function(e, t) {
                        if (this._parts.urn) return void 0 === e ? "" : this;
                        if ("boolean" == typeof e && (t = e, e = void 0), void 0 === e) {
                            if (!this._parts.hostname || this.is("IP")) return "";
                            var o = this._parts.hostname.lastIndexOf("."),
                                n = this._parts.hostname.substring(o + 1);
                            return t !== !0 && r && r.list[n.toLowerCase()] ? r.get(this._parts.hostname) || n : n
                        }
                        var s;
                        if (!e) throw new TypeError("cannot set TLD empty");
                        if (e.match(/[^a-zA-Z0-9-]/)) {
                            if (!r || !r.is(e)) throw new TypeError('TLD "' + e + '" contains characters other than [A-Z0-9]');
                            s = new RegExp(i(this.tld()) + "$"), this._parts.hostname = this._parts.hostname.replace(s, e)
                        } else {
                            if (!this._parts.hostname || this.is("IP")) throw new ReferenceError("cannot set TLD on non-domain host");
                            s = new RegExp(i(this.tld()) + "$"), this._parts.hostname = this._parts.hostname.replace(s, e)
                        }
                        return this.build(!t), this
                    }, f.directory = function(e, t) {
                        if (this._parts.urn) return void 0 === e ? "" : this;
                        if (void 0 === e || e === !0) {
                            if (!this._parts.path && !this._parts.hostname) return "";
                            if ("/" === this._parts.path) return "/";
                            var r = this._parts.path.length - this.filename().length - 1,
                                o = this._parts.path.substring(0, r) || (this._parts.hostname ? "/" : "");
                            return e ? n.decodePath(o) : o
                        }
                        var s = this._parts.path.length - this.filename().length,
                            a = this._parts.path.substring(0, s),
                            u = new RegExp("^" + i(a));
                        return this.is("relative") || (e || (e = "/"), "/" !== e.charAt(0) && (e = "/" + e)), e && "/" !== e.charAt(e.length - 1) && (e += "/"), e = n.recodePath(e), this._parts.path = this._parts.path.replace(u, e), this.build(!t), this
                    }, f.filename = function(e, t) {
                        if (this._parts.urn) return void 0 === e ? "" : this;
                        if (void 0 === e || e === !0) {
                            if (!this._parts.path || "/" === this._parts.path) return "";
                            var r = this._parts.path.lastIndexOf("/"),
                                o = this._parts.path.substring(r + 1);
                            return e ? n.decodePathSegment(o) : o
                        }
                        var s = !1;
                        "/" === e.charAt(0) && (e = e.substring(1)), e.match(/\.?\//) && (s = !0);
                        var a = new RegExp(i(this.filename()) + "$");
                        return e = n.recodePath(e), this._parts.path = this._parts.path.replace(a, e), s ? this.normalizePath(t) : this.build(!t), this
                    }, f.suffix = function(e, t) {
                        if (this._parts.urn) return void 0 === e ? "" : this;
                        if (void 0 === e || e === !0) {
                            if (!this._parts.path || "/" === this._parts.path) return "";
                            var r, o, s = this.filename(),
                                a = s.lastIndexOf(".");
                            return -1 === a ? "" : (r = s.substring(a + 1), o = /^[a-z0-9%]+$/i.test(r) ? r : "", e ? n.decodePathSegment(o) : o)
                        }
                        "." === e.charAt(0) && (e = e.substring(1));
                        var u, c = this.suffix();
                        if (c) u = e ? new RegExp(i(c) + "$") : new RegExp(i("." + c) + "$");
                        else {
                            if (!e) return this;
                            this._parts.path += "." + n.recodePath(e)
                        }
                        return u && (e = n.recodePath(e), this._parts.path = this._parts.path.replace(u, e)), this.build(!t), this
                    }, f.segment = function(e, t, r) {
                        var o = this._parts.urn ? ":" : "/",
                            n = this.path(),
                            i = "/" === n.substring(0, 1),
                            s = n.split(o);
                        if (void 0 !== e && "number" != typeof e && (r = t, t = e, e = void 0), void 0 !== e && "number" != typeof e) throw new Error('Bad segment "' + e + '", must be 0-based integer');
                        if (i && s.shift(), 0 > e && (e = Math.max(s.length + e, 0)), void 0 === t) return void 0 === e ? s : s[e];
                        if (null === e || void 0 === s[e])
                            if (a(t)) {
                                s = [];
                                for (var u = 0, c = t.length; c > u; u++)(t[u].length || s.length && s[s.length - 1].length) && (s.length && !s[s.length - 1].length && s.pop(), s.push(t[u]))
                            } else(t || "string" == typeof t) && ("" === s[s.length - 1] ? s[s.length - 1] = t : s.push(t));
                        else t ? s[e] = t : s.splice(e, 1);
                        return i && s.unshift(""), this.path(s.join(o), r)
                    }, f.segmentCoded = function(e, t, r) {
                        var o, i, s;
                        if ("number" != typeof e && (r = t, t = e, e = void 0), void 0 === t) {
                            if (o = this.segment(e, t, r), a(o))
                                for (i = 0, s = o.length; s > i; i++) o[i] = n.decode(o[i]);
                            else o = void 0 !== o ? n.decode(o) : void 0;
                            return o
                        }
                        if (a(t))
                            for (i = 0, s = t.length; s > i; i++) t[i] = n.decode(t[i]);
                        else t = "string" == typeof t || t instanceof String ? n.encode(t) : t;
                        return this.segment(e, t, r)
                    };
                    var x = f.query;
                    return f.query = function(e, t) {
                        if (e === !0) return n.parseQuery(this._parts.query, this._parts.escapeQuerySpace);
                        if ("function" == typeof e) {
                            var r = n.parseQuery(this._parts.query, this._parts.escapeQuerySpace),
                                o = e.call(this, r);
                            return this._parts.query = n.buildQuery(o || r, this._parts.duplicateQueryParameters, this._parts.escapeQuerySpace), this.build(!t), this
                        }
                        return void 0 !== e && "string" != typeof e ? (this._parts.query = n.buildQuery(e, this._parts.duplicateQueryParameters, this._parts.escapeQuerySpace), this.build(!t), this) : x.call(this, e, t)
                    }, f.setQuery = function(e, t, r) {
                        var o = n.parseQuery(this._parts.query, this._parts.escapeQuerySpace);
                        if ("string" == typeof e || e instanceof String) o[e] = void 0 !== t ? t : null;
                        else {
                            if ("object" != typeof e) throw new TypeError("URI.addQuery() accepts an object, string as the name parameter");
                            for (var i in e) v.call(e, i) && (o[i] = e[i])
                        }
                        return this._parts.query = n.buildQuery(o, this._parts.duplicateQueryParameters, this._parts.escapeQuerySpace), "string" != typeof e && (r = t), this.build(!r), this
                    }, f.addQuery = function(e, t, r) {
                        var o = n.parseQuery(this._parts.query, this._parts.escapeQuerySpace);
                        return n.addQuery(o, e, void 0 === t ? null : t), this._parts.query = n.buildQuery(o, this._parts.duplicateQueryParameters, this._parts.escapeQuerySpace), "string" != typeof e && (r = t), this.build(!r), this
                    }, f.removeQuery = function(e, t, r) {
                        var o = n.parseQuery(this._parts.query, this._parts.escapeQuerySpace);
                        return n.removeQuery(o, e, t), this._parts.query = n.buildQuery(o, this._parts.duplicateQueryParameters, this._parts.escapeQuerySpace), "string" != typeof e && (r = t), this.build(!r), this
                    }, f.hasQuery = function(e, t, r) {
                        var o = n.parseQuery(this._parts.query, this._parts.escapeQuerySpace);
                        return n.hasQuery(o, e, t, r)
                    }, f.setSearch = f.setQuery, f.addSearch = f.addQuery, f.removeSearch = f.removeQuery, f.hasSearch = f.hasQuery, f.normalize = function() {
                        return this._parts.urn ? this.normalizeProtocol(!1).normalizeQuery(!1).normalizeFragment(!1).build() : this.normalizeProtocol(!1).normalizeHostname(!1).normalizePort(!1).normalizePath(!1).normalizeQuery(!1).normalizeFragment(!1).build()
                    }, f.normalizeProtocol = function(e) {
                        return "string" == typeof this._parts.protocol && (this._parts.protocol = this._parts.protocol.toLowerCase(), this.build(!e)), this
                    }, f.normalizeHostname = function(r) {
                        return this._parts.hostname && (this.is("IDN") && e ? this._parts.hostname = e.toASCII(this._parts.hostname) : this.is("IPv6") && t && (this._parts.hostname = t.best(this._parts.hostname)), this._parts.hostname = this._parts.hostname.toLowerCase(), this.build(!r)), this
                    }, f.normalizePort = function(e) {
                        return "string" == typeof this._parts.protocol && this._parts.port === n.defaultPorts[this._parts.protocol] && (this._parts.port = null,
                            this.build(!e)), this
                    }, f.normalizePath = function(e) {
                        if (this._parts.urn) return this;
                        if (!this._parts.path || "/" === this._parts.path) return this;
                        var t, r, o, i = this._parts.path,
                            s = "";
                        for ("/" !== i.charAt(0) && (t = !0, i = "/" + i), i = i.replace(/(\/(\.\/)+)|(\/\.$)/g, "/").replace(/\/{2,}/g, "/"), t && (s = i.substring(1).match(/^(\.\.\/)+/) || "", s && (s = s[0]));;) {
                            if (r = i.indexOf("/.."), -1 === r) break;
                            0 !== r ? (o = i.substring(0, r).lastIndexOf("/"), -1 === o && (o = r), i = i.substring(0, o) + i.substring(r + 3)) : i = i.substring(3)
                        }
                        return t && this.is("relative") && (i = s + i.substring(1)), i = n.recodePath(i), this._parts.path = i, this.build(!e), this
                    }, f.normalizePathname = f.normalizePath, f.normalizeQuery = function(e) {
                        return "string" == typeof this._parts.query && (this._parts.query.length ? this.query(n.parseQuery(this._parts.query, this._parts.escapeQuerySpace)) : this._parts.query = null, this.build(!e)), this
                    }, f.normalizeFragment = function(e) {
                        return this._parts.fragment || (this._parts.fragment = null, this.build(!e)), this
                    }, f.normalizeSearch = f.normalizeQuery, f.normalizeHash = f.normalizeFragment, f.iso8859 = function() {
                        var e = n.encode,
                            t = n.decode;
                        return n.encode = escape, n.decode = decodeURIComponent, this.normalize(), n.encode = e, n.decode = t, this
                    }, f.unicode = function() {
                        var e = n.encode,
                            t = n.decode;
                        return n.encode = l, n.decode = unescape, this.normalize(), n.encode = e, n.decode = t, this
                    }, f.readable = function() {
                        var t = this.clone();
                        t.username("").password("").normalize();
                        var r = "";
                        if (t._parts.protocol && (r += t._parts.protocol + "://"), t._parts.hostname && (t.is("punycode") && e ? (r += e.toUnicode(t._parts.hostname), t._parts.port && (r += ":" + t._parts.port)) : r += t.host()), t._parts.hostname && t._parts.path && "/" !== t._parts.path.charAt(0) && (r += "/"), r += t.path(!0), t._parts.query) {
                            for (var o = "", i = 0, s = t._parts.query.split("&"), a = s.length; a > i; i++) {
                                var u = (s[i] || "").split("=");
                                o += "&" + n.decodeQuery(u[0], this._parts.escapeQuerySpace).replace(/&/g, "%26"), void 0 !== u[1] && (o += "=" + n.decodeQuery(u[1], this._parts.escapeQuerySpace).replace(/&/g, "%26"))
                            }
                            r += "?" + o.substring(1)
                        }
                        return r += n.decodeQuery(t.hash(), !0)
                    }, f.absoluteTo = function(e) {
                        var t, r, o, i = this.clone(),
                            s = ["protocol", "username", "password", "hostname", "port"];
                        if (this._parts.urn) throw new Error("URNs do not have any generally defined hierarchical components");
                        if (e instanceof n || (e = new n(e)), i._parts.protocol || (i._parts.protocol = e._parts.protocol), this._parts.hostname) return i;
                        for (r = 0; o = s[r]; r++) i._parts[o] = e._parts[o];
                        return i._parts.path ? ".." === i._parts.path.substring(-2) && (i._parts.path += "/") : (i._parts.path = e._parts.path, i._parts.query || (i._parts.query = e._parts.query)), "/" !== i.path().charAt(0) && (t = e.directory(), i._parts.path = (t ? t + "/" : "") + i._parts.path, i.normalizePath()), i.build(), i
                    }, f.relativeTo = function(e) {
                        var t, r, o, i, s, a = this.clone().normalize();
                        if (a._parts.urn) throw new Error("URNs do not have any generally defined hierarchical components");
                        if (e = new n(e).normalize(), t = a._parts, r = e._parts, i = a.path(), s = e.path(), "/" !== i.charAt(0)) throw new Error("URI is already relative");
                        if ("/" !== s.charAt(0)) throw new Error("Cannot calculate a URI relative to another relative URI");
                        if (t.protocol === r.protocol && (t.protocol = null), t.username !== r.username || t.password !== r.password) return a.build();
                        if (null !== t.protocol || null !== t.username || null !== t.password) return a.build();
                        if (t.hostname !== r.hostname || t.port !== r.port) return a.build();
                        if (t.hostname = null, t.port = null, i === s) return t.path = "", a.build();
                        if (o = n.commonPath(a.path(), e.path()), !o) return a.build();
                        var u = r.path.substring(o.length).replace(/[^\/]*$/, "").replace(/.*?\//g, "../");
                        return t.path = u + t.path.substring(o.length), a.build()
                    }, f.equals = function(e) {
                        var t, r, o, i = this.clone(),
                            s = new n(e),
                            u = {},
                            c = {},
                            p = {};
                        if (i.normalize(), s.normalize(), i.toString() === s.toString()) return !0;
                        if (t = i.query(), r = s.query(), i.query(""), s.query(""), i.toString() !== s.toString()) return !1;
                        if (t.length !== r.length) return !1;
                        u = n.parseQuery(t, this._parts.escapeQuerySpace), c = n.parseQuery(r, this._parts.escapeQuerySpace);
                        for (o in u)
                            if (v.call(u, o)) {
                                if (a(u[o])) {
                                    if (!h(u[o], c[o])) return !1
                                } else if (u[o] !== c[o]) return !1;
                                p[o] = !0
                            }
                        for (o in c)
                            if (v.call(c, o) && !p[o]) return !1;
                        return !0
                    }, f.duplicateQueryParameters = function(e) {
                        return this._parts.duplicateQueryParameters = !!e, this
                    }, f.escapeQuerySpace = function(e) {
                        return this._parts.escapeQuerySpace = !!e, this
                    }, n
                })
            }, {
                "./IPv6": 1,
                "./SecondLevelDomains": 2,
                "./punycode": 4
            }],
            4: [function(e, r, o) {
                (function(e) {
                    ! function(n) {
                        function i(e) {
                            throw RangeError(C[e])
                        }

                        function s(e, t) {
                            for (var r = e.length; r--;) e[r] = t(e[r]);
                            return e
                        }

                        function a(e, t) {
                            return s(e.split(R), t).join(".")
                        }

                        function u(e) {
                            for (var t, r, o = [], n = 0, i = e.length; i > n;) t = e.charCodeAt(n++), t >= 55296 && 56319 >= t && i > n ? (r = e.charCodeAt(n++), 56320 == (64512 & r) ? o.push(((1023 & t) << 10) + (1023 & r) + 65536) : (o.push(t), n--)) : o.push(t);
                            return o
                        }

                        function c(e) {
                            return s(e, function(e) {
                                var t = "";
                                return e > 65535 && (e -= 65536, t += E(e >>> 10 & 1023 | 55296), e = 56320 | 1023 & e), t += E(e)
                            }).join("")
                        }

                        function h(e) {
                            return 10 > e - 48 ? e - 22 : 26 > e - 65 ? e - 65 : 26 > e - 97 ? e - 97 : z
                        }

                        function p(e, t) {
                            return e + 22 + 75 * (26 > e) - ((0 != t) << 5)
                        }

                        function l(e, t, r) {
                            var o = 0;
                            for (e = r ? O(e / I) : e >> 1, e += O(e / t); e > F * Q >> 1; o += z) e = O(e / F);
                            return O(o + (F + 1) * e / (e + A))
                        }

                        function d(e) {
                            var t, r, o, n, s, a, u, p, d, g, m = [],
                                f = e.length,
                                v = 0,
                                y = S,
                                b = P;
                            for (r = e.lastIndexOf(j), 0 > r && (r = 0), o = 0; r > o; ++o) e.charCodeAt(o) >= 128 && i("not-basic"), m.push(e.charCodeAt(o));
                            for (n = r > 0 ? r + 1 : 0; f > n;) {
                                for (s = v, a = 1, u = z; n >= f && i("invalid-input"), p = h(e.charCodeAt(n++)), (p >= z || p > O((k - v) / a)) && i("overflow"), v += p * a, d = b >= u ? x : u >= b + Q ? Q : u - b, !(d > p); u += z) g = z - d, a > O(k / g) && i("overflow"), a *= g;
                                t = m.length + 1, b = l(v - s, t, 0 == s), O(v / t) > k - y && i("overflow"), y += O(v / t), v %= t, m.splice(v++, 0, y)
                            }
                            return c(m)
                        }

                        function g(e) {
                            var t, r, o, n, s, a, c, h, d, g, m, f, v, y, b, _ = [];
                            for (e = u(e), f = e.length, t = S, r = 0, s = P, a = 0; f > a; ++a) m = e[a], 128 > m && _.push(E(m));
                            for (o = n = _.length, n && _.push(j); f > o;) {
                                for (c = k, a = 0; f > a; ++a) m = e[a], m >= t && c > m && (c = m);
                                for (v = o + 1, c - t > O((k - r) / v) && i("overflow"), r += (c - t) * v, t = c, a = 0; f > a; ++a)
                                    if (m = e[a], t > m && ++r > k && i("overflow"), m == t) {
                                        for (h = r, d = z; g = s >= d ? x : d >= s + Q ? Q : d - s, !(g > h); d += z) b = h - g, y = z - g, _.push(E(p(g + b % y, 0))), h = O(b / y);
                                        _.push(E(p(h, 0))), s = l(r, v, o == n), r = 0, ++o
                                    }++r, ++t
                            }
                            return _.join("")
                        }

                        function m(e) {
                            return a(e, function(e) {
                                return q.test(e) ? d(e.slice(4).toLowerCase()) : e
                            })
                        }

                        function f(e) {
                            return a(e, function(e) {
                                return U.test(e) ? "xn--" + g(e) : e
                            })
                        }
                        var v = "object" == typeof o && o,
                            y = "object" == typeof r && r && r.exports == v && r,
                            b = "object" == typeof e && e;
                        (b.global === b || b.window === b) && (n = b);
                        var _, w, k = 2147483647,
                            z = 36,
                            x = 1,
                            Q = 26,
                            A = 38,
                            I = 700,
                            P = 72,
                            S = 128,
                            j = "-",
                            q = /^xn--/,
                            U = /[^ -~]/,
                            R = /\x2E|\u3002|\uFF0E|\uFF61/g,
                            C = {
                                overflow: "Overflow: input needs wider integers to process",
                                "not-basic": "Illegal input >= 0x80 (not a basic code point)",
                                "invalid-input": "Invalid input"
                            },
                            F = z - x,
                            O = Math.floor,
                            E = String.fromCharCode;
                        if (_ = {
                                version: "1.2.3",
                                ucs2: {
                                    decode: u,
                                    encode: c
                                },
                                decode: d,
                                encode: g,
                                toASCII: f,
                                toUnicode: m
                            }, "function" == typeof t && "object" == typeof t.amd && t.amd) t(function() {
                            return _
                        });
                        else if (v && !v.nodeType)
                            if (y) y.exports = _;
                            else
                                for (w in _) _.hasOwnProperty(w) && (v[w] = _[w]);
                        else n.punycode = _
                    }(this)
                }).call(this, "undefined" != typeof global ? global : "undefined" != typeof self ? self : "undefined" != typeof window ? window : {})
            }, {}]
        }, {}, [3])(3)
    })
});

Requireify.register('js/reactMixins/eventBus.js', function(require, requireAsync, module, exports) {


    "use strict";
    var nfProps = require("nf-iso-properties"),
        inNode = require("../utils/inNode");
    module.exports = {
        _getListenerMap: function() {
            return this.listenerMap || (this.listenerMap = {}), this.listenerMap
        },
        _addEvent: function(e, t, n) {
            if (inNode) {
                if (nfProps.get("PRODUCTION") === !1) throw new Error("Attempted to use EventBus on the server")
            } else {
                var r = this._getListenerMap(),
                    i = r[e];
                i || (r[e] = [], i = r[e]), i.push({
                    listener: t,
                    once: n
                })
            }
        },
        on: function(e, t) {
            return this._addEvent(e, t, !1), this
        },
        once: function(e, t) {
            return this._addEvent(e, t, !0), this
        },
        removeListener: function(e, t) {
            var n = this._getListenerMap(),
                r = n[e];
            return r ? (r = r.filter(function(e) {
                return e.listener !== t
            }), n[e] = r, this) : void 0
        },
        emit: function(e) {
            var t = this._getListenerMap(),
                n = t[e],
                r = Array.prototype.slice.call(arguments),
                i = this;
            n && (r.shift(), n.forEach(function(e) {
                var t = e.listener;
                t.apply(i, r)
            }), n = n.filter(function(e) {
                return !e.once
            }), t[e] = n)
        }
    };


});


Requireify.register('js/common/umaUpdate.js', function(require, requireAsync, module, exports) {


    "use strict";
    var umaUpdateXHR = require("./umaUpdateXHR"),
        umaUpdateAjax = require("./umaUpdateAjax"),
        umaUpdate = umaUpdateAjax.stub ? umaUpdateXHR : umaUpdateAjax;
    module.exports = function(a, e, u) {
        umaUpdate.stub || umaUpdate(a, e, u)
    };


});


Requireify.register('js/components/uma.jsx', function(require, requireAsync, module, exports) {


    "use strict";
    var _ = require("lodash"),
        React = require("react"),
        MessageBox = require("./nfMsgBox.jsx"),
        MessageHeadline = require("./messageHeadline.jsx"),
        ButtonBar = require("./buttonBar.jsx"),
        Button = require("./ux/UIButton.jsx"),
        LinkButton = require("./ux/UILinkButton.jsx"),
        cl = require("nf-cons-log"),
        NFEvent = require("../common/customEvents"),
        umaUpdate = require("../common/umaUpdate"),
        URI = require("URIjs"),
        Uma = React.createClass({
            displayName: "Uma",
            tagFor: function(e) {
                switch (e.elementType) {
                    case "NEWLINE":
                        return React.createElement("br", null);
                    case "EM":
                        return React.createElement("em", null, e.content);
                    case "BOLD":
                        return React.createElement("b", null, e.content);
                    case "LINK":
                        return React.createElement("a", {
                            href: e.href
                        }, e.content);
                    default:
                        return e.content
                }
            },
            addTag: function(e, t) {
                return e.push(this.tagFor(t)), e
            },
            linkAction: function(e) {
                window.location = "http://" + window.location.host + "/" + e
            },
            updateUma: function(e, t, a) {
                var s = this,
                    n = function(t) {
                        cl.clientNotifications.notify("uma", {
                            category: "uiAction",
                            data: {
                                messageType: s.props.messageName,
                                actionType: t,
                                updateInfo: e,
                                messageVersion: s.props.version,
                                locale: s.props.locale
                            }
                        })
                    },
                    i = function() {
                        if (n("updateSuccess"), "function" == typeof t) {
                            for (var e = arguments.length, a = Array(e), i = 0; e > i; i++) a[i] = arguments[i];
                            t.apply(s, a)
                        } else s.setState({
                            actionInProgress: ""
                        })
                    },
                    o = function() {
                        if (n("updateFailure"), "function" == typeof a) {
                            for (var e = arguments.length, t = Array(e), i = 0; e > i; i++) t[i] = arguments[i];
                            a.apply(s, t)
                        } else s.setState({
                            actionInProgress: ""
                        })
                    };
                umaUpdate(e, i, o)
            },
            hideUma: function() {
                this.props.hideUma ? this.props.hideUma() : (React.unmountComponentAtNode(React.findDOMNode(this).parentNode), NFEvent.send(document, "umaDismiss"))
            },
            remindLaterAction: function(e) {
                var t = "undefined" == typeof this.props.model ? this.props : this.props.model,
                    a = _.get(e, "callbackParameters.impressionStatus", "ACKNOWLEDGED"),
                    s = {
                        cmd: "snooze",
                        messageName: t.messageName,
                        messageStatus: a
                    };
                this.updateUma(s), this.hideUma()
            },
            seenTOU: function() {
                this.updateUma({
                    cmd: "tou",
                    verb: "seen"
                })
            },
            agreeTOU: function() {
                this.updateUma({
                    cmd: "tou",
                    verb: "ack"
                }), this.hideUma()
            },
            restartMembershipAction: function() {
                var e = _.get(URI.parseQuery(window.location.search.substring(1)), "dbstatus", null),
                    t = {
                        cmd: "restart"
                    };
                null !== e && (t.dbstatus = e), this.updateUma(t, this.restartSucceeded, this.restartFailed)
            },
            restartSucceeded: function(e) {
                return 0 !== _.get(e, "statusCode", 1) ? this.restartFailed(e) : (this.hideUma(), void(window.location.href = "youraccount?confirm=restart"))
            },
            restartFailed: function(e) {
                window.location.href = "YourAccountPayment?restartAccount=true&restartExecutionCode=" + _.get(e, "statusCode", 1)
            },
            handleAction: function(e) {
                var t = "undefined" == typeof this.props.model ? this.props : this.props.model,
                    a = _.get(e, "callbackId"),
                    s = _.get(e, "id", "NO_ACTION"),
                    n = _.get(t, "callbacks." + a, {});
                switch (cl.clientNotifications.notify("uma", {
                    category: "uiAction",
                    data: {
                        messageType: t.messageName,
                        actionType: s,
                        callbackId: a,
                        actionData: n,
                        messageVersion: t.version,
                        locale: t.locale
                    }
                }), this.setState({
                    actionInProgress: s
                }), s) {
                    case "TOU_AGREE":
                        this.agreeTOU();
                        break;
                    case "NOT_NOW":
                        this.remindLaterAction(n);
                        break;
                    case "UPDATE_EMAIL":
                    case "UPDATE_EMAIL_ADDRESS":
                        this.linkAction("MemberProfile?fullpage=true");
                        break;
                    case "WARN_UPD_PMT":
                    case "PLAY_UPD_PMT":
                    case "ADD_PAYMENT_INFO":
                    case "UPDATE_PAYMENT_METHOD":
                        this.linkAction("YourAccountPayment");
                        break;
                    case "RESTART_MEMBERSHIP":
                        this.restartMembershipAction("YourAccountPayment?restartAccount=true");
                        break;
                    case "SEND_CODE":
                        this.linkAction("verifyphone?resend=true")
                }
            },
            addAction: function(e, t) {
                if (t) {
                    var a, s = {
                            "akira-button": !0
                        },
                        n = this.state.actionInProgress === t.id,
                        i = _.get(t, "actionAttributes.HREF");
                    i ? (a = _.get(t, "actionAttributes.TARGET", "_top"), e.push(React.createElement(LinkButton, {
                        key: t.id,
                        size: "medium",
                        additionalClasses: s,
                        href: i,
                        target: a
                    }, t.text))) : e.push(React.createElement(Button, {
                        key: t.id,
                        size: "medium",
                        additionalClasses: s,
                        waiting: n,
                        clickHandler: _.bind(this.handleAction, this, t)
                    }, t.text))
                }
                return e
            },
            componentWillUnmount: function() {
                var e = this.props.model || this.props;
                cl.clientNotifications.notifyEnd("uma", {
                    category: "uiView",
                    data: {
                        messageType: e.messageName,
                        messageVersion: e.version,
                        locale: e.locale
                    }
                })
            },
            componentDidMount: function() {
                var e = this._getMessage();
                "modal" === e.type && e.factory.call(this);
                var t = this.props.model || this.props;
                this.state.TOU && this.seenTOU(), cl.clientNotifications.notifyStart("uma", {
                    category: "uiView",
                    data: {
                        messageType: t.messageName,
                        messageVersion: t.version,
                        locale: t.locale
                    }
                }), cl.clientNotifications.flushBuffer()
            },
            getInitialState: function() {
                var e = "undefined" == typeof this.props.model ? this.props : this.props.model;
                return e && e.contents ? _.extend({
                    titleElems: e.contents.title || [],
                    bodyElems: e.contents.body || [],
                    actionItems: e.actions,
                    umaPageType: e.umaPageType,
                    messageName: e.messageName,
                    actionInProgress: ""
                }, e.presentationAttributes || {}) : {
                    noUma: !0
                }
            },
            knownTypes: {
                DEFAULT: {
                    type: "uma",
                    factory: function() {
                        var e = _.reduce(this.state.titleElems, this.addTag, [], this),
                            t = React.createElement("p", null, _.reduce(this.state.bodyElems, this.addTag, [], this)),
                            a = React.createElement(ButtonBar, {
                                align: "left"
                            }, _.reduce(this.state.actionItems, this.addAction, [], this)),
                            s = this.state.VIEW_TYPE || "info";
                        return React.createElement(MessageBox, {
                            msgType: s
                        }, React.createElement(MessageHeadline, null, e), t, a)
                    }
                }
            },
            _getMessage: function() {
                var e = this.knownTypes.hasOwnProperty(this.state.messageName) ? this.state.messageName : "DEFAULT";
                return this.knownTypes[e]
            },
            render: function() {
                if (this.state.noUma) return null;
                var e = this._getMessage();
                return "uma" === e.type ? e.factory.call(this) : null
            }
        });
    module.exports = Uma;


});


Requireify.register('js/reactMixins/cssAnimation.jsx', function(require, requireAsync, module, exports) {


    "use strict";
    var React = require("react"),
        inNode = require("../utils/inNode"),
        isClientContext = !inNode,
        NON_CSS_PROPERTIES, CSS_PROPERTIES_MAP, KEYFRAMES_PROPERTIES_MAP, EASING_MAP, TRANSFORM_PROPERTY_MAP, TRANSITION_END_EVENTS_MAP, ANIMATION_END_EVENTS_MAP, VENDOR_PREFIXES, CSSAnimations, animationEndEvent, transitionEndEvent, requestAnimationFrame;
    NON_CSS_PROPERTIES = ["target", "callback", "animation", "after", "before"], CSS_PROPERTIES_MAP = {
            translate: "transform",
            translateX: "transform",
            translateY: "transform",
            rotate: "transform",
            scale: "transform",
            scaleX: "transform",
            scaleY: "transform",
            skewX: "transform",
            skewY: "transform",
            translateZ: "transform",
            translate3d: "transform",
            rotateX: "transform",
            rotateY: "transform",
            scale3d: "transform",
            scaleZ: "transform",
            matrix: "transform",
            matrix3d: "transform",
            origin: "transformOrigin",
            perspective: "perspective",
            easing: "transitionTimingFunction",
            duration: "transitionDuration",
            delay: "transitionDelay"
        }, KEYFRAMES_PROPERTIES_MAP = {
            name: "animationName",
            duration: "animationDuration",
            delay: "animationDelay",
            easing: "animationTimingFunction",
            repeat: "animationIterationCount",
            direction: "animationDirection",
            fillMode: "animationFillMode"
        }, EASING_MAP = {
            ease: "ease",
            linear: "linear",
            easeIn: "ease-in",
            easeOut: "ease-out",
            easeInOut: "ease-in-out",
            stepStart: "step-start",
            stepEnd: "step-end",
            steps: "steps",
            snap: "cubic-bezier(0,1,.5,1)",
            easeInCubic: "cubic-bezier(.550,.055,.675,.190)",
            easeOutCubic: "cubic-bezier(.215,.61,.355,1)",
            easeInOutCubic: "cubic-bezier(.645,.045,.355,1)",
            easeInCirc: "cubic-bezier(.6,.04,.98,.335)",
            easeOutCirc: "cubic-bezier(.075,.82,.165,1)",
            easeInOutCirc: "cubic-bezier(.785,.135,.15,.86)",
            easeInExpo: "cubic-bezier(.95,.05,.795,.035)",
            easeOutExpo: "cubic-bezier(.19,1,.22,1)",
            easeInOutExpo: "cubic-bezier(1,0,0,1)",
            easeInQuad: "cubic-bezier(.55,.085,.68,.53)",
            easeOutQuad: "cubic-bezier(.25,.46,.45,.94)",
            easeInOutQuad: "cubic-bezier(.455,.03,.515,.955)",
            easeInQuart: "cubic-bezier(.895,.03,.685,.22)",
            easeOutQuart: "cubic-bezier(.165,.84,.44,1)",
            easeInOutQuart: "cubic-bezier(.77,0,.175,1)",
            easeInQuint: "cubic-bezier(.755,.05,.855,.06)",
            easeOutQuint: "cubic-bezier(.23,1,.32,1)",
            easeInOutQuint: "cubic-bezier(.86,0,.07,1)",
            easeInSine: "cubic-bezier(.47,0,.745,.715)",
            easeOutSine: "cubic-bezier(.39,.575,.565,1)",
            easeInOutSine: "cubic-bezier(.445,.05,.55,.95)",
            easeInBack: "cubic-bezier(.6,-.28,.735,.045)",
            easeOutBack: "cubic-bezier(.175, .885,.32,1.275)",
            easeInOutBack: "cubic-bezier(.68,-.55,.265,1.55)"
        }, TRANSFORM_PROPERTY_MAP = {
            transform: "transform",
            WebkitTransform: "-webkit-transform",
            MozTransform: "-moz-transform",
            OTransform: "-o-transform",
            msTransform: "-ms-transform"
        }, TRANSITION_END_EVENTS_MAP = {
            WebkitTransition: "webkitTransitionEnd",
            MozTransition: "mozTransitionEnd",
            OTransition: "oTransitionEnd",
            msTransition: "MSTransitionEnd"
        }, ANIMATION_END_EVENTS_MAP = {
            WebkitAnimation: "webkitAnimationEnd",
            MozAnimation: "mozAnimationEnd",
            OAnimation: "oAnimationEnd",
            msAnimation: "MSAnimationEnd"
        }, VENDOR_PREFIXES = ["Webkit", "Moz", "O", "ms"],
        function() {
            if (!isClientContext) return "";
            var n, e, t, i, a, r;
            n = document.createElement("div"), e = n.style, t = "", VENDOR_PREFIXES.forEach(function(n) {
                return n + "Transition" in e ? void(t = n) : void 0
            });
            for (i in CSS_PROPERTIES_MAP) CSS_PROPERTIES_MAP.hasOwnProperty(i) && (a = CSS_PROPERTIES_MAP[i], r = t + a.charAt(0).toUpperCase() + a.substr(1), r in e && (CSS_PROPERTIES_MAP[i] = r));
            for (i in KEYFRAMES_PROPERTIES_MAP) CSS_PROPERTIES_MAP.hasOwnProperty(i) && (a = KEYFRAMES_PROPERTIES_MAP[i], r = t + a.charAt(0).toUpperCase() + a.substr(1), r in e && (KEYFRAMES_PROPERTIES_MAP[i] = r));
            transitionEndEvent = "TransitionEvent" in window ? "transitionend" : TRANSITION_END_EVENTS_MAP[t + "Transition"], animationEndEvent = "AnimationEvent" in window ? "animationend" : ANIMATION_END_EVENTS_MAP[t + "Animation"]
        }(), requestAnimationFrame = function() {
            if (!isClientContext) return function() {};
            var n = 0;
            return window.requestAnimationFrame || window.webkitRequestAnimationFrame || window.mozRequestAnimationFrame || window.oRequestAnimationFrame || window.msRequestAnimationFrame || function(e) {
                var t = Date.now(),
                    i = Math.max(0, 16 - (t - n));
                return n = t + i, setTimeout(function() {
                    e(Date.now())
                }, i)
            }
        }(), CSSAnimations = {
            animate: function(n) {
                var e, t, i, a;
                if (!n) throw new TypeError("React Component - " + this.constructor.displayName + ": 'animation' argument must be an object.");
                if (this.isMounted() && (e = this._getDOMNode(n.target), e.addEventListener)) {
                    n.before && this._applyStyle(e, n.before);
                    var r = this;
                    (n.callback || n.animation || "undefined" != typeof n.opacity || n.after) && (t = this._transitionEndCallback.bind(this, n.callback, n.animation), i = this._transitionEndHandler.bind(this, e, t, function() {
                        n.after && r._applyStyle(e, n.after), e.removeEventListener(transitionEndEvent, i)
                    }), e.addEventListener(transitionEndEvent, i)), n.keyframes && n.keyframes.callback && (a = this._animationEndHandler.bind(this, e, n.keyframes.callback, function(n) {
                        e.removeEventListener(animationEndEvent, a)
                    }), e.addEventListener(animationEndEvent, a)), requestAnimationFrame(function() {
                        r._applyStyle(e, n)
                    })
                }
            },
            _getDOMNode: function(n) {
                if (n) {
                    if ("string" == typeof n) {
                        if (!this.refs[n]) throw new Error("React Component - " + this.constructor.displayName + ": 'animation' argument's 'target' property '" + n + "' not found in this.refs.");
                        return React.findDOMNode(this.refs[n])
                    }
                    return n
                }
                return React.findDOMNode(this)
            },
            getAnimationStyle: function(n) {
                var e, t, i, a;
                a = {}, "number" == typeof n.duration && (n.duration += "ms"), "number" == typeof n.delay && (n.delay += "ms"), n.keyframes && "number" == typeof n.keyframes.duration && (n.keyframes.duration += "ms");
                for (e in n)
                    if (-1 === NON_CSS_PROPERTIES.indexOf(e))
                        if (t = CSS_PROPERTIES_MAP[e], i = n[e], t) t in TRANSFORM_PROPERTY_MAP ? (a[t] || (a[t] = ""), a[t] += e + "(" + i + ") ") : "easing" === t ? a[t] = EASING_MAP[i] : a[t] = i;
                        else if ("keyframes" === e)
                    for (e in i) e in KEYFRAMES_PROPERTIES_MAP && ("easing" === e ? a[KEYFRAMES_PROPERTIES_MAP[e]] = EASING_MAP[i[e]] : a[KEYFRAMES_PROPERTIES_MAP[e]] = i[e]);
                else a[e] = i;
                return a
            },
            _transitionEndCallback: function(n, e) {
                if (n && "function" != typeof n) throw new Error("React Component - " + this.constructor.displayName + ": 'animation' argument's 'callback' property must be a function.");
                n && n.call(this), e && this.animate(e)
            },
            _transitionEndHandler: function(n, e, t, i) {
                i.target === n && (t(), e())
            },
            _animationEndHandler: function(n, e, t, i) {
                i.target === n && (t(), e.call(this))
            },
            css: function(n) {
                var e = this._getDOMNode(n.target);
                return this._applyStyle(e, n)
            },
            clearStyles: function(n) {
                n.removeAttribute("style")
            },
            _applyStyle: function(n, e) {
                return requestAnimationFrame(function() {
                    e.reset && (n.removeAttribute("style"), delete e.reset);
                    var t = this.getAnimationStyle(e);
                    for (var i in t) t.hasOwnProperty(i) && (n.style[i] = t[i])
                }.bind(this)), n
            }
        }, module.exports = CSSAnimations;


});


Requireify.register('js/reactMixins/transition.js', function(require, requireAsync, module, exports) {


    "use strict";

    function createGhostNode(t) {
        var i = t.cloneNode(!0);
        i.removeAttribute("data-reactid");
        for (var e = i.querySelectorAll("[data-reactid]"), n = 0, a = e.length; a > n; n++) e[n].removeAttribute("data-reactid"), "VIDEO" === e[n].tagName && e[n].pause && e[n].pause();
        return t.parentNode.appendChild(i), t.style.display = "none", i
    }
    var Animation = require("./cssAnimation.jsx"),
        React = require("react"),
        BUILT_IN_TRANSITIONS = {
            fadeIn: {
                before: {
                    opacity: 0
                },
                opacity: 1
            },
            fadeOut: {
                opacity: 0
            },
            fadeInHover: {
                before: {
                    opacity: .35
                },
                opacity: 1
            },
            crossFadeIn: {
                before: {
                    zIndex: 2,
                    opacity: 0
                },
                opacity: 1
            },
            crossFadeOut: {
                before: {
                    zIndex: 1
                },
                opacity: 0,
                duration: 1
            }
        };
    module.exports = {
        mixins: [Animation],
        componentDidMount: function() {
            if (this.transitions) {
                if (this.transitions.skipFirst) {
                    var t = React.findDOMNode(this),
                        i = t ? t.parentNode : null;
                    if (i && "true" !== i.getAttribute("data-transitioned-child")) return void i.setAttribute("data-transitioned-child", "true")
                }
                this.runTransition("show")
            }
        },
        componentWillUnmount: function() {
            this.runTransition("hide")
        },
        runTransition: function(t, i) {
            if (this.transitions) {
                var e = React.findDOMNode(this);
                if (e && e.addEventListener) {
                    var n = this.transitions[t];
                    if ("function" == typeof i && (n.callback = i), "function" == typeof n) {
                        var a;
                        return "hide" === t ? (e = createGhostNode(e), a = function() {
                            e.parentNode.removeChild(e)
                        }) : a = null, n.call(this, e, a)
                    }
                    if (n || ("show" === t ? this.transitions.crossFade ? (n = BUILT_IN_TRANSITIONS.crossFadeIn, n.duration = this.transitions.crossFade) : this.transitions.fadeIn ? (n = BUILT_IN_TRANSITIONS.fadeIn, n.duration = this.transitions.fadeIn) : this.transitions.fadeInHover && (n = BUILT_IN_TRANSITIONS.fadeInHover, n.duration = this.transitions.fadeInHover) : "hide" === t && (this.transitions.crossFade ? (n = BUILT_IN_TRANSITIONS.crossFadeOut, n.delay = this.transitions.crossFade) : this.transitions.fadeOut && (n = BUILT_IN_TRANSITIONS.fadeOut, n.duration = this.transitions.fadeOut))), n) {
                        if ("hide" === t) {
                            var o = createGhostNode(e),
                                r = !1;
                            n.target = o, n.callback = function() {
                                r || (r = !0, o.parentNode.removeChild(o), "function" == typeof i && i())
                            }, n.duration > 0 && setTimeout(n.callback, n.duration + 20)
                        }
                        this.animate(n)
                    }
                }
            }
        }
    };


});


Requireify.register('js/akira/components/header/menuCaret.jsx', function(require, requireAsync, module, exports) {


    "use strict";
    var React = require("react"),
        Transition = require("../../../reactMixins/transition"),
        HeaderMenuCaret = React.createClass({
            displayName: "HeaderMenuCaret",
            mixins: [Transition],
            transitions: {
                fadeInHover: 150,
                fadeOut: 250
            },
            render: function() {
                return React.createElement("div", {
                    className: "callout-arrow"
                })
            }
        });
    module.exports = HeaderMenuCaret;


});


Requireify.register('js/common/keyCodes.js', function(require, requireAsync, module, exports) {


    "use strict";
    var KEY_CODES = {
        BACKSPACE: 8,
        SPACE: 32,
        TAB: 9,
        ENTER: 13,
        SHIFT: 16,
        CTRL: 17,
        ALT: 18,
        PAUSE: 19,
        CAPS: 20,
        ESC: 27,
        PGUP: 33,
        PGDOWN: 34,
        END: 35,
        HOME: 36,
        LEFT: 37,
        UP: 38,
        RIGHT: 39,
        DOWN: 40,
        INS: 45,
        DEL: 46,
        0: 48,
        1: 49,
        2: 50,
        3: 51,
        4: 52,
        5: 53,
        6: 54,
        7: 55,
        8: 56,
        9: 57,
        a: 65,
        b: 66,
        c: 67,
        d: 68,
        e: 69,
        f: 70,
        g: 71,
        h: 72,
        i: 73,
        j: 74,
        k: 75,
        l: 76,
        m: 77,
        n: 78,
        o: 79,
        p: 80,
        q: 81,
        r: 82,
        s: 83,
        t: 84,
        u: 85,
        v: 86,
        w: 87,
        x: 88,
        y: 89,
        z: 90,
        NUM0: 96,
        NUM1: 97,
        NUM2: 98,
        NUM3: 99,
        NUM4: 100,
        NUM5: 101,
        NUM6: 102,
        NUM7: 103,
        NUM8: 104,
        NUM9: 105,
        MULTIPLY: 106,
        PLUS: 107,
        MINUS: 109,
        DOT: 110,
        NUMSLASH: 111,
        F1: 112,
        F2: 113,
        F3: 114,
        F4: 115,
        F5: 116,
        F6: 117,
        F7: 118,
        F8: 119,
        F9: 120,
        F10: 121,
        F11: 122,
        F12: 123,
        EQUAL: 187,
        COMMA: 188,
        FSLASH: 191,
        BSLASH: 220
    };
    module.exports = KEY_CODES;


});


Requireify.register('js/akira/components/controls/subMenuFunctions.js', function(require, requireAsync, module, exports) {


    "use strict";
    var KeyCodes = require("../../../common/keyCodes"),
        SUB_MENU_CLOSE_TIMEOUT_MS = 250,
        SUB_MENU_OPEN_TIMEOUT_MS = 400,
        SubMenuFunctions = {
            closeSubMenuTimeout: null,
            getInitialState: function() {
                return {
                    subMenuOpen: !1,
                    subMenuSelected: !0,
                    isHumanAction: !1
                }
            },
            toggleSubMenu: function(e) {
                this.state.subMenuOpen ? this.prepareToCloseSubMenu(e) : this.prepareToOpenSubMenu(e)
            },
            addEventListeners: function(e, n, t, u) {
                window.PointerEvent ? (n.addEventListener("pointerenter", u ? u : this.handleMouseEnter), n.addEventListener("pointerleave", t ? t : this.handleMouseLeave), e.addEventListener("keydown", this.handleKeyDown), e.addEventListener("pointerdown", this.handleClick)) : (n.addEventListener("mouseenter", u ? u : this.handleMouseEnter), n.addEventListener("mouseleave", t ? t : this.handleMouseLeave), e.addEventListener("keydown", this.handleKeyDown), e.addEventListener("click", this.handleClick))
            },
            removeEventListeners: function(e, n, t, u) {
                window.PointerEvent ? (n.removeEventListener("pointerenter", u ? u : this.handleMouseEnter), n.removeEventListener("pointerleave", t ? t : this.handleMouseLeave), e.removeEventListener("keydown", this.handleKeyDown), e.removeEventListener("pointerdown", this.handleClick)) : (n.removeEventListener("mouseenter", u ? u : this.handleMouseEnter), n.removeEventListener("mouseleave", t ? t : this.handleMouseLeave), e.removeEventListener("keydown", this.handleKeyDown), e.removeEventListener("click", this.handleClick))
            },
            handleKeyDown: function(e) {
                switch (e && e.which) {
                    case KeyCodes.ENTER:
                    case KeyCodes.SPACE:
                        this.toggleSubMenu();
                        break;
                    case KeyCodes.ESC:
                        this.prepareToCloseSubMenu()
                }
            },
            handleClick: function(e) {
                this.toggleSubMenu(), this.state.isHumanAction || clearTimeout(this.executeHumanMouseEnter)
            },
            handleMouseEnter: function(e) {
                this.isTouchEvent(e) || (this.setState({
                    isHumanAction: !1
                }), this.executeHumanMouseEnter = setTimeout(function() {
                    this.setState({
                        isHumanAction: !0
                    }), this.prepareToOpenSubMenu()
                }.bind(this), 1))
            },
            handleMouseLeave: function(e) {
                this.isTouchEvent(e) || this.state.isHumanAction && this.prepareToCloseSubMenu()
            },
            isTouchEvent: function(e) {
                return "touch" === e.pointerType
            },
            openSubMenu: function() {
                var e = SubMenuFunctions.currentOpenMenu;
                e && e.isMounted() && e.closeSubMenu(), SubMenuFunctions.setCurrentOpenMenu(this), this.subMenuEntered(), this.setState({
                    subMenuOpen: !0
                })
            },
            closeSubMenu: function() {
                this.setState({
                    subMenuOpen: !1
                })
            },
            prepareToOpenSubMenu: function(e) {
                this.clearTimeouts(), this.state.subMenuOpen || (this.openSubMenuTimeout = setTimeout(this.openSubMenu, SUB_MENU_OPEN_TIMEOUT_MS))
            },
            prepareToCloseSubMenu: function(e) {
                this.clearTimeouts(), this.state.subMenuOpen && (this.closeSubMenuTimeout = setTimeout(this.closeSubMenu, SUB_MENU_CLOSE_TIMEOUT_MS))
            },
            clearTimeouts: function() {
                clearTimeout(this.closeSubMenuTimeout), clearTimeout(this.openSubMenuTimeout)
            },
            subMenuEntered: function() {
                clearTimeout(this.closeSubMenuTimeout)
            }
        };
    SubMenuFunctions.currentOpenMenu = null, SubMenuFunctions.setCurrentOpenMenu = function(e) {
        SubMenuFunctions.currentOpenMenu = e
    }, module.exports = SubMenuFunctions;


});


Requireify.register('js/akira/components/controls/subMenu.jsx', function(require, requireAsync, module, exports) {


    "use strict";
    var React = require("react"),
        classNames = require("classnames"),
        Transition = require("../../../reactMixins/transition");
    module.exports = React.createClass({
        displayName: "exports",
        NUM_COLS: 4,
        getDefaultProps: function() {
            return {
                showTopBar: !0
            }
        },
        mixins: [Transition],
        transitions: {
            fadeInHover: 150,
            fadeOut: 250
        },
        numColumns: function() {
            return this.props.cols || this.NUM_COLS
        },
        getStartIndex: function(e) {
            for (var s = 0, t = 0; e > t; t++) s += this.props.hierarchicalListLengths[t], s++;
            return s
        },
        renderColumn: function(e, s, t) {
            var r, a, i, n = [],
                o = Math.ceil(s / this.numColumns()),
                l = this.props.browseMenuWithHeaders ? this.getStartIndex(e) : e * o,
                u = this.props.browseMenuWithHeaders ? l + this.props.hierarchicalListLengths[e] + 1 : (e + 1) * o;
            for (r = l; u > r; r++) a = t[r], a && (i = {
                "sub-menu-item": !0,
                genreMenuHeader: this.props.browseMenuWithHeaders && r === l
            }, n.push(React.createElement("li", {
                className: classNames(i),
                key: a.type + r
            }, a)));
            var p = "sub-menu-list" + (this.props.cols > 1 || s > o ? " multi-column" : "");
            return React.createElement("ul", {
                className: p,
                key: e
            }, n)
        },
        renderSpecialColumn: function(e) {
            var s, t, r = [];
            for (s = 0; s < e.length; s++) t = e[s], r.push(React.createElement("li", {
                className: "sub-menu-item-special",
                key: "specialItem" + s
            }, t));
            return r.length > 0 ? React.createElement("ul", {
                className: "sub-menu-list-special multi-column",
                key: "specialItems"
            }, r) : null
        },
        handleClick: function(e) {
            this.props.onClick && "A" === e.target.tagName ? this.props.onClick(e) : e.nativeEvent.stopImmediatePropagation()
        },
        render: function() {
            var e, s, t = [],
                r = this.numColumns();
            if (!this.props.items) return null;
            if (this.props.specialItems && t.push(this.renderSpecialColumn(this.props.specialItems)), s = this.props.items.length, s > 0)
                for (e = 0; r > e; e++) {
                    var a = this.renderColumn(e, s, this.props.items);
                    t.push(a)
                }
            return React.createElement("div", {
                className: "sub-menu " + (this.props.styleClass || ""),
                onMouseEnter: this.props.onMouseEnter,
                onMouseLeave: this.props.onMouseLeave,
                onClick: this.handleClick
            }, this.props.showTopBar && this.props.showCalloutArrow ? React.createElement("div", {
                className: "callout-arrow"
            }) : null, this.props.showTopBar ? React.createElement("div", {
                className: "topbar"
            }) : null, t)
        }
    });


});


Requireify.register("nf-ardbeg", function(t, e, i, n) {
    "use strict";

    function s(t) {
        return t.hasOwnProperty("_evaluatedTests") ? void(this._evaluatedTests = t._evaluatedTests) : (this._evaluatedTests = {}, void this._init(t))
    }

    function o(t) {
        a.forEach(t, function(t) {
            if (l.hasOwnProperty(t.definition.meta.id) || l.hasOwnProperty(t.definition.meta.name) || !t.definition.meta.id || !t.definition.meta.name) throw new Error("Duplicate test definitions found!");
            l[t.definition.meta.id] = t, l[t.definition.meta.name] = t
        })
    }

    function r(t) {
        return new s(t)
    }
    var a = t("lodash"),
        l = {},
        u = {
            attr: function(t) {
                return t ? t && this.attrs.hasOwnProperty(t) ? this.attrs[t] : !1 : this.attrs
            },
            isExplicit: function() {
                return "undefined" != typeof this.explicit ? this.explicit : !1
            },
            isImplicit: function() {
                return "undefined" != typeof this.explicit ? !this.explicit : !1
            },
            "in": function() {
                return !!this._allocated
            },
            attrs: {}
        };
    s.prototype._evaluatedTests = null, s.prototype._init = function(t) {
        var e = this;
        a.forEach(t, function(t) {
            e._evaluate(t)
        })
    }, s.prototype._evaluate = function(t) {
        var e, i, n = l[t.testId];
        n ? (e = n.definition.cells[t.cellId], n.evaluateFeatures && a.assign(e, n.evaluateFeatures(e)), i = {
            id: n.definition.meta.id,
            cell: t.cellId,
            attrs: e,
            explicit: t.explicit
        }) : i = {
            id: t.testId,
            cell: t.cellId,
            attrs: {},
            explicit: t.explicit
        }, t && t.testId && (this._evaluatedTests[t.testId] = i), n && n.definition && n.definition.meta && n.definition.meta.name && (this._evaluatedTests[n.definition.meta.name] = i)
    }, s.prototype.implicitlyIn = function(t, e) {
        return this["in"](t, e, !0)
    }, s.prototype["in"] = function(t, e, i) {
        var n, s, o;
        return o = this._evaluatedTests[t], a.isObject(o) ? (e === !0 && 2 === arguments.length ? (n = null, s = !0) : (n = e, s = i), n ? a.isArray(n) ? this._inTestAndCells(o, n, s) : this._inTestAndCell(o, n, s) : this._inTest(o, s)) : !1
    }, s.prototype.inControl = function(t, e) {
        var i = this.getEvaluatedTest(t);
        return a.isObject(i) ? e ? i.attr("control") && i.isImplicit() : i.attr("control") : !1
    }, s.prototype.implicitlyInControl = function(t) {
        return this.inControl(t, !0)
    }, s.prototype._inTest = function(t, e) {
        return e === !0 ? t.explicit === !1 : !0
    }, s.prototype._inTestAndCell = function(t, e, i) {
        return i === !0 ? t.cell === e && t.explicit === !1 : t.cell === e
    }, s.prototype._inTestAndCells = function(t, e, i) {
        return e.length > 1 ? a.contains(e, t.cell) : !1
    }, s.prototype.getEvaluatedTest = function(t) {
        return a.isObject(this._evaluatedTests[t]) ? a.assign({
            _allocated: !0
        }, u, this._evaluatedTests[t]) : u
    }, s.prototype.attr = function(t, e) {
        var i = this._evaluatedTests[t];
        return i && i.attrs.hasOwnProperty(e) ? i.attrs[e] : null
    }, s.prototype.getDefinition = function(t) {
        var e = {};
        return t && l.hasOwnProperty(t) ? l[t].definition : (a.forEach(l, function(t, i) {
            e[i] = {
                definition: t.definition
            }
        }), e)
    }, s.prototype.toJSON = function() {
        return {
            _evaluatedTests: this._evaluatedTests
        }
    }, i.exports.installDefinitions = o, i.exports.evaluate = r
});

Requireify.register('js/utils/ab/ab.js', function(require, requireAsync, module, exports) {


    "use strict";
    var ardbeg = require("nf-ardbeg"),
        contextData = require("../contextData"),
        _ = require("lodash"),
        inNode = require("../inNode"),
        cachedAB;
    module.exports = {
        _resolveContext: function(e) {
            if (inNode) {
                var t = ["ab", "node.req.context.ab", "ab.data.serializedAB"],
                    r = _.find(t, function(t) {
                        return "function" == typeof _.get(e, t + ".attr")
                    });
                return r ? _.get(e, r) : null
            }
            return cachedAB || (cachedAB = ardbeg.evaluate(contextData.getData("ab", "serializedAB"))), cachedAB
        },
        attr: function(e, t, r) {
            var a = this._resolveContext(e);
            return a && a.attr(t, r)
        },
        "in": function(e, t, r) {
            return this._resolveContext(e)["in"](t, r)
        },
        resolveABValue: function(e, t, r, a) {
            var n = this.attr(e, t, r);
            return null !== n ? n : a
        }
    };


});


Requireify.register('js/utils/ab/browseMenuTest.js', function(require, requireAsync, module, exports) {


    "use strict";
    var AB = require("./ab"),
        TEST_ID = 6737,
        browseMenuHelpers = {
            isHierarchicalList: function(e) {
                return AB.resolveABValue(e, TEST_ID, "hierarchicalList")
            },
            showMoviesandTVMenu: function(e) {
                return AB.resolveABValue(e, TEST_ID, "showMoviesandTVMenu")
            },
            listWitHeaders: function(e) {
                return AB.resolveABValue(e, TEST_ID, "listWitHeaders")
            },
            overrideLeftMenu: function(e) {
                return AB.resolveABValue(e, TEST_ID, "overrideLeftMenu")
            },
            inBrowseMenuTest: function(e) {
                return AB.resolveABValue(e, TEST_ID, "inBrowseMenuTest")
            }
        };
    module.exports = browseMenuHelpers;


});


Requireify.register('js/reactMixins/nodecontext.js', function(require, requireAsync, module, exports) {


    "use strict";
    var React = require("react"),
        inNode = require("../utils/inNode");
    module.exports = {
        contextTypes: {
            node: React.PropTypes.object
        },
        nodeRequest: function() {
            return this.props && this.props.model && this.props.model.node && this.props.model.node.req || this.context.node && this.context.node.req
        },
        requestContext: function() {
            var e = this.nodeRequest();
            return e ? e.context : null
        },
        _require_: function(e) {
            if (inNode) {
                var t = require;
                return t(e)
            }
            return null
        }
    };


});


Requireify.register('js/reactMixins/isomorphicContext.js', function(require, requireAsync, module, exports) {


    "use strict";
    var contextData = require("../utils/contextData"),
        inNode = require("../utils/inNode");
    module.exports = {
        getFeatureData: function(t) {
            return inNode ? this._require_("nf-browser-context").getFeature(this.nodeRequest(), t).data : contextData.getFeatureData(t)
        },
        getI18nStrings: function() {
            return inNode ? this._require_("nf-browser-context").getI18nStrings(this.nodeRequest()) : contextData.getI18nStrings()
        },
        getContext: function() {
            return inNode ? this._require_("nf-browser-context").getCtx(this.nodeRequest()) : contextData.getContext()
        }
    };


});


Requireify.register('js/reactMixins/isomorphicContextWithDeps.js', function(require, requireAsync, module, exports) {


    "use strict";
    var NodeContext = require("./nodecontext"),
        IsomorphicContext = require("./isomorphicContext");
    module.exports = {
        mixins: [NodeContext, IsomorphicContext]
    };


});


Requireify.register('js/reactMixins/i18n.js', function(require, requireAsync, module, exports) {


    "use strict";

    function substituteVariables(t, r) {
        var n = /\{(\w+)\}/g;
        return t ? t.replace(n, function(t, n) {
            return "undefined" != typeof r[n] ? r[n] : "{?" + n + "?}"
        }) : ""
    }
    var I18N = {
        getString: function(t, r, n, i) {
            if (!t) throw new Error("Missing bundle param for key=" + r);
            var e = t.split(":", 2);
            t = e[0];
            var u = e[1],
                a = u ? u + "." + r : r;
            void 0 === i && (i = a);
            var s = this.getI18nStrings();
            if ("undefined" == typeof s || null === s) throw new Error("Missing strings for all bundles: key=" + r);
            if (!s || !s[t] || void 0 === s[t][a]) return i;
            var o = s[t][a];
            return n && (o = substituteVariables(o, n)), o
        },
        variantString: function(t, r, n, i, e) {
            return this.getString(t, this.variantKey(t, r, n, e), i)
        },
        variantKey: function(t, r, n, i) {
            var e = this.getI18nStrings(),
                u = r + "_" + n;
            return "undefined" == typeof i && (i = r), e && e[t] && void 0 !== e[t][u] ? u : i
        },
        pluralKey: function(t, r, n) {
            return this.variantKey(t, r, 1 === n ? "" : "plural")
        },
        pluralString: function(t, r, n, i) {
            return this.getString(t, this.pluralKey(t, r, n), i)
        },
        getStrings: function(t) {
            var r = this;
            return {
                get: function(n, i, e) {
                    return r.getString(t, n, i, e)
                }
            }
        }
    };
    module.exports = I18N;


});


Requireify.register('js/reactMixins/i18nWithDeps.js', function(require, requireAsync, module, exports) {


    "use strict";
    var IsomorphicContextWithDeps = require("./isomorphicContextWithDeps"),
        I18N = require("./i18n");
    module.exports = {
        mixins: [IsomorphicContextWithDeps, I18N]
    };


});


Requireify.register('js/utils/linkDefs.jsx', function(require, requireAsync, module, exports) {


    "use strict";

    function kidsGenreHref(e) {
        return URLs.getMerchWebKidsAltGenreUrl(e)
    }

    function waysToWatchHref() {
        return URLs.getExternalUrl("devices")
    }
    var URLs = require("../utils/urls"),
        LinkDefs = {
            home: {
                to: "home"
            },
            genre: {
                to: "genre"
            },
            similars: {
                to: "similars"
            },
            hd: {
                active: !1,
                to: "hd"
            },
            person: {
                to: "person"
            },
            recentlyWatched: {
                getHref: URLs.getViewingActivityUrl
            },
            recentlyAdded: {
                to: "recentlyAdded"
            },
            justAdded: {
                to: "justAdded"
            },
            watchAgain: {
                to: "watchAgain"
            },
            newRelease: {
                to: "newRelease"
            },
            genrenewrelease: {
                to: "genreNewRelease"
            },
            socialPopular: {
                active: !1
            },
            subtitle: {
                to: "subtitle"
            },
            tag: {
                to: "genre"
            },
            queue: {
                to: "myList"
            },
            title: {
                to: "title"
            },
            searchPerson: {
                to: "searchPerson"
            },
            searchSuggestion: {
                to: "searchSuggestion"
            },
            searchDVD: {
                to: "searchDVD"
            },
            kidsgenre: {
                getHref: kidsGenreHref
            },
            waysToWatch: {
                getHref: waysToWatchHref
            },
            newArrivals: {
                to: "newArrivals"
            },
            watchNow: {
                to: "watchNow"
            },
            netflixOriginals: {
                to: "netflixOriginals"
            },
            manageProfiles: {
                to: "manageProfiles"
            },
            editProfiles: {
                to: "manageProfiles"
            }
        };
    module.exports = LinkDefs;


});


Requireify.register('js/akira/components/controls/mainViewLink.jsx', function(require, requireAsync, module, exports) {


    "use strict";
    var _extends = Object.assign || function(e) {
            for (var t = 1; t < arguments.length; t++) {
                var r = arguments[t];
                for (var i in r) Object.prototype.hasOwnProperty.call(r, i) && (e[i] = r[i])
            }
            return e
        },
        React = require("react"),
        Router = require("react-router"),
        LinkDefs = require("../../../utils/linkDefs.jsx"),
        THROTTLE_CLICK_MS = 1e3,
        links = LinkDefs,
        MainViewLink = React.createClass({
            displayName: "MainViewLink",
            preventClick: !1,
            handleClick: function(e) {
                var t = this;
                return this.preventClick ? !1 : (this.preventClick = !0, setTimeout(function() {
                    t.preventClick = !1
                }, THROTTLE_CLICK_MS), "function" == typeof this.props.onClick ? this.props.onClick(e, this.props) : !0)
            },
            renderOutboundLink: function(e) {
                return React.createElement("a", _extends({}, this.props, {
                    href: e.getHref(this.props.id),
                    onClick: this.handleClick
                }), this.props.children)
            },
            render: function() {
                var e, t, r = Router.Link,
                    i = links[this.props.type],
                    n = this.props.params || {};
                if (this.props.id && (n.id = this.props.id), i) {
                    if (i.getHref && "function" == typeof i.getHref) return this.renderOutboundLink(i);
                    if (e = i.to, e && ("string" == typeof e ? t = e : "function" == typeof e && (t = e()), t)) return React.createElement(r, _extends({}, this.props, {
                        params: n,
                        to: t,
                        onClick: this.handleClick,
                        before: this.handleClick
                    }), this.props.children)
                }
                return this.props.href ? React.createElement("a", this.props, this.props.children) : React.createElement("span", this.props, this.props.children)
            }
        });
    module.exports = MainViewLink;


});


Requireify.register('js/akira/components/header/genreNavItem.jsx', function(require, requireAsync, module, exports) {


    "use strict";
    var React = require("react"),
        classNames = require("classnames"),
        HeaderMenuCaret = require("./menuCaret.jsx"),
        SubMenuFunctions = require("../controls/subMenuFunctions"),
        SubMenu = require("../controls/subMenu.jsx"),
        BrowseMenuTest = require("../../../utils/ab/browseMenuTest"),
        I18N = require("../../../reactMixins/i18nWithDeps"),
        Link = require("../controls/mainViewLink.jsx"),
        MAX_SUBGENRES = 40,
        BUNDLE = "discovery/akira/Chrome:header",
        BROWSE_MENU_LIST_LENGTH = 4,
        GenreNavigationItem = React.createClass({
            displayName: "GenreNavigationItem",
            mixins: [SubMenuFunctions, I18N],
            statics: {
                __meta__: {
                    strings: [{
                        bundle: BUNDLE,
                        ids: ["browse", "tv", "movies"]
                    }]
                },
                getPaths: function(e, t, s) {
                    var n = ["id", "menuName"];
                    return BrowseMenuTest.inBrowseMenuTest(e) && n.push("browseMenuGenreName"), [
                        ["summary"],
                        [{
                            to: MAX_SUBGENRES
                        }, n]
                    ]
                }
            },
            getSubMenuItems: function(e) {
                var t = [],
                    s = e ? e : this.props.model,
                    n = s.getValueSync(["summary"]);
                if (!n) return t;
                for (var r = 0; r < Math.min(MAX_SUBGENRES, n.length); r++) {
                    var i, a, u = s.bind([r]);
                    if (!u) break;
                    i = u.getValueSync(["id"]), a = u.getValueSync(["menuName"]), BrowseMenuTest.inBrowseMenuTest && u.getValueSync(["browseMenuGenreName"]) && (a = u.getValueSync(["browseMenuGenreName"])), a && t.push(React.createElement(Link, {
                        className: "sub-menu-link",
                        type: this.props.itemType,
                        id: i
                    }, a))
                }
                return t
            },
            getHierarchicalSubMenuItems: function() {
                for (var e = [], t = 0; BROWSE_MENU_LIST_LENGTH > t; t++) {
                    var s, n = this.props.model.bind([t]),
                        r = n.getValueSync(["summary"]);
                    if (!r) return e;
                    e.push(React.createElement(Link, {
                        type: this.props.itemType + "header"
                    }, r.title)), s = this.getSubMenuItems(n);
                    for (var i = 0; i < s.length; i++) e.push(s[i])
                }
                return e
            },
            getHierarchicalListLengths: function() {
                var e = [];
                if (this.props.model) {
                    for (var t = 0; BROWSE_MENU_LIST_LENGTH > t; t++) {
                        var s = this.props.model.bind([t]);
                        s && s.getValueSync(["summary"]) && e.push(s.getValueSync(["summary"]).length)
                    }
                    return e
                }
            },
            componentDidMount: function() {
                this.addEventListeners(React.findDOMNode(this.refs.menu), React.findDOMNode(this.refs.menuContainer))
            },
            componentWillUnmount: function() {
                this.removeEventListeners(React.findDOMNode(this.refs.menu), React.findDOMNode(this.refs.menuContainer))
            },
            render: function() {
                var e = "genreNav ",
                    t = this.props.browseMenuWithHeaders ? this.getHierarchicalSubMenuItems() : this.getSubMenuItems(),
                    s = {
                        active: this.props.selected || this.state.subMenuOpen,
                        browseMenuTestOverride: this.props.isTVMenu || this.props.isMoviesMenu,
                        hasSubMenu: t
                    },
                    n = this.getString(BUNDLE, "browse"),
                    r = this.props.browseMenuWithHeaders ? this.getHierarchicalListLengths() : [];
                return s[this.props.className] = !0, this.props.specialItems && (e += "hasSpecialItems"), this.props.isTVMenu && (n = this.getString(BUNDLE, "tv")), this.props.isMoviesMenu && (n = this.getString(BUNDLE, "movies")), React.createElement("li", {
                    ref: "menuContainer",
                    className: classNames(s)
                }, React.createElement("a", {
                    ref: "menu",
                    role: "button",
                    "aria-haspopup": !0,
                    tabIndex: 0
                }, n, this.state.subMenuOpen ? React.createElement(HeaderMenuCaret, null) : null), t ? React.createElement("span", {
                    className: "caret",
                    role: "presentation"
                }) : null, this.state.subMenuOpen ? React.createElement(SubMenu, {
                    onClick: this.closeSubMenu,
                    items: t,
                    hierarchicalListLengths: r,
                    browseMenuWithHeaders: this.props.browseMenuWithHeaders,
                    showCalloutArrow: !1,
                    specialItems: this.props.specialItems,
                    styleClass: e
                }) : null)
            }
        });
    module.exports = GenreNavigationItem;


});


Requireify.register('js/akira/components/search/dvdLink.jsx', function(require, requireAsync, module, exports) {


    "use strict";
    var React = require("react"),
        I18N = require("../../../reactMixins/i18nWithDeps"),
        URLs = require("../../../utils/urls"),
        BUNDLE = "discovery/akira/Chrome",
        DVDLink = React.createClass({
            displayName: "DVDLink",
            mixins: [I18N],
            statics: {
                __meta__: {
                    strings: [{
                        bundle: "discovery/akira/Chrome",
                        ids: ["dvd.link"]
                    }]
                }
            },
            componentWillMount: function() {
                var e = this.getFeatureData("userInfo");
                this.setState({
                    path: e && e.isDVD ? URLs.getDVDCoHomeURL() : URLs.getDVDUpsellURL()
                })
            },
            render: function() {
                return React.createElement("a", {
                    href: this.state.path
                }, this.getString(BUNDLE, "dvd.link"))
            }
        });
    module.exports = DVDLink;


});


Requireify.register('js/akira/components/search/searchInput.jsx', function(require, requireAsync, module, exports) {


    "use strict";
    var React = require("react"),
        I18N = require("../../../reactMixins/i18nWithDeps"),
        Transition = require("../../../reactMixins/transition"),
        EventBus = require("../../../reactMixins/eventBus"),
        BUNDLE = "discovery/akira/Search",
        SearchInput = React.createClass({
            displayName: "SearchInput",
            mixins: [I18N, Transition],
            statics: {
                __meta__: {
                    strings: [{
                        bundle: "discovery/akira/Search",
                        ids: ["search.placeholder"]
                    }]
                }
            },
            transitions: {
                show: {
                    before: {
                        width: "20px",
                        opacity: 0
                    },
                    opacity: 1,
                    width: null,
                    duration: 300
                },
                close: {
                    width: "20px",
                    opacity: 0,
                    duration: 200
                }
            },
            close: function(e) {
                this.runTransition("close", e)
            },
            getInitialState: function() {
                return {
                    placeholder: this.getString(BUNDLE, "search.placeholder")
                }
            },
            onNewSearchTerm: function(e) {
                13 !== e.keyCode && this.props.onChange(e.target.value)
            },
            onFocus: function(e) {
                this.setState({
                    placeholder: this.getString(BUNDLE, "search.placeholder")
                }), EventBus.emit("search:focus", {
                    term: encodeURI(e.target.value),
                    start: !0
                })
            },
            onBlur: function(e) {
                this.setState({
                    placeholder: ""
                }), EventBus.emit("search:focus", {
                    term: encodeURI(e.target.value)
                }), this.props.onBlur && this.props.onBlur(e)
            },
            isFocused: function() {
                return "" !== this.state.placeholder
            },
            render: function() {
                return React.createElement("input", {
                    type: "text",
                    onChange: this.onNewSearchTerm,
                    value: this.props.term,
                    onFocus: this.onFocus,
                    onBlur: this.onBlur,
                    onClick: this.props.onSearchBoxClick,
                    ref: "searchInput",
                    placeholder: this.state.placeholder
                })
            }
        });
    module.exports = SearchInput;


});


Requireify.register('js/common/position.js', function(require, requireAsync, module, exports) {


    "use strict";
    var Position = {
        getRect: function(t) {
            return t && t.getBoundingClientRect()
        },
        getWindowRect: function() {
            var t = window,
                e = document,
                i = e.documentElement,
                n = e.getElementsByTagName("body")[0],
                o = t.innerWidth || i.clientWidth || n.clientWidth,
                h = t.innerHeight || i.clientHeight || n.clientHeight;
            return {
                top: 0,
                bottom: h,
                left: 0,
                right: o,
                width: o,
                height: h
            }
        },
        isElementInViewport: function(t) {
            return this.isElementInRegion(this.getRect(t), this.getWindowRect())
        },
        isElementInRegion: function(t, e) {
            var i = t.left + (t.right - t.left) / 2,
                n = t.top + (t.bottom - t.top) / 2;
            return t.left === t.right || e.left === e.right ? !1 : i >= e.left && i <= e.right && n >= e.top && n <= e.bottom
        },
        getScrollTop: function() {
            return window.pageYOffset
        },
        getDistanceToBottomOfElement: function(t) {
            var e = this.getScrollTop(),
                i = this.getWindowRect(),
                n = this.getRect(t),
                o = e + i.height,
                h = n.top + e + n.height;
            return h - o
        },
        getTotalDocumentSize: function() {
            var t = void 0 !== document.height ? document.height : document.body.offsetHeight,
                e = void 0 !== document.width ? document.width : document.body.offsetWidth;
            return {
                height: t,
                width: e
            }
        }
    };
    module.exports = Position;


});


Requireify.register('js/reactMixins/browserScroll.js', function(require, requireAsync, module, exports) {


    "use strict";
    var _ = require("lodash"),
        Position = require("../common/position"),
        Animation = require("./cssAnimation.jsx"),
        SCROLL_THROTTLE_MS = 100,
        SCROLL_TIMEOUT_MS = 150,
        scrollStart = null,
        scrollDist = 0,
        BasicScrollMixin = {
            wheelHandler: function(o) {
                Math.abs(o.deltaX) >= Math.abs(o.deltaY) && o.preventDefault()
            },
            componentDidMount: function() {
                var o = document && document.body;
                (this.onScroll || this.onScrollEnd || this.onScrollStart) && (this.throttledScroll || (this.throttledScroll = _.throttle(this._onScroll, SCROLL_THROTTLE_MS)), o && window && (window.addEventListener("scroll", this.throttledScroll, !1), o.addEventListener("wheel", this.wheelHandler, !1)))
            },
            componentWillUnmount: function() {
                var o = document && document.body;
                o && window && (window.removeEventListener("scroll", this.throttledScroll, !1), o.removeEventListener("wheel", this.wheelHandler, !1))
            }
        },
        BrowserScroll = {
            mixins: [BasicScrollMixin],
            componentWillUnmount: function() {
                "function" == typeof this.onScrollEnd && this.onScrollEnd(null), clearInterval(this.scrollTimeout)
            },
            _onScroll: function(o) {
                var t = this;
                this.scrollTimeout ? clearTimeout(this.scrollTimeout) : (scrollStart = Position.getScrollTop(), "function" == typeof this.onScrollStart && this.onScrollStart(o)), scrollDist = Position.getScrollTop() - scrollStart, "function" == typeof this.onScroll && this.onScroll(o), this.scrollTimeout = setTimeout(function() {
                    "function" == typeof t.onScrollEnd && t.onScrollEnd(o), clearTimeout(t.scrollTimeout), t.scrollTimeout = null
                }, SCROLL_TIMEOUT_MS)
            },
            getScrollDistance: function() {
                return scrollDist
            },
            scrollTo: function(o, t) {
                window && window.scrollTo(o, t)
            },
            scrollDelta: function(o) {
                window && window.scrollTo(0, Position.getScrollTop() + o)
            },
            scrollDeltaWithAnimation: function(o, t, l, n) {
                if (!window) return !1;
                var i, e = Position.getWindowRect(),
                    r = Position.getTotalDocumentSize(),
                    c = Position.getScrollTop() + t,
                    s = r.height - e.height,
                    u = 250;
                c > s && (t -= c - s, c = s), i = Animation.getAnimationStyle({
                    translate3d: "0, " + -1 * t + "px,0",
                    duration: l,
                    easing: "cubic-bezier(0.5, 0, 0.1, 1)",
                    delay: n
                });
                for (var a in i) i.hasOwnProperty(a) && (o.style[a] = i[a]);
                setTimeout(function() {
                    window.requestAnimationFrame(function() {
                        window.scrollTo(0, c), o.removeAttribute("style")
                    })
                }, n + l + u)
            }
        };
    module.exports = BrowserScroll;


});


Requireify.register('js/reactMixins/focusUtils.js', function(require, requireAsync, module, exports) {


    "use strict";
    var React = require("react");
    module.exports = {
        focusElement: function(e) {
            var t = this._getElementReference(e);
            if (t && document.activeElement !== t)
                if (t.focus(), "number" == typeof t.selectionStart && t.value) t.selectionStart = t.selectionEnd = t.value.length;
                else if (t.createTextRange && t.value) {
                var n = t.createTextRange();
                n.collapse(!1), n.select()
            }
        },
        blurElement: function(e) {
            var t = this._getElementReference(e);
            t && t.blur()
        },
        _getElementReference: function(e) {
            switch (typeof e) {
                case "string":
                    return this.refs[e] && React.findDOMNode(this.refs[e]);
                case "object":
                    return e;
                default:
                    return this.isMounted() && React.findDOMNode(this)
            }
        }
    };


});


Requireify.register('js/reactMixins/historyBack.js', function(require, requireAsync, module, exports) {


    "use strict";
    var Router = require("react-router");
    module.exports = {
        goBackHistory: function(r) {
            r && (Router.History.length <= r ? this.replaceWith("home") : window.history.go(-r))
        }
    };


});


Requireify.register('js/akira/components/search/searchBox.jsx', function(require, requireAsync, module, exports) {


    "use strict";
    var React = require("react"),
        Router = require("react-router"),
        classNames = require("classnames"),
        SearchInput = require("./searchInput.jsx"),
        I18N = require("../../../reactMixins/i18nWithDeps"),
        EventBus = require("../../../reactMixins/eventBus"),
        BrowserScroll = require("../../../reactMixins/browserScroll"),
        FocusUtils = require("../../../reactMixins/focusUtils"),
        HistoryBack = require("../../../reactMixins/historyBack"),
        inNode = require("../../../utils/inNode"),
        BUNDLE = "discovery/akira/Search",
        SearchBox = React.createClass({
            displayName: "SearchBox",
            mixins: [I18N, Router.Navigation, Router.State, FocusUtils, HistoryBack],
            statics: {
                __meta__: {
                    strings: [{
                        bundle: "discovery/akira/Search",
                        ids: ["label.search"]
                    }]
                }
            },
            getInitialState: function() {
                return {
                    isOpen: this.props.term.length > 0,
                    term: ""
                }
            },
            handleSearchBoxFocus: function() {
                this.props.handleSearchBoxFocus(!0), this.setState({
                    isOpen: !0
                })
            },
            closeSearchBox: function() {
                var e = this;
                this.refs.searchInput && this.refs.searchInput.close(function() {
                    e.props.handleSearchBoxFocus(!1), e.setState({
                        isOpen: !1,
                        term: ""
                    })
                })
            },
            isRailPage: function e() {
                var t = !this.props.model.pathEvaluator.getValueSync(["search", encodeURIComponent(this.props.term), "length"]),
                    s = this.getParams().personId || this.getParams().suggestionId || this.getParams().dvdId,
                    e = s && !t;
                return e
            },
            bodyClicked: function() {
                var e = this.refs.searchInput && this.refs.searchInput.isFocused();
                this.props.term || e || !this.state.isOpen || this.closeSearchBox()
            },
            componentWillMount: function() {
                inNode || document.addEventListener("click", this.bodyClicked)
            },
            componentWillUnmount: function() {
                document.removeEventListener("click", this.bodyClicked)
            },
            shouldComponentUpdate: function(e, t) {
                return e.term !== this.props.term || t.isOpen !== this.state.isOpen
            },
            componentDidUpdate: function() {
                this.handleSearchInputFocus()
            },
            componentDidMount: function() {
                this.handleSearchInputFocus()
            },
            handleSearchInputFocus: function() {
                (this.isTermEmpty(this.props.term) || !this.isRailPage()) && this.focusElement("searchInput"), this.isTermEmpty(this.props.term) || this.setState({
                    isOpen: !0
                })
            },
            handleSearchInputBlur: function() {
                this.isTermEmpty(this.props.term) && this.state.isOpen && this.closeSearchBox()
            },
            handleClear: function() {
                this.props.term.length > 0 && this.state.isOpen && (this.setState({
                    isOpen: !0
                }), this.returnToPrevious(1))
            },
            returnToPrevious: function(e) {
                var t = e;
                return this.setState({
                    isOpen: !0
                }), this.isRailPage() && t++, this.goBackHistory(t), !1
            },
            isTermEmpty: function(e) {
                return 0 === e.length || e.match(/^\s*$/)
            },
            onSearchBoxClick: function(e) {
                this.isRailPage() && (this.returnToPrevious(0), e.preventDefault())
            },
            handleChange: function(e) {
                var t = this.props.term,
                    s = this.state.term,
                    r = !0;
                if (" " !== e.charAt(0))
                    if (EventBus.emit("search:edit", {
                            term: e
                        }), this.isTermEmpty(e)) {
                        if (s) return this.setState({
                            term: e
                        }), this.returnToPrevious(1)
                    } else BrowserScroll.scrollTo(0, 0), this.isTermEmpty(t) && (r = !1), this.setState({
                        term: e
                    }), r ? this.replaceWith("search", {
                        term: encodeURIComponent(e)
                    }, {}) : this.transitionTo("search", {
                        term: encodeURIComponent(e)
                    }, {})
            },
            render: function() {
                var e, t = 0 !== this.props.term.length || this.state.isOpen,
                    s = {
                        "icon-close": !0,
                        empty: !this.props.term
                    };
                return e = t ? React.createElement("div", {
                    className: "searchInput"
                }, React.createElement("span", {
                    className: "icon-search"
                }), React.createElement(SearchInput, {
                    term: this.props.term,
                    ref: "searchInput",
                    onChange: this.handleChange,
                    onBlur: this.handleSearchInputBlur,
                    onSearchBoxClick: this.onSearchBoxClick
                }), React.createElement("span", {
                    className: classNames(s),
                    onClick: this.handleClear
                })) : React.createElement("button", {
                    className: "searchTab",
                    tabIndex: 0,
                    onClick: this.handleSearchBoxFocus,
                    "aria-label": this.getString(BUNDLE, "label.search")
                }, React.createElement("span", {
                    className: "icon-search"
                }), React.createElement("span", {
                    className: "label"
                }, this.getString(BUNDLE, "label.search"))), React.createElement("div", {
                    className: "searchBox"
                }, e)
            }
        });
    module.exports = SearchBox;


});


Requireify.register('js/akira/components/loaders/loadingSpinner.jsx', function(require, requireAsync, module, exports) {


    "use strict";
    var React = require("react"),
        CSSAnimation = require("../../../reactMixins/cssAnimation.jsx"),
        LoadingSpinner = React.createClass({
            displayName: "LoadingSpinner",
            render: function() {
                var e = this.props.delay + "s",
                    a = this.props.delay ? CSSAnimation.getAnimationStyle({
                        keyframes: {
                            delay: e
                        }
                    }) : {};
                return React.createElement("span", {
                    className: "icon-spinner akira-spinner",
                    "aria-hidden": "true",
                    style: a
                })
            }
        });
    module.exports = LoadingSpinner;


});


Requireify.register('js/utils/cookieUtils.js', function(require, requireAsync, module, exports) {


    "use strict";
    var EXPIRY_ENUM = {
            NEVER: "NEVER"
        },
        EXPIRY_TIMES = {
            NEVER: new Date(2025, 1, 1),
            CLEAR: new Date(1970, 1, 1)
        };
    module.exports = {
        EXPIRES: EXPIRY_ENUM,
        ROOT_PATH: "/",
        TOP_DOMAIN: ".netflix.com",
        set: function(e, t, n, o, E) {
            var i = e + "=" + encodeURIComponent(t);
            n === EXPIRY_ENUM.NEVER ? n = EXPIRY_TIMES.NEVER : n instanceof Date || (n = null), i += "; expires=" + (n ? n.toUTCString() : null), i += "; path=" + ("undefined" != typeof E ? E : "/"), "undefined" != typeof o && (i += "; domain=" + o), document.cookie = i
        },
        get: function(e) {
            var t, n, o, E, i, r = document.cookie.split(";");
            for (t = 0; t < r.length; t++)
                if (n = r[t], i = n.indexOf("="), o = n.substr(0, i), E = n.substr(i + 1), o = o.replace(/^\s+|\s+$/g, ""), o === e) return decodeURIComponent(E);
            return null
        },
        clear: function(e, t, n) {
            this.set(e, "", EXPIRY_TIMES.CLEAR, t || this.TOP_DOMAIN, n || this.ROOT_PATH)
        },
        clearAll: function() {
            var e, t, n, o, E = document.cookie.split(";");
            for (e = 0; e < E.length; e++) t = E[e], n = t.indexOf("="), o = n > -1 ? t.substr(0, n) : t, this.clear(o)
        }
    };


});


Requireify.register('js/reactMixins/falkor-fetch.js', function(require, requireAsync, module, exports) {


    "use strict";
    var eventBus = require("./eventBus"),
        AUTO_FECTH_PENDING_KEY = "falkor-auto-fetch-pending";
    module.exports = {
        mixins: [eventBus],
        getInitialState: function() {
            return {
                generation: -1,
                key: "",
                dispose: null
            }
        },
        _getModel: function(t) {
            return "function" == typeof this.getFalkorModel ? this.getFalkorModel(t) : t.model
        },
        _hasValidModel: function(t) {
            var e = this._getModel(t);
            return e && e.get && e.set && e.call && e.getValueSync
        },
        _hasPQL: function(t) {
            var e = t.pqls;
            return Array.isArray(e) && e.length
        },
        _normalize: function(t) {
            return t.length >= 1 && !Array.isArray(t[0]) ? [t] : t
        },
        fetchData: function(t, e, i, r, n) {
            function s(e, s) {
                this.state[a] && delete this.state[a], o = !0;
                var l = t.getBoundValue();
                this.state.dispose = null, l && l.__generation && "error" !== l.$type && (this.state.generation = l.__generation, this.state.key = l.__key);
                var u = i === AUTO_FECTH_PENDING_KEY;
                u && r(null, t), this.isMounted() && "onError" === e && this.setState({
                    fetchDataError: s
                }), h && this.isMounted() && n && this.forceUpdate(), this.emit("dataFetch:complete", i || null), !u && r && r()
            }
            var a = JSON.stringify(t._path) + " -> " + JSON.stringify(e);
            if (this.state[a]) return !0;
            this.state[a] = !0, void 0 === n && (n = !0);
            var o = !1,
                h = !1;
            this.state.fetchDataError = null;
            var l = t.get.apply(t, this._normalize(e)).subscribe(function() {}, s.bind(this, "onError"), s.bind(this, "onComplete"));
            return h = !0, o || (this.state.dispose = l), o
        },
        isLoading: function() {
            return !!this.state.dispose || this.props.isPrefetchingPaths
        },
        ensureDataLoaded: function(t, e, i) {
            var r = this._getModel(e),
                n = r.getBoundValue();
            if (!this._hasValidModel(e)) throw new Error("React Component - " + this.constructor.displayName + ": Must be initialized with a Falkor PathEvaluator model.");
            if (!this._hasPQL(e)) throw new Error("React Component - " + this.constructor.displayName + ": Must be initialized with PQLs with which to request data.");
            return n && n.__generation && (this.state.generation = n.__generation, this.state.key = n.__key), this.fetchData(r, e.pqls, t ? AUTO_FECTH_PENDING_KEY : null, i)
        }
    };


});


Requireify.register('js/reactMixins/scheduler.js', function(require, requireAsync, module, exports) {


    "use strict";
    module.exports = {
        queue: function(e, u) {
            return u = u || 10, setTimeout(function() {
                e()
            }, u)
        },
        cancelQueuedItem: function(e) {
            clearTimeout(e)
        }
    };


});


Requireify.register('js/reactMixins/akiraContext.js', function(require, requireAsync, module, exports) {


    "use strict";
    var React = require("react");
    module.exports = {
        contextTypes: {
            currentPage: React.PropTypes.string,
            columnsInRow: React.PropTypes.number.isRequired,
            isInitialRender: React.PropTypes.bool,
            rowNum: React.PropTypes.number,
            rankNum: React.PropTypes.number,
            requestId: React.PropTypes.string,
            listContext: React.PropTypes.string,
            trackId: React.PropTypes.number,
            jawBoneTrackId: React.PropTypes.number,
            jawBoneEpisodeTrackId: React.PropTypes.number,
            jawBoneTrailerTrackId: React.PropTypes.number,
            parentContext: React.PropTypes.object,
            isRtl: React.PropTypes.bool
        }
    };


});


Requireify.register('js/reactMixins/falkorPureRenderMixin.js', function(require, requireAsync, module, exports) {


    "use strict";
    var React = require("react"),
        FalkorPureRenderMixin = {
            setCustomModelChangeDetector: function(e) {
                this.customModelChangeDetector = e
            },
            hasFalkorPropChanged: function(e) {
                if (this.customModelChangeDetector) return this.customModelChangeDetector.didChange();
                var t = e.getBoundValue(),
                    r = t.__generation,
                    n = t.__key;
                return this.state.prevGeneration !== r || this.state.prevKey !== n
            },
            updateUniqueModelKey: function(e, t) {
                return this.customModelChangeDetector ? this.customModelChangeDetector.updateUniqueKey() : (t.prevGeneration = e.getBoundValue().__generation, void(t.prevKey = e.getBoundValue().__key))
            },
            isFalkorProp: function(e) {
                var t = e && e.getBoundValue && e.getBoundValue();
                return t ? !!t.__generation : !1
            },
            haveChildrenChanged: function(e, t) {
                return e && t ? e.length !== t.length : e && !t || !e && t
            },
            componentDidMount: function() {
                var e;
                for (e in this.props)
                    if (this.props.hasOwnProperty(e) && this.isFalkorProp(this.props[e])) return this.updateUniqueModelKey(this.props[e], this.state)
            },
            shouldComponentUpdate: function(e, t) {
                var r, n, o, i, s = {},
                    a = {},
                    h = !1,
                    u = !1,
                    p = React.addons.PureRenderMixin;
                for (r in e)
                    if (e.hasOwnProperty(r))
                        if (this.isFalkorProp(e[r])) {
                            if (this.hasFalkorPropChanged(this.props[r])) return this.updateUniqueModelKey(this.props[r], t), !0
                        } else if ("children" === r) {
                    if (this.haveChildrenChanged(this.props.children, e.children)) return !0
                } else if ("object" == typeof e[r] && "object" == typeof this.props[r]) {
                    o = e[r], i = this.props[r];
                    for (n in o)
                        if (o.hasOwnProperty(n) && (!i.hasOwnProperty(n) || o[n] !== i[n])) return !0;
                    for (n in i)
                        if (i.hasOwnProperty(n) && !o.hasOwnProperty(n)) return !0
                } else s[r] = this.props[r], a[r] = e[r];
                if ((Object.keys(s).length > 0 || Object.keys(this.state).length > 0) && (h = p.shouldComponentUpdate.bind({
                        props: s,
                        state: this.state
                    })(a, t)), u && h) {
                    for (n in t)
                        if (t.hasOwnProperty(n) && t[n] !== this.state[n]) return !0;
                    for (n in a)
                        if (a.hasOwnProperty(n) && a[n] !== s[n]) return !0
                }
                return h
            }
        };
    module.exports = FalkorPureRenderMixin;


});


Requireify.register('js/akira/components/lolomo/lolomoConstants.jsx', function(require, requireAsync, module, exports) {


    "use strict";
    var Constants = {
        LIST_CONTEXTS: {
            CONTINUE_WATCHING: "continueWatching",
            SUGGESTION_GALLERY: "suggestionsForYouGallery",
            SUGGESTION_ROW: "galleryDisplayAsRow",
            BILLBOARD: "billboard",
            SOCIAL_POPULAR: "socialPopular",
            RATE_MOVIES: "rateMovies",
            EXPANDED_PROMO_VIDEO: "expandedPromotionVideo",
            INLINE_PROMO_VIDEO: "inlinePromotionVideo",
            NETFLIX_ORIGINALS: "netflixOriginals",
            SIMILIARS: "similars",
            MY_LIST: "queue",
            CHARACTER_ROW: "character"
        },
        LIST_TYPES: {
            FLAT: "flat",
            COMPOSITE: "composite"
        }
    };
    module.exports = Constants;


});


Requireify.register('js/utils/ab/optimizationTest.js', function(require, requireAsync, module, exports) {


    "use strict";

    function appliesToListContext(e) {
        return !AB["in"](e, TEST_ID, [11, 12]) || AB["in"](e, TEST_ID, [11, 12]) && e.listContext === LolomoConstants.LIST_CONTEXTS.CONTINUE_WATCHING
    }
    var AB = require("./ab"),
        LolomoConstants = require("../../akira/components/lolomo/lolomoConstants.jsx"),
        TEST_ID = 6586,
        akiraOptimizationHelpers = {
            getPlayButtonLocation: function(e, o) {
                return AB.resolveABValue(e, TEST_ID, "playButtonLocation", o)
            },
            hasBOBSynopsis: function(e, o) {
                var t = !AB.resolveABValue(e, TEST_ID, "noSynopsis", !o);
                return appliesToListContext(e) ? t : o
            },
            hasBOBMyListButton: function(e, o) {
                var t = AB.resolveABValue(e, TEST_ID, "noMyListButton");
                return appliesToListContext(e) ? !t : o
            },
            getBOBJawHitzoneSize: function(e, o) {
                var t = AB.resolveABValue(e, TEST_ID, "jawHitZoneSize", o);
                return appliesToListContext(e) ? t : o
            },
            getColumnsInRowModifier: function(e) {
                var o = AB.resolveABValue(e, TEST_ID, "columnsInRowModifier", 0);
                return appliesToListContext(e) ? o : 0
            },
            getJawPlayButtonLocation: function(e, o) {
                return AB.resolveABValue(e, TEST_ID, "jawPlayButtonLocation", o)
            },
            getBillboardPlayButtonLocation: function(e, o) {
                return AB.resolveABValue(e, TEST_ID, "billboardPlayButtonLocation", o)
            },
            hasBackgroundImageStartsPlay: function(e) {
                return AB.resolveABValue(e, TEST_ID, "backgroundImageStartsPlay")
            },
            getJawMenuLocation: function(e, o) {
                return AB.resolveABValue(e, TEST_ID, "jawBoneMenuLocation", o)
            },
            getJawOverviewTextSize: function(e, o) {
                return AB.resolveABValue(e, TEST_ID, "jawOverviewText", o)
            },
            getJawOverviewColorModifier: function(e, o) {
                return AB.resolveABValue(e, TEST_ID, "jawOverviewColorModifier", o)
            },
            getMaxTitlesInRow: function(e, o) {
                return AB.resolveABValue(e, TEST_ID, "maxTitlesInRow", o)
            },
            hasLargeTitleCard: function(e) {
                var o = AB.resolveABValue(e, TEST_ID, "hasLargeTitleCard");
                return appliesToListContext(e) ? o : !1
            },
            hasSmallTitleCard: function(e) {
                return AB.resolveABValue(e, TEST_ID, "hasSmallTitleCard")
            },
            getBookmarkLocation: function(e) {
                var o = AB.resolveABValue(e, TEST_ID, "bookmarkLocation");
                return appliesToListContext(e) ? o : null
            },
            hasNoGrowBOB: function(e) {
                var o = AB.resolveABValue(e, TEST_ID, "noGrowBob");
                return appliesToListContext(e) ? o : !1
            },
            getSliderShiftSpeedModifier: function(e, o) {
                return AB.resolveABValue(e, TEST_ID, "slideShowSpeedModifier", o)
            },
            getBobOpenTrigger: function(e, o) {
                return AB.resolveABValue(e, TEST_ID, "bobOpenTrigger", o)
            }
        };
    module.exports = akiraOptimizationHelpers;


});


Requireify.register('js/utils/ab/richOriginalsRowTest.js', function(require, requireAsync, module, exports) {


    "use strict";
    var AB = require("./ab"),
        nfProps = require("nf-iso-properties"),
        LolomoConstants = require("../../akira/components/lolomo/lolomoConstants.jsx"),
        TEST_ID = 6746,
        TEST_ID_POST = 6728,
        resolveABValue = function(e, o) {
            return AB.resolveABValue(e, TEST_ID, o) || AB.resolveABValue(e, TEST_ID_POST, o)
        },
        richOriginalsRowTestHelpers = {
            isEnabled: function(e) {
                return resolveABValue(e, "enabled") && nfProps.get("oui.richOriginalsRow.enabled")
            },
            supportsCategorizedRow: function(e) {
                return this.isEnabled(e) && resolveABValue(e, "panelCategoriesEnabled")
            },
            supportsPanelTitleCard: function(e) {
                return this.isEnabled(e) && resolveABValue(e, "panelRowEnabled")
            },
            supportsOriginalsLink: function(e) {
                return this.isEnabled(e) && resolveABValue(e, "hubLinkEnabled")
            },
            supportsShortPanelBoxArt: function(e) {
                return this.isEnabled(e) && resolveABValue(e, "shortPanelAsset")
            },
            supportsNewEpisodeBadge: function(e) {
                return this.isEnabled(e) && nfProps.get("oui.richOriginalsRow.newEpisodeBadgeEnabled")
            },
            isRichOriginalsRow: function(e, o) {
                return o === LolomoConstants.LIST_CONTEXTS.NETFLIX_ORIGINALS && this.isEnabled(e)
            },
            isPanelsOriginalsRow: function(e, o) {
                return o === LolomoConstants.LIST_CONTEXTS.NETFLIX_ORIGINALS && this.supportsPanelTitleCard(e)
            },
            isCategorizedOriginalsRow: function(e, o, s) {
                return o === LolomoConstants.LIST_CONTEXTS.NETFLIX_ORIGINALS && s === LolomoConstants.LIST_TYPES.COMPOSITE && this.supportsCategorizedRow(e)
            }
        };
    module.exports = richOriginalsRowTestHelpers;


});


Requireify.register('js/reactMixins/modelChangeDetectors/lolomoRowChangeDetector.js', function(require, requireAsync, module, exports) {


    "use strict";

    function LolomoRowChangeDetector(e) {
        this.model = e, this.updateUniqueKey()
    }
    var TRANSIENT_ROWS = ["continueWatching", "queue"];
    LolomoRowChangeDetector.prototype = {
        isTransientRow: function() {
            var e = this.model.getValueSync("context");
            return -1 !== TRANSIENT_ROWS.indexOf(e)
        },
        updateUniqueKey: function() {
            this.prevModelLength = this.model.getValueSync("length"), this.isTransientRow() && (this.prevUniqueKey = this.generateUniqueKey())
        },
        didChange: function() {
            var e = this.model.getValueSync("length");
            return e !== this.prevModelLength ? !0 : this.isTransientRow() && this.generateUniqueKey() !== this.prevUniqueKey ? !0 : !1
        },
        generateUniqueKey: function() {
            for (var e, t = this.model.getValueSync("length"), n = "", i = 0; t > i; i++) e = this.model.getValueSync([i, "summary"]), e && e.id && (n += e.id.toString().substr(-4));
            return n
        }
    }, module.exports = LolomoRowChangeDetector;


});


Requireify.register('js/reactMixins/jawBoneLink.js', function(require, requireAsync, module, exports) {


    "use strict";
    var Router = require("react-router"),
        Position = require("../common/position"),
        context = require("../utils/contextData"),
        BrowserScroll = require("../reactMixins/browserScroll"),
        SCROLL_TO_DURATION_MS = 540,
        SCROLL_TO_DELAY_MS = 50,
        SEARCH_PATHNAME = "search",
        SCROLL_MARGIN = 110,
        CLOSE_JAW_CALLBACK_DELAY_MS = 500,
        JawBoneLink = {
            mixins: [Router.Navigation, Router.State],
            openJawBoneAtRankNum: function(t, e, o, i) {
                var n = !1,
                    r = this.getQuery(),
                    s = this.getFeatureData("umaData") || null,
                    a = s && s.uma ? "bd" : "mainView",
                    l = document.getElementsByClassName(a)[0],
                    c = this.getScrollToDelta(l);
                (r.jbv || this.shouldReplaceHistory()) && (n = !0), o && "keydown" === o && (r.focus = !0), r.jbv = e, r.jbp = t, void 0 !== this.context.rowNum && (r.jbr = this.context.rowNum), c && !i && (context.getFeatureData("browserInfo").isIE ? BrowserScroll.scrollDelta(c) : BrowserScroll.scrollDeltaWithAnimation(l, c, SCROLL_TO_DURATION_MS, SCROLL_TO_DELAY_MS)), n ? this.replaceWith(this.getPathname(), {}, r) : this.transitionTo(this.getPathname(), {}, r)
            },
            closeJawBone: function(t, e) {
                var o = e || this.getQuery();
                delete o.jbv, delete o.jbr, delete o.jbp, delete o.focus, this.shouldReplaceHistory() ? this.replaceWith(this.getPathname(), {}, o) : this.transitionTo(this.getPathname(), {}, o), t && "function" == typeof t && setTimeout(t, CLOSE_JAW_CALLBACK_DELAY_MS)
            },
            shouldReplaceHistory: function() {
                return -1 !== this.getPathname().indexOf(SEARCH_PATHNAME)
            },
            getScrollToDelta: function(t) {
                var e, o, i = document.getElementById("row-" + this.context.rowNum),
                    n = Position.getWindowRect().height,
                    r = Position.getRect(t).height,
                    s = document.getElementsByClassName("jawBoneContent open")[0],
                    a = s && s.getElementsByClassName("jawBoneContainer")[0] ? Position.getRect(s.getElementsByClassName("jawBoneContainer")[0]).height : 0,
                    l = this.getQuery();
                return i && parseInt(l.jbr, 10) !== this.context.rowNum && (e = Position.getRect(i).top, e -= SCROLL_MARGIN, e -= l.jbr && l.jbr < this.context.rowNum ? a : 0, l.jbr || (r += a || 500), o = r - Position.getScrollTop() - e, n > o && (e = Math.floor(e / 2))), e
            }
        };
    module.exports = JawBoneLink;


});


Requireify.register('js/akira/components/slider/sliderItem.jsx', function(require, requireAsync, module, exports) {


    "use strict";
    var React = require("react"),
        _ = require("lodash"),
        classNames = require("classnames"),
        CLASS_NAME = "slider-item",
        SliderItem = React.createClass({
            displayName: "SliderItem",
            getDefaultProps: function() {
                return {
                    additionalClasses: {}
                }
            },
            statics: {
                className: CLASS_NAME
            },
            render: function() {
                var e = _.extend({
                    "slider-item": !0
                }, this.props.additionalClasses);
                return this.props.viewportIndex && (e["slider-item-" + this.props.viewportIndex] = !0), React.createElement("div", {
                    className: classNames(e)
                }, this.props.children)
            }
        });
    module.exports = SliderItem;


});


Requireify.register('js/akira/components/slider/paginationIndicator.jsx', function(require, requireAsync, module, exports) {


    "use strict";
    var React = require("react"),
        PaginationIndicator = React.createClass({
            displayName: "PaginationIndicator",
            render: function() {
                var a, e = [],
                    t = "";
                for (a = 0; a < this.props.totalPages; a++) t = a === this.props.activePage ? "active" : "", e.push(React.createElement("li", {
                    className: t,
                    key: "pi" + a
                }));
                return React.createElement("ul", {
                    className: "pagination-indicator"
                }, e)
            }
        });
    module.exports = PaginationIndicator;


});


Requireify.register('js/akira/components/loaders/loadingBox.jsx', function(require, requireAsync, module, exports) {


    "use strict";
    var React = require("react"),
        classNames = require("classnames");
    module.exports = React.createClass({
        displayName: "exports",
        render: function() {
            var s = this.props.pulsate,
                e = this.props.displayWhenNotPulsing,
                a = this.props.boxClassNames,
                t = this.props.delay + "s",
                r = s ? {
                    WebkitAnimationDelay: t,
                    AnimationDelay: t
                } : {};
            return a.pulsate = s && e, a["pulsate-transparent"] = s && !e, a["no-pulsate"] = !s && e, React.createElement("div", {
                className: classNames(a),
                style: r
            })
        }
    });


});


Requireify.register('js/akira/components/loaders/loadingTitle.jsx', function(require, requireAsync, module, exports) {


    "use strict";
    var React = require("react"),
        LoadingBox = require("./loadingBox.jsx"),
        classNames = require("classnames");
    module.exports = React.createClass({
        displayName: "exports",
        render: function() {
            var e = {
                    smallTitleCard: !0,
                    loadingTitle: !0
                },
                s = {
                    "ratio-16x9": !0
                };
            return this.props.className && (e[this.props.className] = !0), React.createElement("div", {
                className: classNames(e)
            }, React.createElement(LoadingBox, {
                boxClassNames: s,
                delay: this.props.delay,
                pulsate: this.props.pulsate,
                displayWhenNotPulsing: this.props.displayWhenNotPulsing
            }))
        }
    });


});


Requireify.register('js/reactMixins/scrollHorizontal.js', function(require, requireAsync, module, exports) {


    "use strict";
    var MIN_HORZ_SWIPE_THRESHOLD_IN_PX = 65,
        MIN_VERT_SWIPE_THRESHOLD_IN_PX = 30,
        scrollHorizontal = {
            MIN_HORZ_SWIPE_THRESHOLD_IN_PX: MIN_HORZ_SWIPE_THRESHOLD_IN_PX,
            MIN_VERT_SWIPE_THRESHOLD_IN_PX: MIN_VERT_SWIPE_THRESHOLD_IN_PX,
            advanceDirection: function(_) {
                var I = null,
                    H = _.deltaX,
                    E = Math.abs(_.deltaY);
                return H *= this.context.isRtl ? -1 : 1, "wheel" === _.type && MIN_VERT_SWIPE_THRESHOLD_IN_PX >= E && (_.stopPropagation(), H >= MIN_HORZ_SWIPE_THRESHOLD_IN_PX ? I = "next" : -MIN_HORZ_SWIPE_THRESHOLD_IN_PX >= H && (I = "prev")), I
            }
        };
    module.exports = scrollHorizontal;


});


Requireify.register('js/reactMixins/syntheticMouseEvent.js', function(require, requireAsync, module, exports) {


    "use strict";

    function _triggerSyntheticEvent(e) {
        var t = document.createEvent("MouseEvent"),
            n = document.elementFromPoint(e.x, e.y);
        t.initMouseEvent(e.type, !0, !0, window, null, e.x, e.y, 0, 0, !1, !1, !1, !1, 0, null), t.synthetic = !0, n.dispatchEvent(t)
    }
    var _ = require("lodash"),
        syntheticMouseEvent = {
            mouseOver: function(e) {
                _triggerSyntheticEvent(_.assign({
                    type: "mouseover"
                }, e))
            }
        };
    module.exports = syntheticMouseEvent;


});


Requireify.register('js/utils/keyboardEventsWrapper.js', function(require, requireAsync, module, exports) {


    "use strict";
    var KeyCodes = require("../common/keyCodes");
    module.exports = {
        executeOnEnterOrSpace: function(e) {
            return function(c) {
                switch (c && c.which) {
                    case KeyCodes.ENTER:
                    case KeyCodes.SPACE:
                        e(c)
                }
            }
        }
    };


});


Requireify.register('js/common/presentationTracking/presentationTrackingConsts.js', function(require, requireAsync, module, exports) {


    "use strict";

    function buildSwVersion(n) {
        return n && n.os ? n.os.name + " " + n.os.version + ", " + n.name + " " + n.version : "null"
    }
    var nfProps = require("nf-iso-properties"),
        ctx = require("../../utils/contextData"),
        inNode = require("../../utils/inNode"),
        presentationTrackingConsts = {
            IN_NODE: inNode,
            DEFAULT_TRACKING_VALUES: {
                NUMBER: -99,
                OBJECT: {},
                ARRAY: [],
                STRING: "unknown",
                BOOLEAN: !1
            },
            FAST_PROPS: {
                SEND_INTERVAL_MS: "ui.presTracking.sendIntervalMs",
                ACTIVE: "ui.presTracking.isActive",
                DEBOUNCE_MS: "ui.presTracking.scanDebounceMs"
            },
            TRANSPORT: {
                MAX_SEND_ERROR: 10,
                MAX_CONCURRENT_ATTEMPTS: 4,
                ENDPOINT: "/uitracking/users/presentationtracking"
            },
            STORAGE: {
                NAMESPACE: "nfpt",
                MAX_ITEMS: 250,
                DEFAULT_DATASTORE: {
                    totalContentLength: 0,
                    values: []
                }
            },
            GLOBAL_HEADER_SELECTOR: "#hdPinTarget",
            CONTAINER_SELECTOR_CLASS: "ptrack-container",
            ELEMENT_SELECTOR_CLASS: "ptrack-content",
            DEBUG_ENTERING_CLASS: "ptdebug-entering",
            DEBUG_CURRENT_CLASS: "ptdebug-current",
            GEO: ctx.getFeatureData("geo"),
            BROWSERINFO: ctx.getFeatureData("browserInfo"),
            FULL_SCAN: "pt:fullscan",
            SCAN_EVENTS: {
                INIT: "init",
                SCROLL: "scroll",
                RESIZE: "resize"
            }
        };
    presentationTrackingConsts.TRANSPORT.IMPRESSION_SEND_INTERVAL_MS_START = presentationTrackingConsts.IN_NODE ? void 0 : nfProps.get(presentationTrackingConsts.FAST_PROPS.SEND_INTERVAL_MS), presentationTrackingConsts.DEBUG = !presentationTrackingConsts.IN_NODE && !!window.location.search.match(/ptdebug=1/), presentationTrackingConsts.TIMING = !presentationTrackingConsts.IN_NODE && !!window.location.search.match(/pttiming=1/), presentationTrackingConsts.TRANSPORT.REQUEST_DEFAULTS = {
        country: presentationTrackingConsts.GEO && presentationTrackingConsts.GEO.preferredLocale ? presentationTrackingConsts.GEO.preferredLocale.country : "null",
        application_name: "AKIRA",
        application_v: ctx.get("serverDefs", "BUILD_IDENTIFIER"),
        sw_version: buildSwVersion(presentationTrackingConsts.BROWSERINFO)
    }, module.exports = presentationTrackingConsts;


});


Requireify.register('js/common/presentationTracking/presentationTrackingStorage.js', function(require, requireAsync, module, exports) {


    "use strict";
    var _ = require("lodash"),
        CONSTS = require("./presentationTrackingConsts"),
        presentationTrackingStorage = {
            _initialized: !1,
            _inMemoryCache: null,
            _writeOutLocalStorage: function() {
                try {
                    return localStorage.setItem(CONSTS.STORAGE.NAMESPACE, JSON.stringify(this._inMemoryCache)), !0
                } catch (e) {
                    return !1
                }
            },
            _loadFromStorage: function() {
                var e;
                try {
                    e = JSON.parse(localStorage.getItem(CONSTS.STORAGE.NAMESPACE)), e && _.isNumber(e.totalContentLength) && _.isArray(e.values) || (e = void 0)
                } catch (t) {}
                this._inMemoryCache = e || _.cloneDeep(CONSTS.STORAGE.DEFAULT_DATASTORE)
            },
            init: function() {
                this._initialized || CONSTS.IN_NODE || (this._loadFromStorage(), this._initialized = !0)
            },
            save: function(e) {
                var t = _.now(),
                    n = this;
                return n._inMemoryCache.values.push({
                    key: t,
                    contents: e
                }), n._inMemoryCache.totalContentLength += e.length, n._inMemoryCache.totalContentLength > CONSTS.STORAGE.MAX_ITEMS && (n._inMemoryCache.values = _.dropWhile(presentationTrackingStorage._inMemoryCache.values, function(e) {
                    return n._inMemoryCache.totalContentLength > CONSTS.STORAGE.MAX_ITEMS ? (n._inMemoryCache.totalContentLength -= e.contents.length, !0) : void 0
                })), n._writeOutLocalStorage(), t
            },
            remove: function(e) {
                var t = this,
                    n = [];
                return _.isArray(e) || (e = [e]), _.remove(t._inMemoryCache.values, function(o) {
                    return -1 !== e.indexOf(o.key) ? (n.push(o.key), t._inMemoryCache.totalContentLength -= o.contents.length, !0) : void 0
                }), t._writeOutLocalStorage(), n
            },
            fetch: function() {
                return _.cloneDeep(this._inMemoryCache)
            },
            kill: function() {
                this._inMemoryCache = _.cloneDeep(CONSTS.STORAGE.DEFAULT_DATASTORE), this._writeOutLocalStorage()
            }
        };
    module.exports = presentationTrackingStorage;


});


Requireify.register('js/common/presentationTracking/presentationTrackingSender.js', function(require, requireAsync, module, exports) {


    "use strict";
    var _ = require("lodash"),
        XHR = require("../../utils/XHR"),
        storage = require("./presentationTrackingStorage"),
        CONSTS = require("./presentationTrackingConsts"),
        presentationTrackingSender = {
            _sendInterval: null,
            _currentAttempts: 0,
            _sendErrorCount: 0,
            _send: function() {
                var t = this,
                    e = storage.fetch();
                if (!(!e.totalContentLength || t._sendErrorCount > CONSTS.TRANSPORT.MAX_SEND_ERROR || t._currentAttempts > CONSTS.TRANSPORT.MAX_CONCURRENT_ATTEMPTS)) {
                    var n = [],
                        r = [];
                    _.forEach(e.values, function(t) {
                        n.push(t.key), r = r.concat(t.contents)
                    });
                    var s = _.cloneDeep(CONSTS.TRANSPORT.REQUEST_DEFAULTS);
                    s.data = JSON.stringify(r), t._currentAttempts++;
                    XHR.request({
                        method: "post",
                        data: s,
                        resource: "/presentationtracking",
                        service: "uitracking",
                        postType: "text"
                    }).subscribe(function() {
                        storage.remove(n), t._sendErrorCount = 0, t._currentAttempts--
                    }, function(e, n) {
                        t._sendErrorCount++, t._currentAttempts--
                    })
                }
            },
            start: function() {
                var t = this;
                t._sendInterval || CONSTS.IN_NODE || (t._send(), t._sendInterval = window.setInterval(function() {
                    t._send()
                }, CONSTS.TRANSPORT.IMPRESSION_SEND_INTERVAL_MS_START))
            },
            stop: function() {
                this._sendInterval && window.clearInterval(this._sendInterval)
            }
        };
    module.exports = presentationTrackingSender;


});


Requireify.register('js/common/presentationTracking/presentationTracking.js', function(require, requireAsync, module, exports) {


    "use strict";
    var _ = require("lodash"),
        ctx = require("../../utils/contextData"),
        position = require("../position"),
        netflix = require("../nfNamespace"),
        EventBus = require("../../reactMixins/eventBus"),
        CONSTS = require("./presentationTrackingConsts"),
        storage = require("./presentationTrackingStorage.js"),
        sender = require("./presentationTrackingSender.js"),
        fastProp = function(e) {
            return CONSTS.IN_NODE ? void 0 : ctx.get("fastProps", e)
        },
        presentationTracking = {
            _viewportRegion: null,
            _onScreen: {},
            _headerEl: null,
            _initialized: !1,
            _isElementInRegion: function(e, t) {
                var n = e.left + (e.right - e.left) / 2,
                    i = e.top + (e.bottom - e.top) / 2;
                return e.left === e.right || t.left === t.right ? !1 : n >= t.left && n <= t.right && i >= t.top && i <= t.bottom
            },
            _calcWindowActiveRegion: function() {
                if (!this._headerEl) {
                    var e = document.querySelector(CONSTS.GLOBAL_HEADER_SELECTOR);
                    this._headerEl = e
                }
                var t = position.getWindowRect();
                return {
                    left: 0,
                    top: this._headerEl && "fixed" === window.getComputedStyle(this._headerEl).getPropertyValue("position") ? this._headerEl.getBoundingClientRect().height : 0,
                    right: t.right,
                    bottom: t.bottom
                }
            },
            _scanElement: function(e) {
                return this._isElementInRegion(position.getRect(e), this._viewportRegion)
            },
            _tokenizeElement: function(e) {
                return [e.video_id, e.row, e.rank, e.track_id, !!e.parent_context].join("|")
            },
            _extractTrackingData: function(e) {
                return JSON.parse(decodeURI(e.getAttribute("data-ui-tracking-context")))
            },
            _fullScan: function(e) {
                if (this._initialized) {
                    var t = this,
                        n = t._onScreen,
                        i = [],
                        r = document.getElementsByClassName(CONSTS.CONTAINER_SELECTOR_CLASS),
                        o = (new Date).getTime();
                    t._onScreen = {}, t._viewportRegion = t._calcWindowActiveRegion(), _.forEach(r, function(r) {
                        t._scanElement(r) && (_.forEach(r.getElementsByClassName(CONSTS.ELEMENT_SELECTOR_CLASS), function(e) {
                            var r = t._extractTrackingData(e),
                                a = t._tokenizeElement(r);
                            !t._onScreen[a] && t._scanElement(e) && (n[a] ? t._onScreen[a] = n[a] : (r.time = o, t._onScreen[a] = r, i.push(r)))
                        }), e = e || {}, e.data = t._onScreen, EventBus.emit(CONSTS.FULL_SCAN, e))
                    }), _.isEmpty(i) || storage.save(i)
                }
            },
            init: function() {
                if (!this._initialized && !CONSTS.IN_NODE && fastProp(CONSTS.FAST_PROPS.ACTIVE)) {
                    var e = this;
                    storage.init(), sender.start();
                    var t = function() {
                        window.addEventListener("scroll", function() {
                            e.requestScan({
                                event: CONSTS.SCAN_EVENTS.SCROLL
                            })
                        }), window.addEventListener("resize", function() {
                            e.requestScan({
                                isResize: !0,
                                event: CONSTS.SCAN_EVENTS.RESIZE
                            })
                        })
                    };
                    "complete" === document.readyState || "loaded" === document.readyState || "interactive" === document.readyState ? t() : document.addEventListener("DOMContentLoaded", t, !1), this._initialized = !0
                }
            }
        };
    presentationTracking.requestScan = _.debounce(function(e) {
        presentationTracking._fullScan(e)
    }, fastProp(CONSTS.FAST_PROPS.DEBOUNCE_MS)), module.exports = presentationTracking;


});


Requireify.register('js/akira/components/slider/slider.jsx', function(require, requireAsync, module, exports) {


    "use strict";
    var React = require("react"),
        classNames = require("classnames"),
        SliderItem = require("./sliderItem.jsx"),
        PaginationIndicator = require("./paginationIndicator.jsx"),
        LoadingTitle = require("../loaders/loadingTitle.jsx"),
        ScrollHorizontal = require("../../../reactMixins/scrollHorizontal.js"),
        SyntheticMouseEvent = require("../../../reactMixins/syntheticMouseEvent.js"),
        EventBus = require("../../../reactMixins/eventBus.js"),
        IsomorphicContext = require("../../../reactMixins/isomorphicContextWithDeps"),
        I18N = require("../../../reactMixins/i18n"),
        KeyBoardEvents = require("../../../utils/keyboardEventsWrapper"),
        presentationTracking = require("../../../common/presentationTracking/presentationTracking.js"),
        WIDTH_100_PERCENT = 100,
        isAnimating = !1,
        BUNDLE = "discovery/akira/Common:slider.handle",
        Slider = React.createClass({
            displayName: "Slider",
            animateHoverTimeout: null,
            touchStart: null,
            statics: {
                MOVE_DIRECTION_NEXT: 1,
                MOVE_DIRECTION_PREV: -1,
                __meta__: {
                    strings: [{
                        bundle: BUNDLE,
                        ids: ["previous", "next"]
                    }]
                }
            },
            contextTypes: {
                isRtl: React.PropTypes.bool
            },
            mixins: [I18N, ScrollHorizontal, SyntheticMouseEvent, IsomorphicContext],
            getInitialState: function() {
                var e = this.props.initialLowestVisibleIndex || 0,
                    t = this.getTotalItemCount();
                return !this.props.enableLooping && t && e + this.props.itemsInRow > t && (e = t - this.props.itemsInRow, 0 > e && (e = 0)), {
                    lowestVisibleItemIndex: e,
                    hasMovedOnce: this.props.initialLowestVisibleIndex || !1,
                    sliderHandleFocused: !1
                }
            },
            advanceNext: function(e) {
                var t, i = this.state.lowestVisibleItemIndex + this.props.itemsInRow,
                    s = this.state.lowestVisibleItemIndex + 2 * this.props.itemsInRow,
                    n = this.getTotalItemCount();
                e && e.preventDefault(), this.isNextNavActive() && !this.isAnimating && (this.isAnimating = !0, i !== n && s > n && (i = n - this.props.itemsInRow), t = this.getNewSliderOffset(i), i === n && (i = 0), e && "wheel" === e.type ? this.shiftSlider(i, t, Slider.MOVE_DIRECTION_NEXT, {
                    x: e.clientX,
                    y: e.clientY
                }) : e && "keydown" === e.type ? this.shiftSlider(i, t, Slider.MOVE_DIRECTION_NEXT, null, !0) : this.shiftSlider(i, t, Slider.MOVE_DIRECTION_NEXT))
            },
            advancePrev: function(e) {
                var t, i = this.state.lowestVisibleItemIndex - this.props.itemsInRow,
                    s = this.getTotalItemCount();
                e && e.preventDefault(), this.isPrevNavActive() && !this.isAnimating && (this.isAnimating = !0, 0 !== this.state.lowestVisibleItemIndex && 0 > i && (i = 0), t = this.getNewSliderOffset(i), 0 === this.state.lowestVisibleItemIndex && (i = s - this.props.itemsInRow), e && "wheel" === e.type ? this.shiftSlider(i, t, Slider.MOVE_DIRECTION_PREV, {
                    x: e.clientX,
                    y: e.clientY
                }) : e && "keydown" === e.type ? this.shiftSlider(i, t, Slider.MOVE_DIRECTION_PREV, null, !0) : this.shiftSlider(i, t, Slider.MOVE_DIRECTION_PREV))
            },
            shiftSlider: function(e, t, i, s, n) {
                var o = this,
                    r = React.findDOMNode(this.refs.sliderContent),
                    a = this.refs.handlePrev ? React.findDOMNode(this.refs.handlePrev) : null,
                    l = this.getAnimationStyle(t);
                clearTimeout(this.animateHoverTimeout), "function" == typeof this.props.onSliderMove && this.props.onSliderMove(e, i), a && a.classList.add("active"), r.addEventListener("transitionend", function h(t) {
                    t.target === this && (r.removeEventListener("transitionend", h), r.classList.remove("animating"), o.setState({
                        lowestVisibleItemIndex: e,
                        hasMovedOnce: !0
                    }), o.resetSliderPosition(), o.isAnimating = !1, o.refocusAfterShift(i), presentationTracking.requestScan(), EventBus.emit("motion-boxart:scan"), s && (clearTimeout(o.animateHoverTimeout), o.animateHoverTimeout = setTimeout(function() {
                        SyntheticMouseEvent.mouseOver(s)
                    }, 100)))
                }), r.classList.add("animating"), r.setAttribute("style", l)
            },
            refocusAfterShift: function(e) {
                var t, i, s = this.getSliderItemsInViewport();
                s && s.length > 1 && (i = e === Slider.MOVE_DIRECTION_NEXT ? 1 : s.length - 2, t = s[i].getDOMNode().querySelector(".sliderRefocus"), t && t.focus())
            },
            resetSliderPosition: function() {
                if (this.refs.sliderContent) {
                    var e = this.getBaseSliderOffset(),
                        t = this.getAnimationStyle(e);
                    React.findDOMNode(this.refs.sliderContent).setAttribute("style", t)
                }
            },
            getSliderItemWidth: function() {
                return WIDTH_100_PERCENT / this.props.itemsInRow
            },
            getHighestIndex: function() {
                return Math.min(this.getTotalItemCount(), this.state.lowestVisibleItemIndex + 2 * this.props.itemsInRow + 1)
            },
            getLowestIndex: function() {
                return Math.max(0, this.state.lowestVisibleItemIndex - this.props.itemsInRow - 1)
            },
            getTotalItemCount: function() {
                return this.props.totalItems
            },
            getTotalPages: function() {
                return Math.ceil(this.getTotalItemCount() / this.props.itemsInRow)
            },
            getPageNumber: function(e) {
                return Math.ceil(e / this.props.itemsInRow)
            },
            getBaseSliderOffset: function() {
                var e = 0,
                    t = this.props.itemsInRow,
                    i = this.getSliderItemWidth();
                return this.getTotalPages() > 1 && ((this.state.hasMovedOnce && 0 === this.state.lowestVisibleItemIndex && this.props.enableLooping || this.state.lowestVisibleItemIndex >= t) && (e = -WIDTH_100_PERCENT), this.state.hasMovedOnce && (this.props.enableLooping || this.state.lowestVisibleItemIndex > t) && (e -= i), this.state.lowestVisibleItemIndex > 0 && this.state.lowestVisibleItemIndex < t && (e -= this.state.lowestVisibleItemIndex * i)), e *= this.context.isRtl ? -1 : 1
            },
            getNewSliderOffset: function(e) {
                var t = this.state.lowestVisibleItemIndex - e,
                    i = this.getBaseSliderOffset(),
                    s = this.getSliderItemWidth(),
                    n = this.context.isRtl ? -1 : 1;
                return i + t * s * n
            },
            getSliderContents: function() {
                var e = [],
                    t = [],
                    i = this.props.itemsInRow,
                    s = this.getTotalItemCount(),
                    n = 0,
                    o = this.state.lowestVisibleItemIndex - this.getLowestIndex();
                if (this.props.children && this.props.children.length) {
                    e = this.props.children.slice(this.getLowestIndex(), this.getHighestIndex()), n = this.getHighestIndex() - this.getLowestIndex();
                    for (var r = 0; e.length < n && e.length < s;) e.push(React.createElement(LoadingTitle, {
                        className: "fullWidth",
                        delay: .2 * r,
                        pulsate: !1,
                        displayWhenNotPulsing: !0,
                        key: "loading-title-" + r
                    })), r++;
                    this.getTotalPages() > 1 && this.props.enableLooping && (this.getHighestIndex() - this.state.lowestVisibleItemIndex <= 2 * i && (t = this.state.lowestVisibleItemIndex + i === s ? this.props.children.slice(0, this.props.itemsInRow + 1) : this.props.children.slice(0, 1), t = this.cloneItemsWithNewKeys(t, "_appended"), e = e.concat(t)), this.state.hasMovedOnce && this.state.lowestVisibleItemIndex - i <= 0 && (t = 0 === this.state.lowestVisibleItemIndex ? this.props.children.slice(-this.props.itemsInRow - 1) : this.props.children.slice(-1), o += t.length, t = this.cloneItemsWithNewKeys(t, "_prepended"), e = t.concat(e)))
                }
                return this.wrapSliderItems(e, o)
            },
            cloneItemsWithNewKeys: function(e, t) {
                return e.map(function(e) {
                    return React.addons.cloneWithProps(e, {
                        key: e.key + t
                    })
                })
            },
            sliderWrappedItems: [],
            getSliderItemsInViewport: function() {
                return this.getSliderItems(this.sliderWrappedItems.filter(function(e) {
                    return e.inViewport
                }))
            },
            getAllSliderItems: function() {
                return this.getSliderItems(this.sliderWrappedItems)
            },
            getSliderItems: function(e) {
                var t, i, s = [];
                for (t = 0; i = e[t]; t++) this.refs[i.uid] && s.push(this.refs[i.uid]);
                return s
            },
            isTouchEnabled: function() {
                return "ontouchstart" in window || navigator.maxTouchPoints > 0
            },
            getItem: function(e) {
                return this.refs[e]
            },
            isItemInMiddle: function(e) {
                var t = this.getItem("item_" + e);
                return t && ("middle" === t.props.viewportPosition || "leftEdge" === t.props.viewportPosition || "rightEdge" === t.props.viewportPosition)
            },
            wrapSliderItems: function(e, t) {
                var i = t + this.props.itemsInRow - 1,
                    s = 0,
                    n = this;
                return this.sliderWrappedItems = [], React.Children.map(e, function(e, o) {
                    var r, a = "",
                        l = !1;
                    o === t ? (a = "leftEdge", l = !0) : o === t - 1 ? a = "leftPeek" : o === i + 1 ? a = "rightPeek" : o === i ? (a = "rightEdge", l = !0) : o >= t && i >= o && (a = "middle", l = !0);
                    var h = a ? s : "",
                        d = !1,
                        c = "item_" + o;
                    return a && (++s, d = !0), n.sliderWrappedItems.push({
                        uid: c,
                        inViewport: d
                    }), r = React.addons.cloneWithProps(e, {
                        sliderItemId: c,
                        itemTabbable: l
                    }), React.createElement(SliderItem, {
                        ref: c,
                        key: c,
                        viewportIndex: h,
                        viewportPosition: a
                    }, r)
                })
            },
            getAnimationStyle: function(e) {
                var t = e ? "translate3d(" + e + "%, 0px, 0px)" : "";
                return ["-webkit-transform: " + t, "-moz-transform: " + t, "-ms-transform: " + t, "-o-transform: " + t, "transform: " + t].join(";")
            },
            getReactAnimationStyle: function(e) {
                var t = e ? "translate3d(" + e + "%, 0px, 0px)" : "";
                return e ? {
                    WebkitTransform: t,
                    MozTransform: t,
                    MsTransform: t,
                    OTransform: t,
                    transform: t
                } : null
            },
            handleMouseLeaveSliderMask: function() {
                clearTimeout(this.animateHoverTimeout)
            },
            handleTouchStart: function(e) {
                var t = this.isTouchEnabled() && e.changedTouches ? e.changedTouches[0] : e;
                this.touchStart = {
                    x: parseInt(t.clientX),
                    y: parseInt(t.clientY)
                }
            },
            handleTouchMove: function(e) {
                var t = this.isTouchEnabled() && e.changedTouches ? e.changedTouches[0] : e,
                    i = this.touchStart ? this.touchStart.x - t.clientX : 0,
                    s = this.touchStart ? Math.abs(this.touchStart.y - t.clientY) : 0;
                i *= this.context.isRtl ? -1 : 1, isAnimating || (i > ScrollHorizontal.MIN_HORZ_SWIPE_THRESHOLD_IN_PX && s < ScrollHorizontal.MIN_VERT_SWIPE_THRESHOLD_IN_PX && this.isNextNavActive() ? (this.advanceNext(), this.touchStart = {}) : i < -ScrollHorizontal.MIN_HORZ_SWIPE_THRESHOLD_IN_PX && s < ScrollHorizontal.MIN_VERT_SWIPE_THRESHOLD_IN_PX && this.isPrevNavActive() && (this.advancePrev(), this.touchStart = {})), Math.abs(i) > Math.abs(s) && e.preventDefault()
            },
            handleMouseWheel: function(e) {
                if (!isAnimating) {
                    var t = this.advanceDirection(e);
                    "next" === t ? this.advanceNext(e) : "prev" === t && this.advancePrev(e)
                }
            },
            componentDidUpdate: function(e) {
                this.props.itemsInRow !== e.itemsInRow && this.resetSliderPosition()
            },
            componentWillReceiveProps: function(e) {
                e.totalItems < this.props.totalItems && this.isLastPage() && this.setState({
                    lowestVisibleItemIndex: e.totalItems - e.itemsInRow
                })
            },
            hasMorePrevPages: function() {
                var e = this.state.lowestVisibleItemIndex - this.props.itemsInRow;
                return this.props.enableLooping || e > -this.props.itemsInRow
            },
            hasMoreNextPages: function() {
                var e = this.state.lowestVisibleItemIndex + this.props.itemsInRow;
                return this.props.enableLooping || e < this.getTotalItemCount()
            },
            isPrevNavActive: function() {
                return this.getTotalPages() > 1 && this.state.hasMovedOnce && this.hasMorePrevPages()
            },
            isNextNavActive: function() {
                return this.getTotalPages() > 1 && this.hasMoreNextPages()
            },
            isLastPage: function() {
                return this.getPageNumber(this.state.lowestVisibleItemIndex) + 1 === this.getTotalPages()
            },
            componentDidMount: function() {
                var e = React.findDOMNode(this.refs.sliderContent);
                this.isTouchEnabled() && (e.addEventListener("pointerdown", this.handleTouchStart), e.addEventListener("pointermove", this.handleTouchMove))
            },
            componentWillUnmount: function() {
                var e = React.findDOMNode(this.refs.sliderContent);
                this.isTouchEnabled() && (e.removeEventListener("pointerdown", this.handleTouchStart), e.removeEventListener("pointermove", this.handleTouchMove))
            },
            renderPageHandle: function(e, t, i, s, n) {
                if (1 >= e || t && !this.state.hasMovedOnce) return null;
                var o = {
                        handle: !0,
                        handlePrev: t,
                        handleNext: !t,
                        active: s
                    },
                    r = {
                        "indicator-icon": !0,
                        "icon-leftCaret": this.context.isRtl ? !t : t,
                        "icon-rightCaret": this.context.isRtl ? t : !t
                    },
                    a = t ? "previous" : "next";
                return React.createElement("span", {
                    className: classNames(o),
                    tabIndex: !t || this.state.hasMovedOnce ? 0 : -1,
                    ref: i,
                    onClick: n,
                    onKeyDown: KeyBoardEvents.executeOnEnterOrSpace(n),
                    onMouseEnter: this.props.onMouseEnterSliderHandle,
                    onFocus: this.props.onMouseEnterSliderHandle,
                    onMouseLeave: this.props.onMouseLeaveSliderHandle,
                    onBlur: this.props.onMouseLeaveSliderHandle,
                    role: "button",
                    "aria-label": this.getString(BUNDLE, a)
                }, React.createElement("b", {
                    className: classNames(r)
                }))
            },
            render: function() {
                var e, t = this.getReactAnimationStyle(this.getBaseSliderOffset()),
                    i = "sliderContent row-with-x-columns",
                    s = this.getTotalPages(),
                    n = this.props.enablePaginationIndicator && s > 1;
                return e = {
                    sliderMask: !0,
                    showPeek: this.props.enablePeek
                }, React.createElement("div", {
                    className: "slider"
                }, this.renderPageHandle(s, !0, "handlePrev", this.isPrevNavActive(), this.advancePrev), n ? React.createElement(PaginationIndicator, {
                    totalPages: s,
                    activePage: this.getPageNumber(this.state.lowestVisibleItemIndex)
                }) : null, React.createElement("div", {
                    className: classNames(e),
                    onMouseLeave: this.handleMouseLeaveSliderMask
                }, React.createElement("div", {
                    className: i,
                    ref: "sliderContent",
                    style: t,
                    onTouchStart: this.handleTouchStart,
                    onTouchMove: this.handleTouchMove,
                    onWheel: this.handleMouseWheel
                }, this.getSliderContents())), this.renderPageHandle(s, !1, "handleNext", this.isNextNavActive(), this.advanceNext))
            }
        });
    module.exports = Slider;


});


Requireify.register('js/common/nfRx.js', function(require, requireAsync, module, exports) {


    "use strict";
    var inNode = require("../utils/inNode"),
        root = inNode ? {} : window,
        Rx = root.Rx || {},
        noop = function() {},
        hasjQuery = !1;
    Rx.Observable = Rx.Observable || {
        prototype: {}
    };
    try {
        hasjQuery = !!jQuery
    } catch (e) {}
    Rx.Observable.fromEvent || (Rx.Observable.fromEvent = function(e, r) {
        return Rx.Observable.create(function(t) {
            function o() {
                t.onNext.apply(t, arguments)
            }
            if (e.addEventListener) e.addEventListener(r, o);
            else {
                if (!(hasjQuery && e instanceof jQuery)) throw new Error("Cannot attach event listener to this object.");
                e.on(r, o)
            }
            return function() {
                if (e.removeEventListener) e.removeEventListener(r, o);
                else {
                    if (!(hasjQuery && e instanceof jQuery)) throw new Error("Cannot remove event listener to this object.");
                    e.off(r, o)
                }
            }
        })
    }), Rx.Observable.prototype.filter || (Rx.Observable.prototype.filter = Rx.Observable.prototype.where), Rx.Observable.prototype.map || (Rx.Observable.prototype.map = function(e, r) {
        return Rx.Observable.prototype.select.call(r || this, e)
    }), Rx.Observable["throw"] || (Rx.Observable["throw"] = Rx.Observable.throwException), Rx.Observable.flatMap || (Rx.Observable.prototype.flatMap = Rx.Observable.prototype.selectMany), Rx.Observable["return"] || (Rx.Observable["return"] = Rx.Observable.returnValue), Rx.Observable.wrap || (Rx.Observable.wrap = function(e) {
        return 0 === arguments.length ? Rx.Observable.empty() : e instanceof Rx.Observable ? e : e instanceof Error ? Rx.Observable["throw"](e) : Rx.Observable.create(function(r) {
            return r.onNext(e), r.onCompleted(), noop
        })
    }), Rx.Observable["catch"] || (Rx.Observable["catch"] = Rx.Observable.catchException), Rx.Observable.prototype["catch"] || (Rx.Observable.prototype["catch"] = Rx.Observable.prototype.catchException), Rx.Observable.prototype.retryWithBackoff = function(e, r) {
        e = e || 5, r = r || 1e3;
        var t = this,
            o = r,
            a = 1,
            n = Rx.Observable.defer(function() {
                return Rx.Observable.timer(o).flatMap(function() {
                    return o = Math.pow(2, a++) * r, t
                })
            });
        return this["catch"](n.retry(e))
    }, Rx.Observable.prototype.shareReplay || (Rx.Observable.prototype.shareReplay = function(e, r, t) {
        return this.replay(null, e, r, t).refCount()
    }), module.exports = Rx;


});


Requireify.register('js/utils/pathEvaluatorUtils.js', function(require, requireAsync, module, exports) {


    "use strict";

    function toObservable(r) {
        return Rx.Observable.create(function(e) {
            return r.subscribe(function(r) {
                    e.onNext(r)
                }, function(r) {
                    e.onError(r)
                }, function() {
                    e.onCompleted()
                }),
                function() {}
        })
    }

    function isValueError(r) {
        return void 0 !== r && "error" === r.$type
    }

    function isBoundToError(r) {
        return isValueError(r.getBoundValue())
    }

    function hasAnyError(r) {
        var e = !1;
        return r && Array.isArray(r) && r.length > 0 && (e = r.some(function(r) {
            return isValueError(r)
        })), e
    }

    function resetCache(r) {
        var e = Object.keys(r._cache).filter(function(r) {
            return "_" !== r[0] && "$" !== r[0]
        }).map(function(r) {
            return [r]
        });
        r.invalidate.apply(r, e).subscribe()
    }
    var Rx = require("../common/nfRx");
    module.exports = {
        toObservable: toObservable,
        isValueError: isValueError,
        isBoundToError: isBoundToError,
        hasAnyError: hasAnyError,
        resetCache: resetCache
    };


});


Requireify.register('js/akira/components/jawBone/progress.jsx', function(require, requireAsync, module, exports) {


    "use strict";
    var React = require("react"),
        I18N = require("../../../reactMixins/i18nWithDeps"),
        BUNDLE = "discovery/akira/Common";
    module.exports = React.createClass({
        displayName: "exports",
        mixins: [I18N],
        statics: {
            __meta__: {
                strings: [{
                    bundle: BUNDLE,
                    ids: ["progress.summary"]
                }]
            }
        },
        render: function() {
            var e, s = parseInt(this.props.bookmarkPosition / 60, 10),
                r = parseInt(this.props.runtime / 60, 10);
            return this.props.runtime ? (e = {
                width: parseInt(100 * this.props.bookmarkPosition / this.props.runtime, 10) + "%"
            }, React.createElement("div", {
                className: "progress"
            }, React.createElement("span", {
                className: "progress-bar"
            }, React.createElement("span", {
                role: "presentation",
                className: "progress-completed",
                style: e
            })), this.props.showSummary ? React.createElement("span", {
                className: "summary"
            }, this.getString(BUNDLE, "progress.summary", {
                BOOKMARK: s,
                RUNTIME: r
            })) : null)) : null
        }
    });


});


Requireify.register('js/reactMixins/video/watched.js', function(require, requireAsync, module, exports) {


    "use strict";
    var LolomoConstants = require("../../akira/components/lolomo/lolomoConstants.jsx"),
        getTitleData = function(t) {
            var e, n, o, r = t.getValueSync(["current", "title"]),
                s = t.getValueSync(["current", "summary"]),
                i = t.getValueSync(["seasonList", "current", "summary"]);
            return i && (e = i.name), s && (n = s.episode, o = s.season), {
                SEASON: e,
                SEASON_NUMBER: o,
                EPISODE_NUMBER: n,
                TITLE: r
            }
        };
    module.exports = {
        getPaths: function() {
            return [
                ["watched"],
                ["episodeCount"],
                ["seasonList", "current", "summary"]
            ].concat([
                ["current", ["title", "bookmarkPosition", "summary"]]
            ])
        },
        isNotAnEpisode: function() {
            var t = this.props.model.bind(["current"]),
                e = this.props.model.getValueSync(["summary"]),
                n = t.getValueSync(["summary"]),
                o = e && e.id,
                r = n && n.id;
            return o === r
        },
        getMovieEndPercent: function() {
            return .95
        },
        getEpisodeEnd: function() {
            return 20
        },
        isInResumeState: function() {
            var t = this.props.model.bind(["current"]),
                e = this.context.listContext === LolomoConstants.LIST_CONTEXTS.CONTINUE_WATCHING;
            if (!t.getBoundValue()) return !1;
            var n, o, r, s = t.getValueSync(["bookmarkPosition"]),
                i = t.getValueSync(["runtime"]);
            return s && i ? (n = s / i, o = s && s > 30, r = this.isNotAnEpisode() ? n < this.getMovieEndPercent() : i - s > this.getEpisodeEnd(), (o || e) && r) : !1
        },
        isInNextUpState: function() {
            var t = this.props.model.getValueSync(["current", "bookmarkPosition"]),
                e = this.props.model.getValueSync(["watched"]),
                n = this.props.model.getValueSync(["episodeCount"]);
            return n && e && 0 > t
        },
        hasBeenWatched: function() {
            return this.props.model.getValueSync(["watched"])
        },
        getResumeParams: function() {
            return getTitleData(this.props.model)
        }
    };


});


Requireify.register('js/utils/textUtils.js', function(require, requireAsync, module, exports) {


    "use strict";
    var _ = require("lodash");
    module.exports = {
        ellipsize: function(r, e) {
            if (!r || "string" != typeof r) return r;
            var t = r.length;
            return 0 >= t || e > t ? r : _.trunc(r, {
                length: e,
                separator: /\s/,
                omission: "…"
            })
        }
    };


});


Requireify.register('js/akira/components/jawBone/resume.jsx', function(require, requireAsync, module, exports) {


    "use strict";
    var React = require("react"),
        Progress = require("./progress.jsx"),
        I18N = require("../../../reactMixins/i18nWithDeps"),
        Watched = require("../../../reactMixins/video/watched"),
        TextUtils = require("../../../utils/textUtils"),
        _ = require("lodash"),
        BUNDLE = "discovery/akira/JawBone",
        JAPANESE = "ja",
        Resume = React.createClass({
            displayName: "Resume",
            mixins: [I18N, Watched],
            statics: {
                getPaths: function() {
                    var e = [
                        ["current", ["summary", "synopsis", "title", "runtime", "bookmarkPosition"]]
                    ].concat(Watched.getPaths());
                    return e
                },
                __meta__: {
                    strings: [{
                        bundle: BUNDLE,
                        ids: ["overview.resume", "overview.next.up", "watched.title.overview"]
                    }]
                }
            },
            render: function() {
                var e = this.props.model,
                    t = e.hardBind(["current"]),
                    r = t.getValueSync(["synopsis"]),
                    s = t.getValueSync(["bookmarkPosition"]),
                    i = t.getValueSync(["runtime"]),
                    a = this.getString(BUNDLE, this.props.resume ? "overview.resume" : "overview.next.up"),
                    n = this.getString(BUNDLE, "watched.title.overview", this.getResumeParams()),
                    o = 200,
                    c = _.get(this.getFeatureData("userContext"), "geo.preferredLocale.language", "en");
                return c === JAPANESE && (r = TextUtils.ellipsize(r, o)), React.createElement("div", {
                    className: "watched"
                }, React.createElement("div", {
                    className: "watchedTitle"
                }, a), this.props.isStandalone ? null : React.createElement("div", {
                    className: "episodeTitle",
                    dangerouslySetInnerHTML: {
                        __html: n
                    }
                }), this.props.resume ? React.createElement(Progress, {
                    runtime: i,
                    bookmarkPosition: s,
                    showSummary: !0,
                    current: !0
                }) : null, r ? React.createElement("div", {
                    className: "synopsis"
                }, r) : null)
            }
        });
    module.exports = Resume;


});


Requireify.register('js/akira/components/jawBone/overview/evidence.jsx', function(require, requireAsync, module, exports) {


    "use strict";
    var React = require("react"),
        Evidence = React.createClass({
            displayName: "Evidence",
            render: function() {
                var e = "hookIcon icon-" + this.props.kind;
                return React.createElement("li", {
                    className: this.props.type
                }, this.props.imgSrc ? React.createElement("img", {
                    src: this.props.imgSrc
                }) : React.createElement("span", {
                    className: e
                }), React.createElement("p", null, this.props.children))
            }
        });
    module.exports = Evidence;


});


Requireify.register('js/akira/components/timeoutTransitionGroup.jsx', function(require, requireAsync, module, exports) {


    "use strict";

    function animationSupported() {
        return 0 !== endEvents.length
    }
    var _extends = Object.assign || function(e) {
            for (var t = 1; t < arguments.length; t++) {
                var i = arguments[t];
                for (var n in i) Object.prototype.hasOwnProperty.call(i, n) && (e[n] = i[n])
            }
            return e
        },
        React = require("react"),
        inNode = require("../../utils/inNode"),
        ReactTransitionGroup = React.addons.TransitionGroup,
        TICK = 17,
        EVENT_NAME_MAP = {
            transitionend: {
                transition: "transitionend",
                WebkitTransition: "webkitTransitionEnd",
                MozTransition: "mozTransitionEnd",
                OTransition: "oTransitionEnd",
                msTransition: "MSTransitionEnd"
            },
            animationend: {
                animation: "animationend",
                WebkitAnimation: "webkitAnimationEnd",
                MozAnimation: "mozAnimationEnd",
                OAnimation: "oAnimationEnd",
                msAnimation: "MSAnimationEnd"
            }
        },
        endEvents = [];
    ! function() {
        if (!inNode) {
            var e = document.createElement("div"),
                t = e.style;
            "AnimationEvent" in window || delete EVENT_NAME_MAP.animationend.animation, "TransitionEvent" in window || delete EVENT_NAME_MAP.transitionend.transition;
            for (var i in EVENT_NAME_MAP)
                if (EVENT_NAME_MAP.hasOwnProperty(i)) {
                    var n = EVENT_NAME_MAP[i];
                    for (var s in n)
                        if (s in t) {
                            endEvents.push(n[s]);
                            break
                        }
                }
        }
    }();
    var TimeoutTransitionGroupChild = React.createClass({
            displayName: "TimeoutTransitionGroupChild",
            transition: function(e, t) {
                var i = React.findDOMNode(this),
                    n = this,
                    s = this.props.name + "-" + e,
                    o = s + "-active",
                    a = (this.props.leaveDelayMs || 0) + this.props.leaveTimeout,
                    r = (this.props.enterDelayMs || 0) + this.props.enterTimeout,
                    u = function() {
                        i.classList.remove(s), i.classList.remove(o), "enter" === e && n.props.afterTransitionEnter ? n.props.afterTransitionEnter(i) : "leave" === e && n.props.afterTransitionLeave && n.props.afterTransitionLeave(i), t && t()
                    };
                animationSupported() ? "enter" === e ? this.animationTimeout = setTimeout(u, r) : "leave" === e && (this.animationTimeout = setTimeout(u, a)) : u(), i.classList.add(s), "enter" === e && this.props.enterDelayMs ? this.transitionEnterTimeout = setTimeout(function() {
                    n.queueClass(o)
                }, this.props.enterDelayMs) : "leave" === e && this.props.leaveDelayMs ? this.transitionLeaveTimeout = setTimeout(function() {
                    n.queueClass(o)
                }, this.props.leaveDelayMs) : this.queueClass(o)
            },
            queueClass: function(e) {
                this.classNameQueue.push(e), this.timeout || (this.timeout = setTimeout(this.flushClassNameQueue, TICK))
            },
            flushClassNameQueue: function() {
                this.isMounted() && this.classNameQueue.forEach(function(e) {
                    React.findDOMNode(this).classList.add(e)
                }.bind(this)), this.classNameQueue.length = 0, this.timeout = null
            },
            componentWillMount: function() {
                this.classNameQueue = []
            },
            componentWillUnmount: function() {
                this.timeout && clearTimeout(this.timeout), this.animationTimeout && clearTimeout(this.animationTimeout), this.transitionEnterTimeout && clearTimeout(this.transitionEnterTimeout), this.transitionLeaveTimeout && clearTimeout(this.transitionLeaveTimeout)
            },
            componentWillEnter: function(e) {
                this.props.enter ? this.transition("enter", e) : e()
            },
            componentWillLeave: function(e) {
                this.props.leave ? this.transition("leave", e) : e()
            },
            render: function() {
                return React.Children.only(this.props.children)
            }
        }),
        TimeoutTransitionGroup = React.createClass({
            displayName: "TimeoutTransitionGroup",
            propTypes: {
                enterTimeout: React.PropTypes.number.isRequired,
                leaveTimeout: React.PropTypes.number.isRequired,
                enterDelayMs: React.PropTypes.number,
                leaveDelayMs: React.PropTypes.number,
                afterTransitionEnter: React.PropTypes.func,
                afterTransitionLeave: React.PropTypes.func,
                transitionName: React.PropTypes.string.isRequired,
                transitionEnter: React.PropTypes.bool,
                transitionLeave: React.PropTypes.bool
            },
            getDefaultProps: function() {
                return {
                    transitionEnter: !0,
                    transitionLeave: !0
                }
            },
            _wrapChild: function(e) {
                return React.createElement(TimeoutTransitionGroupChild, {
                    enterTimeout: this.props.enterTimeout,
                    leaveTimeout: this.props.leaveTimeout,
                    afterTransitionEnter: this.props.afterTransitionEnter,
                    afterTransitionLeave: this.props.afterTransitionLeave,
                    enterDelayMs: this.props.enterDelayMs,
                    leaveDelayMs: this.props.leaveDelayMs,
                    name: this.props.transitionName,
                    enter: this.props.transitionEnter,
                    leave: this.props.transitionLeave
                }, e)
            },
            render: function() {
                return React.createElement(ReactTransitionGroup, _extends({}, this.props, {
                    childFactory: this._wrapChild
                }))
            }
        });
    module.exports = TimeoutTransitionGroup;


});


Requireify.register('js/akira/components/modals/modalManager.jsx', function(require, requireAsync, module, exports) {


    "use strict";
    var React = require("react"),
        _ = require("lodash"),
        EventBus = require("../../../reactMixins/eventBus"),
        TimeoutTransitionGroup = require("../../components/timeoutTransitionGroup.jsx"),
        IsomorphicContext = require("../../../reactMixins/isomorphicContext"),
        EVENT_NAME_PREFIXES = {
            CLOSE: "modal:close:",
            OPEN: "modal:open:",
            UPDATE: "modal:update:"
        },
        modalManager = {
            node: null,
            modalFactory: null,
            currentModal: null,
            currentConfig: null,
            _init: function() {
                this.node || (this.node = document.createElement("div"), document.body.insertBefore(this.node, document.body.firstChild), this.modalFactory = React.createFactory(ModalElement))
            },
            open: function(e, n) {
                this._init();
                var t = this;
                return t.currentConfig ? !1 : (t.currentConfig = _.assign({
                    name: "unnamed",
                    disableDismiss: !1,
                    additionalClasses: [],
                    contentProps: {}
                }, n), React.withContext({
                    modalDismiss: t.closeOpenModal,
                    modalUpdate: t._update,
                    modalDisableDismiss: t.currentConfig.disableDismiss,
                    pathEvaluator: window && window.pathEvaluator
                }, function() {
                    t.currentModal = React.createElement(e, t.currentConfig.contentProps), React.render(t.modalFactory({}, t.currentModal), t.node)
                }), void EventBus.emit(EVENT_NAME_PREFIXES.OPEN + t.currentConfig.name, {
                    name: t.currentConfig.name
                }))
            }
        };
    modalManager._update = function(e) {
        EventBus.emit(EVENT_NAME_PREFIXES.UPDATE + modalManager.currentConfig.name, e)
    }, modalManager.closeOpenModal = function(e) {
        e = e || {}, modalManager.node && React.unmountComponentAtNode(modalManager.node);
        var n = modalManager.currentConfig && modalManager.currentConfig.name;
        modalManager.currentConfig = null, EventBus.emit(EVENT_NAME_PREFIXES.CLOSE + n, e)
    };
    var ModalElement = React.createClass({
        displayName: "ModalElement",
        mixins: [IsomorphicContext],
        contextTypes: {
            modalDismiss: React.PropTypes.func,
            modalUpdate: React.PropTypes.func,
            modalDisableDismiss: React.PropTypes.bool
        },
        getInitialState: function() {
            return {
                shown: !1
            }
        },
        componentDidMount: function() {
            this.setState({
                shown: !0
            })
        },
        onMarginClick: function() {
            this.context.modalDisableDismiss || this.context.modalDismiss({
                event: "marginDismiss",
                data: {}
            })
        },
        render: function() {
            var e = "nf-modal " + modalManager.currentConfig.additionalClasses.join(" "),
                n = _.get(this.getFeatureData("geo"), "preferredLocale.dir", "ltr");
            return React.createElement(TimeoutTransitionGroup, {
                className: e,
                component: "div",
                transitionName: "modal",
                enterTimeout: 450,
                leaveTimeout: 0
            }, this.state.shown ? React.createElement("div", {
                className: "nf-modal-background",
                ref: "modalBackground",
                onClick: this.onMarginClick,
                key: "modalBackground"
            }) : null, this.state.shown ? React.createElement("div", {
                className: "nf-modal-content",
                ref: "modalContent",
                key: "modalContent",
                dir: n
            }, modalManager.currentModal) : null)
        }
    });
    module.exports = modalManager;


});


Requireify.register('js/reactMixins/scrollLock.js', function(require, requireAsync, module, exports) {


    "use strict";
    var _ = require("lodash"),
        React = require("react"),
        BROWSER_FUDGE = -1,
        limitScroll = {
            _killScroll: function(l) {
                var t = this._scrollLockTarget,
                    e = t.scrollTop,
                    o = t.scrollHeight,
                    i = t.offsetHeight,
                    r = l.deltaY,
                    c = l.target;
                (!t.contains(c) || 0 >= e && 0 >= r || e >= o - i + BROWSER_FUDGE && r >= 0) && l.preventDefault()
            },
            scrollLock: function(l) {
                var t;
                _.isString(l) ? this.refs[l] && (t = React.findDOMNode(this.refs[l])) : t = React.findDOMNode(this), this._scrollLockTarget = t, document.body.addEventListener("wheel", this._killScroll)
            },
            scrollUnlock: function() {
                document.body.removeEventListener("wheel", this._killScroll)
            },
            componentWillUnmount: function() {
                this.scrollUnlock()
            }
        };
    module.exports = limitScroll;


});


Requireify.register('js/akira/components/modals/modalContent.jsx', function(require, requireAsync, module, exports) {


    "use strict";
    var React = require("react"),
        ScrollLock = require("../../../reactMixins/scrollLock"),
        ModalContent = React.createClass({
            displayName: "ModalContent",
            getDefaultProps: function() {
                return {
                    useScrollLock: !0
                }
            },
            contextTypes: {
                modalDismiss: React.PropTypes.func,
                modalUpdate: React.PropTypes.func,
                modalDisableDismiss: React.PropTypes.bool
            },
            mixins: [ScrollLock],
            _makeComponent: function(e, t) {
                if (this.props[e]) {
                    var s = "nf-modal-" + e;
                    return React.createElement("div", {
                        className: s,
                        ref: t || null
                    }, this.props[e])
                }
                return null
            },
            _cornerDismiss: function() {
                this.context.modalDismiss({
                    event: "cornerDismiss",
                    data: {}
                })
            },
            componentDidMount: function() {
                this.props.useScrollLock && !this.props.customBody && this.scrollLock("modal-body")
            },
            render: function() {
                return React.createElement("div", {
                    className: "nf-modal-content-wrapper"
                }, React.createElement("div", {
                    className: "nf-modal-dismiss"
                }, this.context.modalDisableDismiss ? null : React.createElement("button", {
                    className: "nf-modal-dismiss-btn",
                    onClick: this._cornerDismiss,
                    "aria-label": "close",
                    tabIndex: "1"
                }, React.createElement("span", {
                    className: "close-button icon-close"
                }))), this._makeComponent("header"), this.props.header ? React.createElement("hr", {
                    className: "nf-modal-hr"
                }) : null, this.props.customBody ? this.props.customBody : this._makeComponent("body", "modal-body"), React.createElement("hr", {
                    className: "nf-modal-hr"
                }), this._makeComponent("footer"))
            }
        });
    module.exports = ModalContent;


});


Requireify.register('js/common/svgIcon.jsx', function(require, requireAsync, module, exports) {


    "use strict";
    var _extends = Object.assign || function(e) {
            for (var s = 1; s < arguments.length; s++) {
                var r = arguments[s];
                for (var t in r) Object.prototype.hasOwnProperty.call(r, t) && (e[t] = r[t])
            }
            return e
        },
        React = require("react"),
        _ = require("lodash"),
        classNames = require("classnames"),
        VALID_ICON_NAMES = ["chevron-down", "add", "check", "episodes", "play", "thumb-up", "thumb-down", "edit", "grips", "moveToTop", "close"],
        SVGIcon = React.createClass({
            displayName: "SVGIcon",
            getDefaultProps: function() {
                return {
                    classes: {},
                    attributes: {}
                }
            },
            render: function() {
                var e = _.assign({
                        "svg-icon": !0
                    }, this.props.classes),
                    s = "";
                return this.props.filter && (s = ' filter="url(' + this.props.filter + ')" '), VALID_ICON_NAMES.indexOf(this.props.name) > -1 ? (e["svg-icon-" + this.props.name] = !0, React.createElement("svg", _extends({}, this.props.attributes, {
                    className: classNames(e),
                    dangerouslySetInnerHTML: {
                        __html: "<use " + s + ' xlink:href="#' + this.props.name + '" />'
                    }
                }))) : null
            }
        });
    module.exports = SVGIcon;


});


Requireify.register('js/reactMixins/ab/ratingsRedesignTest.js', function(require, requireAsync, module, exports) {


    "use strict";
    var TEST_ID = 6596,
        ratingsRedesignHelpers = {
            showNew: function() {
                return this.ab().attr(TEST_ID, "showNew")
            },
            hasThumbInput: function() {
                return this.ab().attr(TEST_ID, "thumbInput")
            },
            hasMatchScore: function() {
                return this.ab().attr(TEST_ID, "matchScore")
            },
            hasOnRampThumbsUpDown: function() {
                return this.ab().attr(TEST_ID, "onRampThumbsUpDown")
            },
            hasProfileAnimation: function() {
                return this.ab().attr(TEST_ID, "profileAnimation")
            },
            inRatingTest: function() {
                return this.ab()["in"](TEST_ID)
            },
            inRatingTestControl: function() {
                return this.ab().attr(TEST_ID, "control")
            }
        };
    module.exports = ratingsRedesignHelpers;


});


Requireify.register('js/reactMixins/ab.js', function(require, requireAsync, module, exports) {


    "use strict";
    var ardbeg = require("nf-ardbeg"),
        contextData = require("../utils/contextData"),
        inNode = require("../utils/inNode"),
        cachedAB;
    module.exports = {
        ab: function() {
            return inNode ? this.requestContext().ab : (cachedAB || (cachedAB = ardbeg.evaluate(contextData.getData("ab", "serializedAB") || {})), cachedAB)
        }
    };


});


Requireify.register('js/reactMixins/abWithDeps.js', function(require, requireAsync, module, exports) {


    "use strict";
    var NodeContext = require("./nodecontext"),
        ab = require("./ab");
    module.exports = {
        mixins: [NodeContext, ab]
    };


});


Requireify.register('js/reactMixins/ab/ratingsRedesignTestWithDeps.js', function(require, requireAsync, module, exports) {


    "use strict";
    var RatingsRedesign = require("./ratingsRedesignTest"),
        AB = require("../abWithDeps");
    module.exports = {
        mixins: [RatingsRedesign, AB]
    };


});


Requireify.register('js/utils/ab/kidsQoe.js', function(require, requireAsync, module, exports) {


    "use strict";
    var AB = require("./ab"),
        nfProps = require("nf-iso-properties"),
        TEST_ID = 6734,
        kidsQoeHelpers = {
            doRedirectTitle: function(e, r) {
                if (nfProps.get("oui.iko.kidsPlayerQoe.disabled")) return !1;
                var i = AB.resolveABValue(e, TEST_ID, "redirectTitles", "none");
                if ("whiteList" === i) {
                    var o = nfProps.get("oui.iko.kidsPlayerQoe.videoIds") || "";
                    return o.indexOf(r) >= 0
                }
                return !1
            }
        };
    module.exports = kidsQoeHelpers;


});


Requireify.register('js/akira/components/modals/payment.jsx', function(require, requireAsync, module, exports) {


    "use strict";
    var React = require("react"),
        ModalContent = require("./modalContent.jsx"),
        i18n = require("../../../reactMixins/i18nWithDeps"),
        BUNDLE = "discovery/akira/Messaging:payment",
        PaymentHoldModal = React.createClass({
            displayName: "PaymentHoldModal",
            mixins: [i18n],
            statics: {
                __meta__: {
                    strings: [{
                        bundle: BUNDLE,
                        ids: ["headline", "body", "action", "tease"]
                    }]
                }
            },
            contextTypes: {
                modalDismiss: React.PropTypes.func,
                modalUpdate: React.PropTypes.func,
                videoId: React.PropTypes.number
            },
            handleButtonClick: function() {
                document.location = "/YourAccountPayment"
            },
            buildModal: function() {
                var e = this.getStrings(BUNDLE),
                    t = this;
                return {
                    header: React.createElement("h2", {
                        className: "nf-modal-heading"
                    }, e.get("headline")),
                    body: React.createElement("div", null, React.createElement("p", {
                        className: "payment-hold-body"
                    }, e.get("body")), React.createElement("div", {
                        className: "nf-modal-button-bar"
                    }, React.createElement("button", {
                        className: "akira-button akira-button-red",
                        onClick: t.handleButtonClick
                    }, e.get("action")))),
                    footer: React.createElement("div", {
                        className: "payment-hold-footer"
                    }, React.createElement("img", {
                        src: "https://secure.netflix.com/ffe/siteui/akira/payments/awesome-titles.png",
                        alt: ""
                    }), React.createElement("p", {
                        className: "payment-hold-tease"
                    }, e.get("tease")))
                }
            },
            render: function() {
                return React.createElement(ModalContent, this.buildModal())
            }
        });
    module.exports = PaymentHoldModal;


});


Requireify.register('js/akira/components/messaging/paymentHold.js', function(require, requireAsync, module, exports) {


    "use strict";

    function preventPlay(e) {
        return !!_.get(e, "uma.presentationAttributes.PREVENT_PLAY", !1)
    }

    function modalClosedHandler() {
        showOptionally = !1
    }
    var _ = require("lodash"),
        EventBus = require("../../../reactMixins/eventBus"),
        ModalManager = require("../modals/modalManager.jsx"),
        PaymentHoldModal = require("../modals/payment.jsx"),
        inNode = require("../../../utils/inNode"),
        openedOnce = !1,
        showOptionally = !0,
        PaymentHold = {
            preventPlay: preventPlay,
            potentiallyOpen: function(e, a) {
                inNode || preventPlay(e.umaData) && (showOptionally || a) && (openedOnce || EventBus.once("modal:close:paymentHoldModal", modalClosedHandler), ModalManager.open(PaymentHoldModal, {
                    name: "paymentHoldModal",
                    additionalClasses: ["payment-hold-modal"]
                }), openedOnce = !0)
            }
        };
    module.exports = PaymentHold;


});


Requireify.register('js/reactMixins/appstate.js', function(require, requireAsync, module, exports) {


    "use strict";
    var React = require("react"),
        inNode = require("../utils/inNode"),
        root = inNode ? {} : window;
    module.exports = {
        contextTypes: {
            jsongDocument: React.PropTypes.object
        },
        getJSongDoc: function() {
            return this.context && this.context.jsongDocument ? this.context.jsongDocument : root.pathEvaluator
        },
        getAppStateModel: function(t) {
            return this.getJSongDoc().bind(["appstate"].concat(t))
        }
    };


});


Requireify.register("nf-playprediction", function(t, e, i, r) {
    ! function(t) {
        if ("object" == typeof r && "undefined" != typeof i) i.exports = t();
        else if ("function" == typeof define && define.amd) define([], t);
        else {
            var e;
            e = "undefined" != typeof window ? window : "undefined" != typeof global ? global : "undefined" != typeof self ? self : this, e.nfPlayprediction = t()
        }
    }(function() {
        return function e(i, r, o) {
            function n(l, a) {
                if (!r[l]) {
                    if (!i[l]) {
                        var h = "function" == typeof t && t;
                        if (!a && h) return h(l, !0);
                        if (s) return s(l, !0);
                        var c = new Error("Cannot find module '" + l + "'");
                        throw c.code = "MODULE_NOT_FOUND", c
                    }
                    var u = r[l] = {
                        exports: {}
                    };
                    i[l][0].call(u.exports, function(t) {
                        var e = i[l][1][t];
                        return n(e ? e : t)
                    }, u, u.exports, e, i, r, o)
                }
                return r[l].exports
            }
            for (var s = "function" == typeof t && t, l = 0; l < o.length; l++) n(o[l]);
            return n
        }({
            1: [function(t, e, i) {
                (function(t) {
                    "gibbon" === t.env.PLATFORM || "undefined" != typeof nrdp ? e.exports = nrdp.mono : e.exports = Date.now
                }).call(this, t("_process"))
            }, {
                _process: 5
            }],
            2: [function(t, e, i) {
                var r = {
                    CACHE_TYPE: {
                        TRANSIENT: 0,
                        SEMI_TRANSIENT: 1,
                        PERMANENT: 2,
                        name: ["transient", "semiTransient", "permanent"]
                    }
                };
                e.exports = r
            }, {}],
            3: [function(t, e, i) {
                var r = t("./clock.js"),
                    o = t("./enums.js"),
                    n = t("./util").insertArrayAt,
                    s = t("./util").getDeltaBetweenTwoLists,
                    l = t("./util").detectScrollHorizontalRow,
                    a = t("./util").getContinueWatchingTitles,
                    h = t("./util").getContentList,
                    c = function(t, e) {
                        this._modelParameter = t || new d, this._prevLolomo = void 0, this._currContent = void 0, this._outputList = [], this._logger = e || console
                    };
                c.prototype.constructor = c, c.prototype.update = function(t) {
                    if (this._event = t.event, this._userExp = t.content.ux, this._currContent = t.content, t.content.grid) this._titlePrs = "grid";
                    else if (t.content.lolomos) this._titlePrs = "lolomos";
                    else {
                        if (!t.content.item) throw new Error("A payload of grid, lolomos, or item is required in the content.");
                        this._titlePrs = "item"
                    }
                    var e, i, c = this._outputList,
                        f = [],
                        d = [];
                    if ("grid" == this._titlePrs) e = this._currContent.grid, "FirstLoad" == this._event ? (e = e.slice(0, Math.min(e.length, this._modelParameter.gridFirst)), f = this.createArrayMovieClass(e, o.CACHE_TYPE.PERMANENT)) : "ScrollVertical" == this._event ? (e = e.slice(0, Math.min(e.length, this._modelParameter.gridScroll)), f = this.createArrayMovieClass(e, o.CACHE_TYPE.TRANSIENT)) : "search" == this._userExp ? (e = e.slice(0, Math.min(this._modelParameter.searchTop, e.length)), f = this.createArrayMovieClass(e, o.CACHE_TYPE.SEMI_TRANSIENT)) : "genre" === this._userExp && (e = e.slice(0, Math.min(this._modelParameter.genre, e.length)), f = this.createArrayMovieClass(e, o.CACHE_TYPE.TRANSIENT));
                    else if ("lolomos" == this._titlePrs) {
                        i = this._currContent.lolomos;
                        var p, m = a(i);
                        m = m && m.slice(0, Math.min(this._modelParameter.cwFirst, m.length)), d = this.createArrayMovieClass(m, o.CACHE_TYPE.PERMANENT), m = [];
                        if ("FirstLoad" == this._event) m = this.obtainItemsFromTopLeft(i, this._modelParameter.rowFirst, this._modelParameter.colFirst), f = this.createArrayMovieClass(m, o.CACHE_TYPE.PERMANENT);
                        else if ("ScrollHorizontal" == this._event) {
                            m = this.obtainItemsFromTopLeft(i, this._modelParameter.rowScroll, this._modelParameter.colScroll);
                            var _ = l(this._currContent.lolomos, this._prevLolomo.lolomos);
                            p = h(i[_]), p = p.slice(0, Math.min(p.length, this._modelParameter.rowScrollHorizontal)), n(m, m.length, p), f = this.createArrayMovieClass(m, o.CACHE_TYPE.TRANSIENT)
                        } else "ScrollVertical" == this._event || "ViewPortChanged" == this._event ? (m = this.obtainItemsFromTopLeft(i, this._modelParameter.rowScroll, this._modelParameter.colScroll), f = this.createArrayMovieClass(m, o.CACHE_TYPE.TRANSIENT)) : (m = this.obtainItemsFromTopLeft(i, 1, this._modelParameter.colEpisodeList), f = this.createArrayMovieClass(m, o.CACHE_TYPE.TRANSIENT))
                    } else if ("item" == this._titlePrs) {
                        var T;
                        T = "FirstLoad" == this._event ? o.CACHE_TYPE.PERMANENT : o.CACHE_TYPE.SEMI_TRANSIENT, f = new u(this._currContent.item.id, o.CACHE_TYPE.SEMI_TRANSIENT, this._currContent.item.offsetStart, r(), this._currContent.item.preplay)
                    }
                    n(f, f.length, d), void 0 !== typeof this._outputList[0] && null !== this._outputList[0] && (this._outputList = this._outputList.filter(this.shouldHold, this)), n(this._outputList, 0, f), this._outputList = this.unique(this._outputList);
                    var v = this.trim(this._outputList, this._modelParameter.itemsPerRank || 1);
                    "lolomos" === this._titlePrs && (this._prevLolomo = this._currContent);
                    var E = s(c, this._outputList);
                    return v.push({
                        delta: E.length
                    }), v
                }, c.prototype.shouldHold = function(t) {
                    return t.cacheType == o.CACHE_TYPE.PERMANENT | t.cacheType == o.CACHE_TYPE.SEMI_TRANSIENT & r() - t.timeAdded < this._modelParameter.holdDuration
                }, c.prototype.unique = function(t) {
                    var e, i, r, o = [],
                        n = {},
                        s = t.length;
                    for (r = 0; s > r; r++)
                        if (e = t[r].movieId, i = t[r], e in n == !1) n[e] = r, i.keep = !0;
                        else {
                            var l = t[n[e]];
                            i.cacheType > l.cacheType ? (l.keep = !1, i.keep = !0, l.firstTimeAdded < i.firstTimeAdded && (i.firstTimeAdded = l.firstTimeAdded), n[e] = r) : i.cacheType === l.cacheType ? (l.firstTimeAdded > i.firstTimeAdded && (l.firstTimeAdded = i.firstTimeAdded), i.keep = !1) : i.keep = !1
                        }
                    for (r = 0; s > r; r++) t[r].keep === !0 && o.push(t[r]);
                    return o
                }, c.prototype.trim = function(t, e) {
                    for (var i = t.length, r = [], o = 0; i > o; o++) priority = Math.floor(o / e) + 1, r.push(new f(t[o].movieId, priority, t[o].offsetStart, t[o].firstTimeAdded, t[o].preplay));
                    return r
                }, c.prototype.createArrayMovieClass = function(t, e) {
                    for (var i, o = [], n = 0, s = t.length; s > n; n++) {
                        var l = t[n].id,
                            a = t[n].offsetStart,
                            h = t[n].preplay;
                        i = new u(l, e, a, r(), h), o.splice(n, 0, i)
                    }
                    return o
                }, c.prototype.obtainItemsFromTopLeft = function(t, e, i) {
                    for (var r, o, s = [], l = 0; l < Math.min(e, t.length); l++) r = h(t[l]), o = r.slice(0, Math.min(r.length, i)), n(s, s.length, o);
                    return s
                };
                var u = function(t, e, i, r, n) {
                        this.movieId = t, this.cacheType = e, this.cacheTypeName = o.CACHE_TYPE.name[e], this.offsetStart = i, this.timeAdded = r, this.firstTimeAdded = r, this.preplay = n
                    },
                    f = function(t, e, i, r, o) {
                        this.viewableId = t, this.priority = e, this.pts = i, this.firstTimeAdded = r, this.preplay = o
                    },
                    d = function() {
                        this.colEpisodeList = 5, this.gridFirst = 3, this.gridScroll = 2, this.holdDuration = 15e4, this.rowFirst = 2, this.colFirst = 2, this.rowScroll = 2, this.colScroll = 6, this.rowScrollHorizontal = 6, this.searchTop = 3, this.genre = 6, this.cwFirst = 2, this.itemsPerRank = 1
                    };
                e.exports = c
            }, {
                "./clock.js": 1,
                "./enums.js": 2,
                "./util": 4
            }],
            4: [function(t, e, i) {
                function r(t, e) {
                    var i = t.filter(function(t) {
                        return 0 === e.filter(function(e) {
                            return e.id == t.id
                        }).length
                    });
                    return i
                }

                function o(t, e, i) {
                    Array.prototype.splice.apply(t, [e, 0].concat(i))
                }

                function n(t) {
                    for (var e = [], i = 0, r = t.lolomos.length; r > i; i++) e.push(t.lolomos[i].listContext);
                    return e
                }

                function s(t) {
                    return t ? t.list || t.lolomos : []
                }

                function l(t, e) {
                    for (var i = 0, r = "", o = !1, n = 0, l = t.length; l > n; n++)
                        if (void 0 === t[n].parent) {
                            r = h(s(t[n])), o = !1;
                            for (var a = 0, c = e.length; c > a; a++)
                                if (h(s(e[a])) === r) {
                                    o = !0;
                                    break
                                }
                            if (o === !1) {
                                i = n;
                                break
                            }
                        }
                    return i
                }

                function a(t) {
                    var e = t.filter(function(t) {
                        return "continueWatching" === t.listContext
                    });
                    return s(e[0])
                }
                var h = function(t) {
                        for (var e = "", i = 0; i < t.length; i++) e += t[i].id + "|";
                        return e
                    },
                    c = function(t, e) {
                        var i = t.filter(function(t) {
                            return 0 === e.filter(function(e) {
                                return e.movieId == t.movieId
                            }).length
                        });
                        return i
                    };
                e.exports = {
                    getDiff: r,
                    getDeltaBetweenTwoLists: c,
                    insertArrayAt: o,
                    getRowNames: n,
                    getContinueWatchingTitles: a,
                    getContentList: s,
                    detectScrollHorizontalRow: l
                }
            }, {}],
            5: [function(t, e, i) {
                function r() {
                    c = !1, l.length ? h = l.concat(h) : u = -1, h.length && o()
                }

                function o() {
                    if (!c) {
                        var t = setTimeout(r);
                        c = !0;
                        for (var e = h.length; e;) {
                            for (l = h, h = []; ++u < e;) l && l[u].run();
                            u = -1, e = h.length
                        }
                        l = null, c = !1, clearTimeout(t)
                    }
                }

                function n(t, e) {
                    this.fun = t, this.array = e
                }

                function s() {}
                var l, a = e.exports = {},
                    h = [],
                    c = !1,
                    u = -1;
                a.nextTick = function(t) {
                    var e = new Array(arguments.length - 1);
                    if (arguments.length > 1)
                        for (var i = 1; i < arguments.length; i++) e[i - 1] = arguments[i];
                    h.push(new n(t, e)), 1 !== h.length || c || setTimeout(o, 0)
                }, n.prototype.run = function() {
                    this.fun.apply(null, this.array)
                }, a.title = "browser", a.browser = !0, a.env = {}, a.argv = [], a.version = "", a.versions = {}, a.on = s, a.addListener = s, a.once = s, a.off = s, a.removeListener = s, a.removeAllListeners = s, a.emit = s, a.binding = function(t) {
                    throw new Error("process.binding is not supported")
                }, a.cwd = function() {
                    return "/"
                }, a.chdir = function(t) {
                    throw new Error("process.chdir is not supported")
                }, a.umask = function() {
                    return 0
                }
            }, {}]
        }, {}, [3])(3)
    })
});

Requireify.register('js/reactMixins/player/initParams.js', function(require, requireAsync, module, exports) {


    "use strict";
    var URLs = require("../../utils/urls"),
        context = require("../../utils/contextData"),
        PathEvaluatorUtils = require("../../utils/pathEvaluatorUtils"),
        Rx = require("../../common/nfRx"),
        Router = require("react-router"),
        _ = require("lodash"),
        INVALID_VALUE_NO_INCOMING_CONTEXT = -97;
    module.exports = {
        pathEvaluator: null,
        isKidsProfile: function() {
            var e = this.pathEvaluator.getValueSync(["profilesList", "current", "summary"]);
            return e ? e.isKids : !1
        },
        getPreplayConfig: function(e) {
            var t = this.pathEvaluator.getValueSync(["videos", e, "current", "preplay"]) || [],
                r = {};
            return t && t.forEach(function(e) {
                if ("recapPrePlay" === e.type) {
                    var t = {};
                    t.movieId = e.trailerVideoId, t.backgroundImage = e.backgroundImg, t.logoImage = e.logoImg, t.seasonNumber = e.seasonNumber - 1, r.recap = t, r.preplay = {
                        trackId: e.trackId,
                        movieTitle: e.title
                    }
                }
            }), r
        },
        getBackToBrowseUrl: function(e) {
            return this.isKidsProfile() ? URLs.page.merchweb.kidsHome : e ? URLs.getTitleUrl(e) : URLs.paths.app
        },
        isReferrerNetflix: function(e) {
            var t = !1;
            return Router.History.length > 1 ? t = !0 : e.requestFromNetflix && (t = !0), t
        },
        getInitParams: function() {
            this.pathEvaluator = this.props.model.pathEvaluator;
            var e = this,
                t = this.getPlayerConfig(),
                r = {},
                a = this.getPlayable().take(1);
            return a.map(function(a) {
                a = a || {};
                var i, n, o = a.id,
                    s = parseInt(e.getParams().characterId);
                return "movie" === a.type ? r.movieId = o : "episode" === a.type ? r.episodeId = o : r.videoId = o || 0, r.backToBrowsingUrl = e.getBackToBrowseUrl(o), r.trackingId = parseInt(e.getQuery().trackId || e.getQuery().trkid, 10) || 0, r.playcontext = e.getUIPlayContext(), r.signoutUrl = URLs.page.signOut, r.referrerIsNetflix = e.isReferrerNetflix(t), r.bookmarkByMovieId = e.getPTSForPlayable(a), r.assistiveAudioPreferred = "true" === e.getQuery().ad, "undefined" != typeof window && window.netflix.clientNotifications && (r.appId = r.nccpAppId = window.netflix.clientNotifications.getCurrentSession("appSession").sessionId, r.sessionId = r.nccpSessionId = window.netflix.clientNotifications.getCurrentSession("userSession").sessionId), _.merge(r, t), isNaN(s) || (i = e.getCharacterModel(s), i.invalidate(["current"])), n = e.getPreplayConfig(a.id), n && (r.recap = n.recap, r.preplay = n.preplay), r
            })
        },
        getPlayerConfig: function() {
            var e = context.getData("player", "config") || {};
            return _.merge(_.clone(e.ui || {}, !0), _.clone(e.core || {}, !0)).initParams
        },
        getUIPlayContext: function() {
            var e, t = {
                    location: "WATCHNOW"
                },
                r = this.getQuery().tctx;
            return this.getQuery().tctx && r.split(",").length >= 3 ? (e = r.split(","), t.row = e[0], t.rank = e[1], t.request_id = e[2]) : (t.row = INVALID_VALUE_NO_INCOMING_CONTEXT, t.rank = INVALID_VALUE_NO_INCOMING_CONTEXT, t.request_id = document.referrer), t
        },
        getPTSForPlayable: function(e) {
            if (!e || !e.id) return 0;
            var t = this.pathEvaluator.bind(["videos", e.id]),
                r = parseInt(t.getValueSync(["bookmarkPosition"]), 10);
            r = 0 > r ? 0 : r;
            var a = parseInt(t.getValueSync(["creditsOffset"]), 10),
                i = r >= a ? 0 : r,
                n = {};
            return n[e.id] = 1e3 * i, n
        },
        getPlayable: function() {
            var e, t, r = parseInt(this.getParams().id),
                a = parseInt(this.getParams().characterId),
                i = parseInt(this.getQuery().episodeId, 10);
            return i ? Rx.Observable["return"]({
                id: i,
                type: "episode"
            }) : isNaN(r) ? isNaN(a) ? Rx.Observable.empty() : (t = this.getCharacterModel(a), PathEvaluatorUtils.toObservable(t.get(["current", ["summary", "bookmarkPosition", "creditsOffset"]]))["catch"](function() {
                var e = t.getValueSync(["current", "summary"]);
                return e ? Rx.Observable["return"](e) : Rx.Observable["throw"](new Error("Invalid or no character viewable data."))
            }).map(function() {
                return t.getValueSync(["current", "summary"])
            })) : (e = this.getVideoModel(r), PathEvaluatorUtils.toObservable(e.get(["current", ["summary", "bookmarkPosition", "creditsOffset", "preplay"]]))["catch"](function() {
                var t = e.getValueSync(["current", "summary"]);
                return t ? Rx.Observable["return"](t) : Rx.Observable["throw"](new Error("Invalid or no viewable data."))
            }).map(function() {
                return e.getValueSync(["current", "summary"])
            }))
        },
        getVideoModel: function(e) {
            return this.pathEvaluator.bind(["videos", e])
        },
        getCharacterModel: function(e) {
            return this.pathEvaluator.bind(["characters", e])
        }
    };


});


Requireify.register('js/utils/player/playerAssets.js', function(require, requireAsync, module, exports) {


    "use strict";
    var Rx = require("../../common/nfRx"),
        contextData = require("../../utils/contextData"),
        nfProps = require("nf-iso-properties"),
        netflix = require("../../common/nfNamespace"),
        _ = require("lodash"),
        ASSET_LOAD_SLA = nfProps.get("wwwplayer.asset.timeout"),
        coreJsLoadObs, assetListObs, makeLoadObservable = function(e, t) {
            return Rx.Observable.fromEvent(e, "load").merge(Rx.Observable.fromEvent(e, "error").map(function() {
                return Rx.Observable.throwError(new Error(t))
            })).timeout(ASSET_LOAD_SLA).shareReplay()
        },
        PlayerAssets = {
            getCorePlayerJS: function() {
                if (coreJsLoadObs) return coreJsLoadObs;
                var e = document.getElementById("player-core-js");
                return coreJsLoadObs = window.netflix.player ? Rx.Observable["return"](!0) : makeLoadObservable(e, "Loading async Core JS Resource failed. asset: " + e.src)
            },
            getPlayerAssets: function() {
                if (assetListObs) return assetListObs;
                var e, t = this.getAssetUrls(),
                    s = contextData.getData("player", "config");
                return s.ui = s.ui || {}, t.core || s.ui.isFallback ? (e = [this.getCorePlayerJS()], assetListObs = Rx.Observable.zip(e, _.noop).shareReplay()) : Rx.Observable["throw"](new Error("No assets defined!"))
            },
            getAssetUrls: function(e) {
                var t = {};
                return e = e || contextData.getData("player", "config") || {}, e.ui = e.ui || {}, e.core = e.core || {}, _.forEach(e.ui.assets || {}, function(e, s) {
                    e && (t[s] = e)
                }), _.forEach(e.core.assets || {}, function(e, s) {
                    e && (t[s] = e)
                }), t
            },
            initializeMDXURL: function() {
                var e, t = this.getAssetUrls();
                e = t.mdx ? t.mdx : nfProps.get("wwwplayer.mdx"), netflix.constants = netflix.constants || {}, netflix.constants.page = netflix.constants.page || {}, netflix.constants.page.merchMdxJs = e
            },
            initializeLegacyNamespace: function() {
                netflix.constants = netflix.constants || {}, netflix.constants.global = netflix.constants.global || contextData.getFeatureData("serverDefs"), netflix.constants.page = netflix.constants.page || {}, netflix.constants.page.UITRACKING_SEND_RATE_MS = 8e3, netflix.constants.page.UITRACKING_SEND_RATE_MAX_DECAY_MULTIPLIER = 5, netflix.constants.page.xsrf = contextData.getFeatureData("userInfo").authURL
            }
        };
    module.exports = PlayerAssets;


});


Requireify.register('js/nanoPlayer/nanoPlayerConstants.js', function(require, requireAsync, module, exports) {


    "use strict";
    module.exports = {
        PROFILE_INACTIVITY_EVENT: "profileInactivityTimeout",
        CAN_FULFILL_EVENT: "canFulfillUIIntent:called",
        PREPARE_EVENT: "prepare:called"
    };


});


Requireify.register('js/utils/player/videoSession.js', function(require, requireAsync, module, exports) {


    "use strict";

    function prepare(e) {
        return getVideoSession(InitParams.getPlayerConfig()).doAction(function() {
            _.has(videoSession, "prepare") && videoSession.prepare(e)
        })
    }

    function getVideoSession(e) {
        return videoSession ? (e && videoSession.applyConfig(e), Rx.Observable["return"](videoSession)) : playerAssets.getCorePlayerJS().flatMap(function(n) {
            return videoSession = window.netflix.cadmium.objects.createVideoSession(e), onVideoSessionReady()
        })
    }

    function onVideoSessionReady() {
        return videoSession ? Rx.Observable.create(function(e) {
            try {
                videoSession.init(function() {
                    e.onNext(videoSession), e.onCompleted()
                })
            } catch (n) {
                e.onError(n)
            }
            return _.noop
        }) : Rx.Observable["throw"]("VideoSession instance does not exist.")
    }

    function precacheTrailerIfNeeded(e) {
        var n = ardbeg.evaluate(contextData.getData("ab", "serializedAB"));
        if (n.attr("r6", "preCacheEnabled") && contextData.getData("browserInfo", "isChrome")) {
            var r = e.getValueSync(["profilesList", "current", "precacheConfig"]);
            r && r.length && prepare(r).doAction(function() {
                if (_.isArray(r)) {
                    var e = "trailer";
                    r.forEach(function(n) {
                        EventBus.emit(NanoPlayerConsts.PREPARE_EVENT, n), videoSession.canFulfillUIIntent(n.movieId, n.uiLabel || e, function(r) {
                            EventBus.emit(NanoPlayerConsts.CAN_FULFILL_EVENT, {
                                canFulfill: r,
                                uiLabel: n.uiLabel || e,
                                videoId: n.movieId,
                                trackId: -1
                            })
                        })
                    })
                }
            }).subscribe(_.noop, function(e) {}, _.noop)
        }
    }
    var _ = require("lodash"),
        Rx = require("../../common/nfRx"),
        InitParams = require("../../reactMixins/player/initParams"),
        EventBus = require("../../reactMixins/eventBus"),
        ardbeg = require("nf-ardbeg"),
        contextData = require("../contextData"),
        playerAssets = require("./playerAssets"),
        NanoPlayerConsts = require("../../nanoPlayer/nanoPlayerConstants"),
        videoSession;
    module.exports = {
        prepare: prepare,
        get: getVideoSession,
        precacheTrailerIfNeeded: precacheTrailerIfNeeded
    };


});


Requireify.register('js/common/playPrediction/playPredictionConstants.js', function(require, requireAsync, module, exports) {


    "use strict";
    module.exports = {
        PPM_FIRST_LOAD: "FirstLoad",
        PPM_VIEWPORT_CHANGED: "ViewPortChanged",
        PPM_SCROLL_VERTICAL: "ScrollVertical",
        PPM_SCROLL_HORIZONTAL: "ScrollHorizontal",
        PPM_JAWBONE_OPENED: "JawboneOpened",
        PPM_PLAY_FOCUS: "PlayFocus",
        PPM_UNCHANGED: "Unchanged",
        UI_INIT: "init",
        UI_FULLSCAN: "pt:fullscan",
        UI_JAWBONE_OPENED: "jawbone:open",
        UI_PLAY_FOCUS: "play:focus",
        UI_SCROLL_VERTICAL: "scroll",
        UI_SCROLL_HORIZONTAL: "horizontal",
        UI_SCROLL_NONE: "none",
        UI_SCROLL_UNKNOWN: "unknown",
        UX_DISCOVERY: "discovery",
        UX_SEARCH: "search",
        UX_GENRE: "genre",
        UX_WATCH: "watch",
        UX_UNKNOWN: "unknown",
        UX_JAWBONE: "jawbone",
        PREPARE: "playprediction:prepare",
        FAST_PROP_SCAN_DEBOUNCE: "web.ui.play.prediction.scan.debounce",
        FAST_PROP_PPM_CONFIG_PREFIX: "web.ui.play.prediction.config.test.cell."
    };


});


Requireify.register('js/player/silverlight/client/SilverlightVersion.js', function(require, requireAsync, module, exports) {


    "use strict";
    var _isActiveX = !1,
        _getControl = function() {
            var t = null;
            try {
                t = new ActiveXObject("AgControl.AgControl")
            } catch (n) {
                t = null
            }
            if (null !== t) _isActiveX = !0;
            else try {
                t = navigator.plugins["Silverlight Plug-In"]
            } catch (n) {
                t = null
            }
            return t
        },
        SilverlightVersion = {
            VERSION_UNKNOWN: "Unknown",
            isInstalled: function() {
                return this.isVersionSupported()
            },
            isVersionSupported: function(t, n) {
                if (n || (n = _getControl()), !n) return !1;
                if (!t) return !0;
                if (_isActiveX) return n.IsVersionSupported(t);
                var r = n.description;
                "1.0.30226.2" === r && (r = "2.0.30226.2");
                var e, i, l = r.split("."),
                    o = t.split("."),
                    s = l.length,
                    u = o.length,
                    c = 0;
                do e = s > c ? parseInt(l[c]) : null, i = parseInt(o[c]), c++; while (u > c && e === i);
                return e >= i && !isNaN(i)
            },
            getVersion: function() {
                var t = _getControl();
                return t ? "2.0.30226.2" : null
            }
        };
    module.exports = SilverlightVersion;


});


Requireify.register('js/utils/player/playerFeatureDetection.js', function(require, requireAsync, module, exports) {


    "use strict";

    function determineFirefoxEMESupport() {
        return Rx.Observable.create(function(e) {
            function t(t) {
                e.onNext(t), e.onCompleted()
            }
            return "function" == typeof window.navigator.requestMediaKeySystemAccess ? window.navigator.requestMediaKeySystemAccess(FF_MEDIA_KEY_SYSTEM, FF_MEDIA_KEY_SYSTEM_PARAMS).then(function() {
                t(!0)
            })["catch"](function() {
                t(!1)
            }) : t(!1), _.noop
        }).timeout(FIREFOX_EME_SLA, Rx.Observable["return"](!1))
    }

    function isWebKitMediaKeysTypeSupported(e) {
        return !(!window.WebKitMediaKeys || !window.WebKitMediaKeys.isTypeSupported(e))
    }

    function isMediaSourceTypeSupported(e) {
        return !(!window.MediaSource || !window.MediaSource.isTypeSupported(e))
    }

    function canPlayHTML5() {
        return isHTML5Capable.determined || isHTML5Capable.capable
    }

    function hasRequiredComponentsForPlayback() {
        var e = context.getData("player", "playbackSupport") || {},
            t = context.getFeatureData("browserInfo") || {},
            a = Rx.Observable["return"](!0);
        return "no" === e.supportsHTML5withDRM ? a = Rx.Observable["return"](!1) : t.isFirefox ? a = _.get(t, "specialFlags.isFFWin64") ? Rx.Observable["return"](!0) : isMediaSourceTypeSupported(EME_TYPE_FIREFOX) ? determineFirefoxEMESupport() : Rx.Observable["return"](!1) : t.isSafari && (a = Rx.Observable["return"](isWebKitMediaKeysTypeSupported(EME_TYPE_APPLE))), a
    }

    function canPlaySilverlight() {
        var e = context.getData("player", "playbackSupport") || {};
        return "no" !== e.supportsSL && SilverlightVersion.isInstalled()
    }

    function canPlayFlash() {
        var e = _.has(window, 'navigator.mimeTypes["' + MIME_TYPE_FLASH + '"]');
        if (_.has(window, "ActiveXObject")) try {
            e = !!new window.ActiveXObject("ShockwaveFlash.ShockwaveFlash")
        } catch (t) {}
        return e
    }

    function getVideoSupportMatrix() {
        var e = context.getFeatureData("browserInfo");
        return {
            canPlayHTML5: _.get(e, "features.maybeSupportsHTML5", !1),
            canPlayHTML5WithDRM: isHTML5Capable.determined && isHTML5Capable.capable,
            canPlayFlash: canPlayFlash(),
            canPlaySilverlight: canPlaySilverlight()
        }
    }

    function init(e) {
        var t = hasRequiredComponentsForPlayback().doAction(function(e) {
            isHTML5Capable.determined = !0, isHTML5Capable.capable = e
        });
        return e ? t : (t.subscribe(_.noop, function(e) {}), null)
    }
    var context = require("../../utils/contextData"),
        Rx = require("../../common/nfRx"),
        _ = require("lodash"),
        SilverlightVersion = require("../../player/silverlight/client/SilverlightVersion"),
        FIREFOX_EME_SLA = 1e3,
        EME_TYPE_APPLE = "com.apple.fps.2_0",
        EME_TYPE_FIREFOX = 'audio/mp4; codecs="mp4a.40.5"',
        FF_MEDIA_KEY_SYSTEM = "com.adobe.primetime",
        FF_MEDIA_KEY_SYSTEM_PARAMS = [{
            initDataType: "cenc",
            stateful: "optional",
            uniqueIdentifier: "optional",
            audioType: "audio/mp4",
            videoType: "video/mp4"
        }],
        MIME_TYPE_FLASH = "application/x-shockwave-flash",
        isHTML5Capable = {
            determined: !1,
            capable: !1
        };
    module.exports = {
        canPlayHTML5: canPlayHTML5,
        getVideoSupportMatrix: getVideoSupportMatrix,
        hasRequiredComponentsForPlayback: hasRequiredComponentsForPlayback,
        init: init
    };


});


Requireify.register('js/akira/components/controls/playLink.jsx', function(require, requireAsync, module, exports) {


    "use strict";
    var _extends = Object.assign || function(e) {
            for (var t = 1; t < arguments.length; t++) {
                var i = arguments[t];
                for (var r in i) Object.prototype.hasOwnProperty.call(i, r) && (e[r] = i[r])
            }
            return e
        },
        React = require("react"),
        Router = require("react-router"),
        _ = require("lodash"),
        Link = require("./mainViewLink.jsx"),
        URLs = require("../../../utils/urls"),
        KidsQoe = require("../../../utils/ab/kidsQoe"),
        Position = require("../../../common/position"),
        PaymentHold = require("../messaging/paymentHold.js"),
        AppState = require("../../../reactMixins/appstate"),
        AkiraContext = require("../../../reactMixins/akiraContext"),
        I18N = require("../../../reactMixins/i18n"),
        IsomorphicContext = require("../../../reactMixins/isomorphicContextWithDeps"),
        Animation = require("../../../reactMixins/cssAnimation.jsx"),
        EventBus = require("../../../reactMixins/eventBus"),
        PlayPrediction = require("../../../common/playPrediction/playPrediction"),
        PlayerFeatureDetection = require("../../../utils/player/playerFeatureDetection"),
        BUNDLE = "discovery/akira/Common",
        PlayLink = React.createClass({
            displayName: "PlayLink",
            contextTypes: {
                audioDescription: React.PropTypes.bool,
                rowNum: React.PropTypes.number.isRequired,
                rankNum: React.PropTypes.number.isRequired,
                requestId: React.PropTypes.string.isRequired
            },
            mixins: [I18N, AppState, Animation, Router.Navigation, AkiraContext, IsomorphicContext],
            statics: {
                __meta__: {
                    strings: [{
                        bundle: BUNDLE,
                        ids: ["play.button.annotation.play"]
                    }]
                }
            },
            handleClick: function(e, t) {
                var i = {};
                PlayPrediction.stub || (i = {
                    ppmGUID: PlayPrediction.getLatestGUID(),
                    ppmID: PlayPrediction.getPPMInstanceID()
                }), EventBus.emit("playback:requestPlay", _.assign({
                    triggerEl: e.target
                }, this.context, this.props, i));
                var r = this.getFeatureData("umaData") || null;
                if (PaymentHold.preventPlay(r)) PaymentHold.potentiallyOpen({
                    umaData: r
                }, !0), e.preventDefault();
                else {
                    if (this.props.disableClick) return !1;
                    if (KidsQoe.doRedirectTitle(this.context, this.props.videoId)) return window.location = this.makeAkiraPlayerUrl(!0, !0), !1;
                    if (!PlayerFeatureDetection.canPlayHTML5()) return window.location = this.makeAkiraPlayerUrl(!0), !1;
                    if (!this.props.skipTransition) return this.transitionToPlayer(t)
                }
                return !0
            },
            handlerHover: function() {
                PlayPrediction.stub || EventBus.emit("play:focus", _.assign({}, this.props))
            },
            makeAkiraPlayerUrl: function(e, t) {
                var i = {};
                return i[URLs.param.merchweb.trackId] = this.context.trackId, i[URLs.param.merchweb.uiPlayContext] = this.buildUIPlayContext(e), t && (i.fkp = 1), URLs.makeAkiraPlayerUrl(this.props.episodeId || this.props.videoId, i)
            },
            transitionToPlayer: function(e) {
                var t = document.getElementsByClassName("bd"),
                    i = t.length && t[0],
                    r = !1,
                    a = 750,
                    n = this;
                if (!i) return !0;
                var o = Position.getScrollTop() + Math.floor(Position.getWindowRect().height / 2);
                document.body.style.overflowX = "hidden";
                var s = function() {
                    r || (r = !0, document.body.style.overflowX = null, n.transitionTo("watchNow", e.params, e.query))
                };
                return setTimeout(s, a + 100), this.animate({
                    target: i,
                    before: {
                        origin: "50% " + o + "px"
                    },
                    scale: 1.04,
                    opacity: 0,
                    duration: a,
                    easing: "easeIn",
                    after: {
                        reset: !0,
                        opacity: 0
                    },
                    callback: s
                }), !1
            },
            buildUIPlayContext: function(e) {
                var t = this.context,
                    i = t.rowNum + "," + t.rankNum + "," + t.requestId;
                return e ? encodeURIComponent(i) : i
            },
            renderMobilePlayerLink: function() {
                return React.createElement("a", _extends({}, this.props, {
                    tabIndex: this.props.tabIndex,
                    href: this.makeAkiraPlayerUrl()
                }), this.props.children)
            },
            render: function() {
                var e = this.getFeatureData("browserInfo");
                if (e.isIOS || e.isAndroid) return this.renderMobilePlayerLink();
                var t = {
                    trackId: this.context.trackId,
                    tctx: this.buildUIPlayContext()
                };
                this.context.audioDescription === !0 && (t.ad = "true"), KidsQoe.doRedirectTitle(this.context, this.props.videoId) && (t.fkp = 1);
                var i = this.props.episodeId || this.props.videoId;
                "undefined" != typeof this.props.startTime && (t.t = this.props.startTime);
                var r = this.props.ariaLabel;
                return "undefined" === r && (r = this.getString(BUNDLE, "play.button.annotation.play")), React.createElement(Link, _extends({}, this.props, {
                    type: "watchNow",
                    params: {
                        id: i
                    },
                    query: t,
                    onClick: this.handleClick,
                    onMouseEnter: this.handlerHover,
                    tabIndex: this.props.tabIndex,
                    role: "link",
                    "aria-label": r
                }), this.props.children)
            }
        });
    module.exports = PlayLink;


});


Requireify.register('js/akira/components/controls/flatButton.jsx', function(require, requireAsync, module, exports) {


    "use strict";
    var React = require("react"),
        classNames = require("classnames"),
        KeyBoardEvents = require("../../../utils/keyboardEventsWrapper"),
        FlatButton = React.createClass({
            displayName: "FlatButton",
            getInitialState: function() {
                return {
                    isHovered: !1
                }
            },
            onMouseEnter: function() {
                this.setState({
                    isHovered: !0
                })
            },
            onMouseLeave: function() {
                this.setState({
                    isHovered: !1
                })
            },
            render: function() {
                var e, t = this.props.tabIndex || 0,
                    s = -1 !== t ? "link" : null,
                    n = null,
                    o = {
                        "nf-icon-button": !0,
                        "nf-flat-button": !0,
                        "nf-flat-button-primary": this.props.isPrimaryBtn,
                        hovered: this.state.isHovered
                    },
                    a = {
                        "nf-flat-button-text": !0,
                        "nf-icon-button-tooltip": this.props.isTooltip
                    },
                    r = {
                        "nf-flat-button-icon": !0,
                        "empty-label": this.props.isTooltip ? !0 : !1
                    };
                return r["nf-flat-button-icon-" + this.props.icon] = !0, e = [React.createElement("span", {
                    className: classNames(r),
                    key: "icon"
                }), React.createElement("span", {
                    className: classNames(a),
                    key: "label"
                }, this.props.label)], n = this.props.useSpan ? React.createElement("span", {
                    ref: "nfIconButton",
                    role: s,
                    "aria-label": this.props.ariaLabel,
                    tabIndex: t,
                    className: classNames(o),
                    onClick: this.props.onClick,
                    onKeyDown: KeyBoardEvents.executeOnEnterOrSpace(this.props.onClick),
                    onMouseEnter: this.onMouseEnter,
                    onMouseLeave: this.onMouseLeave,
                    onFocus: this.onMouseEnter,
                    onBlur: this.onMouseLeave
                }, e) : React.createElement("a", {
                    ref: "nfIconButton",
                    role: s,
                    "aria-label": this.props.ariaLabel,
                    tabIndex: t,
                    className: classNames(o),
                    onClick: this.props.onClick,
                    onKeyDown: KeyBoardEvents.executeOnEnterOrSpace(this.props.onClick),
                    onMouseEnter: this.onMouseEnter,
                    onMouseLeave: this.onMouseLeave,
                    onFocus: this.onMouseEnter,
                    onBlur: this.onMouseLeave
                }, e)
            }
        });
    module.exports = FlatButton;


});


Requireify.register('js/akira/components/controls/playbutton.jsx', function(require, requireAsync, module, exports) {


    "use strict";
    var _extends = Object.assign || function(t) {
            for (var e = 1; e < arguments.length; e++) {
                var a = arguments[e];
                for (var n in a) Object.prototype.hasOwnProperty.call(a, n) && (t[n] = a[n])
            }
            return t
        },
        React = require("react"),
        PlayLink = require("./playLink.jsx"),
        FlatButton = require("../controls/flatButton.jsx"),
        Watched = require("../../../reactMixins/video/watched"),
        I18N = require("../../../reactMixins/i18nWithDeps"),
        _ = require("lodash"),
        BUNDLE = "discovery/akira/Common",
        PlayButton = React.createClass({
            displayName: "PlayButton",
            mixins: [I18N, Watched],
            statics: {
                getPaths: function(t, e, a) {
                    return [
                        ["summary"],
                        ["availability"],
                        ["current", "summary"]
                    ]
                },
                EPISODIC_TYPES: {
                    show: !0,
                    season: !0,
                    series: !0
                }
            },
            getEpisodeId: function() {
                var t, e, a = this.props.episode || null,
                    n = null;
                return a || (t = this.props.model.getValueSync(["summary"]), t && PlayButton.EPISODIC_TYPES[t.type] && (a = this.props.model.bind(["current"]))), a && (e = a.getValueSync(["summary"]), n = (e || null) && e.id), n
            },
            render: function() {
                var t, e = this.props.model,
                    a = e.getValueSync("summary"),
                    n = e.getValueSync("availability"),
                    i = a && a.id,
                    s = _.assign({}, this.props, {
                        className: (this.props.className || "") + " playLink"
                    }),
                    r = this.isInResumeState(),
                    l = this.isInNextUpState(),
                    o = this.getStrings(BUNDLE),
                    u = this.props.children,
                    p = null,
                    c = u,
                    y = this.props.ariaLabel;
                return n && !n.isPlayable || !i ? null : (c || (c = l ? o.get("play.button.annotation.next.up") : r ? o.get("play.button.annotation.resume") : o.get("play.button.annotation.play")), this.props.flatButton ? t = React.createElement(FlatButton, {
                    label: c,
                    useSpan: !0,
                    isPrimaryBtn: this.props.notPrimaryButton ? !1 : !0,
                    icon: "play",
                    onClick: this.props.onClick,
                    tabIndex: -1
                }) : (u || y || (y = c), t = React.createElement("div", {
                    className: "playRing",
                    onClick: this.props.onClick
                }, React.createElement("div", {
                    className: "play icon-play"
                })), p = u ? React.createElement("div", {
                    className: "annotation"
                }, u) : null), React.createElement(PlayLink, _extends({}, s, {
                    videoId: i,
                    episodeId: this.getEpisodeId(),
                    ariaLabel: y
                }), t, p))
            }
        });
    PlayButton.__meta__ = {
        strings: [{
            bundle: BUNDLE,
            ids: ["play.button.annotation.play", "play.button.annotation.resume", "play.button.annotation.next.up"]
        }]
    }, module.exports = PlayButton;


});


Requireify.register('js/akira/components/title/duration.jsx', function(require, requireAsync, module, exports) {


    "use strict";
    var React = require("react"),
        I18N = require("../../../reactMixins/i18nWithDeps"),
        BUNDLE = "discovery/akira/Common:duration",
        Duration = React.createClass({
            displayName: "Duration",
            mixins: [I18N],
            getDefaultProps: function() {
                return {
                    seasonLabelKey: "Season"
                }
            },
            getMicrodata: function() {
                if (this.props.runtime) {
                    var t = this.getISO8601Duration(this.props.runtime);
                    return React.createElement("meta", {
                        itemProp: "duration",
                        content: t
                    })
                }
                return this.props.seasonCount ? React.createElement("meta", {
                    itemProp: "numberOfSeasons",
                    content: this.props.seasonCount
                }) : null
            },
            getFormattedDuration: function(t) {
                var e = this.getStrings(BUNDLE),
                    r = parseInt(t / 60, 10),
                    n = parseInt(r / 60, 10),
                    s = parseInt(r % 60, 10),
                    a = e.get("hours", {
                        hours: n
                    }),
                    i = e.get("minutes", {
                        minutes: s
                    });
                return this.props.onlyInMinutes ? r > 0 ? e.get("minutes", {
                    minutes: r
                }) : "" : (n > 0 ? a : "") + (n > 0 && s > 0 ? " " : "") + (s > 0 ? i : "")
            },
            getISO8601Duration: function(t) {
                var e = parseInt(t / 60, 10),
                    r = parseInt(e / 60, 10),
                    n = parseInt(e % 60, 10);
                return "T" + r + "H" + n + "M"
            },
            render: function() {
                var t, e = this.props.seasonLabelKey ? this.props.seasonLabelKey : "Season",
                    r = this.getStrings(BUNDLE),
                    n = this.props.showMicrodata ? this.getMicrodata() : null;
                return this.props.runtime ? (t = this.getFormattedDuration(this.props.runtime), React.createElement("span", {
                    className: "duration"
                }, t, n)) : this.props.seasonCount ? (e += this.props.seasonCount > 1 ? ".plural" : ".singular", t = r.get(e, {
                    numSeasons: this.props.seasonCount
                }), React.createElement("span", {
                    className: "duration"
                }, t, n)) : null
            }
        });
    Duration.__meta__ = {
        strings: [{
            bundle: BUNDLE,
            ids: ["minutes", "hours", "Season.singular", "Collection.singular", "Unknown.singular", "Volume.singular", "Special.singular", "Set.singular", "Book.singular", "Part.singular", "Series.singular", "Chapter.singular", "NO_NAV_LABEL.singular", "Season.plural", "Collection.plural", "Unknown.plural", "Volume.plural", "Special.plural", "Set.plural", "Book.plural", "Part.plural", "Series.plural", "Chapter.plural", "NO_NAV_LABEL.plural"]
        }]
    }, module.exports = Duration;


});


Requireify.register('js/akira/components/title/maturityRating.jsx', function(require, requireAsync, module, exports) {


    "use strict";
    var React = require("react"),
        URLs = require("../../../utils/urls"),
        IsomorphicContext = require("../../../reactMixins/isomorphicContextWithDeps"),
        MATURITY_REASON_CLASSNAME = {
            NL: {
                707: "violence",
                708: "fear-anxiety",
                709: "sex",
                710: "discrimination",
                711: "drug-or-alcohol",
                712: "profanity"
            }
        },
        COUNTRIES_WITH_FORCED_CUSTOM_STYLES = ["NL"],
        COUNTRIES_WITH_CUSTOM_STYLES = ["BR", "GB", "NL"],
        COUNTRIES_WITH_CUSTOM_STYLES_AND_TEXT = ["GB", "NL"],
        MaturityRating = React.createClass({
            displayName: "MaturityRating",
            mixins: [IsomorphicContext],
            statics: {
                getPaths: function() {
                    return [
                        ["maturity"]
                    ]
                }
            },
            getCountryGraphicClass: function(t, e) {
                return "NL" === t ? "nf-icon-button-icon icon-nicam-" + e : "maturity-rating-" + t + " maturity-rating-" + t + "-" + e
            },
            getValue: function(t, e) {
                var r, i, a, n = t && t.rating && t.rating.value && t.rating.value.toUpperCase(),
                    s = -1 !== COUNTRIES_WITH_FORCED_CUSTOM_STYLES.indexOf(e),
                    o = this.props.useCountryStyling && -1 !== COUNTRIES_WITH_CUSTOM_STYLES.indexOf(e);
                return n && (s || o ? (r = "maturity-custom-styling " + this.getCountryGraphicClass(e, n), -1 === COUNTRIES_WITH_CUSTOM_STYLES_AND_TEXT.indexOf(e) && (i = n)) : (r = "maturity-number", i = n), a = this.props.withLinkToDetail ? React.createElement("a", {
                    href: URLs.getHelpUrl("ratings"),
                    className: r
                }, i) : React.createElement("span", {
                    className: r
                }, i)), a
            },
            getReasons: function(t, e) {
                var r, i = t && t.rating && t.rating.reasons;
                return i && i.length ? i.map(function(t, i) {
                    return r = MATURITY_REASON_CLASSNAME[e] && MATURITY_REASON_CLASSNAME[e][t], r ? React.createElement("span", {
                        className: "maturity-reason nf-icon-button-icon icon-nicam-" + r
                    }) : void 0
                }) : null
            },
            getDescription: function(t) {
                var e = t && t.rating && t.rating.maturityDescription;
                return e ? React.createElement("p", {
                    className: "maturityDescription"
                }, e) : null
            },
            render: function() {
                var t = this.props.model,
                    e = t.getValueSync(["maturity"]),
                    r = this.getFeatureData("geo"),
                    i = r && r.preferredLocale && r.preferredLocale.country && r.preferredLocale.country.toUpperCase();
                return React.createElement("span", {
                    className: "maturity-rating"
                }, this.getValue(e, i), this.props.withReasons ? this.getReasons(e, i) : null, this.props.withDescription ? this.getDescription(e) : null)
            }
        });
    module.exports = MaturityRating;


});


Requireify.register('js/akira/components/title/basicStarBar.jsx', function(require, requireAsync, module, exports) {


    "use strict";
    var React = require("react"),
        _ = require("lodash"),
        classNames = require("classnames"),
        EventBus = require("../../../reactMixins/eventBus"),
        XHR = require("../../../utils/XHR"),
        AkiraContextMixin = require("../../../reactMixins/akiraContext"),
        StarBar = React.createClass({
            displayName: "StarBar",
            mixins: [AkiraContextMixin],
            statics: {
                starClass: {
                    25: "icon-star-25-percent",
                    50: "icon-star-50-percent",
                    75: "icon-star-75-percent",
                    100: "icon-star"
                }
            },
            getInitialState: function() {
                return {
                    hoverRating: 0
                }
            },
            getStarInfo: function() {
                var t = this.state.hoverRating || this.props.userRating || this.props.predictedRating || this.props.averageRating || 0,
                    a = this.state.hoverRating ? "hover" : this.props.userRating ? "personal" : "default",
                    e = Math.floor(t),
                    r = t % e,
                    s = 0;
                return r >= .25 && (r >= .75 ? s = 75 : r >= .5 ? s = 50 : r >= .25 && (s = 25)), 0 > t ? (t = 0, e = 0, s = 0) : t > 5 && (t = 5, e = 5, s = 0), {
                    rating: t,
                    ratingType: a,
                    numWholeStars: e,
                    partialStar: s
                }
            },
            getStarClass: function(t, a) {
                return "star " + t + " " + a
            },
            handleEnter: function(t) {
                if (!this.props.readOnly) {
                    var a = parseInt(t.target.getAttribute("data-rating"), 10) || 0;
                    a && this.setState({
                        hoverRating: a
                    })
                }
            },
            handleLeave: function(t) {
                this.props.readOnly || this.setState({
                    hoverRating: null
                })
            },
            handleClick: function(t) {
                if (!this.props.readOnly) {
                    t.preventDefault(), t.stopPropagation();
                    var a = parseInt(t.target.getAttribute("data-rating"), 10) || 0;
                    "function" == typeof this.props.onRating && this.props.onRating(a), this.props.videoId && this.sendRating(a)
                }
            },
            sendRating: function(t) {
                EventBus.emit("rating:set", _.assign({
                    rating: t,
                    ratingType: "star",
                    matchScore: null,
                    predictedRating: this.props.predictedRating,
                    videoId: this.props.videoId
                }, this.context)), XHR.request({
                    method: "post",
                    data: {},
                    query: {
                        titleid: this.props.videoId,
                        rating: t,
                        trackId: this.context.trackId
                    },
                    resource: "/setVideoRating",
                    service: "api",
                    authorize: !0
                }).subscribe()
            },
            createStar: function(t, a, e) {
                var r = this.getStarClass(a, e);
                return React.createElement("span", {
                    key: this.props.videoId + "_" + t + e,
                    "data-rating": t,
                    className: r,
                    onMouseEnter: this.handleEnter,
                    onMouseLeave: this.handleLeave
                })
            },
            renderTooltip: function() {
                return this.state.hoverRating && this.props.tooltip ? React.createElement("div", {
                    className: "starbar-tooltip rating-" + this.state.hoverRating
                }, this.props.tooltip[this.state.hoverRating - 1]) : null
            },
            getStarMarkup: function() {
                var t, a, e = this.getStarInfo(),
                    r = [],
                    s = [],
                    i = [],
                    n = 1;
                for (t = 0; t < e.numWholeStars; t++) r.push(this.createStar(n++, e.ratingType, StarBar.starClass[100]));
                for (e.partialStar && (s.push(this.createStar(n, e.ratingType, StarBar.starClass[e.partialStar])), s.push(this.createStar(n, "sb-placeholder", StarBar.starClass[100])), n++), a = 5 - (e.numWholeStars + (e.partialStar ? 1 : 0)), t = 0; a > t; t++) i.push(this.createStar(n++, "sb-placeholder", StarBar.starClass[100]));
                return {
                    left: r,
                    mid: s,
                    right: i
                }
            },
            render: function() {
                var t = {
                    starbar: !0,
                    readOnly: this.props.readOnly === !0
                };
                this.props.extraClass && (t[this.props.extraClass] = !0);
                var a = this.getStarMarkup();
                return React.createElement("div", {
                    className: classNames(t),
                    onClick: this.handleClick,
                    "aria-hidden": !0
                }, this.renderTooltip(), a.left, a.mid.length ? React.createElement("div", {
                    className: "transitionWrap"
                }, a.mid) : null, a.right)
            }
        });
    module.exports = StarBar;


});


Requireify.register('js/akira/components/title/falkorStarBar.jsx', function(require, requireAsync, module, exports) {


    "use strict";
    var _extends = Object.assign || function(t) {
            for (var r = 1; r < arguments.length; r++) {
                var e = arguments[r];
                for (var a in e) Object.prototype.hasOwnProperty.call(e, a) && (t[a] = e[a])
            }
            return t
        },
        React = require("react"),
        BasicStarBar = require("./basicStarBar.jsx"),
        FalkorStarBar = React.createClass({
            displayName: "FalkorStarBar",
            getDefaultProps: function() {
                return {
                    userRatingOnly: !1
                }
            },
            updateFalkorCacheWithRating: function(t) {
                var r = this.props.model.bind(["userRating"]),
                    e = r.getBoundValue();
                e.userRating = t, this.isMounted() && this.forceUpdate(), "function" == typeof this.props.onRating && this.props.onRating(t)
            },
            render: function() {
                var t = this.props.model,
                    r = t.getValueSync(["summary"]),
                    e = t.getValueSync(["userRating"]);
                return r && e ? React.createElement(BasicStarBar, _extends({}, this.props, {
                    videoId: r.id,
                    predictedRating: !this.props.userRatingOnly && e && e.predicted,
                    userRating: e && e.userRating,
                    onRating: this.updateFalkorCacheWithRating
                })) : null
            }
        });
    module.exports = FalkorStarBar;


});


Requireify.register('js/akira/components/title/userRating.jsx', function(require, requireAsync, module, exports) {


    "use strict";
    var React = require("react"),
        StarBar = require("./falkorStarBar.jsx"),
        MatchScore = require("./matchScore.jsx"),
        RatingsTestMixin = require("../../../reactMixins/ab/ratingsRedesignTestWithDeps"),
        UserRating = React.createClass({
            displayName: "UserRating",
            mixins: [RatingsTestMixin],
            render: function() {
                return this.hasMatchScore() ? React.createElement(MatchScore, this.props) : this.inRatingTest() && !this.inRatingTestControl() ? null : React.createElement(StarBar, this.props)
            }
        });
    module.exports = UserRating;


});


Requireify.register('js/akira/components/title/videoMeta.jsx', function(require, requireAsync, module, exports) {


    "use strict";
    var React = require("react"),
        Duration = require("../title/duration.jsx"),
        MaturityRating = require("./maturityRating.jsx"),
        UserRating = require("./userRating.jsx"),
        VideoMeta = React.createClass({
            displayName: "VideoMeta",
            statics: {
                getPaths: function(e, t, a) {
                    return MaturityRating.getPaths(e, t, a).concat([
                        [
                            ["summary", "runtime", "seasonCount", "releaseYear", "userRating"]
                        ],
                        ["seasonList", "current", "showMemberType"]
                    ])
                }
            },
            render: function() {
                var e = this.props.model,
                    t = e.getValueSync(["summary"]),
                    a = e.getValueSync(["runtime"]),
                    s = e.getValueSync(["seasonCount"]),
                    r = e.getValueSync(["releaseYear"]),
                    n = e.getValueSync(["seasonList", "current", "showMemberType"]);
                return t ? React.createElement("div", {
                    className: "meta"
                }, this.props.suppressRatings ? null : React.createElement(UserRating, {
                    model: this.props.model,
                    extraClass: "jawmetastars",
                    readOnly: this.props.readOnly
                }), this.props.suppressYear ? null : React.createElement("span", {
                    className: "year"
                }, r ? r : ""), React.createElement(MaturityRating, {
                    model: this.props.model,
                    withReasons: this.props.withMaturityReasons
                }), React.createElement(Duration, {
                    runtime: a,
                    seasonCount: s,
                    seasonLabelKey: n
                })) : null
            }
        });
    module.exports = VideoMeta;


});


Requireify.register('js/akira/components/controls/iconButton.jsx', function(require, requireAsync, module, exports) {


    "use strict";
    var React = require("react"),
        KeyBoardEvents = require("../../../utils/keyboardEventsWrapper"),
        IconButton = React.createClass({
            displayName: "IconButton",
            getInitialState: function() {
                return {
                    isHovered: !1
                }
            },
            onMouseEnter: function() {
                this.setState({
                    isHovered: !0
                })
            },
            onMouseLeave: function() {
                this.setState({
                    isHovered: !1
                }), this.refs.nfIconButton && React.findDOMNode(this.refs.nfIconButton).blur()
            },
            render: function() {
                var e = "nf-icon-button " + (this.state.isHovered ? "hovered " : "") + (this.props.extraClass || ""),
                    t = "nf-icon-button-icon icon-button-" + this.props.icon + (this.state.isHovered ? "-reverse" : ""),
                    o = "nf-icon-button-" + (this.props.tooltip ? "tooltip" : "label"),
                    n = this.props.tabIndex || 0,
                    s = this.props.label ? null : this.props.ariaLabel;
                return React.createElement("a", {
                    ref: "nfIconButton",
                    role: "link",
                    tabIndex: n,
                    className: e,
                    "aria-label": s,
                    onClick: this.props.onClick,
                    onKeyDown: KeyBoardEvents.executeOnEnterOrSpace(this.props.onClick),
                    onMouseEnter: this.onMouseEnter,
                    onMouseLeave: this.onMouseLeave,
                    onFocus: this.onMouseEnter,
                    onBlur: this.onMouseLeave
                }, React.createElement("span", {
                    role: "presentation",
                    className: t
                }), this.props.label ? React.createElement("span", {
                    className: o,
                    role: "status",
                    "aria-live": "assertive"
                }, this.props.label) : null, this.props.children)
            }
        });
    module.exports = IconButton;


});


Requireify.register('js/utils/playlist.js', function(require, requireAsync, module, exports) {


    "use strict";

    function addToList(e, t, o) {
        return execute("add", e, t, o)
    }

    function removeFromList(e, t, o) {
        return execute("remove", e, t, o)
    }

    function moveInList(e, t, o) {
        return execute("move", e, t, o)
    }

    function execute(e, t, o, r) {
        return XHR.request({
            method: "post",
            data: _.assign({
                operation: e,
                videoId: t,
                trackId: o
            }, r),
            resource: "/playlistop",
            service: "api",
            authorize: !0
        })
    }
    var XHR = require("./XHR"),
        _ = require("lodash");
    module.exports = {
        addToList: addToList,
        removeFromList: removeFromList,
        moveInList: moveInList
    };


});


Requireify.register('js/utils/mylist_utils.js', function(require, requireAsync, module, exports) {


    "use strict";
    var playlist = require("./playlist"),
        _ = require("lodash"),
        inNode = require("../utils/inNode"),
        root = inNode ? {} : window,
        MyListUtils = {
            addToList: function(t, e, o, i, s) {
                this.modifyPlaylist("addToList", t, e, o, i, s)
            },
            removeFromList: function(t, e, o, i, s) {
                this.modifyPlaylist("removeFromList", t, e, o, i, s)
            },
            moveInList: function(t, e, o, i, s) {
                this.modifyPlaylist("moveInList", t, e, o, i, s)
            },
            getLolomo: function() {
                for (var t, e = root.pathEvaluator, o = ["lolomo", "lolomonobillboard"], i = !1, s = 0; !i && s < o.length;) t = e.hardBind([o[s++]]), i = !!t.getBoundValue();
                return i && t
            },
            getMyListRow: function() {
                var t, e, o, i = this.getLolomo(),
                    s = i && i.getValueSync(["summary"]),
                    n = s && s.length || 0;
                for (t = 0; n > t; t++)
                    if (e = i.bind([t]), e.getBoundValue() && (o = e.getValueSync(["context"]), o && "queue" === o)) return {
                        model: e,
                        index: t
                    };
                return null
            },
            isLolomoInCache: function() {
                var t = this.getLolomo();
                return t && t.getBoundValue()
            },
            successHandler: function(t, e, o, i, s) {
                s && s.status && "success" === s.status ? (this.updateTitleState(t, i), setTimeout(function() {
                    e(s)
                }, 500)) : o(s)
            },
            errorHandler: function(t) {
                t({
                    status: "error",
                    message: "Unknown server error"
                })
            },
            updateTitleState: function(t, e) {
                var o = root.pathEvaluator,
                    i = ["videos", t, "queue"];
                o.getValueSync(i).inQueue = "addToList" === e
            },
            modifyPlaylist: function(t, e, o, i, s, n) {
                if (playlist[t])
                    if (n = _.assign({}, n), this.isLolomoInCache() && this.getMyListRow()) this.mutateMyList(t, e, o, i, s, n);
                    else {
                        var r = this.errorHandler.bind(this, s),
                            a = this.successHandler.bind(this, e, i, s, t);
                        playlist[t](e, o, n).subscribe(a, r)
                    }
            },
            mutateMyList: function(t, e, o, i, s, n) {
                var r, a = this,
                    l = this.getLolomo(),
                    u = ["videos", e],
                    d = ["listToken", 0, u, o, n.reqMsgToken, n.msgToken],
                    c = this.getMyListRow();
                if (n.placeAfterVideo && u.push(n.placeAfterVideo), c) {
                    d[0] = c.model.getBoundValue().__key, d[1] = c.index, r = c.model.getValueSync(["length"]), "addToList" === t ? r++ : "removeFromList" === t && r--;
                    var m = function() {
                            s && s(), c.model.setValueSync(["mutationFailure"], {
                                operation: t,
                                video: e,
                                trackId: o
                            })
                        },
                        f = function() {
                            ("removeFromList" === t || "addToList" === t) && a.updateTitleState(e, t), "function" == typeof i && i(), root.reactApp.refresh()
                        },
                        h = ["length", "trackIds", "context", "displayName"];
                    l.call([t], d, [
                        [h],
                        [{
                            to: r
                        }],
                        ["watchedEvidence", {
                            to: 2
                        }]
                    ], []).subscribe(_.noop, m, f)
                }
            }
        };
    module.exports = MyListUtils;


});


Requireify.register('js/akira/components/title/myListButton.jsx', function(require, requireAsync, module, exports) {


    "use strict";
    var React = require("react"),
        _ = require("lodash"),
        IconButton = require("../controls/iconButton.jsx"),
        FlatButton = require("../controls/flatButton.jsx"),
        I18N = require("../../../reactMixins/i18nWithDeps"),
        AppState = require("../../../reactMixins/appstate"),
        EventBus = require("../../../reactMixins/eventBus"),
        AkiraContext = require("../../../reactMixins/akiraContext"),
        MyListUtils = require("../../../utils/mylist_utils"),
        BUNDLE = "discovery/akira/Common",
        ERROR_TIMEOUT = 2e3,
        titleStates = {
            inMyList: "inMyList",
            notInMyList: "notInMyList",
            adding: "adding",
            removing: "removing",
            error: "error"
        },
        buttonLabels = {
            general: "button.secondary.mylist",
            save: "button.secondary.save",
            inMyList: "my.list.remove",
            notInMyList: "my.list.add",
            adding: "my.list.adding",
            removing: "my.list.removing",
            error: "my.list.error"
        },
        MyListButton = React.createClass({
            displayName: "MyListButton",
            mixins: [I18N, AppState, AkiraContext],
            pqls: {
                summary: ["summary"],
                queue: ["queue"],
                data: ["data"],
                titleState: ["titleState"],
                availability: ["availability"]
            },
            toLabel: function(t) {
                return this.getString(BUNDLE, buttonLabels[t])
            },
            getTitleState: function() {
                var t = this.props.model,
                    e = t.getValueSync(this.pqls.queue),
                    i = e && e.inQueue,
                    s = t.getValueSync(this.pqls.summary),
                    a = s && s.id,
                    n = this.getAppStateModel(["videos", a]),
                    o = n.getValueSync(this.pqls.titleState);
                return o ? o : i ? titleStates.inMyList : titleStates.notInMyList
            },
            setTitleState: function(t, e, i) {
                var s = this.props.model,
                    a = e || s.getValueSync(this.pqls.summary) && s.getValueSync(this.pqls.summary).id,
                    n = ["videos", a],
                    o = this.getAppStateModel(n);
                o.setValueSync(this.pqls.data, n), o.setValueSync(this.pqls.titleState, t), t || "undefined" == typeof i || (i ? EventBus.emit("myList:remove:end", _.assign({}, this.context, this.props)) : EventBus.emit("myList:add:end", _.assign({}, this.context, this.props)), "function" == typeof this.props.onStateChange && this.props.onStateChange(i)), this.isMounted() && this.forceUpdate()
            },
            getLabel: function() {
                var t = this.getTitleState();
                return this.props.showToolTip || t !== titleStates.inMyList && t !== titleStates.notInMyList || (t = "save" === this.props.label ? "save" : "general"), this.toLabel(t)
            },
            toggleQueue: function(t) {
                t.stopPropagation(), this.props.onClick && this.props.onClick(t);
                var e = this.props.model,
                    i = e.getValueSync(this.pqls.summary),
                    s = i && i.id,
                    a = e.getValueSync(this.pqls.queue),
                    n = a && a.inQueue,
                    o = this.context.trackId || 0,
                    r = this.setTitleState.bind(this, null, s, n);
                n ? (EventBus.emit("myList:remove:start", _.assign({}, this.context, this.props)), this.setTitleState(titleStates.removing), MyListUtils.removeFromList(s, o, r, this.errNext)) : (EventBus.emit("myList:add:start", _.assign({}, this.context, this.props)), this.setTitleState(titleStates.adding), MyListUtils.addToList(s, o, r, this.errNext))
            },
            errNext: function(t, e) {
                this.setTitleState("error", t, e), setTimeout(function() {
                    this.setTitleState(null, t, e)
                }.bind(this), ERROR_TIMEOUT)
            },
            render: function() {
                var t = this.props.model.getValueSync(this.pqls.summary),
                    e = this.props.model.getValueSync(this.pqls.queue),
                    i = this.props.model.getValueSync(this.pqls.availability),
                    s = t && t.isOriginal,
                    a = i && i.isPlayable,
                    n = this.props.isComingSoon;
                if (!s && !a && !n) return null;
                if (!e && !n) return null;
                var o = this.getLabel();
                return this.props.flatButton ? React.createElement(FlatButton, {
                    icon: e.inQueue ? "mylist-added" : "mylist-add",
                    label: o,
                    ariaLabel: o,
                    isTooltip: this.props.showToolTip,
                    isPrimaryBtn: this.props.isPrimaryBtn,
                    onClick: this.toggleQueue,
                    tabIndex: this.props.tabIndex
                }) : React.createElement(IconButton, {
                    extraClass: "mylist-button",
                    icon: e.inQueue ? "mylist-added" : "mylist-add",
                    label: o,
                    tooltip: this.props.showToolTip,
                    onClick: this.toggleQueue,
                    tabIndex: this.props.tabIndex
                })
            },
            statics: {
                __meta__: {
                    strings: [{
                        bundle: BUNDLE,
                        ids: ["button.secondary.mylist", "my.list.add", "my.list.remove", "my.list.adding", "my.list.removing", "my.list.error", "button.secondary.save"]
                    }]
                }
            }
        });
    module.exports = MyListButton;


});


Requireify.register('js/components/presentationTracking/presentationTrackingContainer.jsx', function(require, requireAsync, module, exports) {


    "use strict";
    var React = require("react"),
        PresTrackedContainer = React.createClass({
            displayName: "PresTrackedContainer",
            render: function() {
                return React.createElement("div", {
                    className: "ptrack-container"
                }, this.props.children)
            }
        });
    module.exports = PresTrackedContainer;


});


Requireify.register('js/components/presentationTracking/presentationTrackingElement.jsx', function(require, requireAsync, module, exports) {


    "use strict";
    var React = require("react"),
        _ = require("lodash"),
        AkiraContext = require("../../reactMixins/akiraContext"),
        presentationTracking = require("../../common/presentationTracking/presentationTracking"),
        DEFAULTS = require("../../common/presentationTracking/presentationTrackingConsts").DEFAULT_TRACKING_VALUES,
        PresTrackedElement = React.createClass({
            displayName: "PresTrackedElement",
            mixins: [AkiraContext],
            componentDidMount: function() {
                presentationTracking.requestScan()
            },
            componentWillUnmount: function() {
                presentationTracking.requestScan()
            },
            getDataAttribute: function(t, e, r) {
                var a;
                return a = _.isUndefined(this.props[t]) ? _.isUndefined(this.context[e]) ? r : this.context[e] : this.props[t]
            },
            render: function() {
                var t = {
                        location: this.getDataAttribute("location", "currentPage", DEFAULTS.STRING),
                        rank: this.getDataAttribute("rank", "rankNum", DEFAULTS.NUMBER),
                        request_id: this.getDataAttribute("requestId", "requestId", DEFAULTS.STRING),
                        row: this.getDataAttribute("row", "rowNum", DEFAULTS.NUMBER),
                        track_id: this.getDataAttribute("trackId", "trackId", -1),
                        video_id: this.getDataAttribute("videoId", "videoId", -1),
                        image_key: this.getDataAttribute("imageKey", "imageKey", DEFAULTS.STRING)
                    },
                    e = this.getDataAttribute("parentContext", "parentContext", void 0);
                return e && (t.parent_context = {
                    row: e.rowNum,
                    rank: e.rankNum,
                    request_id: e.requestId,
                    track_id: e.trackId
                }), React.createElement("div", {
                    className: "ptrack-content",
                    "data-ui-tracking-context": encodeURI(JSON.stringify(t))
                }, this.props.children)
            }
        });
    module.exports = PresTrackedElement;


});


Requireify.register('js/utils/reactUtils.js', function(require, requireAsync, module, exports) {


    "use strict";
    module.exports = {
        intersperse: function(e, t) {
            return 0 === e.length ? [] : e.slice(1).reduce(function(e, n, r) {
                return e.concat([t, n])
            }, [e[0]])
        }
    };


});


Requireify.register('js/akira/components/jawBone/overview/overview.jsx', function(require, requireAsync, module, exports) {


    "use strict";
    var React = require("react"),
        classNames = require("classnames"),
        Resume = require("./../resume.jsx"),
        Evidence = require("./evidence.jsx"),
        Link = require("../../controls/mainViewLink.jsx"),
        Thumbs = require("../../title/thumbs.jsx"),
        PlayButton = require("../../controls/playbutton.jsx"),
        VideoMeta = require("../../title/videoMeta.jsx"),
        MyListButton = require("../../title/myListButton.jsx"),
        PresTrackedContainer = require("../../../../components/presentationTracking/presentationTrackingContainer.jsx"),
        PresTrackedElement = require("../../../../components/presentationTracking/presentationTrackingElement.jsx"),
        I18N = require("../../../../reactMixins/i18nWithDeps"),
        Watched = require("../../../../reactMixins/video/watched"),
        Utils = require("../../../../utils/reactUtils"),
        AkiraContext = require("../../../../reactMixins/akiraContext"),
        OptimizationTest = require("../../../../utils/ab/optimizationTest"),
        AB = require("../../../../reactMixins/ab"),
        RatingsTestMixin = require("../../../../reactMixins/ab/ratingsRedesignTest"),
        TextUtils = require("../../../../utils/textUtils"),
        MAX_TAGS = 10,
        MAX_GENRES = 3,
        MAX_CAST_SHORT = 3,
        MAX_CAST_LONG = 6,
        BUNDLE = "discovery/akira/JawBone",
        Overview = React.createClass({
            displayName: "Overview",
            mixins: [I18N, Watched, AkiraContext, AB, RatingsTestMixin],
            statics: {
                getPaths: function(e) {
                    var t = [
                        [
                            ["summary", "regularSynopsis", "queue", "hookEvidence", "titleEvidence", "watched", "episodeCount", "info"]
                        ],
                        ["genres", "summary"],
                        ["genres", {
                                to: MAX_GENRES - 1
                            },
                            ["id", "name"]
                        ],
                        ["tags", "summary"],
                        ["tags", {
                                to: MAX_TAGS - 1
                            },
                            ["id", "name"]
                        ],
                        ["cast", "summary"],
                        ["cast", {
                                to: MAX_CAST_LONG - 1
                            },
                            ["id", "name"]
                        ]
                    ];
                    return e && (t = t.concat(VideoMeta.getPaths()).concat(Watched.getPaths()).concat(Resume.getPaths()).concat(PlayButton.getPaths())), t
                }
            },
            childContextTypes: {
                trackId: React.PropTypes.number
            },
            getChildContext: function() {
                var e = {};
                return this.props.trackId && (e.trackId = this.props.trackId), e
            },
            updateAfterAction: function() {
                this.isMounted() && this.forceUpdate()
            },
            render: function() {
                var e, t, a, i, n, r, s, l = this.props.model,
                    c = l.getValueSync(["summary"]),
                    o = l.getValueSync(["cast", "summary"]),
                    u = l.getValueSync(["genres", "summary"]),
                    m = l.getValueSync(["regularSynopsis"]),
                    d = l.getValueSync(["tags", "summary"]),
                    v = l.getValueSync(["info"]) || {},
                    g = l.getValueSync(["hookEvidence"]),
                    p = l.getValueSync(["titleEvidence"]),
                    h = l.getValueSync(["episodeCount"]),
                    y = this.getStrings(BUNDLE),
                    E = this.props.isPrePromo,
                    R = OptimizationTest.getJawOverviewColorModifier(this.context, ""),
                    w = OptimizationTest.getJawOverviewTextSize(this.context, ""),
                    S = [],
                    T = [],
                    x = [],
                    k = [],
                    b = y.get("separator") + " ",
                    A = "",
                    M = this.isInResumeState(),
                    N = this.isInNextUpState(),
                    f = null,
                    L = {
                        overview: !0
                    },
                    V = 200;
                if (!c) return null;
                for (m = TextUtils.ellipsize(m, V), s = E ? MAX_CAST_LONG : MAX_CAST_SHORT, t = o ? Math.min(s, o.length) : 0, a = u ? Math.min(MAX_GENRES, u.length) : 0, i = d ? Math.min(MAX_TAGS, d.length) : 0, A = "overview.this." + c.type + ".is", e = 0; t > e; e++) {
                    var q = l.bind(["cast", e]);
                    q && (n = q.getValueSync(["id"]), r = q.getValueSync(["name"]), r && S.push(React.createElement(Link, {
                        key: "cast" + e,
                        type: "person",
                        id: n
                    }, r)))
                }
                for (S = Utils.intersperse(S, b), e = 0; a > e; e++) {
                    var C = l.bind(["genres", e]);
                    C && (n = C.getValueSync(["id"]), r = C.getValueSync(["name"]), r && T.push(React.createElement(Link, {
                        key: "genres" + e,
                        type: "genre",
                        id: n
                    }, r)))
                }
                for (T = Utils.intersperse(T, b), e = 0; i > e; e++) {
                    var P = l.bind(["tags", e]);
                    P && (n = P.getValueSync(["id"]), r = P.getValueSync(["name"]), r && x.push(React.createElement(Link, {
                        key: "tags" + e,
                        type: "tag",
                        id: n
                    }, r)))
                }
                x = Utils.intersperse(x, b), c.isOriginal || (p && p.value ? k.push(React.createElement(Evidence, {
                    key: "titleEvidence",
                    type: p.type,
                    imgSrc: p.value.boxart
                }, y.get("overview.evidence.watched.by", {
                    title: p.value.title
                }))) : g && g.value && k.push(React.createElement(Evidence, {
                    key: "hookEvidence",
                    type: g.type,
                    kind: g.value.kind
                }, g.value.text))), "dark" === R && (L["dark-text"] = !0), "tight" === w && (L["tight-text"] = !0);
                var _ = !E,
                    B = v.message,
                    O = !!S.length,
                    U = T.length && !E,
                    I = k.length && !E && !B,
                    j = x.length && !E,
                    X = M || N ? "continue" : "start";
                return React.createElement("div", {
                    className: classNames(L)
                }, React.createElement(PresTrackedContainer, null, React.createElement(PresTrackedElement, {
                    videoId: c.id
                }, React.createElement("div", {
                    className: "jawbone-overview-info has-jawbone-nav-transition"
                }, _ ? React.createElement(VideoMeta, {
                    model: l,
                    withMaturityReasons: !0
                }) : null, "continue" === X ? React.createElement(Resume, {
                    model: l,
                    resume: M,
                    isStandalone: !h
                }) : null, "start" === X ? React.createElement("span", null, B ? React.createElement("div", {
                    className: "supplemental-message"
                }, v.message) : null, React.createElement("div", {
                    className: "synopsis"
                }, m ? m : React.createElement("b", {
                    style: {
                        color: "#fff"
                    }
                }, y.get("overview.loading"))), React.createElement("div", {
                    className: "listMeta"
                }, O ? React.createElement("p", null, y.get("overview.starring"), " ", React.createElement("span", {
                    className: "metaList"
                }, S)) : null, U ? React.createElement("p", null, y.get("overview.genres"), " ", React.createElement("span", {
                    className: "metaList"
                }, T)) : null, j ? React.createElement("p", null, y.get(A), " ", React.createElement("span", {
                    className: "metaList"
                }, x)) : null)) : null, I ? React.createElement("div", {
                    className: "user-evidence"
                }, React.createElement("ul", null, k)) : null, this.renderActionsRow()), f)))
            },
            renderActionsRow: function() {
                var e = this.props.model,
                    t = e.getValueSync(["queue"]),
                    a = e.getValueSync(["summary"]),
                    i = void 0 !== (e.getValueSync(["userRating"]) || {}).userRating;
                return React.createElement("div", {
                    className: "actionsRow"
                }, this.renderQueue(t, a), this.renderThumbs(e, a), this.renderThumbsLabel(i ? "overview.rating.label.rated" : "overview.rating.label.cta"))
            },
            renderQueue: function(e, t) {
                var a = this.getStrings(BUNDLE),
                    i = this.props.isPrePromo,
                    n = classNames({
                        myListWrapper: !0,
                        prePromo: i
                    }),
                    r = i ? this.updateAfterAction : null,
                    s = "synopsis" === OptimizationTest.getJawPlayButtonLocation(this.context);
                return e ? React.createElement("div", {
                    className: n
                }, s ? React.createElement(PlayButton, {
                    model: this.props.model,
                    flatButton: !0
                }) : null, React.createElement(MyListButton, {
                    model: this.props.model,
                    videoId: t.id,
                    inQueue: e.inQueue,
                    onStateChange: r,
                    flatButton: s
                }), e.inQueue && i ? React.createElement("div", {
                    className: "myListPrepromoMessage"
                }, a.get("mylist.prepromo.message")) : null) : null
            },
            renderThumbs: function(e, t) {
                return this.hasThumbInput() ? React.createElement("div", {
                    className: "thumbs-overview-wrapper"
                }, React.createElement(Thumbs, {
                    onRating: this.updateAfterAction,
                    model: e,
                    extraClass: "thumbs-animated",
                    videoId: t.id
                })) : null
            },
            renderThumbsLabel: function(e) {
                var t = this.getStrings(BUNDLE);
                return this.hasThumbInput() ? React.createElement("span", {
                    role: "presentation",
                    className: "ratingCTA"
                }, t.get(e)) : null
            }
        });
    Overview.__meta__ = {
        strings: [{
            bundle: BUNDLE,
            ids: ["overview.starring", "overview.genres", "overview.this.show.is", "overview.this.movie.is", "overview.reasons.to.watch", "overview.evidence.watched.by", "overview.resume", "overview.next.up", "mylist.prepromo.message", "overview.loading", "overview.rating.label.cta", "overview.rating.label.rated", "separator"]
        }]
    }, module.exports = Overview;


});


Requireify.register('js/akira/components/jawBone/overview/heroOverview.jsx', function(require, requireAsync, module, exports) {


    "use strict";
    var React = require("react"),
        classNames = require("classnames"),
        Resume = require("./../resume.jsx"),
        Thumbs = require("../../title/thumbs.jsx"),
        PlayButton = require("../../controls/playbutton.jsx"),
        VideoMeta = require("../../title/videoMeta.jsx"),
        MyListButton = require("../../title/myListButton.jsx"),
        PresTrackedContainer = require("../../../../components/presentationTracking/presentationTrackingContainer.jsx"),
        PresTrackedElement = require("../../../../components/presentationTracking/presentationTrackingElement.jsx"),
        I18N = require("../../../../reactMixins/i18nWithDeps"),
        Watched = require("../../../../reactMixins/video/watched"),
        AkiraContext = require("../../../../reactMixins/akiraContext"),
        OptimizationTest = require("../../../../utils/ab/optimizationTest"),
        TextUtils = require("../../../../utils/textUtils"),
        MAX_TAGS = 10,
        MAX_GENRES = 3,
        MAX_CAST_LONG = 6,
        BUNDLE = "discovery/akira/JawBone",
        HeroOverview = React.createClass({
            displayName: "HeroOverview",
            mixins: [I18N, Watched, AkiraContext],
            statics: {
                getPaths: function(e) {
                    var t = [
                        [
                            ["summary", "regularSynopsis", "queue", "hookEvidence", "titleEvidence", "watched", "episodeCount", "info"]
                        ],
                        ["genres", "summary"],
                        ["genres", {
                                to: MAX_GENRES - 1
                            },
                            ["id", "name"]
                        ],
                        ["tags", "summary"],
                        ["tags", {
                                to: MAX_TAGS - 1
                            },
                            ["id", "name"]
                        ],
                        ["cast", "summary"],
                        ["cast", {
                                to: MAX_CAST_LONG - 1
                            },
                            ["id", "name"]
                        ]
                    ];
                    return e && (t = t.concat(VideoMeta.getPaths()).concat(Watched.getPaths()).concat(Resume.getPaths()).concat(PlayButton.getPaths())), t
                }
            },
            childContextTypes: {
                trackId: React.PropTypes.number
            },
            getChildContext: function() {
                var e = {};
                return this.props.trackId && (e.trackId = this.props.trackId), e
            },
            updateAfterAction: function() {
                this.isMounted() && this.forceUpdate()
            },
            render: function() {
                var e = this.props.model,
                    t = e.getValueSync(["summary"]),
                    a = e.getValueSync(["regularSynopsis"]),
                    r = e.getValueSync(["info"]) || {},
                    i = e.getValueSync(["episodeCount"]),
                    s = this.getStrings(BUNDLE),
                    n = this.props.isPrePromo,
                    o = OptimizationTest.getJawOverviewColorModifier(this.context, ""),
                    c = OptimizationTest.getJawOverviewTextSize(this.context, ""),
                    l = [],
                    u = this.isInResumeState(),
                    m = this.isInNextUpState(),
                    d = null,
                    v = {
                        overview: !0
                    },
                    p = 200;
                if (!t) return null;
                a = TextUtils.ellipsize(a, p), "dark" === o && (v["dark-text"] = !0), "tight" === c && (v["tight-text"] = !0);
                var h = u || m ? "continue" : "start",
                    g = "continue" === h,
                    w = !n,
                    y = r.message,
                    R = l.length && !n && !y;
                return React.createElement("div", {
                    className: classNames(v)
                }, React.createElement(PresTrackedContainer, null, React.createElement(PresTrackedElement, {
                    videoId: t.id
                }, React.createElement("div", {
                    className: "jawbone-overview-info has-jawbone-nav-transition"
                }, w ? React.createElement(VideoMeta, {
                    model: e,
                    withMaturityReasons: !0
                }) : null, g ? React.createElement(Resume, {
                    model: e,
                    resume: u,
                    isStandalone: !i
                }) : null, "start" === h ? React.createElement("span", null, y ? React.createElement("div", {
                    className: "supplemental-message"
                }, r.message) : null, React.createElement("div", {
                    className: "synopsis heroSynopsis"
                }, a ? a : React.createElement("b", {
                    style: {
                        color: "#fff"
                    }
                }, s.get("overview.loading")))) : null, R ? React.createElement("div", {
                    className: "user-evidence"
                }, React.createElement("ul", null, l)) : null, this.renderActionsRow(g)), d)))
            },
            renderActionsRow: function(e) {
                var t = this.props.model,
                    a = t.getValueSync(["queue"]),
                    r = t.getValueSync(["summary"]),
                    i = void 0 !== (t.getValueSync(["userRating"]) || {}).userRating;
                return React.createElement("div", {
                    className: "actionsRow" + (e ? " continueWatching" : "")
                }, this.renderQueue(a, r, e), this.renderThumbs(t, r), this.renderThumbsLabel(i ? "overview.rating.label.rated" : "overview.rating.label.cta"))
            },
            renderQueue: function(e, t, a) {
                var r = this.getStrings(BUNDLE),
                    i = this.props.isPrePromo,
                    s = classNames({
                        myListWrapper: !0,
                        prePromo: i
                    }),
                    n = i ? this.updateAfterAction : null,
                    o = !a || "synopsis" === OptimizationTest.getJawPlayButtonLocation(this.context);
                return e ? React.createElement("div", {
                    className: s
                }, o ? React.createElement(PlayButton, {
                    model: this.props.model,
                    trackId: this.props.trackId,
                    flatButton: !0
                }) : null, React.createElement(MyListButton, {
                    model: this.props.model,
                    videoId: t.id,
                    inQueue: e.inQueue,
                    onStateChange: n,
                    flatButton: !0
                }), e.inQueue && i ? React.createElement("div", {
                    className: "myListPrepromoMessage"
                }, r.get("mylist.prepromo.message")) : null) : null
            },
            renderThumbs: function(e, t) {
                return Thumbs.stub ? null : React.createElement("div", {
                    className: "thumbs-overview-wrapper"
                }, React.createElement(Thumbs, {
                    onRating: this.updateAfterAction,
                    model: e,
                    extraClass: "thumbs-animated",
                    videoId: t.id
                }))
            },
            renderThumbsLabel: function(e) {
                var t = this.getStrings(BUNDLE);
                return Thumbs.stub ? null : React.createElement("span", {
                    className: "ratingCTA"
                }, t.get(e))
            }
        });
    HeroOverview.__meta__ = {
        strings: [{
            bundle: BUNDLE,
            ids: ["overview.starring", "overview.genres", "overview.this.show.is", "overview.this.movie.is", "overview.reasons.to.watch", "overview.evidence.watched.by", "overview.resume", "overview.next.up", "mylist.prepromo.message", "overview.loading", "overview.rating.label.cta", "overview.rating.label.rated"]
        }]
    }, module.exports = HeroOverview;


});


Requireify.register('js/common/imageExtension.js', function(require, requireAsync, module, exports) {


    "use strict";
    var contextData = require("../utils/contextData"),
        ImageExtension = {
            canUseWebPFromContext: function(e) {
                var t = e ? e.browserInfo && e.browserInfo.data || e.browserInfo : contextData.getFeatureData("browserInfo");
                return t ? t.features.webp : void 0
            },
            getExtensionForOpaqueImage: function(e) {
                return this.getWebpOrFallback(e, "jpg")
            },
            getExtensionForTransparentImage: function(e) {
                return this.getWebpOrFallback(e, "png")
            },
            getWebpOrFallback: function(e, t) {
                return this.canUseWebPFromContext(e) ? "webp" : t
            }
        };
    module.exports = ImageExtension;


});


Requireify.register('js/akira/components/jawBone/episodes/episodeCard.jsx', function(require, requireAsync, module, exports) {


    "use strict";
    var React = require("react"),
        classNames = require("classnames"),
        Progress = require("./../progress.jsx"),
        PlayButton = require("../../controls/playbutton.jsx"),
        LoadingBox = require("../../loaders/loadingBox.jsx"),
        PresTrackedElement = require("../../../../components/presentationTracking/presentationTrackingElement.jsx"),
        ImageExtension = require("../../../../common/imageExtension"),
        IsomorphicContext = require("../../../../reactMixins/isomorphicContextWithDeps"),
        AkiraContext = require("../../../../reactMixins/akiraContext"),
        Duration = require("../../title/duration.jsx"),
        TextUtils = require("../../../../utils/textUtils"),
        I18N = require("../../../../reactMixins/i18n"),
        _ = require("lodash"),
        IMAGE_SIZE = "_260x146",
        DEFAULT_PLACEHOLDER_DELAY = .5,
        PLACEHOLDER_DELAY_PER_ITEM = .2,
        BUNDLE = "discovery/akira/Jawbone",
        COMMONBUNDLE = "discovery/akira/Common",
        JAPANESE = "ja";
    module.exports = React.createClass({
        displayName: "exports",
        mixins: [IsomorphicContext, AkiraContext, I18N],
        childContextTypes: {
            rankNum: React.PropTypes.number
        },
        getChildContext: function() {
            return {
                rankNum: this.props.rankNum
            }
        },
        statics: {
            __meta__: {
                strings: [{
                    bundle: BUNDLE,
                    ids: ["new.episode", "episodes.episode.title"]
                }, {
                    bundle: COMMONBUNDLE,
                    ids: ["play.button.annotation.play"]
                }]
            },
            getPaths: function(e, t, a) {
                return [
                    [
                        ["summary", "synopsis", "title", "runtime", "bookmarkPosition"]
                    ],
                    ["interestingMoment", IMAGE_SIZE, ImageExtension.getExtensionForOpaqueImage(e)]
                ]
            }
        },
        getImage: function(e, t) {
            var a = ImageExtension.getExtensionForOpaqueImage(t);
            return e && e[IMAGE_SIZE] && e[IMAGE_SIZE][a] ? {
                backgroundImage: "url(" + e[IMAGE_SIZE][a].url + ")"
            } : {}
        },
        renderPlaceholders: function() {
            var e = {
                    "video-artwork": !0
                },
                t = DEFAULT_PLACEHOLDER_DELAY + PLACEHOLDER_DELAY_PER_ITEM * this.props.index;
            return React.createElement("div", {
                className: "episodeLockup"
            }, React.createElement(LoadingBox, {
                boxClassNames: e,
                delay: t,
                pulsate: !0,
                displayWhenNotPulsing: !1
            }))
        },
        clickPlayButton: function() {
            this.refs.playButton && React.findDOMNode(this.refs.playButton).click()
        },
        render: function() {
            if (this.props.isLoading) return this.renderPlaceholders();
            var e, t, a = this.props.model,
                i = this.props.show,
                s = a.getValueSync(["summary"]),
                r = a.getValueSync(["title"]),
                n = a.getValueSync(["interestingMoment"]),
                o = a.getValueSync(["synopsis"]),
                l = a.getValueSync(["runtime"]),
                c = a.getValueSync(["bookmarkPosition"]),
                u = c >= 0,
                m = this.getString(COMMONBUNDLE, "play.button.annotation.play"),
                p = this.getString(BUNDLE, "episodes.episode.title", {
                    EPISODE_NUMER: s.episode
                }),
                d = classNames({
                    episodeLockup: !0,
                    current: this.props.current,
                    sliderItemHidden: !this.props.itemTabbable
                }),
                E = classNames({
                    episodeNumber: !0,
                    noProgress: !u,
                    sliderRefocus: !0
                }),
                g = 75,
                x = _.get(this.getFeatureData("userContext"), "geo.preferredLocale.language", "en");
            return s ? (x === JAPANESE && (o = TextUtils.ellipsize(o, g)), t = this.getImage(n, this.getContext()), e = React.createElement(PlayButton, {
                ref: "playButton",
                tabIndex: this.props.itemTabbable ? 0 : -1,
                model: i,
                episode: a,
                className: "episodePlay",
                ariaLabel: m
            }), s.notStreaming && (r = r || this.getString(BUNDLE, "new.episode"), l = "", o = s.availabilityDateMessaging, e = null, t.opacity = .4), React.createElement("div", {
                className: d
            }, React.createElement(PresTrackedElement, {
                videoId: s.id
            }, React.createElement("div", {
                className: "episodeArt video-artwork",
                style: t
            }, React.createElement("div", {
                className: "numberVignette",
                onClick: this.clickPlayButton
            }), React.createElement("div", {
                className: E,
                tabIndex: -1
            }, React.createElement("span", {
                "aria-label": p
            }, s.episode)), u ? React.createElement(Progress, {
                runtime: l,
                bookmarkPosition: c,
                current: this.props.current
            }) : null, e)), React.createElement("div", {
                className: "episodeTitle"
            }, React.createElement("p", null, r), React.createElement(Duration, {
                runtime: l,
                onlyInMinutes: !0
            })), React.createElement("div", {
                className: "episodeSynopsis"
            }, o))) : null
        }
    });


});


Requireify.register('js/utils/doWithTimeout.js', function(require, requireAsync, module, exports) {


    "use strict";

    function clearTheTimeout(t) {
        t.timeout && (clearTimeout(t.timeout), t.timeout = null)
    }

    function operationDone(t, i) {
        clearTheTimeout(this), this.didTimeOut || this.next.call(this.thisArg || null, t, i)
    }

    function operationTimedOut() {
        this.didTimeOut = !0, this.timeout = null, this.next.call(this.thisArg || null, "timeout", null)
    }
    module.exports = function(t, i, e, o) {
        var u = {
            op: t,
            timeoutMS: i,
            didTimeOut: !1,
            timeout: null,
            next: e,
            thisArg: o
        };
        u.timeout = setTimeout(operationTimedOut.bind(u), i), t(function(t, i) {
            operationDone.call(u, t, i)
        })
    };


});


Requireify.register('js/reactMixins/falkor-auto-fetch.js', function(require, requireAsync, module, exports) {


    "use strict";
    var FalkorFetch = require("./falkor-fetch"),
        doWithTimeout = require("../utils/doWithTimeout"),
        inNode = require("../utils/inNode"),
        LOAD_TIMEOUT = 15e3,
        ClientFalkorAutoFetch = {
            mixins: [FalkorFetch],
            _isAutoLoading: !1,
            autoLoadDone: function(t, o) {
                this._isAutoLoading = !1, this.emit("auto-fetch-done", t, o)
            },
            startAutoLoad: function(t) {
                if (t.isPrefetchingPaths) return !0;
                var o, i = this;
                o = function(o) {
                    i._isAutoLoading = !0, i.ensureDataLoaded(!0, t, o)
                }, doWithTimeout(o, LOAD_TIMEOUT, i.autoLoadDone, i)
            },
            componentWillMount: function() {
                "function" == typeof this.prepareForAutoFetch && this.prepareForAutoFetch(), this.startAutoLoad(this.props)
            },
            componentWillReceiveProps: function(t) {
                this.startAutoLoad(t)
            },
            isAutoLoading: function() {
                return this._isAutoLoading || this.props.isPrefetchingPaths
            }
        },
        ServerFalkorAutoFetch = {
            isLoading: function() {
                return !1
            },
            isAutoLoading: function() {
                return !1
            }
        };
    module.exports = inNode ? ServerFalkorAutoFetch : ClientFalkorAutoFetch;


});


Requireify.register('js/akira/components/jawBone/episodes/episodesList.jsx', function(require, requireAsync, module, exports) {


    "use strict";
    var React = require("react"),
        EpisodeCard = require("./episodeCard.jsx"),
        PresTrackedContainer = require("../../../../components/presentationTracking/presentationTrackingContainer.jsx"),
        Slider = require("../../slider/slider.jsx"),
        AkiraContext = require("../../../../reactMixins/akiraContext"),
        AutoFetch = require("../../../../reactMixins/falkor-auto-fetch"),
        MAX_EPISODES = 40,
        MAX_PLACEHOLDER_EPISODES = 5,
        EpisodesList = React.createClass({
            displayName: "EpisodesList",
            mixins: [AutoFetch, AkiraContext],
            statics: {
                getPaths: function(e, s, i) {
                    var t = [
                            ["episodes", "summary"],
                            ["episodes", "current", "summary"]
                        ],
                        r = i && void 0 !== i.numEpisodes ? i.numEpisodes : MAX_EPISODES,
                        n = EpisodeCard.getPaths(e).map(function(e) {
                            return ["episodes", {
                                from: -1,
                                to: r
                            }].concat(e)
                        });
                    return t.concat(n)
                }
            },
            getDefaultProps: function() {
                return {
                    seasonIndex: "current"
                }
            },
            getEpisodesList: function() {
                var e, s, i, t = this.props.model,
                    r = [];
                if (this.initialLowestVisibleIndex = 0, !t.getBoundValue()) return r;
                if (i = t.getValueSync(["episodes", "current", "summary"]), e = t.bind(["episodes"]), s = e.getValueSync(["summary"]), !s) return r;
                for (var n = 0; n < s.length; n++) {
                    var o, a, d = e.bind([n]);
                    d.getBoundValue() && (o = d.getValueSync(["summary"]), i && (a = o.id === i.id, a && (this.initialLowestVisibleIndex = n > 0 ? n - 1 : n)), r.push(React.createElement(EpisodeCard, {
                        key: "episode" + n,
                        show: this.props.show,
                        season: t,
                        model: d,
                        current: a,
                        rankNum: n
                    })))
                }
                return r
            },
            getLoadingEpisodeList: function() {
                for (var e = [], s = 0; MAX_PLACEHOLDER_EPISODES > s; s++) e.push(React.createElement(EpisodeCard, {
                    key: "episode" + s,
                    isLoading: !0,
                    index: s
                }));
                return e
            },
            render: function() {
                var e, s, i;
                return this.props.isLoading ? (e = MAX_PLACEHOLDER_EPISODES, s = this.getLoadingEpisodeList(), i = "placeholder-episodes-" + this.props.seasonIndex) : (e = this.context.columnsInRow - 1, s = this.getEpisodesList(), i = "season-" + this.props.seasonIndex + this.initialLowestVisibleIndex), React.createElement("div", {
                    className: "episodeWrapper"
                }, React.createElement(PresTrackedContainer, null, React.createElement(Slider, {
                    itemsInRow: e,
                    totalItems: s.length,
                    key: i,
                    initialLowestVisibleIndex: this.initialLowestVisibleIndex,
                    onSliderMove: this.props.onSliderMove
                }, s)))
            }
        });
    module.exports = EpisodesList;


});


Requireify.register('js/akira/components/controls/nfDropdown.jsx', function(require, requireAsync, module, exports) {


    "use strict";
    var _extends = Object.assign || function(e) {
            for (var t = 1; t < arguments.length; t++) {
                var s = arguments[t];
                for (var n in s) Object.prototype.hasOwnProperty.call(s, n) && (e[n] = s[n])
            }
            return e
        },
        React = require("react"),
        classNames = require("classnames"),
        SubMenu = require("./subMenu.jsx");
    module.exports = React.createClass({
        displayName: "exports",
        getDefaultProps: function() {
            return {
                widthRestricted: !0,
                isReadOnly: !0
            }
        },
        getInitialState: function() {
            return {
                open: !1
            }
        },
        componentWillUnmount: function() {
            document.removeEventListener("click", this.close)
        },
        close: function(e) {
            document.removeEventListener("click", this.close), this.setState({
                open: !1
            })
        },
        handleClick: function() {
            this.isReadOnly() || (this.setState({
                open: !0
            }), document.addEventListener("click", this.close))
        },
        handleSubMenuClick: function() {
            this.close()
        },
        isReadOnly: function() {
            return this.props.isReadOnly && this.props.options && 1 === this.props.options.length
        },
        render: function() {
            var e, t = 1,
                s = classNames({
                    nfDropDown: !0,
                    widthRestricted: this.props.widthRestricted,
                    readOnly: this.isReadOnly()
                }),
                n = classNames({
                    label: !0,
                    loading: this.props.isLoading
                });
            return this.props.isLoading && (e = ""), this.props.label && (e = this.props.label), this.props.defaultValue && (e = this.props.defaultValue), this.props.cols && (t = this.props.cols), React.createElement("div", _extends({}, this.props, {
                className: s
            }), React.createElement("div", {
                className: n,
                onClick: this.handleClick
            }, e, React.createElement("span", {
                className: "arrow"
            })), this.state.open ? React.createElement(SubMenu, {
                items: this.props.options,
                cols: t,
                onClick: this.handleSubMenuClick,
                showTopBar: !1
            }) : null)
        }
    });


});


Requireify.register('js/akira/components/jawBone/episodes/episodes.jsx', function(require, requireAsync, module, exports) {


    "use strict";
    var React = require("react"),
        EpisodesList = require("./episodesList.jsx"),
        Dropdown = require("../../controls/nfDropdown.jsx"),
        I18N = require("../../../../reactMixins/i18n"),
        IsomorphicContext = require("../../../../reactMixins/isomorphicContextWithDeps"),
        MAX_DROPDOWN_SEASONS = 20,
        BUNDLE = "discovery/akira/JawBone",
        getPaths = function(e, s, t) {
            var n, a = void 0 !== t.seasonIndex ? t.seasonIndex : "current",
                i = void 0 !== t.numSeasons ? t.numSeasons : MAX_DROPDOWN_SEASONS,
                o = EpisodesList.getPaths(e).map(function(e) {
                    return ["seasonList", a].concat(e)
                });
            return n = [
                ["seasonList", "summary"],
                ["seasonList", {
                    to: i
                }, "summary"]
            ].concat(o)
        };
    module.exports = React.createClass({
        displayName: "exports",
        mixins: [I18N, IsomorphicContext],
        statics: {
            getPaths: getPaths,
            __meta__: {
                strings: [{
                    bundle: BUNDLE,
                    ids: ["episodes.unavailable"]
                }]
            }
        },
        childContextTypes: {
            trackId: React.PropTypes.number
        },
        getChildContext: function() {
            var e = {};
            return this.props.trackId && (e.trackId = this.props.trackId), e
        },
        getInitialState: function() {
            return {
                seasonIndex: void 0
            }
        },
        getSeasonOptions: function() {
            var e, s, t, n = this.props.model,
                a = [],
                i = n.bind(["seasonList"]),
                o = i.getValueSync(["summary"]),
                r = i.bind(["current"]);
            if (!o) return null;
            for (r && (t = r.getValueSync(["summary"]), t && (s = t.id)), e = 0; e < o.length; e++) {
                var d, u = i.bind([e]).getValueSync(["summary"]),
                    c = e;
                u && (u.id === s && (this.currentSeasonIndex = e), d = React.createElement("a", {
                    className: "sub-menu-link",
                    key: "season" + e,
                    onClick: this.dropDownClickHandler(c)
                }, u.name), a.push(d))
            }
            return a
        },
        dropDownClickHandler: function(e) {
            var s = this;
            return function() {
                s.handleSeasonDropDownChange(e)
            }
        },
        handleSeasonDropDownChange: function(e) {
            this.setState({
                seasonIndex: e
            })
        },
        renderError: function() {
            return React.createElement("p", {
                className: "unavailable"
            }, this.getString(BUNDLE, "episodes.unavailable"))
        },
        render: function() {
            var e, s, t, n, a, i = this.props.model,
                o = this.getSeasonOptions(),
                r = i.getValueSync(["summary"]),
                d = i.bind(["seasonList"]);
            return o || this.props.isLoading ? (void 0 === this.state.seasonIndex && (this.state.seasonIndex = this.currentSeasonIndex), e = "episodes-" + r.id + "-" + this.state.seasonIndex, s = d.bind([this.state.seasonIndex]), t = s.getValueSync(["summary"]), n = t && t.length, a = o ? o[this.state.seasonIndex] : "", React.createElement("div", null, React.createElement(Dropdown, {
                options: o,
                defaultValue: a,
                isLoading: this.props.isLoading
            }), React.createElement(EpisodesList, {
                key: e,
                seasonIndex: this.state.seasonIndex,
                pqls: EpisodesList.getPaths(this.getContext(), null, {
                    numEpisodes: n
                }),
                show: i,
                model: s,
                isLoading: this.props.isLoading,
                onSliderMove: this.props.onSliderMove
            }))) : this.renderError()
        }
    });


});


Requireify.register('js/akira/components/jawBone/moreLikeThis/moreLikeThisCard.jsx', function(require, requireAsync, module, exports) {


    "use strict";
    var React = require("react"),
        classNames = require("classnames"),
        PlayButton = require("../../controls/playbutton.jsx"),
        LoadingBox = require("../../loaders/loadingBox.jsx"),
        VideoMeta = require("../../title/videoMeta.jsx"),
        MyListButton = require("../../title/myListButton.jsx"),
        ImageExtension = require("../../../../common/imageExtension"),
        PresTrackedElement = require("../../../../components/presentationTracking/presentationTrackingElement.jsx"),
        IsomorphicContext = require("../../../../reactMixins/isomorphicContextWithDeps"),
        AkiraContext = require("../../../../reactMixins/akiraContext"),
        TextUtils = require("../../../../utils/textUtils"),
        _ = require("lodash"),
        IMAGE_SIZE = "_260x146",
        TITLE_CARD_IMAGE_SIZE = "_342x192",
        DEFAULT_PLACEHOLDER_DELAY = .5,
        PLACEHOLDER_DELAY_PER_ITEM = .2,
        JAPANESE = "ja";
    module.exports = React.createClass({
        displayName: "exports",
        mixins: [IsomorphicContext, AkiraContext],
        childContextTypes: {
            rankNum: React.PropTypes.number
        },
        getChildContext: function() {
            return {
                rankNum: this.props.rankNum
            }
        },
        statics: {
            getPaths: function(e, t, a) {
                return [
                    [
                        ["synopsis", "title", "summary", "queue", "trackId"]
                    ],
                    ["boxarts", IMAGE_SIZE, ImageExtension.getExtensionForOpaqueImage(e)],
                    ["boxarts", TITLE_CARD_IMAGE_SIZE, ImageExtension.getExtensionForOpaqueImage(e)]
                ].concat(VideoMeta.getPaths()).concat(PlayButton.getPaths())
            }
        },
        clickPlayButton: function() {
            this.refs.playButton && React.findDOMNode(this.refs.playButton).click()
        },
        renderPlaceholders: function() {
            var e = {
                    "video-artwork": !0
                },
                t = DEFAULT_PLACEHOLDER_DELAY + PLACEHOLDER_DELAY_PER_ITEM * this.props.index;
            return React.createElement("div", {
                className: "simsLockup"
            }, React.createElement(LoadingBox, {
                boxClassNames: e,
                delay: t,
                pulsate: !0,
                displayWhenNotPulsing: !1
            }))
        },
        render: function() {
            if (this.props.isLoading) return this.renderPlaceholders();
            var e, t = this.props.model,
                a = t.getValueSync(["summary"]),
                s = t.getValueSync(["boxarts"]),
                r = t.getValueSync(["title"]),
                i = t.getValueSync(["synopsis"]),
                n = t.getValueSync(["queue"]),
                o = a && a.id,
                l = ImageExtension.getExtensionForOpaqueImage(this.getContext()),
                c = 98,
                u = _.get(this.getFeatureData("userContext"), "geo.preferredLocale.language", "en"),
                m = classNames({
                    simsLockup: !0,
                    sliderRefocus: !0,
                    sliderItemHidden: !this.props.itemTabbable
                });
            return u === JAPANESE && (i = TextUtils.ellipsize(i, c)), s && s[IMAGE_SIZE] && s[IMAGE_SIZE][l] && (e = {
                backgroundImage: "url(" + s[IMAGE_SIZE][l].url + ")"
            }), React.createElement("div", {
                className: m,
                tabIndex: -1,
                "aria-label": r,
                "aria-role": "group"
            }, React.createElement(PresTrackedElement, {
                videoId: o
            }, React.createElement("div", {
                className: "video-artwork sims-artwork",
                style: e,
                alt: r,
                onClick: this.clickPlayButton
            }, React.createElement(PlayButton, {
                model: t,
                className: "simsPlay",
                ref: "playButton",
                tabIndex: this.props.itemTabbable ? 0 : -1
            }), React.createElement(MyListButton, {
                model: t.hardBind([]),
                showToolTip: !0,
                videoId: o,
                inQueue: n.inQueue,
                labelOnHover: !0,
                labelLeft: !0,
                tabIndex: this.props.itemTabbable ? 0 : -1
            }))), React.createElement(VideoMeta, {
                model: t,
                readOnly: !0
            }), React.createElement("div", {
                className: "simsSynopsis"
            }, i))
        }
    });


});


Requireify.register('js/akira/components/jawBone/moreLikeThis/moreLikeThis.jsx', function(require, requireAsync, module, exports) {


    "use strict";
    var React = require("react"),
        MoreLikeThisCard = require("./moreLikeThisCard.jsx"),
        Slider = require("../../slider/slider.jsx"),
        AkiraContext = require("../../../../reactMixins/akiraContext"),
        PresTrackedContainer = require("../../../../components/presentationTracking/presentationTrackingContainer.jsx"),
        I18N = require("../../../../reactMixins/i18nWithDeps"),
        NUM_PER_PANE = 25,
        MAX_PLACEHOLDER_SIMS = 5,
        BUNDLE = "discovery/akira/JawBone";
    module.exports = React.createClass({
        displayName: "exports",
        NUM_PER_PANE: NUM_PER_PANE,
        statics: {
            getPaths: function(e, r, t) {
                var i = MoreLikeThisCard.getPaths(e, r, t).map(function(e) {
                    return ["similars", {
                        to: NUM_PER_PANE
                    }].concat(e)
                });
                return [
                    ["similars", ["summary", "trackId"]]
                ].concat(i)
            },
            __meta__: {
                strings: [{
                    bundle: BUNDLE,
                    ids: ["more.like.this.unavailable"]
                }]
            }
        },
        mixins: [I18N, AkiraContext],
        childContextTypes: {
            trackId: React.PropTypes.number
        },
        getChildContext: function() {
            return {
                trackId: this.getTrackId()
            }
        },
        getTrackId: function() {
            var e = this.props.model,
                r = e.bind(["similars"]),
                t = r.getValueSync(["trackId"]);
            return t
        },
        getSims: function() {
            var e, r = this.props.model,
                t = r.hardBind(["similars"]),
                i = t.getValueSync(["summary"]),
                n = 5,
                a = [];
            if (!i) return null;
            "undefined" != typeof i.length && (n = Math.min(this.NUM_PER_PANE, i.length));
            for (var s = 0; n > s; s++) e = t.bind([s]), e.getBoundValue() && a.push(React.createElement(MoreLikeThisCard, {
                key: "sims" + s,
                model: e,
                rankNum: s
            }));
            return a
        },
        getLoadingSimsList: function() {
            for (var e = [], r = 0; MAX_PLACEHOLDER_SIMS > r; r++) e.push(React.createElement(MoreLikeThisCard, {
                key: "sims" + r,
                isLoading: !0,
                index: r
            }));
            return e
        },
        renderError: function() {
            return React.createElement("p", {
                className: "unavailable"
            }, this.getString(BUNDLE, "more.like.this.unavailable"))
        },
        render: function() {
            var e, r, t = !0;
            if (this.props.isLoading) e = MAX_PLACEHOLDER_SIMS, r = this.getLoadingSimsList(), t = !1;
            else if (e = this.context.columnsInRow - 1, r = this.getSims(), null === r || 0 === r.length) return this.renderError();
            return React.createElement("div", {
                className: "simsWrapper"
            }, React.createElement(PresTrackedContainer, null, React.createElement(Slider, {
                itemsInRow: e,
                totalItems: r.length,
                enableLooping: t,
                onSliderMove: this.props.onSliderMove
            }, r)))
        }
    });


});


Requireify.register('js/akira/components/jawBone/trailers/trailerCard.jsx', function(require, requireAsync, module, exports) {


    "use strict";
    var React = require("react"),
        PlayButton = require("../../controls/playbutton.jsx"),
        LoadingBox = require("../../loaders/loadingBox.jsx"),
        PresTrackedElement = require("../../../../components/presentationTracking/presentationTrackingElement.jsx"),
        ImageExtension = require("../../../../common/imageExtension"),
        IsomorphicContext = require("../../../../reactMixins/isomorphicContextWithDeps"),
        AkiraContext = require("../../../../reactMixins/akiraContext"),
        IMAGE_SIZE = "_260x146",
        DEFAULT_PLACEHOLDER_DELAY = .5,
        PLACEHOLDER_DELAY_PER_ITEM = .2;
    module.exports = React.createClass({
        displayName: "exports",
        mixins: [IsomorphicContext, AkiraContext],
        childContextTypes: {
            rankNum: React.PropTypes.number
        },
        getChildContext: function() {
            return {
                rankNum: this.props.rankNum
            }
        },
        getImage: function(e, t) {
            var r = ImageExtension.getExtensionForOpaqueImage(t);
            return e && e[IMAGE_SIZE] && e[IMAGE_SIZE][r] ? {
                backgroundImage: "url(" + e[IMAGE_SIZE][r].url + ")"
            } : {}
        },
        statics: {
            getPaths: function(e, t, r) {
                return [
                    [
                        ["title", "summary", "trackId"]
                    ],
                    ["interestingMoment", IMAGE_SIZE, ImageExtension.getExtensionForOpaqueImage(e)]
                ].concat(PlayButton.getPaths())
            }
        },
        clickPlayButton: function() {
            this.refs.playButton && React.findDOMNode(this.refs.playButton).click()
        },
        renderPlaceholders: function() {
            var e = {
                    "video-artwork": !0
                },
                t = DEFAULT_PLACEHOLDER_DELAY + PLACEHOLDER_DELAY_PER_ITEM * this.props.index;
            return React.createElement("div", {
                className: "trailerLockup"
            }, React.createElement(LoadingBox, {
                boxClassNames: e,
                delay: t,
                pulsate: !0,
                displayWhenNotPulsing: !1
            }))
        },
        render: function() {
            if (this.props.isLoading) return this.renderPlaceholders();
            var e, t = this.props.model,
                r = t.getValueSync(["summary"]),
                a = t.getValueSync(["interestingMoment"]),
                n = t.getValueSync(["title"]),
                i = r && r.id;
            return a && (e = this.getImage(a, this.getContext())), React.createElement("div", {
                className: "trailerLockup"
            }, React.createElement(PresTrackedElement, {
                videoId: i
            }, React.createElement("div", {
                className: "video-artwork trailer-artwork",
                style: e,
                alt: n,
                onClick: this.clickPlayButton
            }, React.createElement(PlayButton, {
                model: t,
                className: "trailerPlay",
                startTime: "0",
                ref: "playButton"
            }))), React.createElement("div", {
                className: "trailerTitle"
            }, n))
        }
    });


});


Requireify.register('js/akira/components/jawBone/trailers/trailers.jsx', function(require, requireAsync, module, exports) {


    "use strict";
    var React = require("react"),
        TrailerCard = require("./trailerCard.jsx"),
        Slider = require("../../slider/slider.jsx"),
        AkiraContext = require("../../../../reactMixins/akiraContext"),
        PresTrackedContainer = require("../../../../components/presentationTracking/presentationTrackingContainer.jsx"),
        I18N = require("../../../../reactMixins/i18nWithDeps"),
        NUM_PER_PANE = 25,
        MAX_PLACEHOLDERS = 5,
        BUNDLE = "discovery/akira/JawBone";
    module.exports = React.createClass({
        displayName: "exports",
        statics: {
            getPaths: function(e, r, t) {
                var a = TrailerCard.getPaths(e, r, t).map(function(e) {
                    return ["trailers", {
                        to: NUM_PER_PANE
                    }].concat(e)
                });
                return [
                    ["trailers", ["summary", "recapCount"]]
                ].concat(a)
            },
            __meta__: {
                strings: [{
                    bundle: BUNDLE,
                    ids: ["trailers.unavailable"]
                }]
            }
        },
        childContextTypes: {
            trackId: React.PropTypes.number
        },
        mixins: [I18N, AkiraContext],
        getChildContext: function() {
            var e = {};
            return this.props.trackId && (e.trackId = this.props.trackId), e
        },
        getTrailers: function() {
            var e, r = this.props.model,
                t = r.bind(["trailers"]),
                a = t.getValueSync(["summary"]),
                i = 5,
                n = [];
            if (!a) return null;
            "undefined" != typeof a.length && (i = Math.min(NUM_PER_PANE, a.length));
            for (var s = 0; i > s; s++) e = t.bind([s]), e.getBoundValue() && n.push(React.createElement(TrailerCard, {
                key: "trailer" + s,
                model: e,
                rankNum: s
            }));
            return n
        },
        getLoadingTrailersList: function() {
            for (var e = [], r = 0; MAX_PLACEHOLDERS > r; r++) e.push(React.createElement(TrailerCard, {
                key: "trailer" + r,
                isLoading: !0,
                index: r
            }));
            return e
        },
        renderError: function() {
            return React.createElement("p", {
                className: "unavailable"
            }, this.getString(BUNDLE, "trailers.unavailable"))
        },
        render: function() {
            var e, r;
            if (this.props.isLoading) e = MAX_PLACEHOLDERS, r = this.getLoadingTrailersList();
            else if (e = this.context.columnsInRow - 1, r = this.getTrailers(), null === r || 0 === r.length) return this.renderError();
            return React.createElement("div", {
                className: "trailerWrapper"
            }, React.createElement(PresTrackedContainer, null, React.createElement(Slider, {
                itemsInRow: e,
                totalItems: r.length,
                enableLooping: !1,
                onSliderMove: this.props.onSliderMove
            }, r)))
        }
    });


});


Requireify.register('js/akira/components/jawBone/details/festival.jsx', function(require, requireAsync, module, exports) {


    "use strict";
    var React = require("react"),
        Link = require("../../controls/mainViewLink.jsx"),
        I18N = require("../../../../reactMixins/i18nWithDeps"),
        ENTITY_REG = "®",
        BUNDLE = "discovery/akira/JawBone",
        getPaths = function(e, t, a) {
            return [
                [
                    ["length", "name", "year"]
                ],
                [{
                        to: 10
                    },
                    ["type", "winner"]
                ],
                [{
                    to: 10
                }, "person", ["name", "id"]]
            ]
        };
    module.exports = React.createClass({
        displayName: "exports",
        statics: {
            getPaths: getPaths,
            __meta__: {
                strings: [{
                    bundle: "discovery/akira/JawBone",
                    ids: ["details.award.nominee"]
                }]
            }
        },
        mixins: [I18N],
        render: function() {
            var e, t = this.props.model,
                a = t.getValueSync(["name"]) + ENTITY_REG,
                n = t.getValueSync(["year"]),
                r = n ? n + " " + a : a,
                i = t.getValueSync(["length"]),
                s = [],
                l = 0;
            for (e = 0; i > e; e++) {
                var c, u, m = t.bind([e]),
                    o = m.bind(["person"]),
                    d = m.getValueSync(["type"]),
                    p = m.getValueSync(["winner"]),
                    y = o.getValueSync(["name"]),
                    g = o.getValueSync(["id"]),
                    E = null;
                if (l += 1.5, g && (l += 2, E = React.createElement("ul", null, React.createElement("li", null, React.createElement(Link, {
                        type: "person",
                        id: g
                    }, y)))), this.props.maxLines && l >= this.props.maxLines) break;
                c = p ? d : this.getString(BUNDLE, "details.award.nominee", {
                    TYPE: d
                }), u = c + (E ? ":" : ""), s.push(React.createElement("div", {
                    key: "award" + e
                }, React.createElement("h5", {
                    className: "listLabel"
                }, u), E ? E : null))
            }
            return React.createElement("div", null, React.createElement("h4", {
                className: "listLabel"
            }, r), s)
        }
    });


});


Requireify.register('js/akira/components/jawBone/details/detailsColumn.jsx', function(require, requireAsync, module, exports) {


    "use strict";
    var React = require("react"),
        _ = require("lodash"),
        classNames = require("classnames"),
        DetailsColumn = React.createClass({
            displayName: "DetailsColumn",
            getDefaultProps: function() {
                return {
                    classSet: {}
                }
            },
            render: function() {
                var e = _.merge({
                    detailsItem: !0
                }, this.props.classSet);
                return React.createElement("div", {
                    key: this.props.key,
                    className: classNames(e)
                }, this.props.children)
            }
        });
    module.exports = DetailsColumn;


});


Requireify.register('js/akira/components/jawBone/details/people.jsx', function(require, requireAsync, module, exports) {


    "use strict";
    var React = require("react"),
        I18N = require("../../../../reactMixins/i18nWithDeps"),
        Link = require("../../controls/mainViewLink.jsx"),
        _ = require("lodash"),
        DetailsColumn = require("./detailsColumn.jsx"),
        MAX_CAST = 50,
        MAX_CREATORS = 50,
        MAX_DIRECTORS = 50,
        MAX_LINES_PER_COLUMN_DOUBLE_BYTE = 11,
        MAX_LINES_PER_COLUMN_SINGLE_BYTE = 15,
        BUNDLE = "discovery/akira/JawBone",
        JAPANESE = "ja",
        People = React.createClass({
            displayName: "People",
            statics: {
                getPaths: function(e, t, r) {
                    return [
                        ["creators", "summary"],
                        ["creators", {
                                to: MAX_CREATORS - 1
                            },
                            ["id", "name"]
                        ],
                        ["directors", "summary"],
                        ["directors", {
                                to: MAX_DIRECTORS - 1
                            },
                            ["id", "name"]
                        ],
                        ["cast", "summary"],
                        ["cast", {
                                to: MAX_CAST - 1
                            },
                            ["id", "name"]
                        ]
                    ]
                },
                __meta__: {
                    strings: [{
                        bundle: "discovery/akira/JawBone:details",
                        ids: ["creator", "director", "cast"]
                    }]
                }
            },
            mixins: [I18N],
            renderList: function(e, t, r, a) {
                var i, n = [];
                for (i = 0; i < Math.min(e, t.length); i++) {
                    var s, l, c = this.props.model.bind([r, i]);
                    c && (s = c.getValueSync(["id"]), l = c.getValueSync(["name"]), l && s && n.push(React.createElement("li", {
                        key: r + i
                    }, React.createElement(Link, {
                        type: "person",
                        id: s
                    }, l))))
                }
                return n.length && n.unshift(React.createElement("li", {
                    className: "listLabel"
                }, a)), n
            },
            _renderMultipleColumns: function(e, t, r) {
                return _.flatten(_.chunk(e, r).map(function(e, r) {
                    return React.createElement(DetailsColumn, {
                        key: "detailsMedia" + r,
                        classSet: {
                            detailsMedia: !0
                        }
                    }, 0 === r && t ? {
                        additionalNodes: t
                    } : null, e.length ? React.createElement("ul", null, e) : null)
                }))
            },
            render: function() {
                var e = [],
                    t = [],
                    r = [],
                    a = this.props.model,
                    i = a.getValueSync(["creators", "summary"]),
                    n = a.getValueSync(["directors", "summary"]),
                    s = a.getValueSync(["cast", "summary"]),
                    l = _.get(this.getFeatureData("geo"), "preferredLocale.language", "en") === JAPANESE,
                    c = l ? MAX_LINES_PER_COLUMN_DOUBLE_BYTE : MAX_LINES_PER_COLUMN_SINGLE_BYTE;
                return i && (t = this.renderList(MAX_CREATORS, i, "creators", this.getString(BUNDLE, "details.creator"))), n && (r = this.renderList(MAX_DIRECTORS, n, "directors", this.getString(BUNDLE, "details.director"))), s && (e = this.renderList(MAX_CAST, s, "cast", this.getString(BUNDLE, "details.cast"))), t.length || r.length || e.length ? React.createElement("span", null, this._renderMultipleColumns(t.concat(r, e), this.props.children, c)) : null
            }
        });
    module.exports = People;


});


Requireify.register('js/akira/components/jawBone/details/tags.jsx', function(require, requireAsync, module, exports) {


    "use strict";
    var React = require("react"),
        I18N = require("../../../../reactMixins/i18nWithDeps"),
        Link = require("../../controls/mainViewLink.jsx"),
        MAX_GENRES = 4,
        MAX_TAGS = 2,
        BUNDLE = "discovery/akira/JawBone",
        Tags = React.createClass({
            displayName: "Tags",
            statics: {
                getPaths: function(e, t, s) {
                    return [
                        ["genres", "summary"],
                        ["genres", {
                                to: MAX_GENRES - 1
                            },
                            ["id", "name"]
                        ],
                        ["tags", "summary"],
                        ["tags", {
                                to: MAX_TAGS - 1
                            },
                            ["id", "name"]
                        ]
                    ]
                },
                __meta__: {
                    strings: [{
                        bundle: "discovery/akira/JawBone:details",
                        ids: ["genres", "this.show.is", "this.movie.is"]
                    }]
                }
            },
            mixins: [I18N],
            renderList: function(e, t, s, a) {
                var n, i = [];
                for (n = 0; n < Math.min(e, t.length); n++) {
                    var r, l, g = this.props.model.bind([s, n]);
                    g && (r = g.getValueSync(["id"]), l = g.getValueSync(["name"]), l && r && i.push(React.createElement("li", {
                        key: s + n
                    }, React.createElement(Link, {
                        type: a,
                        id: r
                    }, l))))
                }
                return i
            },
            render: function() {
                var e = [],
                    t = [],
                    s = this.props.model,
                    a = s.getValueSync(["genres", "summary"]),
                    n = s.getValueSync(["tags", "summary"]),
                    i = this.props.isShow ? this.getString(BUNDLE, "details.this.show.is") : this.getString(BUNDLE, "details.this.movie.is");
                return a && (e = this.renderList(MAX_GENRES, a, "genres", "genre")), n && (t = this.renderList(MAX_TAGS, n, "tags", "tag")), e.length || t.length ? React.createElement("div", null, e.length ? React.createElement("h4", {
                    className: "listLabel"
                }, this.getString(BUNDLE, "details.genres")) : null, e.length ? React.createElement("ul", null, e) : null, t.length ? React.createElement("h4", {
                    className: "listLabel"
                }, i) : null, t.length ? React.createElement("ul", null, t) : null) : null
            }
        });
    module.exports = Tags;


});


Requireify.register('js/akira/components/reviews/reviewText.jsx', function(require, requireAsync, module, exports) {


    "use strict";
    var React = require("react"),
        _ = require("lodash"),
        ReviewText = React.createClass({
            displayName: "ReviewText",
            FULL_WIDTH_CHARS_REGEX: /[\u3000-\u30ff\uff00-\uffef\u4e00-\u9faf\u3400-\u4dbf]/,
            FULL_WIDTH_CHARS_LENGTH_MULTIPLIER: .4,
            getInitialState: function() {
                var e = null;
                return this.props.maxLength && (e = this.FULL_WIDTH_CHARS_REGEX.test(this.props.text)), {
                    hasFullWidthCharacters: e
                }
            },
            render: function() {
                var e = this.props.text,
                    t = this.props.maxLength;
                return t && (this.state.hasFullWidthCharacters === !0 && (t *= this.FULL_WIDTH_CHARS_LENGTH_MULTIPLIER), e = _.trunc(e, {
                    length: t,
                    separator: /\s/
                })), React.createElement("div", {
                    className: "reviewText"
                }, e)
            }
        });
    module.exports = ReviewText;


});


Requireify.register('js/akira/components/reviews/helpfulCount.jsx', function(require, requireAsync, module, exports) {


    "use strict";
    var React = require("react"),
        I18N = require("../../../reactMixins/i18nWithDeps"),
        BUNDLE = "discovery/akira/Reviews",
        HelpfulCount = React.createClass({
            displayName: "HelpfulCount",
            statics: {
                __meta__: {
                    strings: [{
                        bundle: BUNDLE,
                        ids: ["helpful.review.count"]
                    }]
                }
            },
            mixins: [I18N],
            render: function() {
                var e = this.getStrings(BUNDLE);
                return React.createElement("div", {
                    className: "helpfulCount",
                    dangerouslySetInnerHTML: {
                        __html: e.get("helpful.review.count", {
                            numHelpful: this.props.numHelpful,
                            totalNum: this.props.numHelpful + this.props.numNotHelpful
                        })
                    }
                })
            }
        });
    module.exports = HelpfulCount;


});


Requireify.register('js/akira/components/reviews/reviewsConstants.js', function(require, requireAsync, module, exports) {


    "use strict";
    var Constants = {
        votes: {
            HELPFUL: "HELPFUL",
            NOT_HELPFUL: "NOT_HELPFUL"
        },
        voteLocalizationLabels: {
            HELPFUL: "helpful",
            NOT_HELPFUL: "not.helpful"
        },
        flags: {
            OBJECTIONABLE_CONTENT: "OBJECTIONABLE_CONTENT",
            HAS_SPOILER: "HAS_SPOILER",
            NOT_A_REVIEW: "NOT_A_REVIEW"
        }
    };
    module.exports = Constants;


});


Requireify.register('js/akira/components/reviews/voteReview.jsx', function(require, requireAsync, module, exports) {


    "use strict";
    var React = require("react"),
        I18N = require("../../../reactMixins/i18nWithDeps"),
        ReviewConstants = require("./reviewsConstants.js"),
        BUNDLE = "discovery/akira/Reviews:vote.review",
        VoteReview = React.createClass({
            displayName: "VoteReview",
            statics: {
                __meta__: {
                    strings: [{
                        bundle: BUNDLE,
                        ids: [ReviewConstants.voteLocalizationLabels.HELPFUL, ReviewConstants.voteLocalizationLabels.NOT_HELPFUL]
                    }]
                }
            },
            mixins: [I18N],
            contextTypes: {
                reviewListId: React.PropTypes.string
            },
            handleChange: function() {
                this.props.checked || this.props.onVoteChange(this.props.value)
            },
            render: function() {
                var e = this.context.reviewListId + "-" + this.props.reviewId + "-" + this.props.value;
                return React.createElement("li", {
                    className: "akira-radio-item"
                }, React.createElement("input", {
                    type: "radio",
                    className: "akira-radio",
                    name: this.context.reviewListId + "-helpfulVote-" + this.props.reviewId,
                    id: e,
                    value: this.props.value,
                    checked: this.props.checked,
                    onChange: this.handleChange
                }), React.createElement("label", {
                    className: "akira-radio-label action",
                    htmlFor: e
                }, this.getStrings(BUNDLE).get(ReviewConstants.voteLocalizationLabels[this.props.value])))
            }
        });
    module.exports = VoteReview;


});


Requireify.register('js/akira/components/reviews/voteReviewSection.jsx', function(require, requireAsync, module, exports) {


    "use strict";
    var React = require("react"),
        classNames = require("classnames"),
        I18N = require("../../../reactMixins/i18nWithDeps"),
        ReviewConstants = require("./reviewsConstants.js"),
        VoteReview = require("./voteReview.jsx"),
        BUNDLE = "discovery/akira/Reviews",
        VoteReviewSection = React.createClass({
            displayName: "VoteReviewSection",
            statics: {
                __meta__: {
                    strings: [{
                        bundle: BUNDLE,
                        ids: ["vote.review.prompt", "flag.review.inappropriate"]
                    }]
                }
            },
            mixins: [I18N],
            contextTypes: {
                pathEvaluator: React.PropTypes.object
            },
            voteReview: function(e) {
                var t = this,
                    i = this.props.reviewModel.getValueSync(["id"]),
                    s = this.props.videoModel.getValueSync(["reviewVotes"]) || {},
                    r = s[i];
                return r === e ? !1 : void this.context.pathEvaluator.call(["reviews", i, "voteReview"], [e], [], [
                    ["reviews", i, ["helpfulCount", "notHelpfulCount"]],
                    ["videos", this.props.videoModel.getValueSync(["summary"]).id, "reviewVotes"]
                ]).subscribe(function(i) {
                    t.props.onVoteChange(e)
                })
            },
            renderVoteReview: function(e, t) {
                return t && t !== e ? null : React.createElement(VoteReview, {
                    reviewId: this.props.reviewModel.getValueSync(["id"]),
                    value: e,
                    checked: t === e,
                    onVoteChange: this.voteReview
                })
            },
            render: function() {
                var e = this.getStrings(BUNDLE),
                    t = this.props.reviewModel.getValueSync(["id"]),
                    i = (this.props.videoModel.getValueSync(["reviewVotes"]) || {})[t];
                return React.createElement("div", {
                    className: "voteReview"
                }, React.createElement("span", {
                    className: "voteReviewPrompt"
                }, e.get("vote.review.prompt")), " ", React.createElement("div", {
                    className: "reviewActions"
                }, React.createElement("ul", {
                    className: "voteReviewChoices"
                }, this.renderVoteReview(ReviewConstants.votes.HELPFUL, i), this.renderVoteReview(ReviewConstants.votes.NOT_HELPFUL, i)), React.createElement("span", {
                    className: classNames({
                        action: !0,
                        inappropriateTrigger: !0,
                        selected: this.props.flagsForReview
                    }),
                    onClick: this.props.onInappropriateReviewClick
                }, e.get("flag.review.inappropriate"))))
            }
        });
    module.exports = VoteReviewSection;


});


Requireify.register('js/akira/components/reviews/checkbox.jsx', function(require, requireAsync, module, exports) {


    "use strict";
    var React = require("react"),
        I18N = require("../../../reactMixins/i18nWithDeps"),
        ReviewConstants = require("./reviewsConstants.js"),
        BUNDLE = "discovery/akira/Reviews:inappropriate.reason",
        Checkbox = React.createClass({
            displayName: "Checkbox",
            statics: {
                __meta__: {
                    strings: [{
                        bundle: BUNDLE,
                        ids: [ReviewConstants.flags.OBJECTIONABLE_CONTENT, ReviewConstants.flags.HAS_SPOILER, ReviewConstants.flags.NOT_A_REVIEW]
                    }]
                }
            },
            mixins: [I18N],
            handleChange: function() {
                this.props.onChange(this.props.value, !this.props.checked)
            },
            render: function() {
                var e = this.props.reviewId + "-" + this.props.value;
                return React.createElement("div", {
                    className: "akira-checkbox-item"
                }, React.createElement("input", {
                    type: "checkbox",
                    className: "akira-checkbox",
                    name: "inappropriateReason-" + this.props.reviewId,
                    id: e,
                    value: this.props.value,
                    defaultChecked: this.props.checked,
                    onChange: this.handleChange
                }), React.createElement("label", {
                    className: "akira-checkbox-label action",
                    htmlFor: e
                }, this.getStrings(BUNDLE).get(this.props.value)))
            }
        });
    module.exports = Checkbox;


});


Requireify.register('js/akira/components/reviews/inappropriateReview.jsx', function(require, requireAsync, module, exports) {


    "use strict";
    var React = require("react"),
        _ = require("lodash"),
        Checkbox = require("./checkbox.jsx"),
        I18N = require("../../../reactMixins/i18nWithDeps"),
        ReviewConstants = require("./reviewsConstants.js"),
        BUNDLE = "discovery/akira/Reviews",
        InappropriateReview = React.createClass({
            displayName: "InappropriateReview",
            statics: {
                __meta__: {
                    strings: [{
                        bundle: BUNDLE,
                        ids: ["report.as.inappropriate", "submit", "cancel"]
                    }]
                }
            },
            mixins: [I18N],
            contextTypes: {
                pathEvaluator: React.PropTypes.object
            },
            getInitialState: function() {
                var e = this.props.reviewModel.getValueSync(["id"]),
                    t = this.props.videoModel.getValueSync(["reviewFlags"]) || {},
                    a = t[e] || [];
                return {
                    flagsForReview: _.clone(a)
                }
            },
            flagReview: function(e, t) {
                var a = _.clone(this.state.flagsForReview);
                t ? a.push(e) : a = _.without(a, e), this.setState({
                    flagsForReview: a
                })
            },
            saveFlags: function() {
                var e = this,
                    t = this.props.reviewModel.getValueSync(["id"]);
                this.context.pathEvaluator.bind(["reviews", t]).call(["flagReview"], [this.state.flagsForReview], [], [
                    ["video", "reviewFlags"]
                ]).subscribe(function(t) {
                    e.props.onFlagsChange(e.state.flagsForReview)
                })
            },
            cancel: function() {
                this.setState(this.getInitialState()), this.props.onCancel()
            },
            render: function() {
                var e = this.getStrings(BUNDLE),
                    t = this.props.reviewModel.getValueSync(["id"]),
                    a = _.contains(this.state.flagsForReview, ReviewConstants.flags.OBJECTIONABLE_CONTENT),
                    i = _.contains(this.state.flagsForReview, ReviewConstants.flags.HAS_SPOILER),
                    s = _.contains(this.state.flagsForReview, ReviewConstants.flags.NOT_A_REVIEW);
                return React.createElement("fieldset", {
                    className: "inappropriate-review"
                }, React.createElement("legend", {
                    className: "inappropriate-review-legend"
                }, e.get("report.as.inappropriate")), React.createElement("ul", {
                    className: "inappropriate-review-types"
                }, React.createElement("li", null, React.createElement(Checkbox, {
                    value: ReviewConstants.flags.OBJECTIONABLE_CONTENT,
                    reviewId: t,
                    checked: a,
                    onChange: this.flagReview
                })), React.createElement("li", null, React.createElement(Checkbox, {
                    value: ReviewConstants.flags.HAS_SPOILER,
                    reviewId: t,
                    checked: i,
                    onChange: this.flagReview
                })), React.createElement("li", null, React.createElement(Checkbox, {
                    value: ReviewConstants.flags.NOT_A_REVIEW,
                    reviewId: t,
                    checked: s,
                    onChange: this.flagReview
                }))), React.createElement("button", {
                    className: "akira-button akira-button-red",
                    onClick: this.saveFlags
                }, e.get("submit")), React.createElement("button", {
                    className: "akira-button",
                    onClick: this.cancel
                }, e.get("cancel")))
            }
        });
    module.exports = InappropriateReview;


});


Requireify.register('js/akira/components/reviews/deleteReview.jsx', function(require, requireAsync, module, exports) {


    "use strict";
    var React = require("react"),
        I18N = require("../../../reactMixins/i18nWithDeps"),
        EventBus = require("../../../reactMixins/eventBus"),
        BUNDLE = "discovery/akira/Reviews:delete",
        DeleteReview = React.createClass({
            displayName: "DeleteReview",
            statics: {
                __meta__: {
                    strings: [{
                        bundle: BUNDLE,
                        ids: ["my.review", "review.success"]
                    }]
                }
            },
            mixins: [I18N],
            getDefaultProps: function() {
                return {
                    reviewDeleted: !1
                }
            },
            deleteReview: function() {
                var e = this.props.videoModel.getValueSync(["summary"]).id;
                this.props.onReviewDeleted(), this.props.videoModel.call(["deleteReview"], [], [], []).subscribe(function(t) {
                    EventBus.emit("reviews:reviewsCountChanged", {
                        videoId: e
                    })
                })
            },
            render: function() {
                var e = this.getStrings(BUNDLE);
                return this.props.reviewDeleted ? React.createElement("h4", {
                    className: "reviewDeleted"
                }, e.get("review.success")) : React.createElement("div", {
                    className: "deleteReview action",
                    onClick: this.deleteReview
                }, e.get("my.review"))
            }
        });
    module.exports = DeleteReview;


});


Requireify.register('js/akira/components/reviews/review.jsx', function(require, requireAsync, module, exports) {


    "use strict";
    var React = require("react"),
        _ = require("lodash"),
        PathEvaluatorUtils = require("../../../utils/pathEvaluatorUtils"),
        BasicStarBar = require("./../title/basicStarBar.jsx"),
        ReviewText = require("./reviewText.jsx"),
        HelpfulCount = require("./helpfulCount.jsx"),
        VoteReviewSection = require("./voteReviewSection.jsx"),
        InappropriateReview = require("./inappropriateReview.jsx"),
        DeleteReview = require("./deleteReview.jsx"),
        MAX_REVIEW_TEXT_LENGTH = 200,
        Review = React.createClass({
            displayName: "Review",
            getDefaultProps: function() {
                return {
                    forUsersReview: !1,
                    readOnly: !0,
                    truncatedTextLength: MAX_REVIEW_TEXT_LENGTH
                }
            },
            getInitialState: function() {
                return {
                    inappropriateFormOpen: !1,
                    reviewDeleted: !1
                }
            },
            contextTypes: {
                pathEvaluator: React.PropTypes.object
            },
            onVoteChange: function(e) {
                this.forceUpdate()
            },
            onFlagsChanged: function(e) {
                this.forceUpdate()
            },
            onReviewDeleted: function() {
                this.setState({
                    reviewDeleted: !0
                })
            },
            toggleInappropriateReviewForm: function() {
                this.setState({
                    inappropriateFormOpen: !this.state.inappropriateFormOpen
                })
            },
            closeInappropriateReviewForm: function() {
                this.setState({
                    inappropriateFormOpen: !1
                })
            },
            renderDeletedReview: function() {
                return React.createElement(DeleteReview, {
                    videoModel: this.props.videoModel,
                    onReviewDeleted: this.onReviewDeleted,
                    reviewDeleted: this.state.reviewDeleted
                })
            },
            isValidReview: function() {
                var e = ["id", "rating", "reviewText", "helpfulCount", "notHelpfulCount"];
                return void 0 === this.props.reviewModel.getBoundValue() ? !1 : PathEvaluatorUtils.isBoundToError(this.props.reviewModel) ? !1 : _.every(e, function(e) {
                    var t = this.props.reviewModel.getValueSync([e]);
                    return void 0 !== t && !PathEvaluatorUtils.isValueError(t)
                }, this)
            },
            renderReview: function() {
                var e = this.props.reviewModel,
                    t = this.props.videoModel,
                    r = e.getValueSync(["id"]),
                    i = (t.getValueSync(["reviewFlags"]) || {})[r];
                return React.createElement("div", {
                    className: "memberReview"
                }, React.createElement(BasicStarBar, {
                    averageRating: e.getValueSync(["rating"]),
                    readOnly: !0
                }), React.createElement(ReviewText, {
                    text: e.getValueSync(["reviewText"]),
                    maxLength: this.props.readOnly ? MAX_REVIEW_TEXT_LENGTH : null
                }), this.props.readOnly ? null : React.createElement(HelpfulCount, {
                    numHelpful: e.getValueSync(["helpfulCount"]),
                    numNotHelpful: e.getValueSync(["notHelpfulCount"])
                }), this.props.readOnly || this.props.forUsersReview ? null : React.createElement(VoteReviewSection, {
                    reviewModel: e,
                    videoModel: t,
                    onVoteChange: this.onVoteChange,
                    onInappropriateReviewClick: this.toggleInappropriateReviewForm,
                    flagsForReview: i
                }), this.props.readOnly || !this.state.inappropriateFormOpen || i && i.length > 0 ? null : React.createElement(InappropriateReview, {
                    reviewModel: e,
                    videoModel: t,
                    onCancel: this.closeInappropriateReviewForm,
                    onFlagsChange: this.onFlagsChanged
                }), this.props.readOnly || !this.props.forUsersReview ? null : React.createElement(DeleteReview, {
                    videoModel: this.props.videoModel,
                    onReviewDeleted: this.onReviewDeleted,
                    reviewDeleted: this.state.reviewDeleted
                }))
            },
            renderError: function() {
                return null
            },
            render: function() {
                return this.isValidReview() ? this.state.reviewDeleted ? this.renderDeletedReview() : this.renderReview() : this.renderError()
            }
        });
    module.exports = Review;


});


Requireify.register('js/akira/components/reviews/writeReview.jsx', function(require, requireAsync, module, exports) {


    "use strict";
    var React = require("react"),
        _ = require("lodash"),
        classNames = require("classnames"),
        URLs = require("../../../utils/urls"),
        I18N = require("../../../reactMixins/i18nWithDeps"),
        StarBar = require("../title/falkorStarBar.jsx"),
        LoadingSpinner = require("../../components/loaders/loadingSpinner.jsx"),
        EventBus = require("../../../reactMixins/eventBus"),
        BUNDLE = "discovery/akira/Reviews",
        FAQ_URL = URLs.getHelpUrl("reviewsFaq"),
        MIN_REVIEW_LENGTH = 80,
        MAX_REVIEW_LENGTH = 2e3,
        WriteReview = React.createClass({
            displayName: "WriteReview",
            statics: {
                __meta__: {
                    strings: [{
                        bundle: BUNDLE,
                        ids: ["write.review.cta", "rate.show", "write.review.prompt", "question.about.reviews", "submit", "cancel", "write.review.success.heading", "write.review.success.msg", "write.review.error.msg.rate", "write.review.error.msg.bad.word", "write.review.error.msg.general"]
                    }]
                }
            },
            getDefaultProps: function() {
                return {
                    defaultOpen: !1
                }
            },
            mixins: [I18N],
            getInitialState: function() {
                var e = this.props.videoModel.getValueSync(["userRating"]).userRating;
                return {
                    formOpen: this.props.defaultOpen,
                    reviewValid: !1,
                    reviewSaving: !1,
                    reviewSubmitted: !1,
                    errorMessage: null,
                    showNotRatedError: !1,
                    userHasRatedTitle: null !== e && 0 !== e
                }
            },
            titleRatedHandler: function() {
                this.setState({
                    userHasRatedTitle: !0
                })
            },
            validateReview: function() {
                var e = React.findDOMNode(this.refs.reviewTextarea),
                    t = e.value,
                    r = t.length;
                this.setState({
                    reviewValid: r >= MIN_REVIEW_LENGTH && MAX_REVIEW_LENGTH > r
                })
            },
            openReviewForm: function() {
                this.setState({
                    reviewValid: !1,
                    formOpen: !0
                })
            },
            closeReviewForm: function() {
                this.setState({
                    formOpen: !1
                })
            },
            submitReview: function() {
                this.state.userHasRatedTitle ? (this.setState({
                    reviewSaving: !0
                }), this.props.videoModel.call(["createReview"], [React.findDOMNode(this.refs.reviewTextarea).value], [], [
                    [
                        ["createReviewResult"],
                        ["usersReview"]
                    ]
                ]).subscribe(this.handleCreateReviewResponse)) : this.setState({
                    showNotRatedError: !0
                })
            },
            handleCreateReviewResponse: function() {
                var e, t, r = this.props.videoModel.getValueSync(["createReviewResult"]),
                    i = this.getStrings(BUNDLE);
                if (r.success) EventBus.emit("reviews:reviewsCountChanged", {
                    videoId: this.props.videoModel.getValueSync(["summary"]).id
                }), this.setState({
                    reviewSaving: !1,
                    reviewSubmitted: !0,
                    formOpen: !1,
                    reviewValid: !1,
                    errorMessage: null,
                    showNotRatedError: !1
                });
                else {
                    switch (e = _.get(r, "info.validationInfo[0]", {
                        infoType: "unknown"
                    }), e.infoType) {
                        case "REVIEW_CONTAIN_BAD_WORDS":
                            t = i.get("write.review.error.msg.bad.word", {
                                BAD_WORD: e.value
                            });
                            break;
                        default:
                            t = i.get("write.review.error.msg.general")
                    }
                    this.setState({
                        reviewSaving: !1,
                        reviewValid: !1,
                        errorMessage: t
                    })
                }
            },
            renderButton: function() {
                var e = this.getStrings(BUNDLE);
                return React.createElement("button", {
                    className: "akira-button akira-button-red",
                    onClick: this.openReviewForm
                }, e.get("write.review.cta"))
            },
            renderForm: function() {
                var e = this.getStrings(BUNDLE);
                return React.createElement("div", {
                    className: classNames({
                        writeReviewForm: !0,
                        saving: this.state.reviewSaving
                    }),
                    key: "writeReviewForm"
                }, React.createElement("div", {
                    className: "writeReviewSavingMask",
                    key: "writeReviewSavingMask"
                }, React.createElement(LoadingSpinner, null)), !this.state.userHasRatedTitle && this.state.showNotRatedError ? React.createElement("div", {
                    className: "error"
                }, e.get("write.review.error.msg.rate")) : null, React.createElement("div", {
                    className: "rating",
                    key: "writeReviewRating"
                }, e.get("rate.show"), React.createElement(StarBar, {
                    model: this.props.videoModel,
                    readOnly: !1,
                    userRatingOnly: !0,
                    onRating: this.titleRatedHandler
                })), this.state.errorMessage ? React.createElement("div", {
                    className: "error"
                }, this.state.errorMessage) : null, React.createElement("textarea", {
                    ref: "reviewTextarea",
                    name: "reviewText",
                    className: "reviewText",
                    key: "writeReviewTextArea",
                    onChange: this.validateReview,
                    placeholder: e.get("write.review.prompt")
                }), React.createElement("div", {
                    className: "buttons",
                    key: "writeReviewButtons"
                }, React.createElement("button", {
                    className: "akira-button akira-button-red",
                    disabled: !this.state.reviewValid,
                    onClick: this.submitReview
                }, e.get("submit")), React.createElement("button", {
                    className: "akira-button",
                    onClick: this.closeReviewForm
                }, e.get("cancel")), React.createElement("span", {
                    className: "spacer"
                }), React.createElement("span", {
                    className: "faq",
                    dangerouslySetInnerHTML: {
                        __html: e.get("question.about.reviews", {
                            URL: FAQ_URL
                        })
                    }
                })))
            },
            renderSuccessMessage: function() {
                var e = this.getStrings(BUNDLE);
                return React.createElement("div", {
                    className: "writeReviewSuccess",
                    key: "writeReviewSuccess"
                }, React.createElement("h3", {
                    className: "heading"
                }, e.get("write.review.success.heading")), React.createElement("div", {
                    className: "details",
                    dangerouslySetInnerHTML: {
                        __html: e.get("write.review.success.msg")
                    }
                }))
            },
            render: function() {
                return this.state.reviewSubmitted ? this.renderSuccessMessage() : this.state.formOpen ? this.renderForm() : this.renderButton()
            }
        });
    module.exports = WriteReview;


});


Requireify.register('js/akira/components/reviews/reviewList.jsx', function(require, requireAsync, module, exports) {


    "use strict";
    var React = require("react"),
        PathEvaluatorUtils = require("../../../utils/pathEvaluatorUtils"),
        Review = require("../reviews/review.jsx"),
        ReviewList = React.createClass({
            displayName: "ReviewList",
            getDefaultProps: function() {
                return {
                    uniqueId: Math.random().toString()
                }
            },
            childContextTypes: {
                reviewListId: React.PropTypes.string
            },
            getChildContext: function() {
                return {
                    reviewListId: this.props.uniqueId
                }
            },
            buildReviewsMarkup: function() {
                var e, r, t = [];
                for (r = 0; r < this.props.numReviews; r++) e = this.props.forUsersReview ? this.props.reviewsModel : this.props.reviewsModel.bind([r]), void 0 !== e.getBoundValue() && t.push(React.createElement("li", {
                    key: "review-" + r
                }, React.createElement(Review, {
                    reviewModel: e,
                    videoModel: this.props.videoModel,
                    readOnly: this.props.readOnly,
                    forUsersReview: this.props.forUsersReview
                })));
                return t
            },
            renderError: function() {
                return null
            },
            render: function() {
                if (PathEvaluatorUtils.isBoundToError(this.props.reviewsModel)) return this.renderError();
                var e = this.buildReviewsMarkup();
                return e.length > 0 ? React.createElement("div", null, React.createElement("h3", null, this.props.heading), React.createElement("ul", {
                    className: "memberReviews"
                }, e)) : null
            }
        });
    module.exports = ReviewList;


});


Requireify.register('js/akira/components/modals/reviews.jsx', function(require, requireAsync, module, exports) {


    "use strict";
    var React = require("react"),
        _ = require("lodash"),
        ModalContent = require("./modalContent.jsx"),
        WriteReview = require("../reviews/writeReview.jsx"),
        ReviewList = require("../reviews/reviewList.jsx"),
        AutoFetch = require("../../../reactMixins/falkor-auto-fetch"),
        ScrollLock = require("../../../reactMixins/scrollLock"),
        I18N = require("../../../reactMixins/i18nWithDeps"),
        BUNDLE = "discovery/akira/Reviews",
        NUM_HELPFUL_SHOWN = 2,
        INITIAL_NUM_SHOWN = 20,
        REVIEW_PAGE_SIZE = 20,
        INFINITE_SCROLL_STRATEGY = "infiniteScrollStrategy",
        ADDITIONAL_FETCH_KEY = "infinite-scroll-fetch-reviews",
        INFINITE_SCROLL_BUFFER_PX = 500,
        SCROLL_THROTTLE_MS = 100,
        ReviewsModal = React.createClass({
            displayName: "ReviewsModal",
            numReviewsToFetch: INITIAL_NUM_SHOWN,
            mixins: [I18N, AutoFetch, ScrollLock],
            statics: {
                __meta__: {
                    strings: [{
                        bundle: BUNDLE,
                        ids: ["most.helpful.reviews", "recent.reviews", "number.reviews.for.title", "your.review"]
                    }]
                },
                getPaths: function(e, t, i) {
                    return t === INFINITE_SCROLL_STRATEGY ? [
                        ["recentReviews", {
                                from: 0,
                                to: i.numToFetch - 1
                            },
                            ["id", "rating", "reviewText", "helpfulCount", "notHelpfulCount"]
                        ]
                    ] : [
                        ["title"],
                        ["reviewsCount"],
                        ["usersReview", ["id", "rating", "reviewText", "helpfulCount", "notHelpfulCount"]],
                        ["helpfulReviews", {
                                from: 0,
                                to: NUM_HELPFUL_SHOWN - 1
                            },
                            ["id", "rating", "reviewText", "helpfulCount", "notHelpfulCount"]
                        ],
                        ["recentReviews", {
                                from: 0,
                                to: INITIAL_NUM_SHOWN - 1
                            },
                            ["id", "rating", "reviewText", "helpfulCount", "notHelpfulCount"]
                        ],
                        ["reviewVotes"],
                        ["reviewFlags"]
                    ]
                }
            },
            contextTypes: {
                modalDismiss: React.PropTypes.func,
                modalUpdate: React.PropTypes.func
            },
            componentDidMount: function() {
                this.refs["modal-body"] ? this.scrollLock("modal-body") : this.refs["modal-header"] && this.scrollLock("modal-header")
            },
            modalScrolled: _.throttle(function(e) {
                this.numReviewsToFetch < this.props.model.getValueSync(["reviewsCount"]) && this.isWithinDistanceBuffer(INFINITE_SCROLL_BUFFER_PX, React.findDOMNode(this.refs["modal-body"])) && this.fetchMoreReviews()
            }, SCROLL_THROTTLE_MS),
            fetchMoreReviews: function() {
                if (!this.isLoading()) {
                    this.numReviewsToFetch += REVIEW_PAGE_SIZE;
                    var e = ReviewsModal.getPaths(this.getContext(), INFINITE_SCROLL_STRATEGY, {
                        numToFetch: this.numReviewsToFetch
                    });
                    this.isMounted() && this.fetchData(this.props.model, e, ADDITIONAL_FETCH_KEY)
                }
            },
            isWithinDistanceBuffer: function(e, t) {
                var i = t.getBoundingClientRect(),
                    r = t.scrollTop + i.height;
                return r + e > t.scrollHeight
            },
            buildModal: function() {
                var e, t = this.getStrings(BUNDLE),
                    i = this.props.model,
                    r = i.getValueSync(["title"]),
                    o = i.getValueSync(["reviewsCount"]),
                    s = void 0 !== i.getValueSync(["usersReview"]);
                return e = React.createElement("div", {
                    className: "reviewsModalHeader",
                    ref: "modal-header"
                }, React.createElement("h2", {
                    className: "nf-modal-heading"
                }, t.get("number.reviews.for.title", {
                    number: o,
                    title: r
                })), s ? null : React.createElement(WriteReview, {
                    videoModel: i,
                    defaultOpen: 0 === o
                })), 0 === o ? {
                    body: e,
                    useScrollLock: !1
                } : {
                    header: e,
                    customBody: React.createElement("div", {
                        onScroll: this.modalScrolled,
                        className: "nf-modal-body",
                        ref: "modal-body"
                    }, React.createElement("div", {
                        className: "reviewsModalBody"
                    }, React.createElement(ReviewList, {
                        reviewsModel: i.bind(["usersReview"]),
                        numReviews: 1,
                        videoModel: i,
                        readOnly: !1,
                        forUsersReview: !0,
                        uniqueId: "yourReview",
                        heading: t.get("your.review")
                    }), React.createElement(ReviewList, {
                        reviewsModel: i.bind(["helpfulReviews"]),
                        numReviews: NUM_HELPFUL_SHOWN,
                        videoModel: i,
                        readOnly: !1,
                        uniqueId: "helpfulReviews",
                        heading: t.get("most.helpful.reviews")
                    }), React.createElement(ReviewList, {
                        reviewsModel: i.bind(["recentReviews"]),
                        numReviews: this.numReviewsToFetch,
                        videoModel: i,
                        readOnly: !1,
                        uniqueId: "recentReviews",
                        heading: t.get("recent.reviews")
                    }))),
                    useScrollLock: !1
                }
            },
            render: function() {
                return React.createElement(ModalContent, this.buildModal())
            }
        });
    module.exports = ReviewsModal;


});


Requireify.register('js/akira/components/jawBone/details/reviews.jsx', function(require, requireAsync, module, exports) {


    "use strict";
    var React = require("react"),
        Review = require("../../reviews/review.jsx"),
        ModalManager = require("../../modals/modalManager.jsx"),
        ReviewsModal = require("../../modals/reviews.jsx"),
        I18N = require("../../../../reactMixins/i18nWithDeps"),
        EventBus = require("../../../../reactMixins/eventBus"),
        AutoFetch = require("../../../../reactMixins/falkor-auto-fetch"),
        NUM_HELPFUL_SHOWN = 2,
        BUNDLE = "discovery/akira/Reviews",
        JAW_BONE_OVERVIEW_BUNDLE = "discovery/akira/JawBone:overview",
        Reviews = React.createClass({
            displayName: "Reviews",
            mixins: [I18N, AutoFetch],
            statics: {
                __meta__: {
                    strings: [{
                        bundle: BUNDLE,
                        ids: ["no.reviews", "read.more", "see.all.reviews.with.number", "write.review.cta", "write.review.error.msg.general"]
                    }, {
                        bundle: JAW_BONE_OVERVIEW_BUNDLE,
                        ids: ["loading"]
                    }]
                },
                getPaths: function(e, i, t) {
                    return [
                        ["reviewsCount"],
                        ["helpfulReviews", {
                                from: 0,
                                to: NUM_HELPFUL_SHOWN - 1
                            },
                            ["id", "rating", "reviewText", "helpfulCount", "notHelpfulCount"]
                        ],
                        ["usersReview", ["id", "rating", "reviewText", "helpfulCount", "notHelpfulCount"]]
                    ]
                }
            },
            componentDidMount: function() {
                EventBus.on("reviews:reviewsCountChanged", this.onNumberReviewsChanged)
            },
            componentWillUnmount: function() {
                EventBus.removeListener("reviews:reviewsCountChanged", this.onNumberReviewsChanged), EventBus.removeListener("modal:close:reviewsModal", this.invalidateData)
            },
            onNumberReviewsChanged: function(e) {
                e.videoId === this.props.model.getValueSync(["summary"]).id && this.forceUpdate()
            },
            invalidateData: function() {
                this.props.model.invalidate(["reviewVotes"]).subscribe(function() {})
            },
            launchModal: function() {
                var e = ["reviews-modal"],
                    i = this.props.model.getValueSync(["reviewsCount"]);
                0 === i && e.push("write-first-review"), EventBus.once("modal:close:reviewsModal", this.invalidateData), ModalManager.open(ReviewsModal, {
                    name: "reviewsModal",
                    additionalClasses: e,
                    contentProps: {
                        model: this.props.model.hardBind([]),
                        pqls: ReviewsModal.getPaths(this.getContext(), null, null)
                    }
                })
            },
            render: function() {
                var e, i, t, r, s = [],
                    a = this.getStrings(BUNDLE);
                if (null !== this.state.fetchDataError) return React.createElement("div", {
                    className: "memberReviews error"
                }, a.get("write.review.error.msg.general"));
                if (this.isLoading() === !0) return React.createElement("div", {
                    className: "memberReviews loading"
                }, this.getStrings(JAW_BONE_OVERVIEW_BUNDLE).get("loading"));
                if (i = this.props.model.getValueSync(["reviewsCount"]), 0 === i) return React.createElement("div", {
                    className: "noReviews"
                }, a.get("no.reviews"), React.createElement("div", {
                    className: "action",
                    onClick: this.launchModal
                }, a.get("write.review.cta")));
                for (r = 0; NUM_HELPFUL_SHOWN > r; r++) t = this.props.model.bind(["helpfulReviews", r]), void 0 !== t.getBoundValue() && s.push(React.createElement("li", {
                    key: "review-" + r
                }, React.createElement(Review, {
                    reviewModel: t,
                    videoModel: this.props.model
                })));
                return e = void 0 === i ? null : React.createElement("div", {
                    className: "seeAllLink",
                    onClick: this.launchModal
                }, a.get("see.all.reviews.with.number", {
                    number: i
                })), React.createElement("div", {
                    className: "memberReviews"
                }, React.createElement("ul", {
                    className: "memberReviews"
                }, s), e)
            }
        });
    module.exports = Reviews;


});


Requireify.register('js/akira/components/slider/simpleSlider.jsx', function(require, requireAsync, module, exports) {


    "use strict";
    var React = require("react"),
        _ = require("lodash"),
        classNames = require("classnames"),
        presentationTracking = require("../../../common/presentationTracking/presentationTracking.js"),
        MIN_HORZ_SWIPE_THRESHOLD_IN_PX = 100,
        WIDTH_100_PERCENT = 100,
        MIN_VERT_SWIPE_THRESHOLD_IN_PX = 30,
        cx = React.addons.classSet,
        SimpleSlider = React.createClass({
            displayName: "SimpleSlider",
            touchStart: {},
            isAnimating: !1,
            statics: {
                MOVE_DIRECTION_NEXT: 1,
                MOVE_DIRECTION_PREV: -1
            },
            contextTypes: {
                isRtl: React.PropTypes.bool
            },
            getInitialState: function() {
                return {
                    translateX: 0
                }
            },
            advanceNext: function() {
                var t = React.findDOMNode(this.refs.sliderContent),
                    e = this.calculateMinTranslateX(),
                    n = WIDTH_100_PERCENT;
                n *= this.context.isRtl ? -1 : 1, this.props.onSliderMove && this.props.onSliderMove(null, this.MOVE_DIRECTION_NEXT), this.isAnimating = !0, t.classList.add("animating"), this.setState({
                    translateX: Math.max(e, this.state.translateX - n)
                })
            },
            advancePrev: function() {
                var t = React.findDOMNode(this.refs.sliderContent);
                this.props.onSliderMove && this.props.onSliderMove(null, this.MOVE_DIRECTION_PREV), this.isAnimating = !0, t.classList.add("animating"), this.context.isRtl ? this.setState({
                    translateX: Math.max(0, this.state.translateX - WIDTH_100_PERCENT)
                }) : this.setState({
                    translateX: Math.min(0, this.state.translateX + WIDTH_100_PERCENT)
                })
            },
            isTouchEnabled: function() {
                return "ontouchstart" in window || navigator.maxTouchPoints > 0
            },
            getReactAnimationStyle: function(t) {
                var e = t ? "translate3d(" + t + "%, 0px, 0px)" : "";
                return t ? {
                    WebkitTransform: e,
                    MozTransform: e,
                    MsTransform: e,
                    OTransform: e,
                    transform: e
                } : null
            },
            handleTouchStart: function(t) {
                var e = this.isTouchEnabled() ? t.changedTouches[0] : t;
                this.touchStart = {
                    x: parseInt(e.clientX, 10),
                    y: parseInt(e.clientY, 10)
                }
            },
            handleTouchMove: function(t) {
                var e = this.isTouchEnabled() ? t.changedTouches[0] : t,
                    n = this.touchStart.x - e.clientX,
                    i = Math.abs(this.touchStart.y - e.clientY);
                n *= this.context.isRtl ? -1 : 1, this.isAnimating || (n > MIN_HORZ_SWIPE_THRESHOLD_IN_PX && MIN_VERT_SWIPE_THRESHOLD_IN_PX > i && this.isNextNavActive() ? (this.advanceNext(), this.touchStart = {}) : -MIN_HORZ_SWIPE_THRESHOLD_IN_PX > n && MIN_VERT_SWIPE_THRESHOLD_IN_PX > i && this.isPrevNavActive() && (this.advancePrev(), this.touchStart = {})), Math.abs(n) > Math.abs(i) && t.preventDefault()
            },
            calculateMinTranslateX: function() {
                if (this.refs.sliderContent) {
                    var t = React.findDOMNode(this.refs.sliderContent),
                        e = t.scrollWidth,
                        n = t.clientWidth,
                        i = -100 * (e / n - 1);
                    return i
                }
                return 0
            },
            isPrevNavActive: function() {
                return 0 !== this.state.translateX
            },
            isNextNavActive: function() {
                var t = this.context.isRtl ? -1 * this.state.translateX : this.state.translateX,
                    e = t - this.calculateMinTranslateX();
                if (this.refs.sliderContent) {
                    var n = React.findDOMNode(this.refs.sliderContent),
                        i = n.clientWidth,
                        a = e / 100 * i;
                    return a > 3
                }
                return e > 1
            },
            animationComplete: function() {
                var t = React.findDOMNode(this.refs.sliderContent);
                t.classList.remove("animating"), this.isAnimating = !1, presentationTracking.requestScan()
            },
            componentDidMount: function() {
                var t = React.findDOMNode(this.refs.sliderContent);
                this.isTouchEnabled() && (t.addEventListener("pointerdown", this.handleTouchStart), t.addEventListener("pointermove", this.handleTouchMove)), t.addEventListener("transitionend", this.animationComplete), this.forceUpdate()
            },
            componentWillUnmount: function() {
                var t = React.findDOMNode(this.refs.sliderContent);
                this.isTouchEnabled() && (t.removeEventListener("pointerdown", this.handleTouchStart), t.removeEventListener("pointermove", this.handleTouchMove)), t.removeEventListener("transitionend", this.animationComplete)
            },
            renderPrevNavHandle: function() {
                if (!this.isPrevNavActive()) return null;
                var t = {
                        "indicator-icon": !0,
                        "icon-rightCaret": this.context.isRtl ? !0 : !1,
                        "icon-leftCaret": this.context.isRtl ? !1 : !0
                    },
                    e = {
                        handle: !0,
                        handlePrev: !0,
                        active: this.isPrevNavActive()
                    };
                return React.createElement("div", {
                    className: cx(e),
                    onClick: this.advancePrev,
                    onMouseEnter: this.props.onMouseEnterSliderHandle,
                    onMouseLeave: this.props.onMouseLeaveSliderHandle
                }, React.createElement("b", {
                    className: cx(t)
                }))
            },
            renderNextNavHandle: function() {
                if (!this.isNextNavActive()) return null;
                var t = {
                        "indicator-icon": !0,
                        "icon-rightCaret": this.context.isRtl ? !1 : !0,
                        "icon-leftCaret": this.context.isRtl ? !0 : !1
                    },
                    e = {
                        handle: !0,
                        handleNext: !0,
                        active: this.isNextNavActive()
                    };
                return React.createElement("div", {
                    className: cx(e),
                    onClick: this.advanceNext,
                    onMouseEnter: this.props.onMouseEnterSliderHandle,
                    onMouseLeave: this.props.onMouseLeaveSliderHandle
                }, React.createElement("b", {
                    className: cx(t)
                }))
            },
            render: function() {
                var t = this.getReactAnimationStyle(this.state.translateX),
                    e = "sliderContent",
                    n = _.assign({}, {
                        simpleSlider: !0,
                        slider: !0
                    }, this.props.classes),
                    i = {
                        sliderMask: !0
                    };
                return React.createElement("div", {
                    className: classNames(n)
                }, this.renderPrevNavHandle(), this.renderNextNavHandle(), React.createElement("div", {
                    className: classNames(i),
                    ref: "sliderMask"
                }, React.createElement("div", {
                    className: e,
                    ref: "sliderContent",
                    style: t,
                    onTouchStart: this.handleTouchStart,
                    onTouchMove: this.handleTouchMove
                }, this.props.children)))
            }
        });
    module.exports = SimpleSlider;


});


Requireify.register('js/akira/components/title/commonSenseIcon.jsx', function(require, requireAsync, module, exports) {


    "use strict";
    var React = require("react");
    module.exports = React.createClass({
        displayName: "exports",
        render: function() {
            var e = "common-sense-icon";
            return React.createElement("div", {
                className: e
            })
        }
    });


});


Requireify.register('js/akira/components/title/commonSense.jsx', function(require, requireAsync, module, exports) {


    "use strict";
    var React = require("react"),
        CommonSenseIcon = require("./commonSenseIcon.jsx"),
        I18N = require("../../../reactMixins/i18nWithDeps"),
        BUNDLE = "discovery/akira/JawBone:common.sense";
    module.exports = React.createClass({
        displayName: "exports",
        mixins: [I18N],
        statics: {
            getPaths: function(e, t, n) {
                return [
                    ["commonsense"]
                ]
            },
            __meta__: {
                strings: [{
                    bundle: BUNDLE,
                    ids: ["maturity.rating", "recommendation", "copyright"]
                }]
            }
        },
        render: function() {
            return React.createElement("div", {
                className: "common-sense"
            }, React.createElement(CommonSenseIcon, null), React.createElement("span", {
                className: "common-sense-age"
            }, this.getString(BUNDLE, "recommendation", {
                AGE: this.props.ageRecommendation
            })), React.createElement("p", {
                className: "common-sense-title"
            }, this.getString(BUNDLE, "maturity.rating")), React.createElement("p", {
                className: "common-sense-copyright"
            }, React.createElement("small", null, this.getString(BUNDLE, "copyright"))))
        }
    });


});


Requireify.register('js/utils/dvdApi.js', function(require, requireAsync, module, exports) {


    "use strict";
    var Rx = require("../falkorClient/rxUltraLite"),
        XHR = require("./XHR"),
        DVD_TERM = "DVD",
        BLU_RAY_TERM = "Blu-ray",
        FORMAT_PATH = "/format_availability",
        SERIES_PATH = "/catalog/titles/series/",
        MOVIES_PATH = "/catalog/titles/movies/",
        isDiscRentable = function(e) {
            var t = e.category.term;
            return t === DVD_TERM || t === BLU_RAY_TERM ? e.rentable : !1
        },
        isDiscSaveable = function(e) {
            var t = e.category.term;
            return t === DVD_TERM || t === BLU_RAY_TERM ? e.saveable : !1
        },
        checkFormatState = function(e, t) {
            var r, a;
            try {
                if (r = e.delivery_formats.availability, !(r.length > 1)) return t(r, !1);
                for (a in r)
                    if (r.hasOwnProperty(a) && t(r[a], !1)) return !0
            } catch (i) {
                return !1
            }
        },
        isRentable = function(e) {
            return checkFormatState(e, isDiscRentable)
        },
        isSaveable = function(e) {
            return checkFormatState(e, isDiscSaveable)
        },
        getApiPath = function(e, t) {
            return (t ? SERIES_PATH : MOVIES_PATH) + e + FORMAT_PATH
        },
        getDVDInfo = function(e, t, r, a) {
            var i = {};
            return Rx.Observable.create(function(n) {
                var o = !1,
                    u = function(e) {
                        i.dvdAvailable = r(e), i.dvdSaveable = a(e), o || (n.onNext(i), n.onCompleted())
                    },
                    c = function(t) {
                        o || n.onError({
                            apiRequest: "fail",
                            userAgent: navigator.userAgent,
                            videoId: e
                        })
                    };
                return XHR.request({
                        method: "get",
                        query: {
                            apiPath: getApiPath(e, t),
                            output: "json",
                            m: "internal"
                        },
                        resource: "",
                        service: "dvd",
                        authorize: !0
                    }).subscribe(u, c),
                    function() {
                        o = !0
                    }
            })
        };
    module.exports = {
        getRentabilityInfo: function(e, t) {
            return getDVDInfo(e, t, isRentable, isSaveable)
        }
    };


});


Requireify.register('js/akira/components/title/dvdAvailability.jsx', function(require, requireAsync, module, exports) {


    "use strict";
    var React = require("react"),
        AkiraContext = require("../../../reactMixins/akiraContext"),
        DVDApi = require("../../../utils/dvdApi"),
        URLs = require("../../../utils/urls"),
        I18N = require("../../../reactMixins/i18nWithDeps"),
        BUNDLE = "discovery/akira/JawBone";
    module.exports = React.createClass({
        displayName: "exports",
        mixins: [I18N, AkiraContext],
        statics: {
            __meta__: {
                strings: [{
                    bundle: BUNDLE,
                    ids: ["details.also.available.on.dvd", "details.save.to.queue"]
                }]
            }
        },
        successRetrievingRentability: function(e) {
            if (e) {
                var t = {};
                this.props.model.setValueSync(["dvdAvailable"], !!e.dvdAvailable), this.props.model.setValueSync(["dvdSaveable"], !!e.dvdSaveable), t[this.props.videoId] = !0, this.isMounted() && this.setState(t)
            }
        },
        getAvailability: function() {
            void 0 === this.props.model.getValueSync(["dvdAvailable"]) && DVDApi.getRentabilityInfo(this.props.videoId, this.props.isShow).subscribe(this.successRetrievingRentability)
        },
        componentWillMount: function() {
            this.getAvailability()
        },
        componentWillReceiveProps: function() {
            this.getAvailability()
        },
        render: function() {
            var e = this.props.model,
                t = !1,
                i = !1;
            if (!e) return null;
            if (t = e.getValueSync(["dvdAvailable"]), i = e.getValueSync(["dvdSaveable"]), t || i) {
                var a = URLs.getDVDCoMDPURL(this.props.videoId, this.context.trackId);
                return React.createElement("a", {
                    className: "dvdAvailability",
                    href: a
                }, React.createElement("span", {
                    className: "icon-disc disc"
                }), t ? React.createElement("span", {
                    className: "dvdAvailable"
                }, this.getString(BUNDLE, "details.also.available.on.dvd")) : i ? React.createElement("span", {
                    className: "dvdSaveable"
                }, this.getString(BUNDLE, "details.save.to.queue")) : null)
            }
            return null
        }
    });


});


Requireify.register('js/akira/components/jawBone/details/copyright.jsx', function(require, requireAsync, module, exports) {


    "use strict";
    var React = require("react"),
        classNames = require("classnames"),
        _ = require("lodash"),
        PathEvaluatorUtils = require("../../../../utils/pathEvaluatorUtils"),
        Copyright = React.createClass({
            displayName: "Copyright",
            statics: {
                getPaths: function(e, t, r) {
                    return [
                        ["copyright"]
                    ]
                }
            },
            getDefaultProps: function() {
                return {
                    classSet: {}
                }
            },
            render: function() {
                var e = this.props.model.getValueSync(["copyright"]),
                    t = _.merge({
                        "video-copyright": !0
                    }, this.props.classSet);
                return null === e || PathEvaluatorUtils.isValueError(e) ? null : React.createElement("div", {
                    className: classNames(t)
                }, React.createElement("div", null, e))
            }
        });
    module.exports = Copyright;


});


Requireify.register('js/akira/components/jawBone/details/availabilityInfo.jsx', function(require, requireAsync, module, exports) {


    "use strict";
    var React = require("react"),
        I18N = require("../../../../reactMixins/i18nWithDeps"),
        PathEvaluatorUtils = require("../../../../utils/pathEvaluatorUtils"),
        BUNDLE = "discovery/akira/JawBone:details.availability",
        AvailabilityInfo = React.createClass({
            displayName: "AvailabilityInfo",
            mixins: [I18N],
            statics: {
                getPaths: function(a, i, t) {
                    return [
                        ["availabilityEndDateNear"]
                    ]
                },
                hasAvailabilityEndDate: function(a) {
                    return a.getValueSync(["availabilityEndDateNear"])
                },
                __meta__: {
                    strings: [{
                        bundle: BUNDLE,
                        ids: ["heading", "until.date"]
                    }]
                }
            },
            render: function() {
                var a = this.props.videoModel.getValueSync(["availabilityEndDateNear"]),
                    i = this.getStrings(BUNDLE);
                return a && !PathEvaluatorUtils.isValueError(a) ? React.createElement("div", {
                    className: "availability-info"
                }, React.createElement("div", {
                    className: "listLabel"
                }, i.get("heading")), i.get("until.date", {
                    localizedDate: a
                })) : null
            }
        });
    module.exports = AvailabilityInfo;


});


Requireify.register('js/akira/components/jawBone/details/languageSupportColumn.jsx', function(require, requireAsync, module, exports) {


    "use strict";
    var React = require("react"),
        _ = require("lodash"),
        DetailsColumn = require("./detailsColumn.jsx"),
        AvailabilityInfo = require("./availabilityInfo.jsx"),
        Link = require("../../controls/mainViewLink.jsx"),
        I18N = require("../../../../reactMixins/i18nWithDeps"),
        PathEvaluatorUtils = require("../../../../utils/pathEvaluatorUtils"),
        BUNDLE = "discovery/akira/JawBone:details",
        MAX_SUBS_LANGS_LINES = 13,
        LanguageSupportColumn = React.createClass({
            displayName: "LanguageSupportColumn",
            mixins: [I18N],
            statics: {
                getPaths: function(e, t, a) {
                    return [
                        [
                            ["subtitles", "audio"]
                        ]
                    ].concat(AvailabilityInfo.getPaths(e, t, a))
                }
            },
            _renderSubsOrLangsContainer: function(e, t) {
                return React.createElement("div", null, t ? React.createElement("h4", {
                    className: "listLabel"
                }, t) : null, e.length ? React.createElement("ul", null, e) : null)
            },
            _renderSubsOrLangsColumns: function(e, t, a) {
                return _.flatten(_.chunk(e, MAX_SUBS_LANGS_LINES).map(function(e, n) {
                    var i = 0 === n ? t : void 0;
                    return React.createElement(DetailsColumn, {
                        key: "detailsMedia" + n,
                        classSet: {
                            detailsMedia: !0
                        }
                    }, 0 === n && a ? {
                        additionalNodes: a
                    } : null, this._renderSubsOrLangsContainer(e, i))
                }.bind(this)))
            },
            render: function() {
                var e, t, a = [],
                    n = [],
                    i = {},
                    l = {},
                    s = 0,
                    r = 0,
                    u = 0,
                    o = this.getStrings(BUNDLE);
                return e = this.props.model.getValueSync(["subtitles"]), t = this.props.model.getValueSync(["audio"]), !e && !t || PathEvaluatorUtils.hasAnyError([e, t]) ? null : (e.map(function(e, t) {
                    var n = e.englishName;
                    n && !i[n] && (i[n] = !0, a.push(React.createElement("li", {
                        key: "subtitles" + t
                    }, React.createElement(Link, {
                        type: "subtitle",
                        id: e.bcp47Code
                    }, n))))
                }), t.map(function(e, t) {
                    var a = e.languageName;
                    a && !l[a] && (l[a] = !0, n.push(React.createElement("li", {
                        key: "languages" + t
                    }, a)))
                }), s = a ? a.length : 0, r = n ? n.length : 0, u = AvailabilityInfo.hasAvailabilityEndDate(this.props.model) ? 3 : 0, MAX_SUBS_LANGS_LINES > r + s + u ? React.createElement(DetailsColumn, null, this.props.children, this._renderSubsOrLangsContainer(n, o.get("audio")), this._renderSubsOrLangsContainer(a, o.get("subtitles")), React.createElement(AvailabilityInfo, {
                    videoModel: this.props.model
                })) : React.createElement("span", null, this._renderSubsOrLangsColumns(n, o.get("audio"), this.props.children), this._renderSubsOrLangsColumns(a, o.get("subtitles")), React.createElement(AvailabilityInfo, {
                    videoModel: this.props.model
                })))
            }
        });
    LanguageSupportColumn.__meta__ = {
        strings: [{
            bundle: BUNDLE,
            ids: ["audio", "subtitles"]
        }]
    }, module.exports = LanguageSupportColumn;


});


Requireify.register('js/akira/components/jawBone/details/details.jsx', function(require, requireAsync, module, exports) {


    "use strict";
    var React = require("react"),
        _ = require("lodash"),
        nfProps = require("nf-iso-properties"),
        MaturityRating = require("../../title/maturityRating.jsx"),
        Festival = require("./festival.jsx"),
        People = require("./people.jsx"),
        Tags = require("./tags.jsx"),
        Reviews = require("./reviews.jsx"),
        SimpleSlider = require("../../slider/simpleSlider.jsx"),
        CommonSenseSection = require("../../title/commonSense.jsx"),
        DVDAvailability = require("../../title/dvdAvailability.jsx"),
        Copyright = require("./copyright.jsx"),
        AkiraContext = require("../../../../reactMixins/akiraContext"),
        I18N = require("../../../../reactMixins/i18nWithDeps"),
        DetailsColumn = require("./detailsColumn.jsx"),
        LanguageSupportColumn = require("./languageSupportColumn.jsx"),
        MAX_AWARD_LINES = 14,
        MAX_FESTIVALS = 10,
        BUNDLE = "discovery/akira/JawBone:details",
        Details = React.createClass({
            displayName: "Details",
            mixins: [I18N, AkiraContext],
            statics: {
                getPaths: function(e, t, a) {
                    var i, s = Festival.getPaths(e, t, a).map(function(e) {
                        return ["festivals", {
                            to: MAX_FESTIVALS
                        }].concat(e)
                    });
                    return i = MaturityRating.getPaths(e, t, a).concat(CommonSenseSection.getPaths(e, t, a)).concat(s).concat(People.getPaths(e, t, a)).concat(Tags.getPaths(e, t, a)).concat(LanguageSupportColumn.getPaths(e, t, a)).concat([
                        ["festivals", "length"]
                    ]).concat(Copyright.getPaths(e, t, a))
                }
            },
            placeHolder: function() {
                return React.createElement("div", {
                    className: "jawBoneDetails"
                }, "Loading details...")
            },
            render: function() {
                var e, t = this.props.model,
                    a = t.getValueSync(["summary"]),
                    i = t.getValueSync(["commonsense"]),
                    s = t.getValueSync(["delivery"]),
                    l = t.getValueSync(["festivals", "length"]),
                    r = this.getStrings(BUNDLE),
                    n = "show" === a.type,
                    o = i && "US" === _.get(this.getFeatureData("geo"), "preferredLocale.country"),
                    c = React.createElement(Tags, {
                        model: t,
                        isShow: n
                    }),
                    u = this.getFeatureData("userInfo"),
                    m = !1,
                    g = "",
                    d = [],
                    p = !this.context.isRtl && _.get(this.getFeatureData("geo"), "showMemberReviews", !1);
                for (s && (g = s.hasUltraHD ? r.get("available.in.super.HD") : s.hasHD ? r.get("available.in.HD") : r.get("available.in.standard.def")), u && (m = u.isDVD), d.push(React.createElement(People, {
                        model: t
                    }, m ? React.createElement("div", {
                        key: "detailsDVD"
                    }, React.createElement(DVDAvailability, {
                        model: t,
                        videoId: a.id,
                        isShow: n
                    })) : null)), c && d.push(React.createElement(DetailsColumn, {
                        key: "detailsTags",
                        classSet: {
                            detailsTags: !0
                        }
                    }, c)), d.push(React.createElement(DetailsColumn, {
                        key: "detailsMaturity",
                        classSet: {
                            detailsMaturity: !0
                        }
                    }, React.createElement("h4", {
                        className: "listLabel"
                    }, r.get("ratings")), React.createElement(MaturityRating, {
                        model: t,
                        withLinkToDetail: !0,
                        withDescription: !0,
                        withReasons: !0,
                        useCountryStyling: !0
                    }), o ? React.createElement(CommonSenseSection, {
                        alertType: i.alertType,
                        description: i.description,
                        ageRecommendation: i.ageRecommendation
                    }) : null, React.createElement(Copyright, {
                        key: "detailsCopyright",
                        model: t,
                        classSet: {
                            "details-copyright": !0
                        }
                    }))), e = 0; l > e; e++) d.push(React.createElement(DetailsColumn, {
                    key: "festival" + e,
                    classSet: {
                        detailsFestivals: !0
                    }
                }, React.createElement(Festival, {
                    model: t.bind(["festivals", e]),
                    maxLines: MAX_AWARD_LINES
                })));
                if (d.push(React.createElement(LanguageSupportColumn, {
                        model: t
                    }, g ? React.createElement("h4", {
                        className: "listLabel"
                    }, r.get("streaming")) : null, g)), p && nfProps.get("netflix.ui.akira.memberReviewsEnabled")) {
                    var h = 3 === this.context.columnsInRow ? 3 : 2,
                        v = React.createElement(DetailsColumn, {
                            key: "detailsReviews",
                            classSet: {
                                detailsReviews: !0,
                                doubleWidth: !0
                            }
                        }, React.createElement("h4", {
                            className: "listLabel"
                        }, r.get("reviews")), React.createElement(Reviews, {
                            model: t,
                            pqls: Reviews.getPaths(this.props.model, null, null)
                        }));
                    d.splice(h, 0, v)
                }
                return React.createElement(SimpleSlider, {
                    classes: {
                        jawBoneDetails: !0
                    },
                    onSliderMove: this.props.onSliderMove
                }, d)
            }
        });
    Details.__meta__ = {
        strings: [{
            bundle: BUNDLE,
            ids: ["ratings", "streaming", "available.in.HD", "available.in.super.HD", "available.in.standard.def", "award.nominee", "reviews"]
        }]
    }, module.exports = Details;


});


Requireify.register('js/akira/components/jawBone/overview/jawBonePlayButton.jsx', function(require, requireAsync, module, exports) {


    "use strict";
    var React = require("react"),
        PlayButton = require("../../controls/playbutton.jsx"),
        Transition = require("../../../../reactMixins/transition"),
        JawBonePlayButton = React.createClass({
            displayName: "JawBonePlayButton",
            mixins: [Transition],
            transitions: {
                fadeIn: 300,
                fadeOut: 300
            },
            render: function() {
                return React.createElement(PlayButton, {
                    model: this.props.model,
                    className: "overviewPlay",
                    tabIndex: 0
                })
            }
        });
    module.exports = JawBonePlayButton;


});


Requireify.register('js/akira/components/jawBone/pane.jsx', function(require, requireAsync, module, exports) {


    "use strict";
    var React = require("react"),
        Transition = require("../../../reactMixins/transition");
    module.exports = React.createClass({
        displayName: "exports",
        mixins: [Transition],
        transitions: {
            fadeIn: 300,
            fadeOut: 300
        },
        componentDidMount: function() {
            this.props.hasClickedMenu && React.findDOMNode(this).focus()
        },
        render: function() {
            return React.createElement("div", {
                className: "jawBonePane",
                id: "pane-" + this.props.ariaId,
                tabIndex: -1
            }, this.props.children)
        }
    });


});


Requireify.register('js/akira/components/jawBone/menuTab.jsx', function(require, requireAsync, module, exports) {


    "use strict";
    var React = require("react"),
        classNames = require("classnames"),
        KeyBoardEvents = require("../../../utils/keyboardEventsWrapper"),
        Tab = React.createClass({
            displayName: "Tab",
            _handleClick: function(e) {
                this.props.clickHandler(this.props.id)
            },
            render: function() {
                var e = this.props.currentPane === this.props.id,
                    a = {
                        current: e
                    };
                return a[this.props.id] = !0, React.createElement("li", {
                    className: classNames(a),
                    id: "tab-" + this.props.id,
                    onClick: this._handleClick,
                    onKeyDown: KeyBoardEvents.executeOnEnterOrSpace(this._handleClick)
                }, React.createElement("a", {
                    role: "link",
                    tabIndex: 0
                }, this.props.children), React.createElement("span", null))
            }
        });
    module.exports = Tab;


});


Requireify.register('js/akira/components/jawBone/menu.jsx', function(require, requireAsync, module, exports) {


    "use strict";
    var React = require("react"),
        classNames = require("classnames"),
        MenuTab = require("./menuTab.jsx"),
        I18N = require("../../../reactMixins/i18nWithDeps"),
        OptimizationTest = require("../../../utils/ab/optimizationTest"),
        BUNDLE = "discovery/akira/JawBone",
        JawBoneMenu = React.createClass({
            displayName: "JawBoneMenu",
            mixins: [I18N],
            statics: {
                __meta__: {
                    strings: [{
                        bundle: "discovery/akira/JawBone:tab",
                        ids: ["overview", "episodes", "more.like.this", "show.details", "trailers.only", "trailers.and.recaps"]
                    }]
                }
            },
            render: function() {
                var e = this.getString(BUNDLE, "tab.episodes"),
                    s = {
                        menu: !0
                    },
                    t = OptimizationTest.getJawMenuLocation(this.context, "center"),
                    i = this.props.visiblePane,
                    r = this.props.tabClicked,
                    a = this.props.hasRecaps ? ".and.recaps" : ".only",
                    n = React.createElement(MenuTab, {
                        id: "Overview",
                        key: "Overview",
                        clickHandler: r,
                        currentPane: i
                    }, this.getString(BUNDLE, "tab.overview")),
                    o = this.props.hasEpisodes && !this.props.isPrePromo ? React.createElement(MenuTab, {
                        id: "Episodes",
                        key: "Episodes",
                        clickHandler: r,
                        currentPane: i
                    }, e) : null,
                    l = this.props.hasTrailers ? React.createElement(MenuTab, {
                        id: "Trailers",
                        key: "Trailers",
                        clickHandler: r,
                        currentPane: i
                    }, this.getString(BUNDLE, "tab.trailers" + a)) : null,
                    c = this.props.isPrePromo || this.props.supressMoreLikeThis ? null : React.createElement(MenuTab, {
                        id: "MoreLikeThis",
                        key: "MoreLikeThis",
                        clickHandler: r,
                        currentPane: i
                    }, this.getString(BUNDLE, "tab.more.like.this")),
                    u = this.props.isPrePromo ? null : React.createElement(MenuTab, {
                        id: "ShowDetails",
                        key: "ShowDetails",
                        clickHandler: r,
                        currentPane: i
                    }, this.getString(BUNDLE, "tab.show.details")),
                    p = [];
                return p.push(n), p.push(o), p.push(l), p.push(c), p.push(u), "left" === t && (s["left-align"] = !0), React.createElement("ul", {
                    className: classNames(s),
                    onMouseEnter: this.props.onMouseEnter,
                    role: "tablist"
                }, p)
            }
        });
    module.exports = JawBoneMenu;


});


Requireify.register('js/utils/focalPoint.js', function(require, requireAsync, module, exports) {


    "use strict";

    function getAbsoluteOffset(t, e, f) {
        var o = e * f || 0,
            s = t / 2 || 0,
            n = s - o;
        n = Math.min(n, 0);
        var i = e + n;
        return t > i && (n = t - e), n
    }

    function getRelativeOffset(t, e, f) {
        return getAbsoluteOffset(t, e, f) / t
    }

    function getBackgroundPositionOffsetRaw(t, e, f) {
        var o = getAbsoluteOffset(t, e, f),
            s = o / (t - e);
        return s
    }

    function getBackgroundPositionOffset(t, e, f) {
        return (100 * getBackgroundPositionOffsetRaw(t, e, f) || 0) + "%"
    }
    module.exports = {
        getAbsoluteOffset: getAbsoluteOffset,
        getRelativeOffset: getRelativeOffset,
        getBackgroundPositionOffsetRaw: getBackgroundPositionOffsetRaw,
        getBackgroundPositionOffset: getBackgroundPositionOffset
    };


});


Requireify.register('js/akira/components/title/imageRotatorCard.jsx', function(require, requireAsync, module, exports) {


    "use strict";
    var _extends = Object.assign || function(e) {
            for (var r = 1; r < arguments.length; r++) {
                var a = arguments[r];
                for (var t in a) Object.prototype.hasOwnProperty.call(a, t) && (e[t] = a[t])
            }
            return e
        },
        React = require("react"),
        classNames = require("classnames"),
        Transition = require("../../../reactMixins/transition"),
        CenteredImage = require("../../../components/CenteredImage.jsx"),
        RichOriginalsRowTest = require("../../../utils/ab/richOriginalsRowTest"),
        FADE_DURATION = 750,
        ImageRotatorCard = React.createClass({
            displayName: "ImageRotatorCard",
            mixins: [Transition],
            transitions: {
                crossFade: FADE_DURATION
            },
            componentWillLeave: function(e) {
                this.isMounted() && e()
            },
            renderCentered: function() {
                var e = classNames({
                    "image-rotator-image": !0,
                    "preload-image": this.props.isPreload
                });
                return React.createElement(CenteredImage, _extends({}, this.props, {
                    className: e
                }))
            },
            render: function() {
                if (RichOriginalsRowTest.isEnabled(this.context)) return this.renderCentered();
                var e = {
                        backgroundImage: "url(" + this.props.url + ")"
                    },
                    r = this.props.isPreload ? "preload-image" : "";
                return React.createElement("div", {
                    className: "image-rotator-image " + r,
                    style: e
                })
            }
        });
    module.exports = ImageRotatorCard;


});


Requireify.register('js/akira/components/title/imageRotator.jsx', function(require, requireAsync, module, exports) {


    "use strict";
    var React = require("react"),
        classNames = require("classnames"),
        ImageRotatorCard = require("../title/imageRotatorCard.jsx"),
        Animation = require("../../../reactMixins/cssAnimation.jsx"),
        ReactTransitionGroup = React.addons.TransitionGroup,
        IMAGE_RETRY_DELAY_MS = 500,
        PRELOAD_DELAY = 150;
    module.exports = React.createClass({
        displayName: "exports",
        timeout: 0,
        numRotations: 0,
        mixins: [Animation],
        getInitialState: function() {
            return {
                imageIndex: 0,
                numImagesLoaded: 0
            }
        },
        nextImage: function() {
            var t = this.props.images,
                e = t && t.length || 0,
                s = (this.state.imageIndex + 1) % e;
            s >= this.state.numImagesLoaded ? this.timeout = setTimeout(this.nextImage, IMAGE_RETRY_DELAY_MS) : (this.numRotations += 1, this.timeout = setTimeout(this.nextImage, this.props.duration), this.setState({
                imageIndex: s
            }))
        },
        preloadImages: function() {
            var t = this,
                e = this.props.images;
            setTimeout(function() {
                for (var s = 0; s < e.length; s++) {
                    var a = new Image;
                    a.onload = t.handleImageLoaded.bind(t, s), a.src = e[s]
                }
            }, PRELOAD_DELAY)
        },
        handleImageLoaded: function(t) {
            var e = this,
                s = function() {
                    e.isMounted() && (e.setState({
                        numImagesLoaded: e.state.numImagesLoaded + 1
                    }), 0 !== t || e.state.numImagesLoaded || (e.props.onFirstImageLoaded && e.props.onFirstImageLoaded(), e.props.auto && e.start()))
                }; - 1 !== window.location.search.indexOf("throttle") ? setTimeout(s, 2e3) : s()
        },
        componentDidMount: function() {
            this.preloadImages()
        },
        componentDidUpdate: function(t, e) {
            !t.images.length && this.props.images.length && this.preloadImages(), this.props.stop ? this.stop() : this.props.auto && this.start()
        },
        componentWillUnmount: function() {
            this.timeout && (clearTimeout(this.timeout), this.timeout = null)
        },
        mouseLeaveHandler: function() {
            this.props.auto || this.stop()
        },
        mouseEnterHandler: function() {
            this.props.auto || this.start()
        },
        start: function() {
            if (!this.timeout && !this.props.stop) {
                var t;
                t = this.props.firstDelay && 0 === this.state.imageIndex ? this.props.firstDelay : this.props.duration, this.timeout = setTimeout(this.nextImage, t)
            }
        },
        stop: function() {
            this.timeout && (clearTimeout(this.timeout), this.timeout = null)
        },
        render: function() {
            var t = this.props,
                e = this.state.imageIndex,
                s = t.style || {},
                a = this.props.focalPoints,
                i = {
                    "image-rotator": !0
                };
            t.className && (i[t.className] = !0);
            var o;
            if (!this.state.numImagesLoaded && this.props.preloadImage) o = React.createElement(ImageRotatorCard, {
                key: "image-rotator-image-preload",
                isPreload: !0,
                duration: this.props.duration,
                index: 0,
                url: this.props.preloadImage,
                numRotations: 0
            });
            else if (this.state.numImagesLoaded) {
                var n = this.props.stop ? "-stopped" : "";
                o = React.createElement(ImageRotatorCard, {
                    key: "image-rotator-image-" + e + n,
                    duration: this.props.duration,
                    index: e,
                    url: t.images[e],
                    numRotations: this.numRotations,
                    focalPoint: a && a[e]
                })
            }
            return React.createElement("div", {
                id: t.id,
                key: t.id,
                className: classNames(i),
                style: s,
                onMouseEnter: this.mouseEnterHandler,
                onMouseLeave: this.mouseLeaveHandler
            }, React.createElement(ReactTransitionGroup, null, o), this.props.children)
        }
    });


});


Requireify.register('js/akira/components/title/heroImages.jsx', function(require, requireAsync, module, exports) {


    "use strict";
    var _extends = Object.assign || function(t) {
            for (var e = 1; e < arguments.length; e++) {
                var r = arguments[e];
                for (var o in r) Object.prototype.hasOwnProperty.call(r, o) && (t[o] = r[o])
            }
            return t
        },
        React = require("react"),
        _ = require("lodash"),
        ImageRotator = require("../title/imageRotator.jsx"),
        ImageExtension = require("../../../common/imageExtension"),
        IsomorphicContext = require("../../../reactMixins/isomorphicContextWithDeps"),
        IMAGE_TYPE_MIXED = "mixed",
        IMAGE_TYPE_STORYART = "storyart";
    module.exports = React.createClass({
        displayName: "exports",
        mixins: [IsomorphicContext],
        statics: {
            IMAGE_TYPE_MIXED: IMAGE_TYPE_MIXED,
            IMAGE_TYPE_STORYART: IMAGE_TYPE_STORYART,
            getPaths: function(t, e, r) {
                var o = ImageExtension.getExtensionForOpaqueImage(t),
                    s = [
                        ["bookmarkPosition"]
                    ];
                return r.imageType === IMAGE_TYPE_STORYART ? s.push(["storyArtImages", r.size, o]) : s.push(["BGImages", r.height, o]), s = r.isShow ? s.concat([
                    ["current", "interestingMoment", r.size, o]
                ]) : s.concat([
                    ["recentInterestingMoment", r.height, o]
                ])
            }
        },
        getInitialState: function() {
            return {
                isLoaded: !1
            }
        },
        getImageFocalPoint: function(t) {
            var e, r = t.focalPoint;
            if (!this.props.focalPointData || !r) return null;
            try {
                e = JSON.parse(r), e = e && e.x
            } catch (o) {}
            return e && _.assign({
                x: e
            }, this.props.focalPointData)
        },
        getBackgroundImages: function() {
            var t, e, r = [],
                o = [],
                s = this.props.model,
                a = ImageExtension.getExtensionForOpaqueImage(this.getContext());
            if (t = s.getValueSync(this.props.imageType === IMAGE_TYPE_STORYART ? ["storyArtImages", this.props.size] : ["BGImages", this.props.height]), this.props.watched && (e = this.props.isStandalone ? s.getValueSync(["recentInterestingMoment", this.props.height, a]) : s.getValueSync(["current", "interestingMoment", this.props.size, a]), e && e.url)) return r = [e.url], o = [this.getImageFocalPoint(e)], {
                urls: r
            };
            if (t && t[a])
                for (var i = 0; i < t[a].length; i++) {
                    var n = t[a][i];
                    n && n.url && (r.push(n.url), o.push(this.getImageFocalPoint(n)))
                }
            return {
                urls: r,
                focalPoints: o
            }
        },
        render: function() {
            var t = this.getBackgroundImages();
            return React.createElement(ImageRotator, _extends({}, this.props, {
                duration: this.props.duration,
                images: t.urls,
                focalPoints: this.props.focalPointData && t.focalPoints,
                preloadImage: this.props.preloadImage
            }))
        }
    });


});


Requireify.register('js/components/svg/blur.jsx', function(require, requireAsync, module, exports) {


    "use strict";
    var React = require("react"),
        SvgBlur = React.createClass({
            displayName: "SvgBlur",
            getDefaultProps: function() {
                return {
                    radius: 5,
                    id: "blur"
                }
            },
            render: function() {
                var e = '<svg xmlns="http://www.w3.org/2000/svg" version="1.1"><defs><filter id="' + this.props.id + '" x="0" y="0"><feGaussianBlur in="SourceGraphic" stdDeviation="' + this.props.radius + '" /></filter></defs></svg>';
                return React.createElement("span", {
                    dangerouslySetInnerHTML: {
                        __html: e
                    }
                })
            }
        });
    module.exports = SvgBlur;


});


Requireify.register('js/akira/components/jawBone/background.jsx', function(require, requireAsync, module, exports) {


    "use strict";
    var React = require("react"),
        nfProps = require("nf-iso-properties"),
        classNames = require("classnames"),
        HeroImages = require("../title/heroImages.jsx"),
        ImageExtension = require("../../../common/imageExtension"),
        Watched = require("../../../reactMixins/video/watched"),
        SvgBlur = require("../../../components/svg/blur.jsx"),
        RichOriginalsRowTest = require("../../../utils/ab/richOriginalsRowTest"),
        SIZE = "_665x375",
        HEIGHT = 470,
        ROTATION_DURATION = 3300,
        JawBoneImages = React.createClass({
            displayName: "JawBoneImages",
            contextTypes: {
                listContext: React.PropTypes.string
            },
            mixins: [Watched],
            statics: {
                getPaths: function(e, a, s) {
                    var t = ImageExtension.getExtensionForOpaqueImage(e);
                    JawBoneImages.pql = {
                        odpFullBleed: ["odpFullBleed", "_1280x448", t],
                        fullbleedBillboard: ["artWorkByType", "BILLBOARD", "_1280x720", t]
                    };
                    var l = [
                        [
                            ["bookmarkPosition", "runtime"]
                        ], JawBoneImages.pql.odpFullBleed
                    ];
                    return RichOriginalsRowTest.isEnabled(e) && l.push(JawBoneImages.pql.fullbleedBillboard), l.concat(HeroImages.getPaths(e, null, {
                        isShow: s.isShow,
                        height: HEIGHT,
                        size: SIZE
                    }))
                }
            },
            getInitialState: function() {
                return {
                    hasWebKitFilter: !1
                }
            },
            render: function() {
                var e, a, s, t = this.props.model,
                    l = !nfProps.get("oui.fullBleedODP.disabled"),
                    i = t.getValueSync(JawBoneImages.pql.odpFullBleed),
                    o = t.getValueSync("bookmarkPosition"),
                    r = "nav-shadow",
                    n = null;
                RichOriginalsRowTest.isEnabled(this.context) && RichOriginalsRowTest.isPanelsOriginalsRow(this.context, this.context.listContext) && (i = t.getValueSync(JawBoneImages.pql.fullbleedBillboard) || i), a = !!i, s = this.props.isFullBleed && l && i && i.url, e = classNames({
                    background: !0,
                    blur: this.props.dim,
                    dim: this.props.dim,
                    fullbleed: a && s
                });
                var c = null;
                return a && (c = s ? React.createElement("div", {
                    style: {
                        backgroundImage: "url(" + i.url + ")"
                    },
                    className: "fullbleed-bg"
                }) : React.createElement(HeroImages, {
                    id: "jawBoneIR" + this.props.id,
                    stop: this.props.dim,
                    duration: ROTATION_DURATION,
                    className: "jawBoneBackground",
                    auto: !0,
                    isStandalone: this.props.isStandalone,
                    model: t,
                    style: n,
                    bookmarkPosition: o,
                    height: HEIGHT,
                    size: SIZE,
                    variance: 120,
                    watched: this.hasBeenWatched()
                })), React.createElement("div", {
                    className: e
                }, React.createElement(SvgBlur, null), c, React.createElement("div", {
                    className: "vignette"
                }), React.createElement("div", {
                    className: r
                }))
            }
        });
    module.exports = JawBoneImages;


});


Requireify.register('js/utils/ab/heroRow-AB-6661.js', function(require, requireAsync, module, exports) {


    "use strict";
    var AB = require("./ab"),
        ListContexts = require("../../akira/components/lolomo/lolomoConstants.jsx").LIST_CONTEXTS;
    module.exports = {
        isHeroRow: function(o) {
            return AB.resolveABValue(o, 6661, "forceOriginalsJawOpen", !1) && o.listContext === ListContexts.NETFLIX_ORIGINALS
        }
    };


});


Requireify.register('js/akira/components/jawBone/jawBone.jsx', function(require, requireAsync, module, exports) {


    "use strict";
    var React = require("react"),
        nfProps = require("nf-iso-properties"),
        classNames = require("classnames"),
        PathEvaluatorUtils = require("../../../utils/pathEvaluatorUtils"),
        Overview = require("./overview/overview.jsx"),
        HeroOverview = require("./overview/heroOverview.jsx"),
        Episodes = require("./episodes/episodes.jsx"),
        MoreLikeThis = require("./moreLikeThis/moreLikeThis.jsx"),
        Trailers = require("./trailers/trailers.jsx"),
        ShowDetails = require("./details/details.jsx"),
        PlayButton = require("./overview/jawBonePlayButton.jsx"),
        PlayLink = require("../controls/playLink.jsx"),
        Slider = require("../slider/slider.jsx"),
        Pane = require("./pane.jsx"),
        Menu = require("./menu.jsx"),
        Background = require("./background.jsx"),
        Link = require("../controls/mainViewLink.jsx"),
        ImageExtension = require("../../../common/imageExtension"),
        JawBoneLink = require("../../../reactMixins/jawBoneLink"),
        AkiraContext = require("../../../reactMixins/akiraContext"),
        Watched = require("../../../reactMixins/video/watched"),
        FalkorFetch = require("../../../reactMixins/falkor-fetch"),
        IsomorphicContext = require("../../../reactMixins/isomorphicContextWithDeps"),
        Scheduler = require("../../../reactMixins/scheduler"),
        KeyCodes = require("../../../common/keyCodes"),
        EventBus = require("../../../reactMixins/eventBus"),
        Transition = require("../../../reactMixins/transition"),
        OptimizationTest = require("../../../utils/ab/optimizationTest"),
        HeroRowABHelper = require("../../../utils/ab/heroRow-AB-6661"),
        RichOriginalsRowTest = require("../../../utils/ab/richOriginalsRowTest"),
        I18N = require("../../../reactMixins/i18n"),
        _ = require("lodash"),
        BUNDLE = "discovery/akira/JawBone",
        OVERVIEW = "Overview",
        EPISODES = "Episodes",
        TRAILERS = "Trailers",
        MORE_LIKE_THIS = "MoreLikeThis",
        SHOW_DETAILS = "ShowDetails",
        SHORT_TITLE_LENGTH = 30,
        DELAY_PREFETCH = 600,
        JAPANESE = "ja",
        JAPAN_SINGLE_LINE_MAX = 25,
        prefetchStrategies = nfProps.get("netflix.ui.akira.prefetch.strategies.jawBone"),
        getPaths = function(e, t, a) {
            t || (t = {
                all: !1
            }), a || (a = {
                isShow: !0
            });
            var i = ImageExtension.getExtensionForTransparentImage(e);
            Overview.pql = {
                originalsLogo: ["bb2OGLogo", "_400x90", i]
            };
            var n = void 0 === a.isShow ? !0 : a.isShow,
                s = [
                    [
                        ["summary", "title", "maturity", "bookmarkPosition", "runtime", "requestId", "availability", "watched"]
                    ]
                ].concat([
                    ["trailers", ["summary", "recapCount"]]
                ]).concat([Overview.pql.originalsLogo]).concat(Overview.getPaths(e, null, {
                    isShow: n
                })).concat(Background.getPaths(e, null, {
                    isShow: n
                }));
            return n && (s = s.concat([
                ["episodeCount"]
            ])), a && a.isStandaloneJawbone && (s = s.concat([
                ["trackIds"]
            ])), t.all && (s = s.concat(MoreLikeThis.getPaths(e, t, a)).concat(ShowDetails.getPaths(e, t, a)).concat(Trailers.getPaths(e, t, a)).concat(Episodes.getPaths(e, t, {
                seasonIndex: "current"
            }))), s
        },
        JawBoneContent = React.createClass({
            displayName: "JawBoneContent",
            childContextTypes: {
                parentContext: React.PropTypes.object,
                rowNum: React.PropTypes.number,
                rankNum: React.PropTypes.number,
                requestId: React.PropTypes.string,
                trackId: React.PropTypes.number
            },
            getChildContext: function() {
                var e, t = {
                    rowNum: 0,
                    rankNum: 0
                };
                return t.parentContext = {
                    rowNum: this.context.rowNum,
                    rankNum: this.context.rankNum,
                    requestId: this.context.requestId,
                    trackId: this.context.trackId
                }, t.trackId = this.context.jawBoneTrackId || this.context.trackId, e = this.getRequestId(), e && (t.requestId = e), t
            },
            mixins: [I18N, AkiraContext, Watched, JawBoneLink, FalkorFetch, IsomorphicContext, Scheduler, Transition],
            transitions: {
                show: function(e) {
                    this.animateInfo(e, {
                        before: {
                            translateX: "30px",
                            opacity: 0
                        },
                        translateX: "0px",
                        opacity: 1,
                        delay: 250,
                        duration: 500
                    })
                },
                hide: function(e, t) {
                    this.animateInfo(e, {
                        opacity: 0,
                        duration: 250
                    }), setTimeout(t, 950)
                }
            },
            animateInfo: function(e, t) {
                if (!this.props.isFirstJaw)
                    for (var a = e.getElementsByClassName("has-jawbone-nav-transition"), i = 0; i < a.length; i++) t.target = a[i], this.animate(t)
            },
            ID: "jawBone-container",
            statics: {
                getPaths: getPaths,
                prefetchStrategies: prefetchStrategies
            },
            getDefaultProps: function() {
                return {
                    disableClose: !1,
                    disableAutoFocus: !1
                }
            },
            getRequestId: function() {
                return this.props.model.getValueSync(["requestId"])
            },
            getDefaultPane: function(e) {
                return "Overview"
            },
            getInitialState: function() {
                return {
                    data: void 0,
                    isShow: !0,
                    visiblePane: this.getDefaultPane(this.props.model),
                    hasClickedMenu: !1,
                    hasPaneData: [],
                    useHeroOverview: HeroRowABHelper.isHeroRow(this.context) || RichOriginalsRowTest.isPanelsOriginalsRow(this.context, this.context.listContext)
                }
            },
            handleNavHover: function() {
                var e = this.state.hasPaneData,
                    t = this.props.videoId,
                    a = this;
                if (t && !e[t]) {
                    var i = nfProps.get("netflix.ui.akira.prefetch.jawBoneNavHover");
                    this.queue(function() {
                        a.fetchData(a.props.model, getPaths(a.getContext(), i, {
                            isShow: a.state.isShow
                        }), "jawBoneNavHover", null, i.forceUpdate)
                    }), e[t] = !0, this.setState({
                        hasPaneData: e
                    })
                }
            },
            getVisiblePane: function(e, t, a, i) {
                var n, s = this.props.model;
                switch (e) {
                    case OVERVIEW:
                        n = this.state.useHeroOverview ? React.createElement("div", null, i ? React.createElement(PlayLink, {
                            videoId: a
                        }, React.createElement("a", {
                            className: "jaw-play-hitzone"
                        })) : null, React.createElement(HeroOverview, {
                            model: s,
                            isPrePromo: t.isPrePromo
                        })) : React.createElement("div", null, OptimizationTest.hasBackgroundImageStartsPlay(this.context) ? React.createElement(PlayLink, {
                            videoId: a
                        }, React.createElement("a", {
                            className: "jaw-play-hitzone"
                        })) : null, React.createElement(Overview, {
                            model: s,
                            isPrePromo: t.isPrePromo
                        }));
                        break;
                    case EPISODES:
                        n = React.createElement(Episodes, {
                            model: s,
                            trackId: this.context.jawBoneEpisodeTrackId,
                            isLoading: this.isLoading(),
                            onSliderMove: this._handleSliderMove
                        });
                        break;
                    case TRAILERS:
                        n = React.createElement(Trailers, {
                            model: s,
                            trackId: this.context.jawBoneTrailerTrackId,
                            isLoading: this.isLoading(),
                            onSliderMove: this._handleSliderMove
                        });
                        break;
                    case MORE_LIKE_THIS:
                        n = React.createElement(MoreLikeThis, {
                            model: s,
                            isLoading: this.isLoading(),
                            onSliderMove: this._handleSliderMove
                        });
                        break;
                    case SHOW_DETAILS:
                        n = React.createElement(ShowDetails, {
                            model: s,
                            isLoading: this.isLoading(),
                            onSliderMove: this._handleSliderMove,
                            watched: i
                        })
                }
                return React.createElement(Pane, {
                    key: "pane-" + e,
                    ariaId: e,
                    hasClickedMenu: this.state.hasClickedMenu
                }, n)
            },
            tabClicked: function(e) {
                EventBus.emit("jawbone:tab:open", {
                    tab: e
                }), this.setState({
                    visiblePane: e,
                    hasClickedMenu: !0
                })
            },
            _handleSliderMove: function(e, t) {
                Slider.MOVE_DIRECTION_NEXT === t ? EventBus.emit("jawbone:tab:scrollNext") : Slider.MOVE_DIRECTION_PREV === t && EventBus.emit("jawbone:tab:scrollPrev")
            },
            _handleClick: function(e) {
                var t = e.target;
                this._isClickFromMenu(t) || EventBus.emit("jawbone:tab:click", {
                    tab: this.state.visiblePane,
                    name: t.innerText || t.alt,
                    url: t.href,
                    type: t.type || t.parent && t.parent.type
                })
            },
            _isClickFromMenu: function(e) {
                return !!(e.parentElement && "menu" === e.parentElement.className || e.parentElement.parentElement && "menu" === e.parentElement.parentElement.className)
            },
            prefetchOnLoad: function() {
                var e = this,
                    t = this.props.videoId,
                    a = this.state.hasPaneData;
                t && !a[t] && (this.mountPrefetchTimeout = setTimeout(function() {
                    var i = getPaths(e.getContext(), prefetchStrategies.allJawBonePanes, {
                        isShow: e.state.isShow
                    });
                    e.fetchData(e.props.model, i), a[t] = !0, e.setState({
                        hasPaneData: a
                    })
                }, DELAY_PREFETCH))
            },
            handleCloseJawBone: function() {
                var e = "#title-card-" + this.context.rowNum + "-" + this.context.rankNum,
                    t = document.querySelector(e);
                EventBus.emit("jawbone:close", {
                    reason: "explicit",
                    listContext: this.context.listContext
                }), this.closeJawBone(), t && t.focus()
            },
            handleKeyDown: function(e) {
                switch (e && e.which) {
                    case KeyCodes.ESC:
                        this.handleCloseJawBone();
                        break;
                    case KeyCodes.ENTER:
                        var t = React.findDOMNode(this.refs.closeJawboneButton);
                        t && t.contains(e.target) && this.handleCloseJawBone()
                }
            },
            componentWillMount: function() {
                this.suppressOriginalsJaw = nfProps.get("netflix.ui.akira.originals.jawbone.disable") || !1
            },
            componentDidMount: function() {
                var e = this;
                this.prefetchOnLoad(), EventBus.emit("jawbone:tab:open", {
                    tab: this.state.visiblePane
                }), this.props.disableAutoFocus || setTimeout(function() {
                    React.findDOMNode(e).focus()
                }, 450)
            },
            shouldComponentUpdate: function(e, t) {
                return this.props.videoId !== e.videoId || this.state.visiblePane !== t.visiblePane
            },
            componentDidUpdate: function() {
                this.prefetchOnLoad()
            },
            componentWillUnmount: function() {
                clearTimeout(this.mountPrefetchTimeout)
            },
            componentWillReceiveProps: function(e) {
                var t, a;
                e.videoId !== this.props.videoId && (t = e.model, a = t.getValueSync(["episodeCount"]), this.setState({
                    isShow: a,
                    visiblePane: this.getDefaultPane(t)
                }))
            },
            getOriginalsModel: function() {
                var e = this.props.model,
                    t = e.getValueSync(["summary"]),
                    a = t && t.isOriginal;
                if (!a || this.suppressOriginalsJaw) return {};
                var i = e.getValueSync(["trailers", ["summary"]]),
                    n = e.getValueSync(["availability"]) || {},
                    s = !this.context.isRtl && e.getValueSync(Overview.pql.originalsLogo) || {
                        url: ""
                    },
                    o = {
                        isOriginal: !0,
                        logoUrl: s.url,
                        isPrePromo: !n.isPlayable,
                        hasTrailers: i && !!i.length,
                        hasRecaps: e.getValueSync(["trailers", ["recapCount"]])
                    };
                return o.suppressMenu = o.isPrePromo && !o.hasTrailers, o
            },
            renderTitle: function(e, t, a, i) {
                var n, s, o = _.get(this.getFeatureData("geo"), "preferredLocale.language", "en") === JAPANESE;
                n = t.isOriginal && t.logoUrl ? React.createElement("img", {
                    alt: e,
                    className: "logo " + (a ? "" : "small-logo"),
                    src: t.logoUrl
                }) : e;
                var r = "title has-jawbone-nav-transition";
                return e.length > SHORT_TITLE_LENGTH && (r += " title-small"), o && (r += " long-title-double-byte-width", e.length > JAPAN_SINGLE_LINE_MAX && (r += " long-title-double-byte-font")), s = React.createElement(Link, {
                    type: "title",
                    params: {
                        id: i
                    }
                }, React.createElement("div", {
                    className: r
                }, n)), this.props.isStandaloneJawbone ? React.createElement("h1", null, s) : React.createElement("h3", null, s)
            },
            render: function() {
                var e = this.getStrings(BUNDLE),
                    t = this.props.model,
                    a = this.getOriginalsModel(),
                    i = t.getValueSync(["summary"]),
                    n = this.props.videoId,
                    s = t.getValueSync(["title"]) || e.get("overview.loading"),
                    o = t.getValueSync(["episodeCount"]),
                    r = this.isInResumeState(),
                    l = this.isInNextUpState(),
                    c = r || l,
                    u = this.state.visiblePane,
                    h = !this.context.isRtl && a.isOriginal && !c,
                    d = !1;
                if (!n || i && PathEvaluatorUtils.isValueError(i)) return null;
                o || u !== EPISODES || (u = OVERVIEW);
                var m = u === OVERVIEW,
                    p = classNames({
                        jawBonePanes: !0,
                        "offset-for-logo": a.isOriginal && a.logoUrl && !m,
                        fullBleed: h
                    }),
                    v = m && "synopsis" !== OptimizationTest.getJawPlayButtonLocation(this.context);
                return this.state.useHeroOverview && (v = m && c, d = !0), React.createElement("div", {
                    id: n,
                    className: "jawBoneContainer slider-hover-trigger-layer",
                    onKeyDown: this.handleKeyDown,
                    onClick: this._handleClick,
                    tabIndex: 0
                }, React.createElement(Background, {
                    id: n,
                    dim: !m,
                    model: t,
                    isStandalone: !o,
                    isFullBleed: h
                }), React.createElement("div", {
                    className: "jawBone"
                }, this.renderTitle(s, a, m, n), v ? React.createElement(PlayButton, {
                    model: t
                }) : null, React.createElement("div", {
                    className: "jawBoneCommon"
                }, React.createElement("div", {
                    className: p
                }, this.getVisiblePane(u, a, n, c))), a.suppressMenu ? null : React.createElement(Menu, {
                    supressMoreLikeThis: d,
                    hasEpisodes: o,
                    hasTrailers: a.hasTrailers,
                    hasRecaps: a.hasRecaps,
                    isPrePromo: a.isPrePromo,
                    visiblePane: u,
                    tabClicked: this.tabClicked,
                    onMouseEnter: this.handleNavHover
                })), this.props.disableClose ? null : React.createElement("a", {
                    className: "close-button icon-close",
                    ref: "closeJawboneButton",
                    onClick: this.handleCloseJawBone,
                    tabIndex: 0,
                    role: "button",
                    "aria-label": e.get("button.close")
                }))
            }
        });
    JawBoneContent.__meta__ = {
        strings: [{
            bundle: BUNDLE,
            ids: ["overview.loading", "button.close"]
        }]
    }, module.exports = JawBoneContent;


});


Requireify.register('js/akira/components/jawBone/jawBoneOnRow.jsx', function(require, requireAsync, module, exports) {


    "use strict";
    var React = require("react"),
        _ = require("lodash"),
        classNames = require("classnames"),
        JawBone = require("./jawBone.jsx"),
        Slider = require("../slider/slider.jsx"),
        IsomorphicContext = require("../../../reactMixins/isomorphicContextWithDeps"),
        AkiraContext = require("../../../reactMixins/akiraContext"),
        JawBoneLink = require("../../../reactMixins/jawBoneLink"),
        EventBus = require("../../../reactMixins/eventBus"),
        TimeoutTransitionGroup = require("../timeoutTransitionGroup.jsx"),
        TRANSITION_BETWEEN_OPEN_JAWS_SLA_MS = 640,
        TRANSITION_TO_OPEN_JAW_SLA_MS = 640,
        JawBoneOnRow = React.createClass({
            displayName: "JawBoneOnRow",
            mixins: [IsomorphicContext, JawBoneLink, AkiraContext],
            getInitialState: function() {
                return {
                    jawBoneIsNavigating: !1
                }
            },
            childContextTypes: {
                rankNum: React.PropTypes.number
            },
            getChildContext: function() {
                return {
                    rankNum: this.props.jawBoneRankNum
                }
            },
            getDefaultProps: function() {
                return {
                    infinite: !0
                }
            },
            componentWillReceiveProps: function(e) {
                var t;
                if (this.props.jawBoneRankNum !== e.jawBoneRankNum && (this.isFirstJaw = null === this.props.jawBoneRankNum), this.props.showJawBone && e.lowestVisibleItemIndex !== this.props.lowestVisibleItemIndex) {
                    if (this.state.jawBoneIsNavigating) return void(this.state.jawBoneIsNavigating = !1);
                    var n = this.props.model,
                        i = n.bind([e.lowestVisibleItemIndex]),
                        o = i && i.getValueSync(["summary"]),
                        a = o && o.id;
                    a && (t = e.sliderMoveDirection === Slider.MOVE_DIRECTION_NEXT ? "rowNext" : "rowPrev", EventBus.emit("jawbone:open", _.assign({}, this.context, this.props, {
                        trigger: t,
                        videoId: a,
                        rankNum: e.lowestVisibleItemIndex
                    })), this.openJawBoneAtRankNum(e.lowestVisibleItemIndex, a))
                }
            },
            getJawboneRankNum: function(e) {
                var t = e;
                return t
            },
            getJawBoneModel: function() {
                return this.props.jawBoneModelIndex >= 0 ? this.props.model.bind([this.props.jawBoneModelIndex]) : void 0
            },
            handleJawBoneNavigation: function(e) {
                var t, n, i, o, a, s = this.props.model,
                    r = this.props.jawBoneRankNum,
                    u = this.props.sliderRef,
                    l = u && u.getTotalItemCount(),
                    w = l,
                    m = e > 0 ? "jawNext" : "jawPrev";
                if (this.props.showJawBone)
                    for (; w--;)
                        if (r += e, 0 > r && (r = l - 1), r === l && (r = 0), t = s.bind([r]), n = t.getValueSync(["summary"]), i = n && n.id) return u && !u.isItemInMiddle(this.getJawboneRankNum(r)) && (this.state.jawBoneIsNavigating = !0, e > 0 ? u.advanceRight() : u.advanceLeft()), o = (s.getValueSync(["userRating"]) || {}).matchScore, a = (s.getValueSync(["userRating"]) || {}).tooNewForMatchScore, EventBus.emit("jawbone:open", _.assign({}, this.context, this.props, {
                            trigger: m,
                            videoId: i,
                            rankNum: r
                        }, void 0 !== o ? {
                            matchScore: o
                        } : {}, void 0 !== a ? {
                            tooNewForMatchScore: a
                        } : {})), void this.openJawBoneAtRankNum(r, i)
            },
            renderJawBone: function(e) {
                var t, n, i;
                return this.props.showJawBone && (t = this.getJawBoneModel(), n = t && t.getValueSync(["summary"]), i = n && n.id), React.createElement(TimeoutTransitionGroup, {
                    transitionName: "jawBoneFadeInPlace",
                    key: "jawbone",
                    className: "jawBoneOpenContainer",
                    enterTimeout: TRANSITION_BETWEEN_OPEN_JAWS_SLA_MS,
                    leaveTimeout: TRANSITION_BETWEEN_OPEN_JAWS_SLA_MS
                }, React.createElement("div", {
                    key: "jawbone-" + i,
                    className: "jawBoneFadeInPlaceContainer"
                }, React.createElement(JawBone, {
                    videoId: i,
                    model: t,
                    pqls: e,
                    handleNavClick: this.handleJawBoneNavigation,
                    isFirstJaw: this.isFirstJaw
                })))
            },
            render: function() {
                var e, t, n, i, o, a;
                return this.props.showJawBone && (e = this.getJawBoneModel(), o = e && e.getValueSync(["summary"]), t = o && "show" === o.type, n = JawBone.getPaths(this.getContext(), null, {
                    isShow: t
                }), i = e && n), a = {
                    jawBoneContent: !0,
                    open: i
                }, React.createElement(TimeoutTransitionGroup, {
                    transitionName: "jawBoneOpen",
                    className: classNames(a),
                    enterTimeout: TRANSITION_TO_OPEN_JAW_SLA_MS,
                    leaveTimeout: TRANSITION_TO_OPEN_JAW_SLA_MS
                }, i ? this.renderJawBone(n) : null)
            }
        });
    module.exports = JawBoneOnRow;


});


Requireify.register('js/akira/components/row.jsx', function(require, requireAsync, module, exports) {


    "use strict";
    var React = require("react"),
        classNames = require("classnames"),
        IsomorphicContext = require("../../reactMixins/isomorphicContextWithDeps"),
        JawBoneLink = require("../../reactMixins/jawBoneLink"),
        Animation = require("../../reactMixins/cssAnimation.jsx"),
        AkiraContext = require("../../reactMixins/akiraContext"),
        EventBus = require("../../reactMixins/eventBus"),
        OptimizationTest = require("../../utils/ab/optimizationTest"),
        FalkorPureRender = require("../../reactMixins/falkorPureRenderMixin"),
        Slider = require("./slider/slider.jsx"),
        JawBone = require("./jawBone/jawBone.jsx"),
        JawBoneOnRow = require("./jawBone/jawBoneOnRow.jsx"),
        PresTrackedContainer = require("../../components/presentationTracking/presentationTrackingContainer.jsx"),
        BOB_CLOSE_TIMEOUT = 500,
        Row = React.createClass({
            displayName: "Row",
            sliderMoveDirection: null,
            mixins: [IsomorphicContext, JawBoneLink, Animation, FalkorPureRender, AkiraContext],
            getInitialState: function() {
                return {
                    lowestVisibleItemIndex: 0,
                    isBobOpen: !1
                }
            },
            componentDidMount: function() {
                this.props.isMyListRow && (EventBus.on("myList:remove:end", this._decreaseSelectedIndex), EventBus.on("myList:add:end", this._increaseSelectedIndex))
            },
            componentWillUnmount: function() {
                this.props.isMyListRow && (EventBus.removeListener("myList:remove:end", this._decreaseSelectedIndex), EventBus.removeListener("myList:add:end", this._increaseSelectedIndex))
            },
            _increaseSelectedIndex: function() {
                var e = this.props.totalItems;
                this.props.showJawBone && null !== this.props.jawBoneRankNum && void 0 !== this.props.jawBoneRankNum && e && (this.props.isGallery ? (this.context.columnsInRow && this.context.columnsInRow > e && (e = this.context.columnsInRow), this.props.jawBoneRankNum + 1 < e ? this.openJawBoneAtRankNum(this.props.jawBoneRankNum + 1) : this.openJawBoneAtRankNum(0)) : this.props.jawBoneRankNum + 1 <= e && this.openJawBoneAtRankNum(this.props.jawBoneRankNum + 1))
            },
            _decreaseSelectedIndex: function(e) {
                var t, o = this.props.orderedItemList[e.videoId],
                    n = this.props.totalItems,
                    s = this.props.jawBoneRankNum;
                this.props.showJawBone && this.props.orderedItemList && void 0 !== o && (t = this.props.isGallery ? (s + 1) * (this.props.rowNum + 1) : s, s - 1 >= 0 && (t > o || s + 1 >= n) && this.openJawBoneAtRankNum(s - 1))
            },
            childContextTypes: {
                rowNum: React.PropTypes.number
            },
            getChildContext: function() {
                return {
                    rowNum: this.props.rowNum
                }
            },
            handleSliderMove: function(e, t) {
                this.setState({
                    lowestVisibleItemIndex: e
                }), this.sliderMoveDirection = t, "function" == typeof this.props.handleSliderMove && this.props.handleSliderMove(e, t)
            },
            closingBobs: [],
            onBobLeave: function(e, t) {
                var o = this,
                    n = {
                        position: e,
                        callback: t,
                        closeTimeout: setTimeout(function() {
                            o.isMounted() && o.closePrevBobs(!1)
                        }, BOB_CLOSE_TIMEOUT)
                    };
                this.closingBobs.push(n)
            },
            onBobOpen: function(e, t, o, n, s) {
                this.pushSliderItems(e, t, o, n, s), this.closePrevBobs(!0), this.setState({
                    isBobOpen: !0
                })
            },
            onBobClose: function(e, t, o) {
                !this.ignoreClosingPush || this.isJawBoneOpen() ? this.pushSliderItems(e, 0, 0, t, o) : o(), this.ignoreClosingPush = !1
            },
            closePrevBobs: function(e) {
                this.ignoreClosingPush = e;
                for (var t = 0, o = this.closingBobs.length; o > t; t++) {
                    var n = this.closingBobs[t];
                    clearTimeout(n.closeTimeout), n.callback && n.callback()
                }
                this.closingBobs = []
            },
            cleanUpAllBobStyles: function() {
                var e, t;
                this.isMounted() && (e = this.refs.slider, e && (t = e.getAllSliderItems() || [], t.map(function(e) {
                    Animation.clearStyles(React.findDOMNode(e))
                })))
            },
            getIsBobOpen: function() {
                return this.state.isBobOpen
            },
            pushSliderItems: function(e, t, o, n, s) {
                var i = this.refs.slider,
                    r = i.getItem(e);
                if (r && n) {
                    var a, l = r.props.viewportPosition;
                    a = "leftEdge" === l ? 1 : "rightEdge" === l ? -1 : 0;
                    for (var p, c = i.getSliderItemsInViewport(), h = 0; p = c[h]; h++) {
                        var d = 0;
                        if (p === r) d = a * t;
                        else {
                            var u = a ? 2 : 1,
                                m = p.props.viewportIndex > r.props.viewportIndex ? 1 : -1;
                            a && m !== a && (u = 0), d = m * t * o * u
                        }
                        this.context.isRtl && (d = -1 * d), this.animate({
                            target: React.findDOMNode(p),
                            translate3d: Math.floor(d) + "px, 0,0",
                            duration: n,
                            callback: s,
                            easing: "cubic-bezier(0.5, 0, 0.1, 1)"
                        })
                    }
                }
            },
            isJawBoneOpen: function() {
                return this.props.showJawBone
            },
            getJawBoneModel: function() {
                return this.props.jawBoneModelIndex >= 0 ? this.props.model.bind([this.props.jawBoneModelIndex]) : void 0
            },
            handleRowBlur: function() {
                this.closePrevBobs(!1), this.getIsBobOpen() && setTimeout(this.cleanUpAllBobStyles, BOB_CLOSE_TIMEOUT), this.setState({
                    isBobOpen: !1
                })
            },
            wrapChildItems: function(e) {
                var t = this;
                return e.map(function(e) {
                    return React.addons.cloneWithProps(e, {
                        key: e.key,
                        onBobOpen: t.onBobOpen,
                        onBobClose: t.onBobClose,
                        onBobLeave: t.onBobLeave,
                        getRowHasBobOpen: t.getIsBobOpen,
                        aJawBoneOpen: t.isJawBoneOpen(),
                        myJawBoneOpen: t.isJawBoneOpen() && t.props.jawBoneRankNum === e.props.rankNum
                    })
                })
            },
            render: function() {
                var e, t, o, n, s, i, r = this.props.model,
                    a = OptimizationTest.getColumnsInRowModifier(this.context),
                    l = this.context.columnsInRow;
                return a && (l += a), this.isJawBoneOpen() && (o = this.getJawBoneModel(), e = o && o.getValueSync(["summary"]), n = e && "show" === e.type, s = JawBone.getPaths(this.getContext(), null, {
                    isShow: n
                }), i = o && s), t = classNames({
                    rowContainer: !0,
                    jawBoneOpen: i && this.props.isGallery,
                    bobOpen: this.state.isBobOpen,
                    rowContainer_title_card: !0
                }), React.createElement("div", {
                    className: t,
                    id: "row-" + this.props.rowNum
                }, React.createElement(PresTrackedContainer, null, React.createElement("div", {
                    className: "rowContent slider-hover-trigger-layer",
                    onMouseLeave: this.handleRowBlur
                }, React.createElement(Slider, {
                    ref: "slider",
                    itemsInRow: l,
                    totalItems: this.props.totalItems,
                    onSliderMove: this.handleSliderMove,
                    enableLooping: !0,
                    enablePeek: !0,
                    enablePaginationIndicator: this.props.enablePaginationIndicator
                }, this.wrapChildItems(this.props.children))), React.createElement(JawBoneOnRow, {
                    model: r,
                    sliderRef: this.refs.slider,
                    jawBoneRankNum: this.props.jawBoneRankNum,
                    showJawBone: this.isJawBoneOpen(),
                    lowestVisibleItemIndex: this.state.lowestVisibleItemIndex,
                    sliderMoveDirection: this.sliderMoveDirection,
                    infinite: !this.props.isGallery,
                    jawBoneModelIndex: this.props.jawBoneModelIndex
                })))
            }
        });
    module.exports = Row;


});


Requireify.register('js/akira/components/lolomo/rowHeader.jsx', function(require, requireAsync, module, exports) {


    "use strict";
    var React = require("react"),
        _ = require("lodash"),
        classNames = require("classnames"),
        Link = require("../controls/mainViewLink.jsx"),
        RichOriginalsRowTest = require("../../../utils/ab/richOriginalsRowTest"),
        RowHeader = React.createClass({
            displayName: "RowHeader",
            contextTypes: {
                listContext: React.PropTypes.string,
                isRtl: React.PropTypes.bool
            },
            renderLinked: function(e) {
                var t = {
                        rowChevron: !0
                    },
                    s = this.context.isRtl ? "icon-akiraCaretLeft" : "icon-akiraCaretRight";
                return t[s] = !0, React.createElement("h2", {
                    className: "rowHeader"
                }, React.createElement(Link, {
                    className: e,
                    type: this.context.listContext,
                    id: this.props.id
                }, _.unescape(this.props.title), React.createElement("span", {
                    className: classNames(t)
                })))
            },
            render: function() {
                var e = classNames({
                    rowTitle: !0,
                    "originals-row-title": RichOriginalsRowTest.isRichOriginalsRow(this.context, this.context.listContext)
                });
                return this.context.listContext ? this.renderLinked(e) : React.createElement("h2", {
                    className: e
                }, _.unescape(this.props.title))
            }
        });
    module.exports = RowHeader;


});


Requireify.register('js/akira/components/title/tinyTitleCard.jsx', function(require, requireAsync, module, exports) {


    "use strict";
    var React = require("react"),
        PlayButton = require("../controls/playbutton.jsx"),
        ImageExtension = require("../../../common/imageExtension"),
        IsomorphicContext = require("../../../reactMixins/isomorphicContextWithDeps"),
        SIZE = "_233x131",
        TinyTitleCard = React.createClass({
            displayName: "TinyTitleCard",
            mixins: [IsomorphicContext],
            statics: {
                extension: function(e) {
                    return ImageExtension.getExtensionForOpaqueImage(e)
                },
                getPaths: function(e, t, a) {
                    return [
                        ["summary"],
                        ["boxarts", SIZE, ImageExtension.getExtensionForOpaqueImage(e)]
                    ].concat(PlayButton.getPaths())
                },
                getSize: function() {
                    return SIZE
                }
            },
            placeHolder: function() {
                var e = "lockup title_card " + (this.props.className || "");
                return React.createElement("div", {
                    className: e
                }, React.createElement("div", {
                    className: "video-artwork tc-load"
                }, "Loading..."))
            },
            clickPlayButton: function() {
                this.refs.playButton && React.findDOMNode(this.refs.playButton).click()
            },
            render: function() {
                var e, t, a = this.props.model,
                    n = a.getValueSync(["summary"]),
                    i = a.getValueSync(["boxarts"]),
                    r = TinyTitleCard.extension(this.getContext()),
                    o = "lockup title_card " + (this.props.className || "");
                return n ? i && i && i[SIZE] && i[SIZE][r] ? (e = {
                    backgroundImage: "url(" + i[SIZE][r].url + ")"
                }, t = "video-artwork-" + n.id, React.createElement("div", {
                    id: t,
                    key: t,
                    className: o,
                    onClick: this.clickPlayButton
                }, React.createElement("div", {
                    className: "video-artwork",
                    style: e
                }, React.createElement(PlayButton, {
                    ref: "playButton",
                    model: a,
                    className: "evidencePlay"
                })))) : null : this.placeHolder()
            }
        });
    module.exports = TinyTitleCard;


});


Requireify.register('js/akira/components/lolomo/watchedEvidence.jsx', function(require, requireAsync, module, exports) {


    "use strict";
    var React = require("react"),
        TinyTitleCard = require("../title/tinyTitleCard.jsx"),
        I18N = require("../../../reactMixins/i18nWithDeps"),
        AutoFetch = require("../../../reactMixins/falkor-auto-fetch"),
        BUNDLE = "discovery/akira/Common",
        NUM_EVIDENCE = 2,
        WatchedEvidence = React.createClass({
            displayName: "WatchedEvidence",
            mixins: [I18N, AutoFetch],
            statics: {
                __meta__: {
                    strings: [{
                        bundle: "discovery/akira/Common",
                        ids: ["based.on.your.interest.in"]
                    }]
                },
                getPaths: function(e, t, r) {
                    var i = TinyTitleCard.getPaths(e).map(function(e) {
                        return [{
                            to: NUM_EVIDENCE
                        }].concat(e)
                    });
                    return i
                }
            },
            childContextTypes: {
                rankNum: React.PropTypes.number
            },
            getChildContext: function() {
                return {
                    rankNum: this.props.rankNum
                }
            },
            renderVideos: function() {
                var e, t = [],
                    r = this.props.model;
                for (e = 0; NUM_EVIDENCE > e; e++) {
                    var i = r.bind([e]);
                    i.getBoundValue() && t.push(React.createElement(TinyTitleCard, {
                        model: i,
                        className: "videoEvidence",
                        key: "watchedEvidence" + e
                    }))
                }
                return t
            },
            render: function() {
                var e = this.renderVideos();
                return e.length <= 0 ? null : React.createElement("div", {
                    className: "ratio-16x9"
                }, React.createElement("div", {
                    className: "watchedEvidence"
                }, React.createElement("div", {
                    className: "evidenceLabel"
                }, this.getString(BUNDLE, "based.on.your.interest.in")), e))
            }
        });
    module.exports = WatchedEvidence;


});


Requireify.register('js/akira/components/title/errorTitleCard.jsx', function(require, requireAsync, module, exports) {


    "use strict";
    var React = require("react"),
        ErrorTitleCard = React.createClass({
            displayName: "ErrorTitleCard",
            render: function() {
                var e = {
                        display: "none"
                    },
                    r = {
                        backgroundImage: "url(http://cdn0.nflximg.net/images/unavailable/342x192/unavailable.jpg)"
                    };
                return React.createElement("div", {
                    className: this.props.classes + " error-title-card"
                }, React.createElement("div", {
                    className: "video-artwork",
                    style: r
                }, React.createElement("div", {
                    style: e
                }, this.props.errorMessage)))
            }
        });
    module.exports = ErrorTitleCard;


});


Requireify.register('js/utils/mouseUtils.js', function(require, requireAsync, module, exports) {


    "use strict";
    var mouseUtil = {
        modifiedClick: function(t) {
            return t && (t.ctrlKey || t.shiftKey || t.metaKey || t.which && 2 === t.which || t.button && 1 === t.button)
        }
    };
    module.exports = mouseUtil;


});


Requireify.register('js/akira/components/title/bobCard.jsx', function(require, requireAsync, module, exports) {


    "use strict";
    var React = require("react"),
        _ = require("lodash"),
        classNames = require("classnames"),
        VideoMeta = require("../title/videoMeta.jsx"),
        MyListButton = require("../title/myListButton.jsx"),
        Thumbs = require("../title/thumbs.jsx"),
        HeroImages = require("../title/heroImages.jsx"),
        PlayButton = require("../controls/playbutton.jsx"),
        Progress = require("../jawBone/progress.jsx"),
        SliderItem = require("../slider/sliderItem.jsx"),
        Link = require("../controls/mainViewLink.jsx"),
        Animation = require("../../../reactMixins/cssAnimation.jsx"),
        AkiraContext = require("../../../reactMixins/akiraContext"),
        Watched = require("../../../reactMixins/video/watched"),
        I18N = require("../../../reactMixins/i18n"),
        Context = require("../../../reactMixins/isomorphicContextWithDeps"),
        JawBoneLink = require("../../../reactMixins/jawBoneLink"),
        EventBus = require("../../../reactMixins/eventBus"),
        RatingsTest = require("../../../reactMixins/ab/ratingsRedesignTest"),
        LolomoConstants = require("../lolomo/lolomoConstants.jsx"),
        AB = require("../../../reactMixins/ab"),
        Position = require("../../../common/position"),
        OptimizationTest = require("../../../utils/ab/optimizationTest"),
        MouseUtils = require("../../../utils/mouseUtils"),
        SVGIcon = require("../../../common/svgIcon.jsx"),
        TextUtils = require("../../../utils/textUtils"),
        SIZE = "_665x375",
        HEIGHT = 470,
        IMAGE_ROTATOR_FIRST_DELAY = 2e3,
        IMAGE_ROTATOR_DURATION = 2e3,
        EXPAND_DURATION = 400,
        BOB_SCALE = 1.82,
        BOB_PRE_EXPAND_SCALE = .54945055,
        LARGE_BOB_SCALE = 2.1,
        LARGE_BOB_PRE_EXPAND_SCALE = .476190476,
        SMALL_BOB_SCALE = 1.65,
        SMALL_BOB_PRE_EXPAND_SCALE = .606060606,
        THUMBS_BOB_SCALE = 1.95,
        THUMBS_BOB_PRE_EXPAND_SCALE = .51282051282051,
        Z_INDEX_DEFAULT = null,
        Z_INDEX_CLOSING = 2,
        Z_INDEX_OPEN = 4,
        MAX_SYNOPSIS_LENGTH = 160,
        BUNDLE = "discovery/akira/Common",
        BobCard = React.createClass({
            displayName: "BobCard",
            mixins: [JawBoneLink, Animation, Watched, I18N, Context, AkiraContext, RatingsTest, AB],
            statics: {
                getPaths: function(e, t, i) {
                    return i || (i = {}), [
                        ["summary"],
                        ["title"],
                        ["availability"],
                        ["synopsis"],
                        ["queue"],
                        ["episodeCount"],
                        ["info"]
                    ].concat([
                        ["current", ["summary", "runtime", "bookmarkPosition", "creditsOffset"]]
                    ]).concat(VideoMeta.getPaths(e)).concat(HeroImages.getPaths(e, null, {
                        isShow: i.isShow,
                        height: HEIGHT,
                        size: SIZE
                    })).concat(Watched.getPaths()).concat(PlayButton.getPaths())
                },
                __meta__: {
                    strings: [{
                        bundle: BUNDLE,
                        ids: ["label.resume", "label.next.up", "watched.title.bob"]
                    }]
                }
            },
            getInitialState: function() {
                return {
                    disablePlayButton: !1
                }
            },
            componentDidMount: function() {
                this.openBOB()
            },
            openBOB: function() {
                var e = this,
                    t = this.getData(),
                    i = this.getFeatureSet(t),
                    a = EXPAND_DURATION,
                    s = BOB_SCALE;
                this.preExpandScale = BOB_PRE_EXPAND_SCALE, OptimizationTest.hasSmallTitleCard(this.context) && (s = LARGE_BOB_SCALE, this.preExpandScale = LARGE_BOB_PRE_EXPAND_SCALE), OptimizationTest.hasLargeTitleCard(this.context) && (s = SMALL_BOB_SCALE, this.preExpandScale = SMALL_BOB_PRE_EXPAND_SCALE), this.hasThumbInput() && (s = THUMBS_BOB_SCALE, this.preExpandScale = THUMBS_BOB_PRE_EXPAND_SCALE), OptimizationTest.hasNoGrowBOB(this.context) && (s = 1, this.preExpandScale = .9999);
                var n = 100 * s,
                    o = (n - 100) / -2;
                this.setParentZIndex(Z_INDEX_OPEN), OptimizationTest.hasNoGrowBOB(this.context) ? this.animate({
                    before: {
                        scale: this.preExpandScale,
                        opacity: 0,
                        visibility: "visible",
                        width: n + "%",
                        height: n + "%",
                        top: o + "%",
                        left: o + "%"
                    },
                    scale: 1,
                    opacity: 1,
                    easing: "cubic-bezier(0.5, 0, 0.1, 1)",
                    duration: a
                }) : (this.setState({
                    disablePlayButton: !0
                }), setTimeout(function() {
                    e.isMounted() && e.setState({
                        disablePlayButton: !1
                    })
                }, a + 250), this.animate({
                    before: {
                        scale: this.preExpandScale,
                        visibility: "visible",
                        width: n + "%",
                        height: n + "%",
                        top: o + "%",
                        left: o + "%"
                    },
                    scale: 1,
                    easing: "cubic-bezier(0.5, 0, 0.1, 1)",
                    duration: a
                })), this.animate({
                    target: "title-art",
                    opacity: 0,
                    duration: a,
                    easing: "linear",
                    after: {
                        display: "none"
                    }
                }), "none" !== i.jawButtonPosition && this.animate({
                    target: "jawbone-chevron",
                    before: {
                        translateY: "-10px",
                        opacity: 0
                    },
                    translateY: "0px",
                    opacity: 1,
                    duration: a,
                    delay: 200,
                    after: {
                        reset: !0
                    }
                }), this.pushSiblings(s)
            },
            pushSiblings: function(e) {
                var t = Position.getRect(React.findDOMNode(this.props.parentTitleCard)),
                    i = t.width * e,
                    a = (i - t.width) / 2,
                    s = 1;
                this.props.onBobOpen(a, s, EXPAND_DURATION)
            },
            getParentSliderItem: function() {
                for (var e = React.findDOMNode(this); e = e.parentNode;)
                    if (e.classList && e.classList.contains(SliderItem.className)) return e;
                return null
            },
            setParentZIndex: function(e) {
                var t = this.getParentSliderItem();
                t && this.css({
                    target: t,
                    zIndex: e
                })
            },
            componentWillLeave: function(e) {
                var t = EXPAND_DURATION;
                OptimizationTest.hasNoGrowBOB(this.context) && (t /= 2), this.animate({
                    scale: this.preExpandScale,
                    duration: t,
                    easing: "cubic-bezier(0.5, 0, 0.1, 1)"
                }), this.animate({
                    target: "title-art",
                    before: {
                        display: "block"
                    },
                    opacity: 1,
                    duration: t
                });
                var i = this;
                this.setParentZIndex(Z_INDEX_CLOSING), setTimeout(function() {
                    i.isMounted() && (i.setParentZIndex(Z_INDEX_DEFAULT), e())
                }, t), this.props.onBobClose(t)
            },
            onClickPlayHitZone: function(e) {
                this.isVideoPlayable() && React.findDOMNode(this.refs.playButton).click()
            },
            onClickJawHitZone: function(e) {
                var t, i;
                MouseUtils.modifiedClick(e) || (t = (this.props.model.getValueSync(["userRating"]) || {}).matchScore, i = (this.props.model.getValueSync(["userRating"]) || {}).tooNewForMatchScore, e && e.preventDefault(), EventBus.emit("jawbone:open", _.assign({}, this.context, this.props, {
                    trigger: "bob"
                }, void 0 !== t ? {
                    matchScore: t
                } : {}, void 0 !== i ? {
                    tooNewForMatchScore: i
                } : {})), this.props.onJawOpen && this.props.onJawOpen(), this.openJawBoneAtRankNum(this.context.rankNum, this.props.videoId))
            },
            getFeatureSet: function(e) {
                var t = {
                    meta: !0,
                    synopsis: OptimizationTest.hasBOBSynopsis(this.context, !0),
                    queue: OptimizationTest.hasBOBMyListButton(this.context, !!e.queue),
                    watchedTitle: !1,
                    progress: !1,
                    progressSummary: !1,
                    playPosition: OptimizationTest.getPlayButtonLocation(this.context, "top"),
                    jawButtonPosition: "bottom",
                    jawHitZone: OptimizationTest.getBOBJawHitzoneSize(this.context, "half"),
                    state: "play",
                    thumbs: !1
                };
                return "only-info" === t.jawHitZone || "only-button" === t.jawHitZone ? t.jawButtonPosition = "right" : "none" === t.jawHitZone && (t.jawButtonPosition = "none"), this.isInResumeState() ? (t.state = "resume", t.watchedTitle = !0, t.progress = !0, t.progressSummary = !0) : this.isInNextUpState() && (t.state = "nextup", t.watchedTitle = !0), "under" === OptimizationTest.getBookmarkLocation(this.context) && (t.progress = !1, t.progressSummary = !1), "play" !== t.state && (t.synopsis = !1, t.meta = !1), this.context.listContext === LolomoConstants.LIST_CONTEXTS.CONTINUE_WATCHING && (t.synopsis = !1), t.synopsis || "top" !== t.playPosition || (t.playPosition = "lowerTop"), this.hasThumbInput() && (t.queue = !1, t.progress || (t.thumbs = !0)), e.summary.isOriginal && !this.isVideoPlayable() && (t.meta = !1, t.queue = !1), t
            },
            getData: function() {
                var e = this.props.model;
                return {
                    title: e.getValueSync(["title"]),
                    summary: e.getValueSync(["summary"]),
                    heroImages: e.getValueSync(["heroImages"]),
                    queue: e.getValueSync(["queue"]),
                    bookmarkPosition: e.getValueSync(["bookmarkPosition"]),
                    episodeRuntime: e.getValueSync(["current", "runtime"]),
                    episodeBookmark: e.getValueSync(["current", "bookmarkPosition"]),
                    isStandalone: e.getValueSync(["episodeCount"]) <= 0,
                    info: e.getValueSync(["info"]),
                    synopsis: TextUtils.ellipsize(e.getValueSync(["synopsis"]), MAX_SYNOPSIS_LENGTH)
                }
            },
            isVideoPlayable: function() {
                var e = this.props.model.getValueSync(["availability"]),
                    t = e && e.isPlayable;
                return !e || t
            },
            getResumeBobTitle: function() {
                var e = this.getResumeParams();
                return this.getString(BUNDLE, "watched.title.bob", e)
            },
            renderHeroImages: function() {
                var e = this.props.model,
                    t = this.getData(),
                    i = OptimizationTest.getSliderShiftSpeedModifier(this.context),
                    a = IMAGE_ROTATOR_DURATION,
                    s = IMAGE_ROTATOR_FIRST_DELAY;
                return i && (a *= i, s *= i), React.createElement(HeroImages, {
                    model: e,
                    className: "bob-background",
                    auto: !0,
                    firstDelay: s,
                    duration: a,
                    isStandalone: t.isStandalone,
                    preloadImage: this.props.titleArt,
                    bookmarkPosition: t.bookmarkPosition,
                    height: HEIGHT,
                    size: SIZE,
                    watched: this.hasBeenWatched()
                })
            },
            renderBobInfo: function() {
                return React.createElement("div", {
                    className: "bob-info"
                }, React.createElement("div", {
                    className: "bob-info-main"
                }, this.renderBobFirstContent(), this.renderBobText(), this.renderBobLastContent()), this.renderBobBottomContent())
            },
            renderBobFirstContent: function() {
                var e = this.getData(),
                    t = this.getFeatureSet(e),
                    i = [];
                return "left" === t.playPosition && i.push(this.renderPlayButton()), 0 === i.length ? null : React.createElement("div", {
                    className: "bob-first-content"
                }, i)
            },
            renderBobText: function() {
                var e = this.props.model,
                    t = this.getData(),
                    i = this.getFeatureSet(t),
                    a = i.watchedTitle && !t.isStandalone ? this.getResumeBobTitle() : "";
                return React.createElement("div", {
                    className: "bob-text"
                }, React.createElement("div", {
                    className: classNames({
                        "bob-title": !0
                    })
                }, t.title), i.watchedTitle ? React.createElement("div", {
                    className: "watched-title",
                    dangerouslySetInnerHTML: {
                        __html: a
                    }
                }) : null, i.meta ? React.createElement(VideoMeta, {
                    model: e
                }) : null, i.synopsis ? React.createElement("div", {
                    className: "synopsis"
                }, t.synopsis) : null, i.progress ? React.createElement(Progress, {
                    runtime: t.episodeRuntime,
                    bookmarkPosition: t.episodeBookmark,
                    current: !0,
                    showSummary: i.progressSummary
                }) : null)
            },
            renderBobLastContent: function() {
                var e, t = this.props.model,
                    i = this.getData(),
                    a = this.getFeatureSet(i),
                    s = i.queue && i.queue.inQueue,
                    n = {
                        "bob-jawbone-right-chevron": !0
                    },
                    o = [];
                return "right" === a.jawButtonPosition ? (e = React.createElement("div", {
                    className: classNames(n),
                    ref: "jawbone-chevron",
                    key: "jawbone-button"
                }, React.createElement(SVGIcon, {
                    name: "chevron-down"
                })), "only-button" === a.jawHitZone && (e = this.renderJawboneLink(e)), o.push(e)) : a.thumbs ? o.push(React.createElement("div", {
                    className: "thumbs-bob-wrapper",
                    key: "thumbs"
                }, React.createElement(Thumbs, {
                    model: t,
                    videoId: i.summary.id,
                    extraClass: "thumbs-animated"
                }))) : a.queue && o.push(React.createElement("div", {
                    className: "mylist-wrapper",
                    key: "mylist"
                }, React.createElement(MyListButton, {
                    model: t,
                    videoId: i.summary.id,
                    inQueue: s,
                    showToolTip: !0
                }))), 0 === o.length ? null : React.createElement("div", {
                    className: "bob-last-content"
                }, o)
            },
            renderBobBottomContent: function() {
                var e = this.getData(),
                    t = this.getFeatureSet(e),
                    i = {
                        "bob-jawbone-bottom-chevron": !0
                    };
                return React.createElement("div", {
                    className: "bob-info-bottom"
                }, "bottom" === t.jawButtonPosition ? React.createElement("div", {
                    className: classNames(i),
                    ref: "jawbone-chevron"
                }, React.createElement(SVGIcon, {
                    name: "chevron-down"
                })) : null)
            },
            renderPlayButton: function() {
                var e = this.props.model,
                    t = this.getData(),
                    i = this.getFeatureSet(t),
                    a = {
                        "bob-play": !0,
                        "play-hidden": "none" === i.playPosition
                    };
                return a["bob-play-" + i.playPosition] = !0, this.isVideoPlayable() ? React.createElement(PlayButton, {
                    ref: "playButton",
                    model: e,
                    className: classNames(a),
                    disableClick: this.state.disablePlayButton,
                    tabIndex: 0,
                    key: "playbutton"
                }) : null
            },
            renderJawboneLink: function(e, t) {
                var i = this.getData(),
                    a = this.getFeatureSet(i),
                    s = _.assign({
                        "bob-jaw-hitzone": !0
                    }, t);
                return s["bob-jaw-hitzone-" + a.jawHitZone] = !0, React.createElement(Link, {
                    type: "title",
                    key: "jawbone-link",
                    params: {
                        id: i.summary.id
                    },
                    preventClick: !0,
                    className: classNames(s),
                    onClick: this.onClickJawHitZone
                }, e)
            },
            render: function() {
                var e = this.getData(),
                    t = this.getFeatureSet(e),
                    i = this.renderPlayButton(),
                    a = this.renderBobInfo(),
                    s = {
                        "bob-card": !0
                    },
                    n = {
                        "bob-overlay": !0
                    },
                    o = React.createElement("img", {
                        src: this.props.titleArt,
                        ref: "title-art",
                        className: "bob-title-art"
                    });
                return "only-info" === t.jawHitZone && (a = this.renderJawboneLink(a)), OptimizationTest.hasNoGrowBOB(this.context) && (n["no-grow"] = !0, o = React.createElement("div", {
                    className: "video-artwork bob-title-art",
                    ref: "title-art",
                    style: {
                        backgroundImage: "url(" + this.props.titleArt + ")"
                    }
                })), t.thumbs ? s["has-thumbs"] = !0 : "right" === t.jawButtonPosition && (s["has-right-jaw-button"] = !0), "left" === t.playPosition && (s["has-left-content"] = !0), React.createElement("div", {
                    className: classNames(s),
                    key: "bob-" + e.summary.id
                }, this.renderHeroImages(), React.createElement("div", {
                    className: "bob-outline"
                }), React.createElement("div", {
                    className: classNames(n),
                    ref: "overlay"
                }, React.createElement("div", {
                    className: classNames({
                        "bob-play-hitzone": !0
                    }),
                    onClick: this.onClickPlayHitZone
                }, "lowerTop" === t.playPosition || "top" === t.playPosition ? i : null), "half" === t.jawHitZone ? this.renderJawboneLink(null) : null, a), React.createElement("div", {
                    style: {
                        display: "none"
                    },
                    className: "hiddenActionItems"
                }, "none" === t.playPosition ? i : null), o)
            }
        });
    module.exports = BobCard;


});


Requireify.register('js/reactMixins/testerParams.jsx', function(require, requireAsync, module, exports) {


    "use strict";
    var ctx = require("../utils/contextData"),
        _ = require("lodash"),
        serverDefs = ctx.getFeatureData("serverDefs"),
        isTestEnvironment = serverDefs && !serverDefs.production,
        TesterParams = {
            getTesterParamFlag: function(e) {
                return "true" === this.getTesterParamValue(e)
            },
            getTesterParamValue: function(e) {
                return isTestEnvironment ? _.get(this.getQuery(), e, null) : void 0
            }
        };
    module.exports = TesterParams;


});


Requireify.register('js/reactMixins/ab/motionBoxArtTest.js', function(require, requireAsync, module, exports) {


    "use strict";
    var AB = require("../ab"),
        nfProps = require("nf-iso-properties"),
        LolomoConstants = require("../../akira/components/lolomo/lolomoConstants.jsx"),
        TesterParams = require("../testerParams.jsx"),
        TEST_ID = 6392,
        CDN_ROOT = "http://cdn.nflximg.com/ffe/siteui/akira/originals/motionBoxArt/",
        MotionBoxArtTest = {
            mixins: [AB, TesterParams],
            hasMotionBoxArt: function() {
                return this.ab().attr(TEST_ID, "hasMotion") && !nfProps.get("netflix.ui.akira.originals.motionBoxArt.disabled")
            },
            useRandomMotionOrder: function() {
                return this.ab().attr(TEST_ID, "isRandom")
            },
            getMotionAsset: function(o, t) {
                var i = nfProps.get("netflix.ui.akira.originals.motionBoxArt.fileVersionTag") || "",
                    r = nfProps.get("netflix.ui.akira.originals.motionBoxArt.cdnRoot") || CDN_ROOT;
                return "static" === o ? r + "static_" + t + "_" + i + ".png" : r + "motion_boxart_" + t + "_" + i + ".mp4"
            },
            getMotionVideoId: function(o, t) {
                if (!this.hasMotionBoxArt() || t === LolomoConstants.LIST_CONTEXTS.MY_LIST || t === LolomoConstants.LIST_CONTEXTS.CONTINUE_WATCHING) return 0;
                var i = this.getTesterParamValue("forceMotionBoxArt") || "";
                if (i) {
                    var r = i.split(","),
                        n = {};
                    if (r.forEach(function(o) {
                            var t = o.split(":");
                            n[parseInt(t[0], 10)] = parseInt(t[1], 10)
                        }), n[o]) return n[o]
                }
                var s = nfProps.get("netflix.ui.akira.originals.motionBoxArt.videos") || "";
                return s.indexOf(o) > -1 ? o : 0
            }
        };
    module.exports = MotionBoxArtTest;


});


Requireify.register('js/akira/components/title/motionBoxArt.jsx', function(require, requireAsync, module, exports) {


    "use strict";
    var React = require("react"),
        EventBus = require("../../../reactMixins/eventBus"),
        IsomorphicContext = require("../../../reactMixins/isomorphicContextWithDeps"),
        MotionBoxArtTest = require("../../../reactMixins/ab/motionBoxArtTest"),
        MotionBoxArt = React.createClass({
            displayName: "MotionBoxArt",
            mixins: [IsomorphicContext, MotionBoxArtTest],
            componentWillMount: function() {
                this.videoUrl = this.getMotionAsset("video", this.props.videoId)
            },
            componentDidMount: function() {
                var e = this.getVideoNode();
                e.readyState > 3 ? this.onVideoLoaded() : e.addEventListener("canplaythrough", this.onVideoLoaded)
            },
            componentWillUnmount: function() {
                EventBus.emit("motion-boxart:deregister", !React.findDOMNode(this.refs.video).paused)
            },
            getVideoNode: function() {
                return this.refs.video && React.findDOMNode(this.refs.video)
            },
            onVideoLoaded: function() {
                var e = this.getVideoNode();
                e && (e.removeEventListener("canplaythrough", this.onVideoLoaded), EventBus.emit("motion-boxart:scan"))
            },
            render: function() {
                return React.createElement("video", {
                    ref: "video",
                    className: "motion-boxart"
                }, React.createElement("source", {
                    src: this.videoUrl,
                    preload: "auto",
                    type: "video/mp4"
                }))
            }
        });
    module.exports = MotionBoxArt;


});


Requireify.register('js/akira/components/title/titleCardFocus.jsx', function(require, requireAsync, module, exports) {


    "use strict";
    var React = require("react"),
        Transition = require("../../../reactMixins/transition"),
        PlayButton = require("../controls/playbutton.jsx"),
        TitleCardFocus = React.createClass({
            displayName: "TitleCardFocus",
            mixins: [Transition],
            componentWillMount: function() {
                this.transitions = this.props.transitions || {
                    fadeIn: 300,
                    fadeOut: 300
                }
            },
            render: function() {
                return React.createElement("div", {
                    className: "title-card-jawbone-focus"
                }, React.createElement("div", {
                    className: "title-card-focus-ring"
                }), React.createElement(PlayButton, {
                    ref: "playButton",
                    model: this.props.model,
                    className: "title-card-play"
                }))
            }
        });
    module.exports = TitleCardFocus;


});


Requireify.register('js/akira/components/title/titleCard.jsx', function(require, requireAsync, module, exports) {


    "use strict";
    var _extends = Object.assign || function(e) {
            for (var t = 1; t < arguments.length; t++) {
                var i = arguments[t];
                for (var o in i) Object.prototype.hasOwnProperty.call(i, o) && (e[o] = i[o])
            }
            return e
        },
        React = require("react"),
        _ = require("lodash"),
        classNames = require("classnames"),
        PathEvaluatorUtils = require("../../../utils/pathEvaluatorUtils"),
        ErrorTitleCard = require("./errorTitleCard.jsx"),
        BobCard = require("./bobCard.jsx"),
        Progress = require("../jawBone/progress.jsx"),
        MotionBoxArt = require("./motionBoxArt.jsx"),
        JawBone = require("../jawBone/jawBone.jsx"),
        ImageExtension = require("../../../common/imageExtension"),
        JawBoneLink = require("../../../reactMixins/jawBoneLink"),
        AkiraContext = require("../../../reactMixins/akiraContext"),
        PlayButton = require("../controls/playbutton.jsx"),
        FalkorFetch = require("../../../reactMixins/falkor-fetch"),
        IsomorphicContext = require("../../../reactMixins/isomorphicContextWithDeps"),
        FalkorPureRender = require("../../../reactMixins/falkorPureRenderMixin"),
        Scheduler = require("../../../reactMixins/scheduler"),
        EventBus = require("../../../reactMixins/eventBus"),
        I18N = require("../../../reactMixins/i18n"),
        Watched = require("../../../reactMixins/video/watched"),
        MotionBoxArtTest = require("../../../reactMixins/ab/motionBoxArtTest"),
        KeyCodes = require("../../../common/keyCodes"),
        OptimizationTest = require("../../../utils/ab/optimizationTest"),
        CSSAnimation = require("../../../reactMixins/cssAnimation.jsx"),
        PresTrackedElement = require("../../../components/presentationTracking/presentationTrackingElement.jsx"),
        TitleCardFocus = require("./titleCardFocus.jsx"),
        PlayPrediction = require("../../../common/playPrediction/playPrediction"),
        ReactTransitionGroup = React.addons.TransitionGroup,
        SIZE = "_342x192",
        DELAY_JAWBONE = 300,
        BUNDLE = "discovery/akira/Common",
        DELAY_OPEN_FAST = 100,
        DELAY_OPEN_SLOW = 400,
        DELAY_OPEN_WITH_INTENT = 60,
        MAX_DIST_TO_OPEN_BOB_PX = 3,
        MOUSE_MOVE_INTERVAL_MS = 50,
        BOB_TRIGGER_CLICK = "click",
        BOB_TRIGGER_INTENT = "intent",
        prefetchStrategies = {
            bobs: {
                bobs: !0
            },
            jawBones: {
                jawBones: !0
            }
        },
        getPaths = function(e, t, i) {
            t || (t = {}), i || (i = {});
            var o, n, s = [
                    ["summary"],
                    ["title"],
                    ["boxarts", SIZE, ImageExtension.getExtensionForOpaqueImage(e)]
                ],
                a = _.assign({}, e, {
                    listContext: "continueWatching"
                });
            return "under" === OptimizationTest.getBookmarkLocation(a) ? s = s.concat([
                ["current", ["runtime", "bookmarkPosition"]]
            ]) : OptimizationTest.hasNoGrowBOB(a) && (s = s.concat(PlayButton.getPaths())), t.bobs && (o = BobCard.getPaths(e, t, i), s = s.concat(o)), t.jawBones && (n = JawBone.getPaths(e, t, {
                isShow: i.isShow
            }), s = s.concat(n)), s
        },
        TitleCard = React.createClass({
            displayName: "TitleCard",
            mixins: [I18N, JawBoneLink, CSSAnimation, FalkorFetch, IsomorphicContext, FalkorPureRender, Scheduler, AkiraContext, MotionBoxArtTest, Watched],
            isHovering: !1,
            statics: {
                extension: function(e) {
                    return ImageExtension.getExtensionForOpaqueImage(e)
                },
                getPaths: getPaths,
                getSize: function() {
                    return SIZE
                },
                __meta__: {
                    strings: [{
                        bundle: "discovery/akira/Common",
                        ids: ["loading", "evidence.mylist", "evidence.continueWatching", "evidence.dayEvidence"]
                    }]
                }
            },
            childContextTypes: {
                rankNum: React.PropTypes.number
            },
            getChildContext: function() {
                return {
                    rankNum: this.props.rankNum
                }
            },
            getInitialState: function() {
                return {
                    hasBob: !1,
                    hideJawFocus: !1
                }
            },
            placeHolder: function() {
                var e = "lockup title_card " + (this.props.className || "");
                return React.createElement("div", {
                    className: e
                }, React.createElement("div", {
                    className: "video-artwork tc-load"
                }, this.getString(BUNDLE, "loading")))
            },
            eventOpenJaw: function(e) {
                var t, i;
                this.props.myJawBoneOpen || "keydown" !== e.type && this.state.hasBob || (t = (this.props.model.getValueSync(["userRating"]) || {}).matchScore, i = (this.props.model.getValueSync(["userRating"]) || {}).tooNewForMatchScore, EventBus.emit("jawbone:open", _.assign({}, this.context, this.props, {
                    trigger: "miniBob"
                }, void 0 !== t ? {
                    matchScore: t
                } : {}, void 0 !== i ? {
                    tooNewForMatchScore: i
                } : {})), this.openJawBoneAtRankNum(this.props.rankNum, this.props.videoId, e.type), this.onOpenJaw(!0))
            },
            handleKeyDown: function(e) {
                var t = this;
                switch (e && e.which) {
                    case KeyCodes.ENTER:
                        this.eventOpenJaw(e);
                        break;
                    case KeyCodes.ESC:
                        this.props.myJawBoneOpen && (EventBus.emit("jawbone:close", {
                            reason: "explicit"
                        }), this.closeJawBone(function() {
                            React.findDOMNode(t).focus()
                        }))
                }
            },
            handleClick: function(e) {
                OptimizationTest.getBobOpenTrigger(this.context) === BOB_TRIGGER_CLICK ? this.handleEnter(e, BOB_TRIGGER_CLICK) : OptimizationTest.hasNoGrowBOB(this.context) ? React.findDOMNode(this.refs.playButton).click() : this.eventOpenJaw(e)
            },
            handleMouseOver: function(e) {
                var t = React.findDOMNode(this.refs.titleCard),
                    i = document.activeElement || document.body;
                e.preventDefault(), e && e.currentTarget && t.contains(e.currentTarget) && !this.state.hasBob && (i !== document.body && i.blur(), this.handleEnter(e))
            },
            handleMouseOut: function(e) {
                var t = React.findDOMNode(this.refs.titleCard);
                e.preventDefault(), (e && !e.relatedTarget || e.relatedTarget.location || e.relatedTarget && !t.contains(e.relatedTarget)) && this.handleLeave()
            },
            handleBlur: function(e) {
                var t = React.findDOMNode(this.refs.titleCard),
                    i = e && e.relatedTarget || document.activeElement;
                e && "blur" === e.type && i && t.contains(i) && i !== t || this.handleLeave()
            },
            handleMouseMove: function(e) {
                this.currentMouseX = e.screenX, this.currentMouseY = e.screenY
            },
            checkHoverIntent: function() {
                var e = Math.abs(this.currentMouseX - this.lastMouseX),
                    t = Math.abs(this.currentMouseY - this.lastMouseY);
                Math.sqrt(e * e + t * t) < MAX_DIST_TO_OPEN_BOB_PX ? this.queueBobOpen(BOB_TRIGGER_INTENT) : (clearTimeout(this.bobTimeout), this.bobTimeout = null), this.isHovering && (this.lastMouseX = this.currentMouseX, this.lastMouseY = this.currentMouseY, this.checkHoverIntentTimer = setTimeout(this.checkHoverIntent, MOUSE_MOVE_INTERVAL_MS))
            },
            handleEnter: function(e, t) {
                var i = this,
                    o = this.getContext();
                this.isHovering = !0, this.fetchedBOBData || (this.fetchedBOBData = !0, this.queue(function() {
                    var e = prefetchStrategies.bobs;
                    i.fetchData(i.props.model, getPaths(o, e), "titleCardEnter1", null, e.forceUpdate)
                }), this.queue(function() {
                    var e = prefetchStrategies.jawBones,
                        t = getPaths(o, e);
                    i.fetchData(i.props.model, t, "titleCardEnter2", null, e.forceUpdate)
                })), this.props.aJawBoneOpen ? this.jawBoneTimeout || this.props.myJawBoneOpen || (this.jawBoneTimeout = setTimeout(function() {
                    EventBus.emit("jawbone:open", _.assign({}, i.context, i.props, {
                        trigger: "miniBob"
                    })), i.openJawBoneAtRankNum(i.props.rankNum, i.props.videoId), i.clearDelays()
                }, DELAY_JAWBONE)) : OptimizationTest.getBobOpenTrigger(this.context) === BOB_TRIGGER_INTENT ? (this.lastMouseX = e.screenX, this.lastMouseY = e.screenY, this.checkHoverIntentTimer = setTimeout(this.checkHoverIntent, MOUSE_MOVE_INTERVAL_MS)) : OptimizationTest.getBobOpenTrigger(this.context) === BOB_TRIGGER_CLICK ? t === BOB_TRIGGER_CLICK && this.openBob() : this.queueBobOpen(t)
            },
            queueBobOpen: function(e) {
                if (!this.bobTimeout && !this.state.hasBob) {
                    var t;
                    t = OptimizationTest.hasNoGrowBOB(this.context) ? DELAY_OPEN_FAST : OptimizationTest.getBobOpenTrigger(this.context) === BOB_TRIGGER_INTENT ? DELAY_OPEN_WITH_INTENT : this.props.getRowHasBobOpen && this.props.getRowHasBobOpen() ? DELAY_OPEN_FAST : DELAY_OPEN_SLOW, this.bobTimeout = setTimeout(this.openBob, t)
                }
            },
            openBob: function() {
                var e = this;
                if (this.isHovering && this.isMounted()) {
                    var t = this.props.model.getValueSync(["userRating"]) || {},
                        i = t.matchScore,
                        o = t.tooNewForMatchScore,
                        n = t.predicted;
                    EventBus.emit("bob:open", _.assign({}, this.context, this.props, void 0 !== n ? {
                        predictedRating: n
                    } : {}, void 0 !== i ? {
                        matchScore: i
                    } : {}, void 0 !== o ? {
                        tooNewForMatchScore: o
                    } : {})), this.setState({
                        hasBob: !0
                    }), EventBus.once("bob:open", function(t) {
                        var i = _.get(e.getData(), "summary.id", null),
                            o = _.get(t, "videoId", null);
                        i && o && i !== o && e.handleLeave()
                    }), PlayPrediction.stub || EventBus.emit("play:focus", _.assign({}, this.props))
                }
                this.clearDelays()
            },
            clearDelays: function() {
                OptimizationTest.getBobOpenTrigger(this.context) === BOB_TRIGGER_INTENT && (clearTimeout(this.checkHoverIntentTimer), this.checkHoverIntentTimer = null), clearTimeout(this.jawBoneTimeout), clearTimeout(this.bobTimeout), this.jawBoneTimeout = 0, this.bobTimeout = 0
            },
            handleLeave: function() {
                this.isHovering = !1, this.clearDelays();
                var e = this;
                this.state.hasBob && -1 === window.location.search.indexOf("stickybob") && (EventBus.emit("bob:close", _.assign({}, this.context, this.props)), this.props.onBobLeave(this.props.rankNum, function() {
                    e.isMounted() && e.setState({
                        hasBob: !1
                    })
                }))
            },
            onBobOpenJaw: function() {
                this.onOpenJaw(!1)
            },
            onOpenJaw: function(e) {
                this.handleLeave(), this.setState({
                    hideJawFocus: !e,
                    hasBob: !1
                })
            },
            componentDidMount: function() {
                if (this.motionBoxArtVideoId = this.getMotionVideoId(this.getVideoId()), this.motionBoxArtVideoId) {
                    var e = this;
                    EventBus.emit("motion-boxart:register", {
                        component: this,
                        element: React.findDOMNode(this),
                        videoId: this.motionBoxArtVideoId,
                        sortIndex: 100 * this.props.rowNum + this.props.rankNum,
                        getVideo: function() {
                            return e.isMounted() ? React.findDOMNode(e.refs.motion) : null
                        }
                    }), this.forceUpdate()
                }
                EventBus.on("rating:set", this.onRating)
            },
            componentWillUnmount: function() {
                this.clearDelays(), EventBus.removeListener("rating:set", this.onRating)
            },
            handleWindowVisibilityChange: function(e) {
                e || this.handleLeave()
            },
            componentWillUpdate: function(e, t) {
                t.hasBob && !this.state.hasBob ? EventBus.once("window-visibility:changed", this.handleWindowVisibilityChange) : !t.hasBob && this.state.hasBob && EventBus.removeListener("window-visibility:changed", this.handleWindowVisibilityChange)
            },
            onBobOpen: function(e, t, i) {
                this.props.onBobOpen && this.props.sliderItemId && this.props.onBobOpen(this.props.sliderItemId, e, t, i)
            },
            onBobClose: function(e, t) {
                var i = this,
                    o = function() {
                        i.props.myJawBoneOpen && i.setState({
                            hideJawFocus: !1
                        }), t && t()
                    };
                this.props.onBobClose && this.props.sliderItemId && this.props.onBobClose(this.props.sliderItemId, e, o)
            },
            getVideoId: function() {
                var e = this.props.model.getValueSync(["summary"]);
                return e && e.id ? e.id : 0
            },
            getBoxArt: function(e) {
                var t = e.getValueSync(["boxarts"]),
                    i = TitleCard.extension(this.getContext()),
                    o = {};
                return t && t[SIZE] && t[SIZE][i] ? (o.boxart = t[SIZE][i].url, o.imageKey = t[SIZE][i].image_key) : (o.boxart = null, o.imageKey = null), o
            },
            getTitle: function(e) {
                return e && e.getValueSync(["title"])
            },
            getWatchedEvidence: function(e) {
                if (!e) return this.getString(BUNDLE, "evidence.continueWatching");
                var t = {
                        hour: 36e5,
                        day: 864e5
                    },
                    i = new Date,
                    o = i - e,
                    n = parseInt(o / t.day, 10);
                return o < t.day ? this.getString(BUNDLE, "evidence.continueWatching") : this.getString(BUNDLE, "evidence.dayEvidence", {
                    numDays: n
                })
            },
            getEvidence: function(e) {
                var t = e && e.getBoundValue(),
                    i = t && t.queue && t.queue.inQueue,
                    o = t && t.playListEvidence,
                    n = o && o.name,
                    s = {};
                return n ? ("galleryPlaylistVideo" === n && i && (s.evidenceString = this.getString(BUNDLE, "evidence.mylist"), s.isMyList = !0), "galleryContinueWatchingVideo" === n && (e.getValueSync(["bookmark"]) && e.getValueSync(["bookmark"]).bookmarkLastModified ? s.evidenceString = this.getWatchedEvidence(e.getValueSync(["bookmark"]).bookmarkLastModified) : s.evidenceString = this.getString(BUNDLE, "evidence.continueWatching")), s) : s
            },
            getData: function() {
                var e = this.props.model,
                    t = {},
                    i = this.getBoxArt(e),
                    o = {
                        model: e,
                        summary: e.getValueSync(["summary"]),
                        boxart: i.boxart,
                        imageKey: i.imageKey,
                        title: this.getTitle(e)
                    };
                return this.props.showVideoEvidence && (t = this.getEvidence(e), o.evidence = t.evidenceString, o.isMyList = t.isMyList), "under" === OptimizationTest.getBookmarkLocation(this.context) && (o.episodeRuntime = e.getValueSync(["current", "runtime"]), o.episodeBookmark = e.getValueSync(["current", "bookmarkPosition"])), this.motionBoxArtVideoId && (o.boxart = this.getMotionAsset("static", this.motionBoxArtVideoId)), o
            },
            getInnerContent: function() {
                return !this.motionBoxArtVideoId || this.props.aJawBoneOpen || this.state.hasBob ? null : React.createElement(MotionBoxArt, {
                    ref: "motion",
                    videoId: this.motionBoxArtVideoId
                })
            },
            onRating: function() {
                this.isMounted() && this.forceUpdate()
            },
            isDisliked: function() {
                var e = this.props.model.getValueSync(["userRating"]);
                return e && "thumb" === e.type && 1 === e.userRating ? !0 : !1
            },
            render: function() {
                var e, t = this.getData(),
                    i = classNames({
                        hasBob: this.state.hasBob,
                        smallTitleCard: !0,
                        lockup: !0,
                        title_card: !0,
                        sliderRefocus: !0,
                        "pop-in": this.props.animateIn,
                        highlighted: this.props.myJawBoneOpen,
                        "not-highlighted": this.props.aJawBoneOpen && !this.props.myJawBoneOpen,
                        disliked: this.isDisliked()
                    }),
                    o = null,
                    n = null,
                    s = null,
                    a = {},
                    r = {};
                if (PathEvaluatorUtils.isValueError(t.summary)) return React.createElement(ErrorTitleCard, {
                    classes: i,
                    errorMessage: t.summary.message
                });
                if (!t.summary || !t.boxart) return React.createElement(ErrorTitleCard, {
                    classes: i,
                    errorMessage: "Summary or boxart is undefined"
                });
                this.props.animateIn && (e = t.summary.id % 20 * 2.5 / 100 + .3, a = CSSAnimation.getAnimationStyle({
                    keyframes: {
                        delay: e + "s"
                    }
                }));
                var c = "title-card-" + this.props.rowNum + "-" + this.props.rankNum,
                    u = this.props.myJawBoneOpen && !this.state.hideJawFocus,
                    h = {
                        backgroundImage: "url(" + t.boxart + ")"
                    };
                return this.props.showVideoEvidence && (o = t.isMyList ? React.createElement("div", {
                    className: "video-evidence "
                }, React.createElement("span", {
                    className: "icon-button-mylist-no-ring"
                }, React.createElement("span", {
                    className: "icon-button-mylist-added evidence-icon"
                })), React.createElement("span", null, t.evidence)) : React.createElement("div", {
                    className: "video-evidence"
                }, React.createElement("span", null, t.evidence))), "under" === OptimizationTest.getBookmarkLocation(this.context) && t.episodeRuntime && (n = React.createElement(Progress, {
                    runtime: t.episodeRuntime,
                    bookmarkPosition: t.episodeBookmark,
                    current: !0,
                    showSummary: !1
                })), OptimizationTest.getBobOpenTrigger(this.context) === BOB_TRIGGER_INTENT && (r.onMouseMove = this.handleMouseMove), OptimizationTest.hasNoGrowBOB(this.context) && (s = React.createElement(PlayButton, {
                    ref: "playButton",
                    model: this.props.model,
                    style: {
                        display: "none"
                    }
                })), React.createElement("div", {
                    className: "title-card-container"
                }, React.createElement("div", _extends({
                    id: c,
                    key: c,
                    className: i + " " + (this.props.className || ""),
                    style: a,
                    tabIndex: this.props.itemTabbable ? 0 : -1,
                    "aria-label": t.title ? t.title : null,
                    role: this.props.itemTabbable ? "link" : null,
                    ref: "titleCard",
                    onMouseEnter: this.handleMouseOver,
                    onMouseLeave: this.handleMouseOut,
                    onClick: this.handleClick,
                    onKeyDown: this.handleKeyDown
                }, r), React.createElement(PresTrackedElement, {
                    videoId: t.summary.id,
                    imageKey: t.imageKey
                }, React.createElement("div", {
                    className: "video-artwork",
                    style: h
                }, this.getInnerContent())), u ? React.createElement(TitleCardFocus, {
                    model: t.model
                }) : null, React.createElement(ReactTransitionGroup, null, this.state.hasBob ? React.createElement(BobCard, {
                    model: t.model,
                    parentTitleCard: this,
                    titleArt: t.boxart,
                    onBobOpen: this.onBobOpen,
                    onBobClose: this.onBobClose,
                    onJawOpen: this.onBobOpenJaw,
                    videoId: this.props.videoId
                }) : null)), o, n, s)
            }
        });
    module.exports = TitleCard;


});


Requireify.register('js/utils/images.js', function(require, requireAsync, module, exports) {


    "use strict";
    module.exports = {
        preload: function(o, n) {
            var r, e = 0,
                t = o.length,
                u = function(u, d) {
                    var c = new Image;
                    c.onload = function() {
                        e++, "function" == typeof n.onLoaded && n.onLoaded(c), 0 === d && "function" == typeof n.onFirstLoaded && n.onFirstLoaded(c), e === t && "function" == typeof n.onAllLoaded && n.onAllLoaded(t)
                    }, c.onerror = function() {
                        "function" == typeof n.onError && n.onError(o[r])
                    }, c.src = u
                };
            for (r = 0; t > r; r++) u(o[r], r)
        },
        srcsetBuilder: function(o, n, r) {
            o = o || {}, n = n || 0, r = r || /^(\d*)/;
            var e, t, u, d = [],
                c = Number.POSITIVE_INFINITY,
                a = "",
                f = "",
                i = 0;
            for (t in o)
                if (o.hasOwnProperty(t) && (u = o[t], a || (a = u), e = Number(r.exec(t)[1]))) {
                    e > i && (i = e, f = u);
                    var s = e - n;
                    s >= 0 && c >= s && (c = s, a = u), d.push(u + " " + e + "w")
                }
            return {
                srcset: d.join(", "),
                src: c === Number.POSITIVE_INFINITY ? f : a
            }
        },
        backgroundStyle: function(o) {
            return o && {
                backgroundImage: "url(" + o + ")"
            }
        }
    };


});


Requireify.register('js/akira/components/lolomo/lolomoRow.jsx', function(require, requireAsync, module, exports) {


    "use strict";
    var React = require("react"),
        nfProps = require("nf-iso-properties"),
        _ = require("lodash"),
        FalkorFetch = require("../../../reactMixins/falkor-fetch"),
        IsoContext = require("../../../reactMixins/isomorphicContextWithDeps"),
        Animation = require("../../../reactMixins/cssAnimation.jsx"),
        Scheduler = require("../../../reactMixins/scheduler"),
        AkiraContext = require("../../../reactMixins/akiraContext"),
        FalkorPureRender = require("../../../reactMixins/falkorPureRenderMixin"),
        OptimizationTest = require("../../../utils/ab/optimizationTest"),
        RichOriginalsRowTest = require("../../../utils/ab/richOriginalsRowTest"),
        LolomoRowChangeDetector = require("../../../reactMixins/modelChangeDetectors/lolomoRowChangeDetector"),
        Row = require("../row.jsx"),
        RowHeader = require("../lolomo/rowHeader.jsx"),
        WatchedEvidence = require("../lolomo/watchedEvidence.jsx"),
        TitleCard = require("../title/titleCard.jsx"),
        TitleCardOriginalsPanel = require("../title/titleCardOriginalsPanel.jsx"),
        LolomoConstants = require("../lolomo/lolomoConstants.jsx"),
        MAX_ROW_TITLES = 100,
        prefetchStrategies = nfProps.get("netflix.ui.akira.prefetch.strategies.lolomoRow"),
        defaultStrategy = prefetchStrategies.allTitles,
        getPaths = function(e, t, o) {
            t || (t = defaultStrategy);
            var i, r, a = o && void 0 !== o.totalVideos ? Math.min(t.numVideos, o.totalVideos) : t.numVideos,
                s = t.startIndex || 0,
                n = WatchedEvidence.getPaths(e).map(function(e) {
                    return ["watchedEvidence"].concat(e)
                });
            return r = TitleCard.getPaths(e, t, {
                isShow: void 0
            }).map(function(e) {
                return [{
                    from: s,
                    to: a
                }].concat(e)
            }), RichOriginalsRowTest.supportsPanelTitleCard(e) && (r = r.concat(TitleCardOriginalsPanel.getPaths(e, t, {
                isShow: void 0
            }).map(function(e) {
                return [{
                    from: s,
                    to: a
                }].concat(e)
            }))), i = n.concat(r).concat([
                [
                    ["trackIds", "context", "length", "genreId", "videoId", "displayName"]
                ]
            ])
        },
        LolomoRow = React.createClass({
            displayName: "LolomoRow",
            mixins: [FalkorFetch, IsoContext, Animation, Scheduler, FalkorPureRender, AkiraContext],
            statics: {
                getPaths: getPaths,
                defaultStrategy: defaultStrategy,
                prefetchStrategies: prefetchStrategies
            },
            getInitialState: function() {
                return {
                    fullDataLoaded: !1
                }
            },
            childContextTypes: {
                trackId: React.PropTypes.number,
                jawBoneTrackId: React.PropTypes.number,
                jawBoneEpisodeTrackId: React.PropTypes.number,
                jawBoneTrailerTrackId: React.PropTypes.number,
                listContext: React.PropTypes.string
            },
            getChildContext: function() {
                var e = this.getTrackIds();
                return {
                    trackId: e.trackId,
                    jawBoneTrackId: e.trackId_jaw,
                    jawBoneEpisodeTrackId: e.trackId_jawEpisode,
                    jawBoneTrailerTrackId: e.trackId_jawTrailer,
                    listContext: this.props.listContext
                }
            },
            componentDidMount: function() {
                this.setCustomModelChangeDetector(new LolomoRowChangeDetector(this.props.model))
            },
            getId: function() {
                var e = this.props.model,
                    t = e.getValueSync(["genreId"]),
                    o = e.getValueSync(["videoId"]);
                return t ? t : o ? o : void 0
            },
            getWatchedEvidenceModel: function() {
                var e, t = this.props.model,
                    o = t.bind(["watchedEvidence"]),
                    i = o.bind([0]);
                return e = o.getBoundValue() && i.getBoundValue() && this.props.listContext !== LolomoConstants.LIST_CONTEXTS.SIMILIARS, e && o
            },
            hasWatchedEvidence: function() {
                return !!this.getWatchedEvidenceModel()
            },
            getWatchedEvidence: function() {
                var e = this.getWatchedEvidenceModel();
                return e ? React.createElement(WatchedEvidence, {
                    key: "watchedEvidence",
                    model: e,
                    pqls: WatchedEvidence.getPaths(),
                    rankNum: 0
                }) : null
            },
            getTrackIds: function() {
                var e = this.props.model,
                    t = e.getValueSync(["trackIds"]);
                return t || {}
            },
            getTitles: function() {
                for (var e, t, o, i, r, a = this.props.model, s = a.getValueSync(["length"]), n = {}, l = [], d = RichOriginalsRowTest.isPanelsOriginalsRow(this.context, this.props.listContext), c = d ? TitleCardOriginalsPanel : TitleCard, h = 0; s > h; h++)
                    if (e = a.bind([h]), t = e.getValueSync(["summary"]), t && t.id) {
                        o = t ? t.id : "ph" + h, i = t && t.id, r = "title_" + o + "_" + this.props.rowNum + "_" + h, n[i] = h;
                        try {
                            l.push(React.createElement(c, {
                                key: r,
                                model: e,
                                showVideoEvidence: this.props.showVideoEvidence,
                                rowNum: this.props.rowNum,
                                rankNum: h,
                                videoId: i
                            }))
                        } catch (u) {}
                    }
                return {
                    titleList: l,
                    orderedItemList: n
                }
            },
            getRowItems: function() {
                var e, t, o = [];
                return e = this.getWatchedEvidence(), e && o.push(e), t = this.getTitles(), {
                    rowItems: o.concat(t.titleList).slice(0, MAX_ROW_TITLES),
                    orderedItemList: t.orderedItemList || {}
                }
            },
            getTotalItemsInRow: function() {
                var e = this.props.model,
                    t = e.getValueSync(["length"]);
                return this.hasWatchedEvidence() && t++, t > MAX_ROW_TITLES && (t = MAX_ROW_TITLES), t
            },
            handleSliderMove: function() {
                var e, t = this;
                this.state.fullDataLoaded || (t.state.fullDataLoaded = !0, this.queue(function() {
                    e = nfProps.get("netflix.ui.akira.prefetch.rowSlide"), t.fetchData(t.props.model, getPaths(t.getContext(), e))
                }))
            },
            showJawBone: function() {
                return this.props.showJawBone
            },
            render: function() {
                var e = React.addons.classSet,
                    t = this.props.model,
                    o = {
                        lolomoRow: !0,
                        lolomoRow_title_card: !0,
                        jawBoneOpen: this.props.showJawBone,
                        "small-title-cards": OptimizationTest.hasSmallTitleCard(this.context),
                        "large-title-cards": OptimizationTest.hasLargeTitleCard(_.assign({}, this.context, this.props)),
                        "originals-panels-row": RichOriginalsRowTest.isPanelsOriginalsRow(this.context, this.props.listContext)
                    },
                    i = this.props.jawBoneRankNum,
                    r = this.props.listContext === LolomoConstants.LIST_CONTEXTS.MY_LIST,
                    a = this.getRowItems() || {},
                    s = a.rowItems || [],
                    n = r && a.orderedItemList,
                    l = this.state.fullDataLoaded ? s.length : this.getTotalItemsInRow();
                return 0 === l ? null : React.createElement("div", {
                    key: this.props.listContext + this.props.rowNum,
                    className: e(o)
                }, this.props.hideRowHeader ? null : React.createElement(RowHeader, {
                    id: this.getId(),
                    title: this.props.title ? this.props.title : t.getValueSync(["displayName"])
                }), React.createElement(Row, {
                    model: t,
                    pqls: this.props.pqls,
                    totalItems: l,
                    rowNum: this.props.rowNum,
                    jawBoneRankNum: this.props.jawBoneRankNum,
                    showJawBone: this.props.showJawBone,
                    handleSliderMove: this.handleSliderMove,
                    jawBoneModelIndex: i,
                    columnsInRow: this.context.columnsInRow,
                    enablePaginationIndicator: !0,
                    isMyListRow: r,
                    orderedItemList: r ? n : null
                }, s))
            }
        });
    module.exports = LolomoRow;


});


Requireify.register('js/utils/billboard.js', function(require, requireAsync, module, exports) {


    "use strict";
    var XHR = require("./XHR");
    module.exports = {
        logImpression: function(e, o, r, l, a, t) {
            XHR.request({
                method: "post",
                service: "api",
                resource: "/billboardimpression",
                data: {
                    type: e,
                    videoId: o,
                    isKids: !1,
                    imageDescriptor: "Image_Iconic",
                    awardCampaign: r,
                    billboardTheme: l,
                    billboardType: a,
                    contentType: t
                }
            }).subscribe()
        },
        fadeOutVolume: function(e, o, r) {
            var l, a;
            e && (l = setInterval(function() {
                e && e.getNode() ? e.volume() <= .1 ? (e.volume(0), clearInterval(l), r && r()) : (a = e.volume(), e.volume(a -= .1)) : clearInterval(l)
            }, o))
        },
        fadeInVolume: function(e, o) {
            var r, l;
            e && (e.volume(0), r = setInterval(function() {
                e && e.getNode() ? e.volume() >= .9 ? (e.volume(1), clearInterval(r)) : (l = e.volume(), e.volume(l += .1)) : clearInterval(r)
            }, o))
        }
    };


});


Requireify.register('js/akira/components/billboard/billboard.jsx', function(require, requireAsync, module, exports) {


    "use strict";
    var React = require("react"),
        MyListButton = require("../title/myListButton.jsx"),
        VideoMeta = require("../title/videoMeta.jsx"),
        IconButton = require("../controls/iconButton.jsx"),
        FlatButton = require("../controls/flatButton.jsx"),
        PlayButton = require("../controls/playbutton.jsx"),
        PlayLink = require("../controls/playLink.jsx"),
        Episodes = require("../jawBone/episodes/episodes.jsx"),
        PresTrackedContainer = require("../../../components/presentationTracking/presentationTrackingContainer.jsx"),
        PresTrackedElement = require("../../../components/presentationTracking/presentationTrackingElement.jsx"),
        ImageExtension = require("../../../common/imageExtension"),
        Transition = require("../../../reactMixins/transition"),
        I18N = require("../../../reactMixins/i18nWithDeps"),
        BillboardUtils = require("../../../utils/billboard"),
        OptimizationTest = require("../../../utils/ab/optimizationTest"),
        TextUtils = require("../../../utils/textUtils"),
        _ = require("lodash"),
        PANE_MAIN = "main",
        PANE_EPISODES = "episodes",
        BUNDLE = "discovery/akira/Common",
        JAPANESE = "ja",
        Billboard = React.createClass({
            displayName: "Billboard",
            mixins: [Transition, I18N],
            statics: {
                pql: {},
                __meta__: {
                    strings: [{
                        bundle: BUNDLE,
                        ids: ["button.secondary.shortEpisodes"]
                    }]
                },
                getPaths: function(e, t, a) {
                    var l = ImageExtension.getExtensionForOpaqueImage(e),
                        i = ImageExtension.getExtensionForTransparentImage(e);
                    return Billboard.pql = {
                        titleCard: ["titleCard", "_265x149", l],
                        titleTreatment: ["titleTreatment", "_612x260", i],
                        bgImages: ["BGImages", 513, l],
                        bb2OGBackground: ["bb2OGBackground", "_1280x520", l],
                        bb2OGLogoStacked: ["bb2OGLogoStacked", "_400x160", i],
                        synopsis: ["synopsis"],
                        queue: ["queue"],
                        summary: ["summary"],
                        episodeCount: ["episodeCount"],
                        supplementalMessage: ["supplementalMessage"]
                    }, [Billboard.pql.synopsis, Billboard.pql.supplementalMessage, Billboard.pql.titleCard, Billboard.pql.titleTreatment, Billboard.pql.bgImages, Billboard.pql.bb2OGBackground, Billboard.pql.bb2OGLogoStacked, Billboard.pql.queue, Billboard.pql.summary, Billboard.pql.episodeCount].concat(VideoMeta.getPaths(e)).concat(Episodes.getPaths(e, t, {
                        seasonIndex: "current"
                    }))
                }
            },
            transitions: {
                skipFirst: !0,
                fadeIn: 500,
                fadeOut: 500
            },
            contextTypes: {
                isRtl: React.PropTypes.bool
            },
            getInitialState: function() {
                return {
                    currentPane: PANE_MAIN
                }
            },
            componentDidMount: function() {
                this.sendImpression("impression")
            },
            sendImpression: function(e) {
                BillboardUtils.logImpression(e, this.getData().summary.id)
            },
            recordAction: function() {
                this.sendImpression("action")
            },
            onClickPaneClose: function() {
                this.setState({
                    currentPane: PANE_MAIN
                }), this.props.onSwitchPane(!1)
            },
            onClickEpisodes: function() {
                this.recordAction(), this.setState({
                    currentPane: PANE_EPISODES
                }), this.props.onSwitchPane(!0)
            },
            getCurrentPane: function(e) {
                var t, a, l = null;
                switch (this.state.currentPane) {
                    case PANE_EPISODES:
                        t = React.createElement("div", {
                            className: "billboard-pane billboard-pane-episodes"
                        }, React.createElement("div", {
                            className: "title"
                        }, e.title), React.createElement("div", {
                            className: "close-button icon-close",
                            onClick: this.onClickPaneClose
                        }), React.createElement(Episodes, {
                            model: e.model
                        }));
                        break;
                    default:
                        a = e.summary.isOriginal && e.supplementalMessage ? React.createElement("div", {
                            className: "meta supplementalMessage"
                        }, e.supplementalMessage) : React.createElement(VideoMeta, {
                            model: e.model
                        }), e.episodeCount > 0 && (l = "synopsis" === OptimizationTest.getBillboardPlayButtonLocation(this.context) ? React.createElement(FlatButton, {
                            label: this.getString(BUNDLE, "button.secondary.shortEpisodes"),
                            icon: "episodes",
                            onClick: this.onClickEpisodes
                        }) : React.createElement(IconButton, {
                            label: this.getString(BUNDLE, "button.secondary.shortEpisodes"),
                            icon: "episodes",
                            onClick: this.onClickEpisodes
                        })), t = React.createElement("div", {
                            className: "billboard-pane billboard-pane-main"
                        }, OptimizationTest.hasBackgroundImageStartsPlay(this.context) ? React.createElement(PlayLink, {
                            videoId: e.summary.id
                        }, React.createElement("a", {
                            className: "billboard-play-hitzone"
                        })) : null, React.createElement("div", {
                            className: "info"
                        }, React.createElement(PresTrackedContainer, null, React.createElement(PresTrackedElement, {
                            videoId: e.summary.id
                        }, React.createElement("img", {
                            className: e.logoClass,
                            src: e.logoUrl,
                            title: e.title,
                            alt: e.title
                        }), a, React.createElement("div", {
                            className: "synopsis"
                        }, e.synopsis)), React.createElement("div", {
                            className: "billboard-links"
                        }, "synopsis" === OptimizationTest.getBillboardPlayButtonLocation(this.context) ? React.createElement(PlayButton, {
                            model: e.model,
                            onClick: this.recordAction,
                            flatButton: !0
                        }) : null, React.createElement(MyListButton, {
                            flatButton: "synopsis" === OptimizationTest.getBillboardPlayButtonLocation(this.context),
                            model: e.model,
                            videoId: e.summary.id,
                            inQueue: e.queue.inQueue,
                            onClick: this.recordAction
                        }), l))), "synopsis" !== OptimizationTest.getBillboardPlayButtonLocation(this.context) ? React.createElement(PlayButton, {
                            model: e.model,
                            className: "nav-layer billboard-play",
                            onClick: this.recordAction
                        }) : null)
                }
                return t
            },
            getData: function() {
                var e = this.props.model,
                    t = 200,
                    a = _.get(this.getFeatureData("userContext"), "geo.preferredLocale.language", "en"),
                    l = {
                        title: e.getValueSync(["title"]) || "",
                        summary: e.getValueSync(Billboard.pql.summary) || {
                            id: 0
                        },
                        fullBleedBillboard: !1,
                        bgImages: e.getValueSync(Billboard.pql.bgImages) || [{
                            url: ""
                        }],
                        bb2OGBackground: e.getValueSync(Billboard.pql.bb2OGBackground) || [{
                            url: ""
                        }],
                        bb2OGLogoStacked: e.getValueSync(Billboard.pql.bb2OGLogoStacked) || [{
                            url: ""
                        }],
                        titleCard: e.getValueSync(Billboard.pql.titleCard) || {
                            url: ""
                        },
                        titleTreatment: e.getValueSync(Billboard.pql.titleTreatment) || {
                            url: ""
                        },
                        synopsis: e.getValueSync(Billboard.pql.synopsis) || "",
                        supplementalMessage: e.getValueSync(Billboard.pql.supplementalMessage) || "",
                        queue: e.getValueSync(Billboard.pql.queue) || !1,
                        episodeCount: e.getValueSync(Billboard.pql.episodeCount) || 0
                    };
                return a === JAPANESE && (l.synopsis = TextUtils.ellipsize(l.synopsis, t)), l.fullBleedBillboard = !this.context.isRtl && l.bb2OGBackground && l.bb2OGBackground.url && "" !== l.bb2OGBackground.url && l.bb2OGLogoStacked && l.bb2OGLogoStacked.url && "" !== l.bb2OGLogoStacked.url, l.fullBleedBillboard ? (l.heroImageUrl = l.bb2OGBackground.url, l.logoUrl = l.bb2OGLogoStacked.url, l.logoClass = "title-logo") : (l.heroImageUrl = l.bgImages[0] && l.bgImages[0].url, "" !== l.titleTreatment.url ? (l.logoUrl = l.titleTreatment.url, l.logoClass = "title-treatment") : (l.logoUrl = l.titleCard.url, l.logoClass = "title-card")), l.model = e, l
            },
            render: function() {
                var e = this.getData(),
                    t = this.getCurrentPane(e),
                    a = this.state.currentPane !== PANE_MAIN ? "hero-faded" : "";
                return React.createElement("div", {
                    className: "billboard slider-hover-trigger-layer" + (e.fullBleedBillboard ? " full-bleed-billboard" : "")
                }, React.createElement("img", {
                    className: "hero " + a,
                    src: e.heroImageUrl,
                    alt: ""
                }), React.createElement("div", {
                    className: "hero-vignette"
                }), t)
            }
        });
    module.exports = Billboard;


});


Requireify.register('js/nanoPlayer/videoPerformanceMixin.js', function(require, requireAsync, module, exports) {


    "use strict";

    function _getPlaybackQuality(e) {
        var t = {};
        if (!e) return t;
        var i = e.getVideoPlaybackQuality && e.getVideoPlaybackQuality() || e.videoPlaybackQuality || e.playbackQuality;
        return t.totalVideoFrames = i ? i.totalVideoFrames : e.webkitDecodedFrameCount, t.droppedVideoFrames = i ? i.droppedVideoFrames : e.webkitDroppedFrameCount, i && (t.corruptedVideoFrames = i.corruptedVideoFrames || 0, t.totalFrameDelay = Math.round(1e3 * (i.totalFrameDelay || 0))), t
    }

    function _getCadmiumBitrate(e) {
        var t, i, a = _.result(e || {}, "diagnostics.getGroups", null),
            r = "Buffering bitrate (a/v)";
        return a ? (t = a.filter(function(e) {
            return !!e[r]
        }), t.length ? (i = t[0][r].split("/"), i = {
            audio: parseInt(i[0], 10),
            video: parseInt(i[1], 10)
        }) : null) : null
    }
    var _ = require("lodash"),
        EventBus = require("../reactMixins/eventBus"),
        Router = require("react-router"),
        ADD_EVENTS = "addEventListener",
        REMOVE_EVENTS = "removeEventListener",
        METRIC_EVENTS = ["timeupdate", "error", "stalled", "ended"],
        VIDEO_STATE = {
            playDelay: -1,
            playTime: -1,
            rebufferTime: 0,
            stalled: !1,
            error: -1,
            rebufferCount: 0,
            playbackQuality: null,
            videoBitrate: 0,
            audioBitrate: 0,
            ended: !1
        };
    module.exports = {
        _timeupdate: function(e) {
            var t, i, a, r, o = window && window.performance && window.performance.timing;
            this._videoState.playTime = e.target.getCurrentTime && e.target.getCurrentTime() || this.getVideoDOMNode() && 1e3 * this.getVideoDOMNode().currentTime, -1 === this._videoState.playDelay && o && (i = o.secureConnectionStart || o.requestStart, t = Date.now(), this._videoState.playDelay = Math.round(t - i - this._videoState.playTime)), this._videoState.ended || this._videoState.stalled === !1 || (a = Date.now(), r = a - this._videoState.stalled, this._videoState.rebufferCount++, this._videoState.rebufferTime += r, this._videoState.stalled = !1)
        },
        _error: function(e, t) {
            var i, a, r = _.result(e, "target.getElement", null),
                o = _.result(e, "target.getError", null),
                d = _.result(this, "getVideoDOMNode", null);
            r ? i = _getPlaybackQuality(r.children[0]) : d && (i = _getPlaybackQuality(d)), i && (this._videoState.playbackQuality = i), t ? this._videoState.error = 0 : this._videoState.error = _.get(o, "display.code", -1) || _.get(d, "error.code", -1), this.shouldUseCadPlayer() && this.cadPlayer && (a = _getCadmiumBitrate(this.cadPlayer), a && (this._videoState.audioBitrate = a.audio, this._videoState.videoBitrate = a.video)), this._recordMetrics(), this._handleListeners(REMOVE_EVENTS)
        },
        _stalled: function(e) {
            var t = Date.now();
            this._videoState.playTime <= 1 || (this._videoState.stalled !== !1 && (this._videoState.rebufferTime += t - this._videoState.stalled), this._videoState.stalled = t)
        },
        _ended: function(e) {
            var t, i, a = _.result(e, "target.getElement", null),
                r = _.result(this, "getVideoDOMNode", null);
            this._videoState.ended || (this._videoState.ended = !0, t = _getPlaybackQuality(a ? a.children[0] : r), t && (this._videoState.playbackQuality = t), this.shouldUseCadPlayer() && this.cadPlayer && (i = _getCadmiumBitrate(this.cadPlayer), i && (this._videoState.audioBitrate = i.audio, this._videoState.videoBitrate = i.video)), this._recordMetrics(), this._handleListeners(REMOVE_EVENTS))
        },
        _handleListeners: function(e) {
            var t, i = this;
            i.shouldUseCadPlayer() && i.cadPlayer ? (i.cadPlayer[e]("endedchanged", this._ended), i.cadPlayer[e]("currenttimechanged", this._timeupdate), i.cadPlayer[e]("busychanged", this._stalled), i.cadPlayer[e]("error", this._error)) : (t = this.getVideoDOMNode(), _.forEach(METRIC_EVENTS, function(a) {
                t[e](a, i["_" + a])
            })), this._eventsAttached = e === REMOVE_EVENTS ? !1 : !0
        },
        _recordMetrics: function() {
            if (!this.constructor._disableVideoPerformanceLogging && this.props.logging !== !1) {
                this._videoState = this._videoState || VIDEO_STATE, this._videoState.sessionSummary = this._getSessionSummary();
                var e = _.omit(this._videoState, ["stalled"]);
                e.playbackType = this.getVideoPlaybackImplementation(), e.videoId = this.props.videoId, e.trackId = this.props.trackId, e.historyLength = Router.History.length, EventBus.emit("browsePlayback:recordPerformanceMetrics", e)
            }
        },
        _getSessionSummary: function() {
            return this.shouldUseCadPlayer() && this.cadPlayer ? _.result(this, "cadPlayer.getSessionSummary", {}) : null
        },
        componentDidMount: function() {
            var e = this.getVideoDOMNode(),
                t = "cadmium" === this.getEngine(),
                i = t || e && !!e.canPlayType;
            return this.props.logging === !1 || (i || (this.constructor._disableVideoPerformanceLogging = !0), this.constructor._disableVideoPerformanceLogging) ? void 0 : (this._videoState = _.assign({}, VIDEO_STATE), e && e.error ? void this._error({}) : i ? void(t || this._handleListeners(ADD_EVENTS)) : void this._error({}, !0))
        },
        componentWillUnmount: function() {
            this.constructor._disableVideoPerformanceLogging || this.props.logging !== !1 && (this._eventsAttached && this._handleListeners(REMOVE_EVENTS), this._recordMetrics())
        }
    };


});


Requireify.register('js/nanoPlayer/nanoPlayer.jsx', function(require, requireAsync, module, exports) {


    "use strict";
    var _extends = Object.assign || function(e) {
            for (var t = 1; t < arguments.length; t++) {
                var i = arguments[t];
                for (var a in i) Object.prototype.hasOwnProperty.call(i, a) && (e[a] = i[a])
            }
            return e
        },
        React = require("react"),
        contextData = require("../utils/contextData"),
        PlayerAssets = require("../utils/player/playerAssets"),
        _ = require("lodash"),
        Rx = require("nf-rx"),
        ABMixin = require("../reactMixins/ab"),
        IsomorphicContext = require("../reactMixins/isomorphicContextWithDeps"),
        VideoPerformanceMixin = require("./videoPerformanceMixin"),
        nfProps = require("nf-iso-properties"),
        VideoSession = require("../utils/player/videoSession"),
        EventBus = require("../reactMixins/eventBus"),
        Constants = require("./nanoPlayerConstants"),
        VIDEO_DEFAULT_TYPE = "video/mp4",
        VIDEO_ENGINE = "video",
        CADMIUM_ENGINE = "cadmium",
        NanoPlayer = React.createClass({
            displayName: "NanoPlayer",
            statics: {
                VIDEO_REF: VIDEO_ENGINE,
                CADMIUM_ENGINE: CADMIUM_ENGINE,
                VIDEO_ENGINE: VIDEO_ENGINE,
                EXPANDED_ROW_CONTEXT: "expandedVideoRow",
                INLINE_ROW_CONTEXT: "inlineVideoRow",
                MOTION_BILLBOARD_CONTEXT: "motionBillboard",
                TRAILER_LABEL: "trailer"
            },
            contextTypes: {
                jsongDocument: React.PropTypes.object.isRequired
            },
            videoState: {
                stalled: !1,
                loaded: !1,
                ended: !1,
                error: !1
            },
            mixins: [IsomorphicContext, ABMixin, VideoPerformanceMixin],
            getDefaultProps: function() {
                return {
                    engine: VIDEO_ENGINE,
                    trackId: -1,
                    handleEarlyLoadEvent: !1,
                    elementProps: {},
                    logging: !0
                }
            },
            componentWillReceiveProps: function(e) {
                this.shouldUseCadPlayer() && this.cadPlayer && this.cadPlayer.setMuted(e.muted)
            },
            componentWillUnmount: function() {
                var e, t = this._getPlaybackSupport();
                this._disposed && this._disposed.onNext(), this.shouldUseCadPlayer() ? this._shutdownCadmium() : t.basic && (e = this.getNode(), e && (e.removeEventListener("canplaythrough", this.onLoad), e.removeEventListener("ended", this.onEnd), e.removeEventListener("stalled", this.onRebuffering), e.removeEventListener("timeupdate", this.onTimeUpdate), e.removeEventListener("error", this.onError), e.removeAttribute("src"), e.load()))
            },
            componentDidMount: function() {
                var e, t = this._getPlaybackSupport(),
                    i = this.getPlaybackData();
                return i ? void(t.withDRM && (this._isInCadmiumTest() || this.props.engine === NanoPlayer.CADMIUM_ENGINE) ? this._createCadmiumNanoPlayer() : t.basic ? (e = this.getNode(), e && (4 === e.readyState ? this.onLoad(null, this.props.handleEarlyLoadEvent) : e.addEventListener("canplaythrough", this.onLoad), e.addEventListener("ended", this.onEnd), e.addEventListener("stalled", this.onRebuffering), e.addEventListener("timeupdate", this.onTimeUpdate), e.addEventListener("error", this.onError))) : this.onError()) : void this.onError()
            },
            render: function() {
                return React.createElement("div", {
                    className: "nano-player-component videoContainer",
                    ref: "videoContainer",
                    onContextMenu: this.onContextMenu
                }, this.renderVideoTag())
            },
            renderVideoTag: function() {
                var e = this._getPlaybackSupport(),
                    t = this.getPlaybackData();
                return t ? e.withDRM && (this._isInCadmiumTest() || this.props.engine === NanoPlayer.CADMIUM_ENGINE) ? null : e.basic ? React.createElement("video", _extends({}, _.assign(this.props.elementProps, {
                    src: t.url,
                    type: VIDEO_DEFAULT_TYPE
                }, {
                    muted: this.props.muted,
                    preload: this.props.preLoad,
                    autoplay: this.props.autoPlay
                }), {
                    "aria-hidden": "true",
                    tabIndex: -1,
                    ref: NanoPlayer.VIDEO_REF
                })) : null : null
            },
            getPlaybackData: function() {
                var e, t, i, a = this.props.videoId,
                    r = this.props.uiContext;
                return this.context.jsongDocument ? (i = this.context.jsongDocument.bind(["videos", a]), i && (t = i.getValueSync(["playbackData"]), t && t.url && (e = {
                    url: t.url,
                    manifest: t.manifest
                }, r && (e[r] = _.get(t, r, {}))))) : (e = this.getFeatureData("nanoPlayer")[a], r && e && (e[r] = _.get(e, r, {}))), e
            },
            getEngine: function() {
                var e = this._getPlaybackSupport();
                return e.withDRM && (this._isInCadmiumTest() || this.props.engine === NanoPlayer.CADMIUM_ENGINE) ? NanoPlayer.CADMIUM_ENGINE : NanoPlayer.VIDEO_ENGINE
            },
            getVideoDOMNode: function() {
                return this.getNode()
            },
            getNode: function() {
                var e, t = this._getPlaybackSupport();
                return this.shouldUseCadPlayer() ? this.cadPlayer ? this.cadPlayer.getElement() : null : t.basic ? (e = this.refs[NanoPlayer.VIDEO_REF], e && React.findDOMNode(e)) : null
            },
            getVideoPlaybackImplementation: function() {
                var e, t = this._getPlaybackSupport(),
                    i = contextData.getFeatureData("browserInfo") || {},
                    a = "standard";
                return this.ab()["in"](6605) && this.props.uiContext === this.constructor.EXPANDED_ROW_CONTEXT && (e = this.ab().getEvaluatedTest(6605), t.withDRM && 11 === e.cell && (a = "nanoPlayerCadmium")), this.ab()["in"](6706) && (e = this.ab().getEvaluatedTest(6706), this.props.uiContext === this.constructor.EXPANDED_ROW_CONTEXT && t.withDRM && 11 === e.cell && (a = "nanoPlayerCadmium"), 15 === e.cell && (a = "nanoPlayerCadmium" + (i.isChrome ? "Precached" : "Noncached"))), this.ab()["in"](6674) && this.props.uiContext === this.constructor.MOTION_BILLBOARD_CONTEXT && (e = this.ab().getEvaluatedTest(6674), !t.withDRM || 3 !== e.cell && 4 !== e.cell || (a = "nanoPlayerCadmium")), this.ab().attr(6682, "cadmium") && this.props.uiContext === this.constructor.MOTION_BILLBOARD_CONTEXT && (e = this.ab().getEvaluatedTest(6682), t.withDRM && (a = "nanoPlayerCadmium")), {
                    uiContext: this.props.uiContext,
                    impl: a,
                    testCell: e ? e.cell : null,
                    testId: e ? e.id : null
                }
            },
            isLoaded: function() {
                return this.videoState.loaded
            },
            isPlaying: function() {
                return this.shouldUseCadPlayer() ? this.cadPlayer ? !this.cadPlayer.getPaused() : !1 : this.getNode() ? !this.getNode().paused : !1
            },
            isPaused: function() {
                return this.shouldUseCadPlayer() ? this.cadPlayer ? this.cadPlayer.getPaused() : !0 : this.getNode() ? this.getNode().paused : !0
            },
            isRebuffering: function() {
                return this.videoState.stalled
            },
            isEnded: function() {
                return this.shouldUseCadPlayer() ? this.cadPlayer ? this.cadPlayer().getEnded() : !1 : this.videoState.ended
            },
            isErrored: function() {
                return this.shouldUseCadPlayer() ? this.cadPlayer ? !!this.cadPlayer.getCurrentError() : !1 : this.videoState.error
            },
            onCadmiumPlayerCreated: function() {
                this._handleListeners && !this.constructor._disableVideoPerformanceLogging && this._handleListeners("addEventListener")
            },
            onLoad: function(e, t) {
                this.videoState.loaded = !0, t = "boolean" == typeof t ? t : !0, t && this.props.onCanPlayThrough && this.props.onCanPlayThrough(e)
            },
            onEnd: function(e) {
                var t;
                (!this.shouldUseCadPlayer() || (t = e.target.getEnded())) && (this.videoState.ended = !0, this.props.onEnd && this.props.onEnd(e))
            },
            onError: function(e) {
                this.videoState.ended = !0, this.videoState.error = !0, this.props.onError && this.props.onError(e)
            },
            onContextMenu: function() {
                return !1
            },
            onRebuffering: function(e) {
                var t;
                this.shouldUseCadPlayer() && !this.videoState.stalled ? (t = this.cadPlayer ? this.cadPlayer.getBusy() : !1, t && (this.videoState.stalled = !0, this.props.onRebuffering && this.props.onRebuffering())) : this.videoState.stalled || (this.videoState.stalled = !0, this.props.onRebuffering && this.props.onRebuffering())
            },
            onTimeUpdate: function() {
                var e = !1;
                this.videoState.stalled && (this.videoState.stalled = !1, e = !0), e && this.props.onPlaying && this.props.onPlaying()
            },
            shouldUseCadPlayer: function() {
                var e = this._getPlaybackSupport();
                return e.withDRM ? this.cadPlayer || this.props.engine === NanoPlayer.CADMIUM_ENGINE ? !0 : this._isInCadmiumTest() : !1
            },
            volume: function(e) {
                return void 0 === e ? this.shouldUseCadPlayer() ? this.cadPlayer ? this.cadPlayer.getVolume() : null : this.getNode() ? this.getNode().volume : null : this.shouldUseCadPlayer() ? this.cadPlayer ? (this.cadPlayer.setVolume(e), e) : null : this.getNode() ? (this.getNode().volume = e, e) : null
            },
            play: function() {
                var e = !1;
                this.shouldUseCadPlayer() && this.cadPlayer && (this.cadPlayer.play(), e = !0), !e && this.getNode() && this.getNode().play(), this.videoState.ended = !1, this.props.onPlaying && this.props.onPlaying()
            },
            pause: function() {
                return this.shouldUseCadPlayer() && this.cadPlayer ? void this.cadPlayer.pause() : this.getNode() ? void this.getNode().pause() : void 0
            },
            seek: function(e) {
                this.shouldUseCadPlayer() && this.cadPlayer ? this.cadPlayer.seek(e) : this.getNode() && (this.getNode().currentTime = e)
            },
            getCurrentTime: function() {
                return this.shouldUseCadPlayer() ? this.cadPlayer ? this.cadPlayer.getCurrentTime() : 0 : this.getNode() && 1e3 * this.getNode().currentTime
            },
            _getPlaybackSupport: function() {
                var e = contextData.getData("player", "playbackSupport") || {};
                return {
                    withDRM: !("no" === e.supportsHTML5withDRM),
                    basic: !("no" === e.supportsHTML5)
                }
            },
            _createCadmiumNanoPlayer: function() {
                var e, t = this,
                    i = nfProps.get("wwwplayer.config.nano.cadmium");
                if ("object" != typeof i) try {
                    i = JSON.parse(i)
                } catch (a) {
                    i = {
                        enableTrickPlay: !1,
                        uimode: "akiraMotionBillboard",
                        nccpUIVersion: "akiraMotionBillboard",
                        bookmarkByMovieId: {}
                    }
                }
                this._disposed = new Rx.Subject, e = contextData.getData("player", "config") || {
                    ui: {
                        assets: {}
                    },
                    core: {
                        assets: {}
                    }
                }, window.addEventListener("beforeunload", this._shutdownCadmium), Rx.Observable.zip([PlayerAssets.getCorePlayerJS().take(1)], _.noop).take(1).takeUntil(this._disposed).doAction(function() {
                    function a(e) {
                        try {
                            t.cadPlayer = e.createPlayer(c.videoId, p), t.cadPlayer.addEventListener("loaded", t.onLoad), t.cadPlayer.addEventListener("endedchanged", t.onEnd), t.cadPlayer.addEventListener("busychanged", t.onRebuffering), t.cadPlayer.addEventListener("currenttimechanged", t.onTimeUpdate), t.cadPlayer.addEventListener("error", t.onError), r = t.cadPlayer.getElement(), r.removeAttribute("style"), React.findDOMNode(t.refs.videoContainer).appendChild(r), t.onCadmiumPlayerCreated(), t.props.preLoad && t.cadPlayer.load(), t.props.autoPlay ? t.cadPlayer.play() : t.cadPlayer.pause(), t.cadPlayer.setMuted(t.props.muted)
                        } catch (i) {
                            t.onError(i)
                        }
                    }
                    var r, n = contextData.getData("browserInfo", "isChrome"),
                        o = contextData.getData("browserInfo", "isMac"),
                        s = contextData.getData("browserInfo", "isWindows"),
                        d = n && (o || s),
                        l = t._determineIfShouldAttemptPrecachedPlayback(),
                        u = nfProps.get("wwwplayer.config.ui.precache.enabled"),
                        h = t.getPlaybackData(),
                        c = _.assign({}, e.ui.initParams, e.core.initParams, i, {
                            videoId: t.props.videoId
                        }),
                        p = {
                            manifest: h.manifest,
                            trackingId: t.props.trackId
                        },
                        y = "trailer",
                        P = t.props.uiLabel ? t.props.uiLabel : y;
                    c.bookmarkByMovieId[t.props.videoId] = 0, VideoSession.get(c).takeUntil(t._disposed).doAction(function(e) {
                        u && d && (t.ab()["in"](6706, 15) || l) && e.canFulfillUIIntent ? e.canFulfillUIIntent(c.videoId, P, function(i) {
                            i ? p.uiLabel = P : p.trailerMode = !0, a(e), EventBus.emit(Constants.CAN_FULFILL_EVENT, {
                                canFulfill: i,
                                uiLabel: P,
                                videoId: c.videoId,
                                trackId: t.props.trackId
                            })
                        }) : (p.trailerMode = !0, a(e))
                    }).subscribe(_.noop, function(e) {}, _.noop)
                }).subscribe()
            },
            _shutdownCadmium: function() {
                window.removeEventListener("beforeunload", this._shutdownCadmium), this.cadPlayer && (this.cadPlayer.removeEventListener("loaded", this.onLoad), this.cadPlayer.removeEventListener("ended", this.onEnd), this.cadPlayer.removeEventListener("busychanged", this.onRebuffering), this.cadPlayer.removeEventListener("currenttimechanged", this.onTimeUpdate), this.cadPlayer.removeEventListener("error", this.onError), this.cadPlayer.close(), this.cadPlayer = null, this.cadSession = null)
            },
            _isInCadmiumTest: function() {
                return (this.ab()["in"](6674, 3) || this.ab()["in"](6674, 4)) && this.props.uiContext === this.constructor.MOTION_BILLBOARD_CONTEXT ? !0 : this.ab()["in"](6605, 11) && this.props.uiContext === this.constructor.EXPANDED_ROW_CONTEXT ? !0 : this.ab()["in"](6706, 11) && this.props.uiContext === this.constructor.EXPANDED_ROW_CONTEXT ? !0 : this.ab()["in"](6706, 15) && this.props.uiContext === this.constructor.MOTION_BILLBOARD_CONTEXT && this.props.uiLabel === this.constructor.TRAILER_LABEL ? !0 : this.ab().attr(6682, "cadmium") && this.props.uiContext === this.constructor.MOTION_BILLBOARD_CONTEXT ? !0 : this._determineIfShouldAttemptPrecachedPlayback() ? !0 : !1
            },
            _determineIfShouldAttemptPrecachedPlayback: function() {
                var e = this._getPrecacheConfig(),
                    t = !1,
                    i = this;
                return e && _.forEach(e, function(e) {
                    e.movieId === i.props.videoId && (t = !0)
                }), t
            },
            _getPrecacheConfig: function() {
                var e;
                return this.context.jsongDocument && (e = this.context.jsongDocument.getValueSync(["profilesList", "current", "precacheConfig"])), e && e.length ? e : null
            }
        });
    module.exports = NanoPlayer;


});


Requireify.register('js/akira/components/billboard/billboardMotion.jsx', function(require, requireAsync, module, exports) {


    "use strict";
    var React = require("react"),
        nfProps = require("nf-iso-properties"),
        _ = require("lodash"),
        classNames = require("classnames"),
        BillboardUtils = require("../../../utils/billboard"),
        IconButton = require("../controls/iconButton.jsx"),
        LoadingSpinner = require("../loaders/loadingSpinner.jsx"),
        BrowserScroll = require("../../../reactMixins/browserScroll"),
        I18N = require("../../../reactMixins/i18n"),
        IsomorphicContext = require("../../../reactMixins/isomorphicContext"),
        EventBus = require("../../../reactMixins/eventBus"),
        Position = require("../../../common/position"),
        NanoPlayer = require("../../../nanoPlayer/nanoPlayer.jsx"),
        ABTestMixin = require("../../../reactMixins/abWithDeps"),
        AkiraContext = require("../../../reactMixins/akiraContext"),
        PlayLink = require("../controls/playLink.jsx"),
        OptimizationTest = require("../../../utils/ab/optimizationTest"),
        SCROLL_THRESHOLD_POS_Y = 200,
        BUNDLE = "discovery/akira/Billboard:billboard.actions",
        PAUSE_THRESHOLD_MS = 15e3,
        LOOP_DISABLED_COUNT_LIMIT = 1,
        LOOP_COUNT_LIMIT = 3,
        VIDEO_ERRORS = {
            TIMEOUT: "loadTimeout",
            LOAD_ERROR: "loadError",
            UNSUPPORTED: "Unsupported Device/Platform"
        },
        PAUSE_TYPE = {
            SCROLL: "userScrolled",
            WINDOW_BLUR: "appInBackground"
        },
        VOLUME_FADE_DELAY_MS = 50,
        BillboardMotion = React.createClass({
            displayName: "BillboardMotion",
            mixins: [I18N, IsomorphicContext, AkiraContext, BrowserScroll, ABTestMixin],
            statics: {
                __meta__: {
                    strings: [{
                        bundle: BUNDLE,
                        ids: ["audioOn", "audioOff"]
                    }]
                }
            },
            loadTimeoutId: null,
            playCount: 0,
            _hasLoggedImpression: !1,
            contextTypes: {
                promotionalVideoHasPlayed: React.PropTypes.bool,
                trackId: React.PropTypes.number
            },
            getDefaultProps: function() {
                return {
                    motionShouldLoop: !0
                }
            },
            getInitialState: function() {
                return {
                    videoAutoStarted: this.props.videoAutoStarted,
                    videoCompleted: !1,
                    muted: this.props.audioOnByDefault ? !1 : !0
                }
            },
            getVideoDOMNode: function() {
                var e = this._getVideo();
                return e && e.getNode()
            },
            componentWillMount: function() {
                this.props.limitVideoToOnePlay && this.props.videoAutoStarted && this.setState({
                    videoAutoStarted: !0,
                    videoCompleted: !0
                })
            },
            componentDidMount: function() {
                var e = this.getVideoDOMNode(),
                    t = this.refs.nanoPlayer.getEngine() === NanoPlayer.CADMIUM_ENGINE,
                    i = t || e && !!e.canPlayType,
                    o = nfProps.get("netflix.ui.akira.originals.billboard.motionTimeout") || 15e3,
                    s = this._getVideo();
                EventBus.on("window-visibility:changed", this.handleWindowVisibilityChange), EventBus.emit("motionBillboard:loadingStarted", _.assign({}, this.context, this.props)), i ? !t && e.error ? this.handleError(VIDEO_ERRORS.LOAD_ERROR) : s && !s.isLoaded() && (this.loadTimeoutId = setTimeout(this.handleTimeout, o)) : this.handleError(VIDEO_ERRORS.UNSUPPORTED)
            },
            componentWillUnmount: function() {
                var e = this._getVideo();
                this.clearLoadTimeout(), e && e.isPlaying() && EventBus.emit("motionBillboard:playEnded", _.assign({}, this.context, this.props, {
                    reason: "canceled",
                    detailedCompletionReason: "modalViewChanged"
                })), EventBus.removeListener("window-visibility:changed", this.handleWindowVisibilityChange), this.props.limitVideoToOnePlay && !this.state.videoCompleted && this.state.videoAutoStarted && EventBus.emit("videoPromoRow:hasPlayed")
            },
            clearLoadTimeout: function() {
                this.loadTimeoutId && (clearTimeout(this.loadTimeoutId), this.loadTimeoutId = null)
            },
            pauseVideo: function(e) {
                var t = this._getVideo();
                EventBus.emit("motionBillboard:playEnded", _.assign({}, this.context, this.props, {
                    reason: "canceled",
                    detailedCompletionReason: e
                })), t && (this.props.fadeAudio && e !== PAUSE_TYPE.WINDOW_BLUR ? this._fadeOutVolume(t.pause) : t.pause())
            },
            resumeVideo: function() {
                EventBus.emit("motionBillboard:playStarted", _.assign({}, this.context, this.props, {
                    trigger: "resume",
                    startOffset: this.refs.nanoPlayer.getCurrentTime()
                })), this.state.videoAutoStarted || (this.setState({
                    videoAutoStarted: !0
                }), this.props.setVideoIsStarting && this.props.setVideoIsStarting()), this.refs.nanoPlayer.play(), this.props.fadeAudio && this._fadeInVolume()
            },
            checkIfVideoIsAlreadyLoaded: function() {
                var e = this._getVideo();
                e && e.isLoaded() && this.handleCanPlayThrough()
            },
            render: function() {
                var e = this.props,
                    t = this.state.muted,
                    i = this._getVideo(),
                    o = {
                        width: e.width,
                        height: e.height
                    },
                    s = classNames({
                        "billboard-motion": !0,
                        "dismiss-mask": this.state.videoAutoStarted || this.state.videoCompleted,
                        "dismiss-static": i && i.isLoaded() && !this.state.videoCompleted
                    }),
                    a = {
                        backgroundImage: "url(" + e.staticImageUrl + ")"
                    };
                return React.createElement("div", {
                    className: s,
                    style: o
                }, React.createElement(NanoPlayer, {
                    ref: "nanoPlayer",
                    muted: t,
                    controls: !1,
                    preLoad: "auto",
                    uiLabel: this.props.uiLabel,
                    uiContext: NanoPlayer.MOTION_BILLBOARD_CONTEXT,
                    videoId: this.props.motionId,
                    onError: this.handleError,
                    onCanPlayThrough: this.handleCanPlayThrough,
                    onEnd: this.handleEnded,
                    trackId: this.context.trackId
                }), React.createElement("div", {
                    className: "static-image",
                    style: a
                }), React.createElement("div", {
                    key: "vignette",
                    className: "hero-vignette"
                }), React.createElement(IconButton, {
                    extraClass: "audio-btn",
                    icon: t ? "audio-off" : "audio-on",
                    onClick: this.handleAudioButtonClick,
                    ariaLabel: this.getString(BUNDLE, t ? "audioOn" : "audioOff")
                }), OptimizationTest.hasBackgroundImageStartsPlay(this.context) ? React.createElement(PlayLink, {
                    videoId: this.props.videoId
                }, React.createElement("a", {
                    className: "billboard-play-hitzone"
                })) : null, React.createElement("div", {
                    className: "loading-mask"
                }, React.createElement(LoadingSpinner, null)))
            },
            onScroll: function(e) {
                var t, i, o, s = this._getVideo();
                this.state.videoCompleted || (i = Position.getScrollTop() < SCROLL_THRESHOLD_POS_Y, o = s.getCurrentTime() < PAUSE_THRESHOLD_MS, s = this._getVideo(), t = s.isPlaying(), !t && i ? this.props.usePauseThreshold && !o ? this._setCompletedState() : this.resumeVideo() : t && !i && this.pauseVideo(PAUSE_TYPE.SCROLL))
            },
            handleWindowVisibilityChange: function(e) {
                var t, i, o;
                this.state.videoCompleted || (t = this._getVideo(), i = t.isPlaying(), o = Position.getScrollTop() < SCROLL_THRESHOLD_POS_Y, !i && e && o ? this.resumeVideo() : i && !e && this.pauseVideo(PAUSE_TYPE.WINDOW_BLUR))
            },
            handleAudioButtonClick: function() {
                var e;
                e = this.state.muted ? "unmute" : "mute", this.setState({
                    muted: !this.state.muted
                }), EventBus.emit("motionBillboard:muteButtonClicked", _.assign({}, this.context, this.props, {
                    commandName: e
                }))
            },
            handleTimeout: function() {
                this.handleError(VIDEO_ERRORS.TIMEOUT)
            },
            handleError: function(e) {
                var t, i = this._getVideo();
                this.clearLoadTimeout(), t = "string" == typeof e ? e : VIDEO_ERRORS.LOAD_ERROR, EventBus.emit("motionBillboard:loadingError", _.assign({
                    errorType: t
                }, this.context, this.props)), i && i.pause(), this._setCompletedState()
            },
            handleCanPlayThrough: function() {
                var e, t = this._getVideo(),
                    i = !document.hidden;
                this.state.videoCompleted || EventBus.emit("motionBillboard:loadingEnded", _.assign({}, this.context, this.props)), this.clearLoadTimeout(), e = Position.getScrollTop() < SCROLL_THRESHOLD_POS_Y, this.props.limitVideoToOnePlay && this.state.videoAutoStarted || this.state.videoCompleted || (EventBus.emit("motionBillboard:playStarted", _.assign({}, this.context, this.props, {
                    startOffset: t.getCurrentTime()
                })), i && e ? (this.props.setVideoIsStarting && this.props.setVideoIsStarting(), this.setState({
                    videoAutoStarted: !0
                }), this.refs.nanoPlayer.play(), this.props.limitVideoToOnePlay && this._setYellowSquareTag()) : e || (EventBus.emit("motionBillboard:playError", _.assign({}, this.context, this.props, {
                    detailedCompletionReason: i ? "userScrolled" : "appInBackground",
                    errorType: "notInViewport"
                })), this._setCompletedState()))
            },
            handleEnded: function() {
                var e, t = this.playCount || 0,
                    i = this.props.motionShouldLoop ? LOOP_COUNT_LIMIT : LOOP_DISABLED_COUNT_LIMIT;
                this.playCount = ++t, i > t ? (e = "loop" + t + "Ended", this.refs.nanoPlayer.seek(0), EventBus.emit("motionBillboard:playStarted", _.assign({}, this.context, this.props, {
                    startOffset: 0
                })), this.refs.nanoPlayer.play()) : (e = "Completed", this._setCompletedState()), EventBus.emit("motionBillboard:playEnded", _.assign({}, this.context, this.props, {
                    detailedCompletionReason: e
                }))
            },
            _getVideo: function() {
                return this.refs.nanoPlayer
            },
            _setCompletedState: function() {
                this.isMounted() && (this.setState({
                    videoCompleted: !0
                }), this.props.limitVideoToOnePlay && EventBus.emit("videoPromoRow:hasPlayed"), this.props.videoEnded && this.props.videoEnded())
            },
            _fadeOutVolume: function(e) {
                BillboardUtils.fadeOutVolume(this._getVideo(), VOLUME_FADE_DELAY_MS, e)
            },
            _fadeInVolume: function() {
                BillboardUtils.fadeInVolume(this._getVideo(), VOLUME_FADE_DELAY_MS)
            },
            _setYellowSquareTag: function(e) {
                this._hasLoggedImpression || (this.props.rowModel.get(["logRowImpression"]).subscribe(function(e) {}), this._hasLoggedImpression = !0)
            }
        });
    module.exports = BillboardMotion;


});


Requireify.register('js/akira/components/billboard/billboardOriginals.jsx', function(require, requireAsync, module, exports) {


    "use strict";
    var React = require("react"),
        _ = require("lodash"),
        nfProps = require("nf-iso-properties"),
        classNames = require("classnames"),
        BillboardMotion = require("./billboardMotion.jsx"),
        MyListButton = require("../title/myListButton.jsx"),
        PlayButton = require("../controls/playbutton.jsx"),
        PlayLink = require("../controls/playLink.jsx"),
        PresTrackedContainer = require("../../../components/presentationTracking/presentationTrackingContainer.jsx"),
        PresTrackedElement = require("../../../components/presentationTracking/presentationTrackingElement.jsx"),
        I18N = require("../../../reactMixins/i18n"),
        IsomorphicContext = require("../../../reactMixins/isomorphicContextWithDeps"),
        Transition = require("../../../reactMixins/transition"),
        AB = require("../../../reactMixins/ab"),
        BillboardUtils = require("../../../utils/billboard"),
        OptimizationTest = require("../../../utils/ab/optimizationTest"),
        TextUtils = require("../../../utils/textUtils"),
        VideoMeta = require("../title/videoMeta.jsx"),
        NanoPlayer = require("../../../nanoPlayer/nanoPlayer.jsx"),
        BUNDLE = "discovery/akira/Billboard:billboard.actions",
        FP_MOTION_BB_ENABLED = "netflix.ui.akira.originals.billboard.motionEnabled",
        MOTION_HOLDBACK_TEST_ID = 6583,
        JAPANESE = "ja",
        BillboardOriginals = React.createClass({
            displayName: "BillboardOriginals",
            mixins: [I18N, IsomorphicContext, AB, Transition],
            statics: {
                pql: {},
                __meta__: {
                    strings: [{
                        bundle: BUNDLE,
                        ids: ["play", "watchNow", "watchEpisode", "playSeason", "playEpisode", "playNextEpisode", "rewatchShow", "rewatchSeason", "rewatchEpisode", "continueWatching", "continueSeason", "playTrailer", "playShowTrailer", "playSeasonTrailer", "playEpisodeTrailer", "playRecap", "playShowRecap", "playSeasonRecap", "playEpisodeRecap", "info", "playNewEpisodes"]
                    }]
                },
                getPaths: function(e, t, a) {
                    return BillboardOriginals.pql = {
                        queue: ["queue"]
                    }, [BillboardOriginals.pql.queue].concat(PlayButton.getPaths(e, t, a))
                }
            },
            transitions: {
                skipFirst: !0,
                fadeIn: 500,
                fadeOut: 500
            },
            contextTypes: {
                promotionalVideoHasPlayed: React.PropTypes.bool,
                isRtl: React.PropTypes.bool
            },
            logImpression: function(e) {
                var t = this.props.model.getValueSync(),
                    a = t.awardTrackId,
                    i = t.billboardTheme,
                    o = t.billboardType;
                BillboardUtils.logImpression(e, t.id, a, i, o)
            },
            componentDidMount: function() {
                this.logImpression("impression")
            },
            recordAction: function() {
                this.logImpression("action")
            },
            renderActions: function() {
                var e = this,
                    t = e.props,
                    a = t.model.getValueSync(),
                    i = t.videoModel.getValueSync("summary"),
                    o = t.videoModel.getValueSync(BillboardOriginals.pql.queue) || {},
                    r = [];
                return _.each(a.actions, function(a, o) {
                    var n = "btn-flat" + (0 === o ? " btn-flat-primary" : ""),
                        l = e.getString(BUNDLE, a.name, {
                            sequenceNumber: a.sequenceNumber
                        });
                    "play" === a.type && (i && a.videoId === i.id ? r.push(React.createElement(PlayButton, {
                        key: o,
                        model: t.videoModel,
                        onClick: e.recordAction,
                        notPrimaryButton: 0 !== o,
                        flatButton: !0
                    }, l)) : r.push(React.createElement(PlayLink, {
                        key: o,
                        className: n + " playLink",
                        onClick: e.recordAction,
                        videoId: a.videoId
                    }, React.createElement("div", {
                        className: "playRing"
                    }, React.createElement("div", {
                        className: "play icon-play"
                    })), React.createElement("div", {
                        className: "annotation"
                    }, l))))
                }), r.length < 2 && r.push(React.createElement(MyListButton, {
                    key: r.length,
                    model: t.videoModel,
                    videoId: a.id,
                    inQueue: o.inQueue,
                    onClick: e.recordAction
                })), React.createElement("div", {
                    className: "billboard-links"
                }, r)
            },
            render: function() {
                var e, t, a, i, o, r, n, l, s, c, d = this.props,
                    p = d.model.getValueSync(),
                    u = p.assets || {},
                    m = u.background || {},
                    y = "light" === m.tone,
                    h = this.isMotionBillboardEnabled(),
                    b = !!p.motionUrl && !!p.motionId,
                    g = !!p.isAward && u.awardsHeadline,
                    f = "takeOver" === p.billboardType,
                    E = 200,
                    v = 35,
                    I = _.get(this.getFeatureData("userContext"), "geo.preferredLocale.language", "en");
                return h && b ? (f && (l = this.setVideoIsStarting, c = this.videoEnded), a = [React.createElement(BillboardMotion, {
                    ref: "billboard-motion",
                    videoId: p.id,
                    motionId: p.motionId,
                    motionShouldLoop: p.motionShouldLoop,
                    key: "video",
                    uiLabel: f ? NanoPlayer.TRAILER_LABEL : null,
                    staticImageUrl: m.url,
                    fadeAudio: f,
                    audioOnByDefault: f,
                    limitVideoToOnePlay: f,
                    usePauseThreshold: f,
                    setVideoIsStarting: l,
                    videoEnded: c,
                    videoAutoStarted: this.props.videoAutoStarted,
                    rowModel: this.props.rowModel
                })]) : a = [React.createElement("img", {
                    key: "hero",
                    className: "hero",
                    src: m.url,
                    alt: ""
                }), React.createElement("div", {
                    key: "vignette",
                    className: "hero-vignette"
                }), OptimizationTest.hasBackgroundImageStartsPlay(this.context) ? React.createElement(PlayLink, {
                    videoId: p.id
                }, React.createElement("a", {
                    className: "billboard-play-hitzone"
                })) : null], g ? a.push(React.createElement("img", {
                    key: "awardHeadline",
                    className: "award-headline",
                    src: u.awardsHeadline.url,
                    alt: ""
                })) : f && (s = _.get(u, "accolade.url"), s && a.push(React.createElement("img", {
                    key: "takeoverAccolades",
                    ref: "takeoverAccolades",
                    className: "takeover-accolades",
                    src: u.accolade.url,
                    alt: ""
                }))), u.logo ? (t = classNames({
                    "title-logo": !0,
                    isRtl: this.context.isRtl
                }), i = React.createElement("img", {
                    className: t,
                    src: u.logo.url,
                    title: p.title,
                    alt: p.title
                })) : i = React.createElement("div", {
                    className: "title"
                }, TextUtils.ellipsize(p.title, v)), n = I === JAPANESE ? TextUtils.ellipsize(p.synopsis, E) : p.synopsis, !n || g || f || (o = React.createElement("div", {
                    className: "synopsis"
                }, n)), p.supplementalMessage && (r = React.createElement("div", {
                    className: "supplemental"
                }, p.supplementalMessage)), f && (r = React.createElement(VideoMeta, {
                    model: this.props.videoModel
                })), e = classNames({
                    billboard: !0,
                    "billboard-pane": !0,
                    "billboard-pane-main": !0,
                    "billboard-originals": !0,
                    "full-bleed-billboard": !this.context.isRtl,
                    "awards-billboard": g,
                    "takeover-billboard": f,
                    "light-tone": y
                }), React.createElement("div", {
                    className: e
                }, a, React.createElement("div", {
                    ref: "info",
                    className: "info"
                }, React.createElement(PresTrackedContainer, null, React.createElement("div", {
                    className: "logo-and-text"
                }, React.createElement(PresTrackedElement, {
                    videoId: p.id
                }, React.createElement("div", null, i, r, o))), this.renderActions())))
            },
            isMotionBillboardEnabled: function() {
                return this.ab().attr(MOTION_HOLDBACK_TEST_ID, "motionBillboardEnabled") !== !1 && nfProps.get(FP_MOTION_BB_ENABLED)
            },
            setVideoIsStarting: function() {
                this._fadeOutInfo(), this.props.setVideoIsStarting && this.props.setVideoIsStarting()
            },
            videoEnded: function() {
                this._fadeInInfo(0)
            },
            checkIfVideoIsAlreadyLoaded: function() {
                var e = this.refs["billboard-motion"];
                e && e.checkIfVideoIsAlreadyLoaded()
            },
            _fadeInInfo: function(e) {
                var t, a, i;
                this.isMounted() && (a = this.refs.takeoverAccolades && React.findDOMNode(this.refs.takeoverAccolades), i = this.refs.info && React.findDOMNode(this.refs.info), t = this._restrictTransitionProperty(a), a && this.animate({
                    target: "takeoverAccolades",
                    before: {
                        opacity: 0
                    },
                    opacity: 1,
                    duration: 1e3,
                    delay: e,
                    easing: "easeIn"
                }, t), i && this.animate({
                    target: "info",
                    before: {
                        opacity: 0
                    },
                    opacity: 1,
                    duration: 1e3,
                    delay: e,
                    easing: "easeIn"
                }))
            },
            _fadeOutInfo: function(e) {
                var t = this.refs.takeoverAccolades && React.findDOMNode(this.refs.takeoverAccolades),
                    a = this.refs.info && React.findDOMNode(this.refs.info);
                this.isMounted() && (t && this.animate({
                    target: "takeoverAccolades",
                    before: {
                        opacity: 1
                    },
                    opacity: 0,
                    duration: 1e3,
                    delay: 0,
                    easing: "easeIn"
                }), a && this.animate({
                    target: "info",
                    before: {
                        opacity: 1
                    },
                    opacity: 0,
                    duration: 300,
                    delay: 0,
                    easing: "easeIn"
                }, e))
            },
            _restrictTransitionProperty: function(e) {
                e && (e.style.transitionProperty = "opacity")
            }
        });
    module.exports = BillboardOriginals;


});


Requireify.register('js/reactMixins/browserResize.js', function(require, requireAsync, module, exports) {


    "use strict";
    var _ = require("lodash"),
        RESIZE_THROTTLE_MS = 300;
    module.exports = {
        componentDidMount: function() {
            this.throttledResize || (this.throttledResize = _.throttle(this.onResize, RESIZE_THROTTLE_MS)), window.addEventListener("resize", this.throttledResize, !1)
        },
        componentWillUnmount: function() {
            this.throttledResize && window.removeEventListener("resize", this.throttledResize, !1)
        }
    };


});


Requireify.register('js/akira/components/billboard/billboardInfoBox.jsx', function(require, requireAsync, module, exports) {


    "use strict";
    var React = require("react"),
        classNames = require("classnames"),
        MyListButton = require("../title/myListButton.jsx"),
        VideoMeta = require("../title/videoMeta.jsx"),
        PlayButton = require("../controls/playbutton.jsx"),
        Episodes = require("../jawBone/episodes/episodes.jsx"),
        ImageExtension = require("../../../common/imageExtension"),
        I18N = require("../../../reactMixins/i18nWithDeps"),
        TextUtils = require("../../../utils/textUtils"),
        BillboardUtils = require("../../../utils/billboard"),
        BrowserResize = require("../../../reactMixins/browserResize"),
        _ = require("lodash"),
        BUNDLE = "discovery/akira/Common",
        JAPANESE = "ja",
        CONTENT_REFRESH_RECENTLY_ADDED_TYPE = "recentlyAdded",
        CONTENT_REFRESH_COMING_SOON_TYPE = "comingSoon",
        BillboardInfoBox = React.createClass({
            displayName: "BillboardInfoBox",
            mixins: [I18N, BrowserResize],
            getInitialState: function() {
                return {
                    maxHeight: -1
                }
            },
            statics: {
                __meta__: {
                    strings: [{
                        bundle: BUNDLE,
                        ids: ["new.episodes", "watch.current.episodes", "play.button.annotation.play"]
                    }]
                },
                getPaths: function(e, t, o) {
                    var i = ImageExtension.getExtensionForOpaqueImage(e),
                        a = ImageExtension.getExtensionForTransparentImage(e);
                    return BillboardInfoBox.pql = {
                        titleTreatment: ["titleTreatment", "_612x260", a],
                        titleTreatmentCropped: ["titleTreatmentCropped", "_612x260", a],
                        bgImages: ["BGImages", 513, i],
                        synopsis: ["synopsis"],
                        queue: ["queue"],
                        summary: ["summary"]
                    }, [BillboardInfoBox.pql.synopsis, BillboardInfoBox.pql.titleTreatment, BillboardInfoBox.pql.titleTreatmentCropped, BillboardInfoBox.pql.bgImages, BillboardInfoBox.pql.queue, BillboardInfoBox.pql.summary].concat(VideoMeta.getPaths(e)).concat(Episodes.getPaths(e, t, {
                        seasonIndex: "current"
                    }))
                }
            },
            sendImpression: function(e) {
                BillboardUtils.logImpression(e, this.getData().summary.id)
            },
            recordAction: function() {
                this.sendImpression("action")
            },
            getData: function() {
                var e, t = 200,
                    o = _.get(this.getFeatureData("userContext"), "geo.preferredLocale.language", "en"),
                    i = {};
                return BillboardInfoBox && BillboardInfoBox.pql ? (e = this.props.model, i = {
                    title: e.getValueSync(["title"]) || "",
                    summary: e.getValueSync(BillboardInfoBox.pql.summary) || {
                        id: 0
                    },
                    bgImages: e.getValueSync(BillboardInfoBox.pql.bgImages) || [{
                        url: ""
                    }],
                    titleTreatment: e.getValueSync(BillboardInfoBox.pql.titleTreatment) || {
                        url: ""
                    },
                    titleTreatmentCropped: e.getValueSync(BillboardInfoBox.pql.titleTreatmentCropped) || {
                        url: ""
                    },
                    synopsis: e.getValueSync(BillboardInfoBox.pql.synopsis) || "",
                    queue: e.getValueSync(BillboardInfoBox.pql.queue) || !1
                }, o === JAPANESE && (i.synopsis = TextUtils.ellipsize(i.synopsis, t)), i.heroImageUrl = i.bgImages[0] && i.bgImages[0].url, i.focalPoint = i.bgImages[0] && i.bgImages[0].focalPoint, (i.titleTreatment.url || i.titleTreatmentCropped.url) && (i.logoUrl = i.titleTreatmentCropped.url || i.titleTreatment.url, i.logoClass = "title-treatment"), i.model = e, i) : i
            },
            _updateInfoBoxHeight: function(e) {
                if (this.isMounted() && this.refs.infoBox) {
                    var t = this.props.maxInfoBoxHeight;
                    this.props.onInfoBoxChanges && this.props.onInfoBoxChanges(e, this.props.billboardNum), this.state.maxHeight !== t && (this.refs.infoBox.getDOMNode().style.maxHeight = t + "px", this.refs.infoBox.getDOMNode().style.minHeight = t + "px", this.setState({
                        maxHeight: t
                    }))
                }
            },
            _prepareInfoBoxAnimation: function() {
                if (this.isMounted()) {
                    var e = this.refs.initialVisibleCointainer,
                        t = 0,
                        o = 4;
                    t = e && e.getDOMNode().clientHeight + o, this._updateInfoBoxHeight(t)
                }
            },
            componentDidUpdate: function() {
                setTimeout(function() {
                    this._prepareInfoBoxAnimation()
                }.bind(this), 400)
            },
            componentDidMount: function() {
                this._prepareInfoBoxAnimation()
            },
            onResize: function() {
                this.props.onInfoBoxResize && this.props.onInfoBoxResize()
            },
            getAnnotations: function() {
                var e = {},
                    t = this.props.billboardModel.getValueSync();
                return t && t.delivery && (e.recentlyAddedCutoffDate = t.delivery.recentlyAddedCutoffDate, e.recentlyAddedCutoffDays = t.delivery.recentlyAddedCutoffDays, e.contentType = t.delivery.contentType, e.totalNumVideos = t.delivery.totalNumVideos, e.date = t.delivery.date, e.season = t.delivery.season, e.comingSoonDate = t.delivery.comingSoonDate, e.newEpisodes = t.delivery.newEpisodes), e
            },
            render: function() {
                var e, t = this.getData(),
                    o = this.props.isActive,
                    i = this.getAnnotations(),
                    a = null,
                    n = null,
                    s = i.comingSoonDate,
                    l = "true" === i.newEpisodes,
                    r = this.getStrings(BUNDLE),
                    d = r.get("play.button.annotation.play");
                if (!(t && t.summary && t.summary.id && t.queue)) return null;
                switch (e = classNames({
                    "info-box-container": !0,
                    active: o
                }), i.contentType) {
                    case CONTENT_REFRESH_COMING_SOON_TYPE:
                        a = React.createElement("div", {
                            ref: "infoBoxMetaData",
                            className: "info-box-meta-data-container"
                        }, l && React.createElement("div", {
                            className: "info-box-meta-data-watch"
                        }, " ", r.get("watch.current.episodes")), l ? React.createElement("div", {
                            className: "billboard-links"
                        }, React.createElement(PlayButton, {
                            model: t.model,
                            trackId: this.props.trackId,
                            className: "info-box-play",
                            onClick: this.recordAction,
                            flatButton: !0
                        }, d), React.createElement(MyListButton, {
                            emptyLabel: !0,
                            showToolTip: !0,
                            flatButton: !0,
                            model: t.model,
                            videoId: t.summary.id,
                            isComingSoon: !0,
                            onClick: this.recordAction
                        })) : React.createElement("div", {
                            className: "billboard-links"
                        }, React.createElement(MyListButton, {
                            label: "save",
                            flatButton: !0,
                            isPrimaryBtn: !0,
                            model: t.model,
                            videoId: t.summary.id,
                            isComingSoon: !0,
                            onClick: this.recordAction
                        })));
                        break;
                    case CONTENT_REFRESH_RECENTLY_ADDED_TYPE:
                        a = React.createElement("div", {
                            ref: "infoBoxMetaData",
                            className: "info-box-meta-data-container"
                        }, React.createElement(VideoMeta, {
                            model: t.model,
                            suppressRatings: !0
                        }), React.createElement("div", {
                            className: "synopsis"
                        }, t.synopsis), React.createElement("div", {
                            className: "billboard-links"
                        }, React.createElement(PlayButton, {
                            model: t.model,
                            trackId: this.props.trackId,
                            className: "info-box-play",
                            onClick: this.recordAction,
                            flatButton: !0
                        }, d), React.createElement(MyListButton, {
                            emptyLabel: !0,
                            showToolTip: !0,
                            flatButton: !0,
                            model: t.model,
                            videoId: t.summary.id,
                            inQueue: t.queue.inQueue,
                            onClick: this.recordAction
                        })))
                }
                return l && (n = React.createElement("div", {
                    className: classNames({
                        newEpisodesBadge: !0
                    }),
                    dangerouslySetInnerHTML: {
                        __html: r.get("new.episodes")
                    }
                })), React.createElement("div", {
                    ref: "infoBox",
                    className: e,
                    onMouseEnter: this.props.onMouseEnter,
                    "aria-haspopup": "true"
                }, React.createElement("div", {
                    ref: "initialVisibleCointainer"
                }, t.logoUrl ? React.createElement("img", {
                    ref: "infoBoxTitle",
                    className: t.logoClass,
                    src: t.logoUrl,
                    title: t.title,
                    onLoad: this._prepareInfoBoxAnimation
                }) : React.createElement("div", {
                    ref: "infoBoxTitleText",
                    className: "title-content-refresh"
                }, t.title), n, s && React.createElement("div", {
                    className: "info-box-meta-data-date"
                }, " ", s, " ")), a)
            }
        });
    module.exports = BillboardInfoBox;


});


Requireify.register('js/utils/ab/akiraContentRefreshTest.js', function(require, requireAsync, module, exports) {


    "use strict";
    var AB = require("./ab"),
        TEST_ID = 6614,
        akiraContentRefreshTestHelpers = {
            hasRecentlyAddedBillboard: function(e) {
                return AB.resolveABValue(e, TEST_ID, "recentlyAddedBillboard")
            },
            hasComingSoonBillboard: function(e) {
                return AB.resolveABValue(e, TEST_ID, "comingSoonBillboard")
            },
            hasAnyContentRefreshBillboard: function(e) {
                return this.hasRecentlyAddedBillboard(e) || this.hasComingSoonBillboard(e)
            },
            isAlternativeRecentlyAdded: function(e) {
                return AB.resolveABValue(e, TEST_ID, "alternativeRecentlyAdded")
            }
        };
    module.exports = akiraContentRefreshTestHelpers;


});


Requireify.register('js/reactMixins/htmlSafe.js', function(require, requireAsync, module, exports) {


    "use strict";
    module.exports = {
        entityMap: {
            "&": "&amp;",
            "<": "&lt;",
            ">": "&gt;",
            '"': "&quot;",
            "'": "&#39;",
            "/": "&#x2F;",
            "~": ""
        },
        regexEntity: /[&<>"'\/]/g,
        invalidMap: ["<", ">", '"', "~"],
        hasInvalidCharacter: function(t) {
            var n = null;
            return this.invalidMap.map(function(e) {
                t && t.indexOf(e) >= 0 && (n = e)
            }), n
        },
        escapeHtml: function(t) {
            var n = this.entityMap;
            return t.replace(this.regexEntity, function(t) {
                return n[t]
            })
        },
        getHtmlSafeString: function(t) {
            return null === this.hasInvalidCharacter(t) ? t : this.escapeHtml(t)
        }
    };


});


Requireify.register('js/akira/components/billboard/contentRefreshBillboard.jsx', function(require, requireAsync, module, exports) {


    "use strict";
    var React = require("react"),
        classNames = require("classnames"),
        MyListButton = require("../title/myListButton.jsx"),
        VideoMeta = require("../title/videoMeta.jsx"),
        PlayButton = require("../controls/playbutton.jsx"),
        Episodes = require("../jawBone/episodes/episodes.jsx"),
        ImageExtension = require("../../../common/imageExtension"),
        Transition = require("../../../reactMixins/transition"),
        I18N = require("../../../reactMixins/i18nWithDeps"),
        HtmlSafe = require("../../../reactMixins/htmlSafe"),
        BillboardUtils = require("../../../utils/billboard"),
        TextUtils = require("../../../utils/textUtils"),
        Link = require("../controls/mainViewLink.jsx"),
        ContentRefreshTest = require("../../../utils/ab/akiraContentRefreshTest"),
        _ = require("lodash"),
        inNode = require("../../../utils/inNode"),
        BUNDLE = "discovery/akira/Common",
        JAPANESE = "ja",
        CONTENT_REFRESH_RECENTLY_ADDED_TYPE = "recentlyAdded",
        CONTENT_REFRESH_COMING_SOON_TYPE = "comingSoon",
        CONTENT_REFRESH_BILLBOARD_TYPE = "contentRefresh",
        ContentRefreshBillboard = React.createClass({
            displayName: "ContentRefreshBillboard",
            mixins: [Transition, I18N],
            statics: {
                __meta__: {
                    strings: [{
                        bundle: BUNDLE,
                        ids: ["button.secondary.shortEpisodes", "see.all.recently.added", "added.in.the.last.day", "added.in.the.last.days", "coming.soon.for", "comingsoon", "new.episodes", "recently.added", "play.button.annotation.play"]
                    }]
                },
                getPaths: function(e, t, n) {
                    var s = ImageExtension.getExtensionForOpaqueImage(e),
                        a = ImageExtension.getExtensionForTransparentImage(e);
                    return ContentRefreshBillboard.pql = {
                        titleTreatment: ["titleTreatment", "_612x260", a],
                        titleTreatmentCropped: ["titleTreatmentCropped", "_612x260", a],
                        bgImages: ["BGImages", 513, s],
                        synopsis: ["synopsis"],
                        queue: ["queue"],
                        summary: ["summary"],
                        episodeCount: ["episodeCount"]
                    }, [ContentRefreshBillboard.pql.synopsis, ContentRefreshBillboard.pql.titleTreatment, ContentRefreshBillboard.pql.titleTreatmentCropped, ContentRefreshBillboard.pql.bgImages, ContentRefreshBillboard.pql.queue, ContentRefreshBillboard.pql.summary, ContentRefreshBillboard.pql.episodeCount].concat(VideoMeta.getPaths(e)).concat(Episodes.getPaths(e, t, {
                        seasonIndex: "current"
                    }))
                }
            },
            transitions: {
                skipFirst: !0,
                fadeIn: 500,
                fadeOut: 500
            },
            getInitialState: function() {
                return {
                    selectedTitleIndex: 0
                }
            },
            componentDidMount: function() {
                this.sendImpression("impression")
            },
            sendImpression: function(e) {
                BillboardUtils.logImpression(e, this.getData().summary.id, null, null, CONTENT_REFRESH_BILLBOARD_TYPE, this.props.billboardAnnotations.contentType)
            },
            recordAction: function() {
                this.sendImpression("action")
            },
            renderRecentlyAddedMessage: function(e, t, n) {
                var s, a, r, l, i, o, c, d, m, u, g = this.props.billboardAnnotations.recentlyAddedCutoffDays,
                    p = this.getStrings(BUNDLE),
                    h = ContentRefreshTest.isAlternativeRecentlyAdded(this.context),
                    E = p.get("play.button.annotation.play");
                this.props.billboardAnnotations && (s = g > 1 ? this.getString(BUNDLE, "added.in.the.last.days", {
                    numDays: g
                }) : this.getString(BUNDLE, "added.in.the.last.day"), a = this.props.billboardAnnotations.totalNumVideos || 0), h && (u = classNames({
                    contentRefreshRAMesssage: !0
                }), m = React.createElement("div", {
                    className: u
                }, this.getString(BUNDLE, "recently.added"))), r = classNames({
                    info: !0,
                    contentRefresh: !0,
                    center: !t
                }), l = classNames({
                    "content-refresh-meta-container": !0,
                    center: !t,
                    singleLine: h
                }), i = classNames({
                    contentRefreshNumber: !0,
                    center: !t && !h,
                    singleLine: h
                }), o = classNames({
                    meta: !0,
                    supplementalMessage: !0,
                    contentRefresh: !0,
                    center: !t && !h,
                    singleLine: h
                }), t && (c = classNames({
                    contentRefreshLink: !0
                }), d = React.createElement(Link, {
                    className: c,
                    type: "justAdded"
                }, p.get("see.all.recently.added")));
                var R = t && React.createElement("div", {
                    className: "actions-content-refresh"
                }, e.logoUrl ? React.createElement("img", {
                    className: "title-treatment-content-refresh",
                    src: e.logoUrl,
                    title: e.title
                }) : React.createElement("div", {
                    className: "title-content-refresh"
                }, e.title), n, React.createElement("div", {
                    className: "billboard-links"
                }, React.createElement(PlayButton, {
                    model: e.model,
                    onClick: this.recordAction,
                    flatButton: !0
                }, E), React.createElement(MyListButton, {
                    flatButton: !0,
                    model: e.model,
                    videoId: e.summary.id,
                    inQueue: e.queue && e.queue.inQueue,
                    onClick: this.recordAction
                })));
                return React.createElement("div", {
                    className: r
                }, React.createElement("div", {
                    className: l
                }, m, React.createElement("div", {
                    className: i
                }, a), React.createElement("div", {
                    className: o,
                    dangerouslySetInnerHTML: {
                        __html: s
                    }
                }), t && d), !t && d, t && R)
            },
            renderComingSoonMessage: function(e, t, n) {
                var s, a, r, l, i, o, c, d = this.getStrings(BUNDLE),
                    m = 16,
                    u = 8;
                if (!inNode) {
                    var g = window.pathEvaluator,
                        p = g.getValueSync(["profilesList", "current", "summary"]),
                        h = _.get(this.getFeatureData("userContext"), "geo.preferredLocale.language", "en");
                    c = TextUtils.ellipsize(p.profileName, h === JAPANESE ? u : m), c = HtmlSafe.getHtmlSafeString(c)
                }
                this.props.billboardAnnotations && (a = this.props.billboardAnnotations.comingSoonDate, s = t ? d.get("comingsoon") : d.get("coming.soon.for", {
                    userName: c
                })), r = classNames({
                    info: !0,
                    contentRefresh: !0,
                    center: !t
                }), l = classNames({
                    "content-refresh-meta-container": !0,
                    comingSoon: !0
                }), i = classNames({
                    contentRefreshDate: !0,
                    center: !t
                }), o = classNames({
                    meta: !0,
                    supplementalMessage: !0,
                    contentRefresh: !0,
                    comingSoon: !0,
                    center: !t
                });
                var E = t && React.createElement("div", {
                    className: "actions-content-refresh"
                }, e.logoUrl ? React.createElement("img", {
                    className: "title-treatment-content-refresh",
                    src: e.logoUrl,
                    title: e.title
                }) : React.createElement("div", {
                    className: "title-content-refresh"
                }, e.title), n, React.createElement("div", {
                    className: "billboard-links"
                }, React.createElement(MyListButton, {
                    label: "save",
                    isComingSoon: !0,
                    flatButton: !0,
                    isPrimaryBtn: !0,
                    model: e.model,
                    videoId: e.summary.id,
                    onClick: this.recordAction
                })));
                return [React.createElement("div", {
                    className: r
                }, React.createElement("div", {
                    className: l
                }, React.createElement("div", {
                    className: o,
                    dangerouslySetInnerHTML: {
                        __html: s
                    }
                }), t && React.createElement("div", {
                    className: i
                }, a)), t && E)]
            },
            renderMessageBillboardPane: function(e) {
                var t = null,
                    n = e.episodeCount > 1,
                    s = null,
                    a = this.getStrings(BUNDLE),
                    r = 1 === this.props.numBillboards;
                switch (n && "true" === this.props.billboardAnnotations.newEpisodes && (s = React.createElement("div", {
                    className: classNames({
                        newEpisodesBadge: !0
                    }),
                    dangerouslySetInnerHTML: {
                        __html: a.get("new.episodes")
                    }
                })), this.props.billboardAnnotations.contentType) {
                    case CONTENT_REFRESH_RECENTLY_ADDED_TYPE:
                        t = this.renderRecentlyAddedMessage(e, r, s);
                        break;
                    case CONTENT_REFRESH_COMING_SOON_TYPE:
                        t = this.renderComingSoonMessage(e, r, s)
                }
                return React.createElement("div", {
                    className: "billboard-pane billboard-pane-main"
                }, t)
            },
            getData: function() {
                var e, t = this.props.model,
                    n = 200,
                    s = _.get(this.getFeatureData("userContext"), "geo.preferredLocale.language", "en");
                return ContentRefreshBillboard && ContentRefreshBillboard.pql ? (e = {
                    title: t.getValueSync(["title"]) || "",
                    summary: t.getValueSync(ContentRefreshBillboard.pql.summary) || {
                        id: 0
                    },
                    bgImages: t.getValueSync(ContentRefreshBillboard.pql.bgImages) || [{
                        url: ""
                    }],
                    titleTreatment: t.getValueSync(ContentRefreshBillboard.pql.titleTreatment) || {
                        url: ""
                    },
                    titleTreatmentCropped: t.getValueSync(ContentRefreshBillboard.pql.titleTreatmentCropped) || {
                        url: ""
                    },
                    synopsis: t.getValueSync(ContentRefreshBillboard.pql.synopsis) || "",
                    queue: t.getValueSync(ContentRefreshBillboard.pql.queue) || !1,
                    episodeCount: t.getValueSync(ContentRefreshBillboard.pql.episodeCount) || 0,
                    fullBleedBillboard: !1
                }, s === JAPANESE && (e.synopsis = TextUtils.ellipsize(e.synopsis, n)), e.heroImageUrl = e.bgImages[0] && e.bgImages[0].url, e.focalPoint = e.bgImages[0] && e.bgImages[0].focalPoint, (e.titleTreatment.url || e.titleTreatmentCropped.url) && (e.logoUrl = e.titleTreatmentCropped.url || e.titleTreatment.url, e.logoClass = "title-treatment"), e.model = t, e) : {}
            },
            render: function() {
                var e = this.getData(),
                    t = null,
                    n = null,
                    s = null;
                return e && e.summary ? (t = this.renderMessageBillboardPane(e), s = React.createElement("div", {
                    className: "hero-vignette"
                }), n = React.createElement("img", {
                    className: "hero",
                    src: e.heroImageUrl
                }), React.createElement("div", null, React.createElement("div", {
                    className: "billboard"
                }, n, s, t))) : null
            }
        });
    module.exports = ContentRefreshBillboard;


});


Requireify.register('js/akira/components/billboard/billboardRow.jsx', function(require, requireAsync, module, exports) {


    "use strict";
    var React = require("react"),
        Billboard = require("./billboard.jsx"),
        BillboardOriginals = require("./billboardOriginals.jsx"),
        BillboardInfoBox = require("./billboardInfoBox.jsx"),
        PlayButton = require("../controls/playbutton.jsx"),
        ImageExtension = require("../../../common/imageExtension"),
        Position = require("../../../common/position"),
        BrowserScroll = require("../../../reactMixins/browserScroll"),
        AkiraContext = require("../../../reactMixins/akiraContext"),
        ScrollHorizontal = require("../../../reactMixins/scrollHorizontal.js"),
        nfProps = require("nf-iso-properties"),
        ContentRefreshTest = require("../../../utils/ab/akiraContentRefreshTest"),
        ContentRefreshBillboard = require("./contentRefreshBillboard.jsx"),
        KeyBoardEvents = require("../../../utils/keyboardEventsWrapper"),
        EventBus = require("../../../reactMixins/eventBus"),
        I18N = require("../../../reactMixins/i18nWithDeps"),
        Link = require("../controls/mainViewLink.jsx"),
        Rx = require("nf-rx"),
        _ = require("lodash"),
        classNames = require("classnames"),
        AUTOCYCLE_INTERVAL_MS = 1e4,
        AUTOCYCLE_SCROLL_POS = 100,
        DIR_PREV = -1,
        DIR_NEXT = 1,
        MAX_BILLBOARDS = nfProps.get("netflix.ui.akira.max.billboards") || 5,
        TIME_BEFORE_TAKEOVER_CINEMEGRAPH_MS = 15e3,
        MOUSE_MOVE_THROTTLE = 60,
        IDLE_TIME_BEFORE_SHOWING_HEADER = 2e3,
        CONTENT_REFRESH_BILLBOARDS_NUM = 3,
        CONTENT_REFRESH_TYPE = "contentRefresh",
        CONTENT_REFRESH_RECENTLY_ADDED_TYPE = "recentlyAdded",
        BUNDLE = "discovery/akira/Common",
        BILLBOARDBUNDLE = "discovery/akira/Billboard:billboard.actions",
        BillboardRow = React.createClass({
            displayName: "BillboardRow",
            mixins: [BrowserScroll, AkiraContext, ScrollHorizontal, I18N],
            wasClicked: !1,
            autoCycleId: 0,
            ignoreMouseWheel: !1,
            ignoreMouseWheelTimeout: null,
            infoBoxesHeights: [0, 0, 0],
            statics: {
                getPaths: function(e, t, o) {
                    var i = ImageExtension.getExtensionForTransparentImage(e),
                        n = ContentRefreshTest.hasAnyContentRefreshBillboard(e) ? CONTENT_REFRESH_BILLBOARDS_NUM : t.numBillboards || 1,
                        s = [];
                    return s.push([
                        ["billboards", ["length", "trackIds"]],
                        ["billboards", "billboardData", {
                            to: n
                        }, i],
                        ["billboards", "billboardPlaybackData", {
                            to: n
                        }, i, "playbackData"],
                        ["billboards", "impressions"]
                    ]), s.push(Billboard.getPaths(e).map(function(e) {
                        return ["billboards", {
                            to: n
                        }].concat(e)
                    })), s.push(BillboardOriginals.getPaths(e).map(function(e) {
                        return ["billboards", {
                            to: n
                        }].concat(e)
                    })), s.push(PlayButton.getPaths(e).map(function(e) {
                        return ["billboards", {
                            to: n
                        }].concat(e)
                    })), ContentRefreshTest.hasAnyContentRefreshBillboard(e) && (s.push(BillboardInfoBox.getPaths(e).map(function(e) {
                        return ["billboards", {
                            to: CONTENT_REFRESH_BILLBOARDS_NUM
                        }].concat(e)
                    })), s.push(ContentRefreshBillboard.getPaths(e).map(function(e) {
                        return ["billboards", {
                            to: CONTENT_REFRESH_BILLBOARDS_NUM
                        }].concat(e)
                    }))), _.flatten(s)
                },
                MAX_BILLBOARDS: MAX_BILLBOARDS
            },
            __meta__: {
                strings: [{
                    bundle: BUNDLE,
                    ids: ["see.all.recently.added"]
                }, {
                    bundle: BILLBOARDBUNDLE,
                    ids: ["prev", "next", "dot0", "dot1", "dot2"]
                }]
            },
            getInitialState: function() {
                var e = this.props.model.getValueSync(["length"]),
                    t = this.props.model.getValueSync(["impressions"]),
                    o = this.context.promotionalVideoHasPlayed || t && t.billboard && !nfProps.get("netflix.ui.akira.originals.billboard.ignoreYellowSquare");
                return {
                    billboardNum: 0,
                    numBillboards: e,
                    disableNav: !1,
                    autoCycle: 1 !== e,
                    videoIsStarting: !1,
                    videoAutoStarted: o,
                    isHover: !1,
                    mouseMoving: !1,
                    maxInfoBoxHeight: 0,
                    isContentRefresh: !1
                }
            },
            childContextTypes: {
                rowNum: React.PropTypes.number,
                rankNum: React.PropTypes.number,
                trackId: React.PropTypes.number
            },
            contextTypes: {
                promotionalVideoHasPlayed: React.PropTypes.bool,
                isRtl: React.PropTypes.bool
            },
            getChildContext: function() {
                return {
                    rowNum: this.props.rowNum,
                    rankNum: this.state.billboardNum,
                    trackId: this.getTrackId()
                }
            },
            componentWillMount: function() {
                if (ContentRefreshTest.hasAnyContentRefreshBillboard(this.context)) {
                    var e = this.props.model && this.props.model.bind(["billboardData", this.state.billboardNum, ImageExtension.getExtensionForTransparentImage(this.getContext())]),
                        t = e.getValueSync();
                    t && t.delivery && t.delivery.billboardType === CONTENT_REFRESH_TYPE && this.setState({
                        isContentRefresh: !0
                    })
                }
            },
            componentDidMount: function() {
                var e, t;
                this.startAutoCycle(), window.addEventListener("blur", this.handleWindowBlur), window.addEventListener("focus", this.handleWindowFocus), e = React.findDOMNode(this.refs["billboard-row"]), this.isTouchEnabled() && (e.addEventListener("pointerdown", this.handleTouchStart), e.addEventListener("pointermove", this.handleTouchMove)), t = this.refs["billboard-originals"], t && t.checkIfVideoIsAlreadyLoaded(), EventBus.once("modal:open:ratingModal", this.stopAutoCycle), EventBus.once("modal:open:paymentHoldModal", this.stopAutoCycle), EventBus.once("modal:close:ratingModal", this.startAutoCycle), EventBus.once("modal:close:paymentHoldModal", this.startAutoCycle), this.state.videoAutoStarted && (EventBus.emit("videoPromoRow:hasPlayed"), this._restoreHeader())
            },
            componentWillUnmount: function() {
                this.stopAutoCycle(), this._disposeSubscription(), window.removeEventListener("blur", this.handleWindowBlur), window.removeEventListener("focus", this.handleWindowFocus);
                var e = React.findDOMNode(this.refs["billboard-row"]);
                this.isTouchEnabled() && (e.removeEventListener("pointerdown", this.handleTouchStart), e.removeEventListener("pointermove", this.handleTouchMove)), EventBus.removeListener("modal:open:welcomeModal", this.stopAutoCycle), EventBus.removeListener("modal:open:paymentHoldModal", this.stopAutoCycle), EventBus.removeListener("modal:close:welcomeModal", this.startAutoCycle), EventBus.removeListener("modal:close:paymentHoldModal", this.startAutoCycle)
            },
            handleWindowBlur: function() {
                this.isBlurred = !0
            },
            handleWindowFocus: function() {
                this.isBlurred = !1
            },
            handleClickArrow: function(e) {
                this.switchBillboard(e)
            },
            handleClickDot: function(e) {
                this.setBillboardNum(e)
            },
            handleMouseEnterInfo: function(e) {
                this.setBillboardNum(e)
            },
            isTouchEnabled: function() {
                return "ontouchstart" in window || navigator.maxTouchPoints > 0
            },
            _isCurrentBillboardAtMainPane: function() {
                var e = this.refs["bb-" + this.state.billboardNum];
                return e && "main" === e.state.currentPane ? !0 : !1
            },
            handleTouchStart: function(e) {
                var t = this.isTouchEnabled() && e.changedTouches ? e.changedTouches[0] : e;
                this.touchStart = {
                    x: parseInt(t.clientX),
                    y: parseInt(t.clientY)
                }
            },
            handleTouchMove: function(e) {
                var t = this.isTouchEnabled() && e.changedTouches ? e.changedTouches[0] : e,
                    o = this.touchStart ? this.touchStart.x - t.clientX : 0,
                    i = this.touchStart ? Math.abs(this.touchStart.y - t.clientY) : 0;
                !this.isAnimating && this.state.numBillboards > 1 && this._isCurrentBillboardAtMainPane() && (o > ScrollHorizontal.MIN_HORZ_SWIPE_THRESHOLD_IN_PX && i < ScrollHorizontal.MIN_VERT_SWIPE_THRESHOLD_IN_PX ? (this.switchBillboard(DIR_NEXT), this.touchStart = {}) : o < -ScrollHorizontal.MIN_HORZ_SWIPE_THRESHOLD_IN_PX && i < ScrollHorizontal.MIN_VERT_SWIPE_THRESHOLD_IN_PX && (this.switchBillboard(DIR_PREV), this.touchStart = {})), Math.abs(o) > Math.abs(i) && e.preventDefault()
            },
            handleMouseWheel: function(e) {
                if (!(this.ignoreMouseWheel || this.state.numBillboards <= 1)) {
                    var t = this.advanceDirection(e);
                    "next" === t ? this.switchBillboard(DIR_NEXT) : "prev" === t && this.switchBillboard(DIR_PREV)
                }
            },
            switchBillboard: function(e) {
                var t = this.state.billboardNum + e;
                0 > t ? t = this.state.numBillboards - 1 : t > this.state.numBillboards - 1 && (t = 0), this.ignoreMouseWheel = !0, this.isAnimating = !0, clearTimeout(this.ignoreMouseWheelTimeout), this.ignoreMouseWheelTimeout = setTimeout(function() {
                    this.ignoreMouseWheel = !1, this.isAnimating = !1
                }.bind(this), 500), this.setBillboardNum(t)
            },
            setBillboardNum: function(e) {
                this.setState({
                    billboardNum: e
                })
            },
            stopAutoCycle: function() {
                this.autoCycleId && (clearInterval(this.autoCycleId), this.autoCycleId = 0)
            },
            startAutoCycle: function() {
                this.state.autoCycle && (clearInterval(this.autoCycleId), this.autoCycleId = setInterval(this.autoCycle, AUTOCYCLE_INTERVAL_MS))
            },
            autoCycle: function() {
                Position.getScrollTop() >= AUTOCYCLE_SCROLL_POS || this.isBlurred || this.switchBillboard(DIR_NEXT)
            },
            onSwitchPane: function(e) {
                this.setState({
                    disableNav: e
                })
            },
            getTrackId: function() {
                var e, t = this.props.model.getValueSync(["trackIds"]);
                return t && (e = t.trackId), e
            },
            onScroll: function(e) {
                this.unsetVideoIsStartingAfterDelay(0), this._restoreHeader()
            },
            setVideoIsStarting: function() {
                var e = this._createOnMouseMoveObservable();
                EventBus.emit("appHeader:hide"), e && (this._onMouseMoveSubscription = e.subscribe(this._handleHeaderChange, this._handleHeaderChange, this._handleHeaderChange)), this.setState({
                    videoIsStarting: !0,
                    videoAutoStarted: !0
                }, this.unsetVideoIsStartingAfterDelay), setTimeout(function() {
                    EventBus.emit("appHeader:show"), this._restoreHeader()
                }.bind(this), TIME_BEFORE_TAKEOVER_CINEMEGRAPH_MS)
            },
            setVideoAutoStarted: function() {
                this.setState({
                    videoAutoStarted: !0
                }), this._restoreHeader()
            },
            unsetVideoIsStartingAfterDelay: function(e) {
                e || 0 === e || (e = TIME_BEFORE_TAKEOVER_CINEMEGRAPH_MS), setTimeout(function() {
                    this.isMounted() && this.setState({
                        videoIsStarting: !1
                    })
                }.bind(this), e)
            },
            renderNavControls: function() {
                var e, t, o, i = [],
                    n = {
                        "nav-layer": !0,
                        "nav-arrow": !0,
                        "nav-arrow-next": !0
                    },
                    s = {
                        "nav-layer": !0,
                        "nav-arrow": !0,
                        "nav-arrow-prev": !0
                    },
                    a = this.state,
                    r = a.billboardNum,
                    l = this.getString(BILLBOARDBUNDLE, "prev"),
                    d = this.getString(BILLBOARDBUNDLE, "next");
                if (a.disableNav || a.numBillboards <= 1) return null;
                for (n[this.context.isRtl ? "icon-leftCaret" : "icon-rightCaret"] = !0, s[this.context.isRtl ? "icon-rightCaret" : "icon-leftCaret"] = !0, t = 0; t < a.numBillboards; t++) o = classNames({
                    "nav-dot": !0,
                    "icon-circle-solid": !0,
                    "dot-active": t === r
                }), e = this.getString(BILLBOARDBUNDLE, "dot" + t), i.push(React.createElement("div", {
                    key: "dot-" + t,
                    className: o,
                    role: "button",
                    tabIndex: 0,
                    "aria-label": e,
                    onClick: this.handleClickDot.bind(this, t),
                    onKeyDown: KeyBoardEvents.executeOnEnterOrSpace(this.handleClickDot.bind(this, t))
                }));
                return [React.createElement("div", {
                    key: "left",
                    className: classNames(s),
                    role: "button",
                    tabIndex: 0,
                    "aria-label": l,
                    onClick: this.handleClickArrow.bind(this, DIR_PREV),
                    onKeyDown: KeyBoardEvents.executeOnEnterOrSpace(this.handleClickArrow.bind(this, DIR_PREV))
                }), React.createElement("div", {
                    key: "right",
                    className: classNames(n),
                    role: "button",
                    tabIndex: 0,
                    "aria-label": d,
                    onClick: this.handleClickArrow.bind(this, DIR_NEXT),
                    onKeyDown: KeyBoardEvents.executeOnEnterOrSpace(this.handleClickArrow.bind(this, DIR_NEXT))
                }), React.createElement("div", {
                    key: "dots",
                    className: "nav-layer nav-dots"
                }, i)]
            },
            handleInfoBoxChanges: function(e, t) {
                var o = 0,
                    i = Math.max.apply(null, this.infoBoxesHeights);
                this.infoBoxesHeights[t] = e, 0 === i ? o = e : i !== this.state.maxInfoBoxHeight ? o = i : e > this.state.maxInfoBoxHeight && (o = e), 0 !== o && this.setState({
                    maxInfoBoxHeight: o
                })
            },
            handleInfoBoxResize: function() {
                this.setState({
                    maxInfoBoxHeight: 0
                })
            },
            renderContentRefreshSeeAllLink: function(e) {
                var t, o = null;
                return 1 !== this.state.numBillboards && e.contentType === CONTENT_REFRESH_RECENTLY_ADDED_TYPE && (t = classNames({
                    contentRefreshLinkOuter: !0,
                    center: !0
                }), o = React.createElement(Link, {
                    className: t,
                    type: "justAdded"
                }, this.getStrings(BUNDLE).get("see.all.recently.added"))), o
            },
            renderNavInfoBoxControls: function() {
                var e, t = [],
                    o = this.state,
                    i = o.billboardNum;
                if (o.disableNav || o.numBillboards <= 1) return null;
                for (e = 0; e < o.numBillboards; e++) t.push(React.createElement(BillboardInfoBox, {
                    key: "info-box-" + e,
                    isActive: e === i,
                    model: this.props.model.bind([e]),
                    billboardModel: this.props.model.bind(["billboardData", e, ImageExtension.getExtensionForTransparentImage(this.getContext())]),
                    billboardNum: e,
                    maxInfoBoxHeight: this.state.maxInfoBoxHeight,
                    onInfoBoxChanges: this.handleInfoBoxChanges,
                    onInfoBoxResize: this.handleInfoBoxResize,
                    onMouseEnter: this.handleMouseEnterInfo.bind(this, e)
                }));
                return [React.createElement("div", {
                    key: "nav-gradient",
                    className: "nav-info-gradient"
                }), React.createElement("div", {
                    key: "nav-info",
                    className: "nav-layer nav-info"
                }, t)]
            },
            renderBillboardOriginals: function() {
                var e, t, o, i, n = this.state,
                    s = this.props.model,
                    a = n.billboardNum,
                    r = n.numBillboards,
                    l = !1,
                    d = !1,
                    h = ImageExtension.getExtensionForTransparentImage(this.getContext());
                for (e = 0; r > e; e++)
                    if (o = s.bind(["billboardData", e, h]), i = o && o.getValueSync(), i && i.motionId) {
                        l = !0, "takeOver" === i.billboardType && (d = !0), t = s.bind([e]);
                        break
                    }
                return l || (o = s.bind(["billboardData", a, h]), i = o.getValueSync(), t = s.bind([a])), i && i.isOriginal ? {
                    isMotion: l,
                    isTakeoverBillboard: d,
                    component: React.createElement(BillboardOriginals, {
                        ref: "billboard-originals",
                        model: o,
                        videoModel: t,
                        rowModel: this.props.model,
                        key: "bb-" + a,
                        onSwitchPane: this.onSwitchPane,
                        setVideoIsStarting: this.setVideoIsStarting,
                        videoAutoStarted: this.state.videoAutoStarted
                    })
                } : null
            },
            render: function() {
                var e, t, o, i = this.props.model && this.props.model.bind([this.state.billboardNum]),
                    n = this.props.model && this.props.model.bind(["billboardData", this.state.billboardNum, ImageExtension.getExtensionForTransparentImage(this.getContext())]),
                    s = n.getValueSync(),
                    a = null,
                    r = this.renderBillboardOriginals(n),
                    l = null,
                    d = {},
                    h = !1,
                    u = null;
                return s && s.delivery && (h = s.delivery.billboardType === CONTENT_REFRESH_TYPE, d.recentlyAddedCutoffDate = s.delivery.recentlyAddedCutoffDate, d.recentlyAddedCutoffDays = s.delivery.recentlyAddedCutoffDays, d.contentType = s.delivery.contentType, d.totalNumVideos = s.delivery.totalNumVideos, d.date = s.delivery.date, d.season = s.delivery.season, d.comingSoonDate = s.delivery.comingSoonDate, d.newEpisodes = s.delivery.newEpisodes), this.state.isContentRefresh || h && ContentRefreshTest.hasAnyContentRefreshBillboard(this.context) ? (l = React.createElement(ContentRefreshBillboard, {
                    model: i,
                    key: "bb-" + this.state.billboardNum,
                    numBillboards: this.state.numBillboards,
                    billboardNum: this.state.billboardNum,
                    billboardAnnotations: d
                }), a = this.renderNavInfoBoxControls(), u = this.renderContentRefreshSeeAllLink(d)) : r && r.component ? (l = r.component, a = r.isMotion ? null : this.renderNavControls(), t = r.isTakeoverBillboard, t && (o = this._handleMouseMove)) : (l = React.createElement(Billboard, {
                    model: i,
                    ref: "bb-" + this.state.billboardNum,
                    key: "bb-" + this.state.billboardNum,
                    onSwitchPane: this.onSwitchPane
                }), a = this.renderNavControls()), e = classNames({
                    "billboard-row": !0,
                    takeover: t,
                    "dim-lolomo": t && this.state.videoIsStarting,
                    mouseMoving: this.state.mouseMoving
                }), React.createElement("div", {
                    ref: "billboard-row",
                    className: e,
                    onClick: this.stopAutoCycle,
                    onMouseEnter: this.stopAutoCycle,
                    onMouseLeave: this.startAutoCycle,
                    onFocus: this.stopAutoCycle,
                    onWheel: this.handleMouseWheel,
                    onMouseMove: o,
                    onTouchStart: this.handleTouchStart,
                    onTouchMove: this.handleTouchMove
                }, u, l, this.state.numBillboards > 1 ? a : null)
            },
            _restoreHeader: function() {
                this._subjects && this._subjects.headerRestored && this._subjects.headerRestored.onNext()
            },
            _createOnMouseMoveObservable: function() {
                var e, t;
                return this._onMouseMoveSubscription ? void 0 : (this._subjects = {
                    onMouseMove: new Rx.Subject,
                    headerRestored: new Rx.Subject
                }, e = this._subjects.onMouseMove.throttle(MOUSE_MOVE_THROTTLE).map(function() {
                    return "show"
                }), t = e.map(function(t) {
                    return Rx.Observable["return"]("idle").takeUntil(e).delay(IDLE_TIME_BEFORE_SHOWING_HEADER)
                }).switchLatest(), Rx.Observable.merge(e, t).takeUntil(this._subjects.headerRestored).distinctUntilChanged())
            },
            _disposeSubscription: function() {
                this._onMouseMoveSubscription && this._onMouseMoveSubscription.dispose && this._onMouseMoveSubscription.dispose(), this._subjects && Object.keys(this._subjects).forEach(function(e) {
                    this._subjects[e] = this._subjects[e].onCompleted()
                }.bind(this))
            },
            _handleMouseMove: function(e) {
                this._subjects && this._subjects.onMouseMove && this._subjects.onMouseMove.onNext()
            },
            _handleHeaderChange: function(e) {
                "show" === e || void 0 === e ? (EventBus.emit("appHeader:show"), this.setState({
                    mouseMoving: !0
                })) : "idle" === e && (EventBus.emit("appHeader:hide"), this.setState({
                    mouseMoving: !1
                }))
            }
        });
    module.exports = BillboardRow;


});


Requireify.register('js/akira/components/loaders/loadingRow.jsx', function(require, requireAsync, module, exports) {


    "use strict";
    var React = require("react"),
        classNames = require("classnames"),
        LoadingSpinner = require("./loadingSpinner.jsx"),
        LoadingTitle = require("./loadingTitle.jsx"),
        NUM_LOADING_BOXES = 7,
        LoadingRow = React.createClass({
            displayName: "LoadingRow",
            render: function() {
                var e = {
                        lolomoRow: !0,
                        lolomoRow_title_card: !0,
                        lolomoPreview: !0
                    },
                    a = {
                        rowTitle: !0,
                        pulsate: this.props.pulsateHeader
                    },
                    l = [],
                    s = .2,
                    t = 0;
                for (t = 0; NUM_LOADING_BOXES > t; t++) l.push(React.createElement(LoadingTitle, {
                    delay: s * t,
                    pulsate: this.props.pulsateTitles,
                    displayWhenNotPulsing: !0,
                    key: "loading-row-" + t
                }));
                return React.createElement("div", {
                    className: classNames(e)
                }, React.createElement("div", {
                    className: "rowHeader"
                }, React.createElement("span", {
                    className: classNames(a)
                }, " ")), React.createElement("div", {
                    className: "rowContent"
                }, React.createElement("div", {
                    className: "slider"
                }, l)), this.props.showSpinner ? React.createElement("div", {
                    className: "lolomoSpinLoader"
                }, React.createElement(LoadingSpinner, null)) : null)
            }
        });
    module.exports = LoadingRow;


});


Requireify.register('js/utils/globalContext.js', function(require, requireAsync, module, exports) {


    "use strict";
    var inNode = require("../utils/inNode"),
        contextData = require("./contextData"),
        nodeRequire = {
            _require_: function(e) {
                var t = require;
                return t(e)
            }
        },
        getContext = function(e) {
            return inNode && "undefined" != typeof e ? (e.inNode = !0, e) : contextData
        },
        getModelData = function(e, t) {
            if (inNode) {
                var r = nodeRequire._require_("nf-tormore").getModel(e, t);
                return r && r.data || {}
            }
            var n = contextData.getFeatureData(t);
            return n && n[t] || n || {}
        };
    module.exports = {
        getContext: getContext,
        getModelData: getModelData
    };


});


Requireify.register('js/utils/userUtils.js', function(require, requireAsync, module, exports) {


    "use strict";
    var globalContext = require("./globalContext"),
        _ = require("lodash");
    module.exports = {
        DEFAULT_COUNTRY: "US",
        DEFAULT_LOCALE: "EN-US",
        getCountry: function(e) {
            var t = globalContext.getContext(e),
                o = globalContext.getModelData(t, "geo"),
                r = _.get(o, "preferredLocale.country", this.DEFAULT_COUNTRY);
            return r.toUpperCase()
        },
        getLocale: function(e) {
            var t = globalContext.getContext(e),
                o = globalContext.getModelData(t, "geo"),
                r = _.get(o, "preferredLocale.id", this.DEFAULT_LOCALE);
            return r.toUpperCase()
        }
    };


});


Requireify.register('js/utils/lolomo/lolomoUtils.js', function(require, requireAsync, module, exports) {


    "use strict";
    var globalContext = require("../globalContext"),
        cookieUtils = require("../cookieUtils"),
        userUtils = require("../userUtils"),
        nfProps = require("nf-iso-properties"),
        inNode = require("../inNode"),
        TWO_HOURS_IN_SECONDS = 7200;
    module.exports = {
        COOKIE_TTL_KEY: "netflix.ui.akira.lolomo.ttl",
        generateHpMapRequestId: function(o, e, i) {
            return o + e.replace(/\//g, "-") + "-" + i
        },
        generateCookieValue: function(o, e, i) {
            var t = o && o.getValueSync();
            return t && 2 === t.length ? e + ":" + i + ":" + t[1] : null
        },
        generateKidsCookieValue: function(o, e, i) {
            return e + ":" + i + ":" + o
        },
        getLolomoExpiry: function(o, e) {
            var i, t = o.getValueSync(["meta", "responseExpiration"]);
            return i = "number" == typeof t ? new Date(t) : new Date((new Date).getTime() + 1e3 * parseInt(e || TWO_HOURS_IN_SECONDS, 10))
        },
        isLolomoFallback: function(o) {
            var e = o.getValueSync(["meta", "responseExpiration"]);
            return "number" != typeof e
        },
        isLolomoCookieValueValid: function(o) {
            return o && "string" == typeof o && -1 === o.indexOf("Fallback")
        },
        getLolomoCookieName: function(o) {
            if (inNode && !o) return !1;
            var e, i = globalContext.getContext(o),
                t = globalContext.getModelData(i, "userInfo");
            return e = inNode ? t.hpMapRequestId : t.lolomoCookieName
        },
        getLolomoCookie: function(o) {
            if (inNode && !o) return null;
            var e, i = this.getLolomoCookieName(o);
            return e = inNode ? o.cookies[i] : cookieUtils.get(i), this.isLolomoCookieValueValid(e) ? e : null
        },
        getValidLolomoCookieUUID: function(o) {
            if (inNode && !o) return null;
            var e, i, t, l, n = this.getLolomoCookie(o);
            return n && (e = n.split(":"), i = e[0], t = e[1], l = e[2], l && userUtils.getCountry(o) === i && userUtils.getLocale(o) === t) ? l : !1
        },
        setLolomoCookie: function(o, e, i, t) {
            if (inNode && (!i || !t) || !o) return !1;
            var l = nfProps.get(this.COOKIE_TTL_KEY),
                n = o.bind(["lolomo"]),
                r = this.getLolomoExpiry(n, l),
                s = this.isLolomoFallback(n),
                a = this.getLolomoCookie(i);
            if (a && !e || s) return !1;
            var u = this.generateCookieValue(n, userUtils.getCountry(i), userUtils.getLocale(i)),
                k = this.getLolomoCookieName(i);
            return k && u && this.isLolomoCookieValueValid(u) ? (inNode ? t.setCookie(k, u, {
                expires: r,
                domain: cookieUtils.TOP_DOMAIN,
                path: cookieUtils.ROOT_PATH
            }) : cookieUtils.set(k, u, r, cookieUtils.TOP_DOMAIN, cookieUtils.ROOT_PATH), !0) : !1
        },
        setKidsLolomoCookie: function(o, e, i, t, l, n) {
            if (inNode && (!l || !n) || !o || !e || !i) return !1;
            var r = new Date(i),
                s = this.getLolomoCookie(l);
            if (s && !t) return !1;
            var a = this.generateKidsCookieValue(e, userUtils.getCountry(l), userUtils.getLocale(l)),
                u = o;
            return u && a && this.isLolomoCookieValueValid(a) ? (inNode && n.setCookie(u, a, {
                expires: r,
                domain: cookieUtils.TOP_DOMAIN,
                path: cookieUtils.ROOT_PATH
            }), !0) : !1
        },
        clearLolomoCookie: function(o, e) {
            if (inNode && (!o || !e)) return !1;
            var i = !!this.getLolomoCookie(o),
                t = this.getLolomoCookieName(o);
            return t && i && (inNode ? e.setCookie(t, "", {
                maxAge: 1,
                domain: cookieUtils.TOP_DOMAIN,
                path: cookieUtils.ROOT_PATH
            }) : cookieUtils.set(t, "", 1, cookieUtils.TOP_DOMAIN, cookieUtils.ROOT_PATH)), i
        },
        seedLolomoImpression: function(o, e) {
            if (inNode && !e) return !1;
            var i = this.getValidLolomoCookieUUID(e);
            return i ? (o.setValueSync(["lolomo"], ["lolomos", i]), o.setValueSync(["lolomos", i, "aLeafNode"], "anyValue"), !0) : !1
        }
    };


});


Requireify.register('js/akira/components/lolomo/motionBoxArtController.jsx', function(require, requireAsync, module, exports) {


    "use strict";
    var React = require("react"),
        nfProps = require("nf-iso-properties"),
        _ = require("lodash"),
        Position = require("../../../common/position.js"),
        EventBus = require("../../../reactMixins/eventBus"),
        IsomorphicContext = require("../../../reactMixins/isomorphicContextWithDeps"),
        BrowserScroll = require("../../../reactMixins/browserScroll"),
        BrowserResize = require("../../../reactMixins/browserResize"),
        MotionBoxArtTest = require("../../../reactMixins/ab/motionBoxArtTest"),
        MotionBoxArtController = React.createClass({
            displayName: "MotionBoxArtController",
            mixins: [IsomorphicContext, MotionBoxArtTest, BrowserScroll, BrowserResize],
            useRandomOrder: !1,
            numLoopsPerBox: 0,
            gapBetweenBoxesMS: 0,
            allBoxes: [],
            boxesToAnimate: [],
            videoPlayed: {},
            componentDidMount: function() {
                this.useRandomOrder = this.useRandomMotionOrder(), this.numLoopsPerBox = nfProps.get("netflix.ui.akira.originals.motionBoxArt.numLoopsPerBox") || 3, this.gapBetweenBoxesMS = nfProps.get("netflix.ui.akira.originals.motionBoxArt.gapBetweenBoxesMS") || 0, this.retryDelayMS = nfProps.get("netflix.ui.akira.originals.motionBoxArt.retryDelayMS") || 2e3, EventBus.on("motion-boxart:register", this.registerBox), EventBus.on("motion-boxart:deregister", this.deregisterBox), EventBus.on("motion-boxart:scan", this.scan)
            },
            componentWillUnmount: function() {
                EventBus.removeListener("motion-boxart:register", this.registerBox), EventBus.removeListener("motion-boxart:deregister", this.deregisterBox), EventBus.removeListener("motion-boxart:scan", this.scan)
            },
            onScrollEnd: function() {
                this.scan()
            },
            onResize: function() {
                this.scan()
            },
            registerBox: function(e) {
                this.allBoxes.push(e)
            },
            deregisterBox: function(e) {
                e && this.animateNextBox()
            },
            scan: _.debounce(function() {
                this.animateBoxesInViewport()
            }, 200),
            animateBoxesInViewport: function() {
                var e = this;
                this.allBoxes = _.filter(this.allBoxes, function(e) {
                    return e.component.isMounted()
                });
                var t = _.filter(this.allBoxes, function(e) {
                        return e.inViewport = Position.isElementInViewport(e.element), e.inViewport
                    }),
                    o = {};
                t = _.filter(t, function(e) {
                    var t = o[e.videoId];
                    return o[e.videoId] = !0, !t
                }), _.forOwn(this.videoPlayed, function(t, i) {
                    o[i] || (e.videoPlayed[i] = !1)
                }), t = _.filter(t, function(t) {
                    return !e.videoPlayed[t.videoId]
                }), t = this.useRandomOrder ? _.shuffle(t) : t.sort(function(e, t) {
                    return e.sortIndex - t.sortIndex
                }), this.boxesToAnimate = t, this.isPlaying || this.animateNextBox()
            },
            animateNextBox: function(e) {
                var t = this;
                if (!this.boxesToAnimate.length) return void(this.isPlaying = !1);
                var o = this.boxesToAnimate.shift(),
                    i = o.getVideo(),
                    n = e ? 2 : 4,
                    r = i && i.readyState >= n;
                if (EventBus.emit("motionBoxArt:enterViewport", {
                        videoId: o.videoId,
                        success: r
                    }), this.isPlaying = !0, r) {
                    this.videoPlayed[o.videoId] = !0, i.classList.toggle("active", !0);
                    var s = 0,
                        a = function l() {
                            s += 1, s <= t.numLoopsPerBox && o.inViewport ? (i.play(), EventBus.emit("motionBoxArt:playLoop", {
                                videoId: o.videoId,
                                loopNum: s
                            })) : (i.removeEventListener("ended", l), i.classList.toggle("active", !1), setTimeout(function() {
                                t.animateNextBox()
                            }, t.gapBetweenBoxesMS))
                        };
                    i.addEventListener("ended", a), a()
                } else if (e || !i) this.animateNextBox();
                else {
                    this.boxesToAnimate.push(o);
                    var u = !1,
                        x = function d() {
                            u = !0, i.removeEventListener("canplaythrough", d), t.animateNextBox(!0)
                        };
                    i.addEventListener("canplaythrough", x), setTimeout(function() {
                        u || x()
                    }, this.retryDelayMS)
                }
            },
            render: function() {
                return null
            }
        });
    module.exports = MotionBoxArtController;


});


Requireify.register('js/reactMixins/sortable.js', function(require, requireAsync, module, exports) {


    "use strict";
    var Sortable = {
        DEFAULT_SORT_ORDER: "su",
        ORDER_BY_SUGGESTIONS: "su",
        ORDER_BY_YEAR: "yr",
        ORDER_BY_A_Z: "az",
        ORDER_BY_Z_A: "za",
        ORDER_BY_MATURITY: "mr",
        ORDER_BY_HIGHEST_RATED: "rt",
        bindSortedModel: function() {
            return this.props.sortOrder ? this.props.model.bind([this.props.sortOrder]) : this.props.model
        },
        getSortOrder: function(r, o) {
            var t = o || Sortable.DEFAULT_SORT_ORDER,
                R = "undefined" != typeof r.so ? r.so : t;
            return R
        }
    };
    module.exports = Sortable;


});


Requireify.register('js/akira/components/loaders/loadingGallery.jsx', function(require, requireAsync, module, exports) {


    "use strict";
    var React = require("react"),
        classNames = require("classnames"),
        LoadingTitle = require("./loadingTitle.jsx"),
        AkiraContext = require("../../../reactMixins/akiraContext"),
        NUM_LOADING_BOXES = 24,
        LoadingGallery = React.createClass({
            displayName: "LoadingGallery",
            mixins: [AkiraContext],
            render: function() {
                var e, a = [],
                    t = [],
                    n = {
                        rowContainer: !0
                    },
                    s = "",
                    i = 0,
                    o = this.context.columnsInRow || 6,
                    r = {
                        6: [0, 1, 2, 4, 2, 4, 3],
                        5: [0, 1, 6, 1, 6, 1, 1],
                        4: [0, 1, 4, 1, 6, 0, 1],
                        3: [0, 1, 4, 1, 6, 0, 1],
                        2: [0, 1, 4, 1, 6, 0, 1]
                    },
                    l = 0,
                    c = 0;
                for (e = 0; NUM_LOADING_BOXES > e; e++) c++ === r[o][l] && (s = 2 * Math.random() + e % 6, l++, c = 0, l > 5 && (l = 1)), a.push(React.createElement(LoadingTitle, {
                    delay: s,
                    pulsate: !c,
                    displayWhenNotPulsing: !1,
                    key: "loading-box-" + e
                })), e % this.context.columnsInRow === this.context.columnsInRow - 1 && (t.push(React.createElement("div", {
                    className: classNames(n),
                    key: "loadingRow-" + i
                }, a)), a = [], i++);
                return React.createElement("div", {
                    key: "loading-boxes",
                    className: "galleryLoader"
                }, t)
            }
        });
    module.exports = LoadingGallery;


});


Requireify.register('js/akira/layouts/gallery.jsx', function(require, requireAsync, module, exports) {


    "use strict";
    var React = require("react"),
        nfProps = require("nf-iso-properties"),
        _ = require("lodash"),
        classNames = require("classnames"),
        Scheduler = require("../../reactMixins/scheduler"),
        AutoFetch = require("../../reactMixins/falkor-auto-fetch"),
        Sortable = require("../../reactMixins/sortable"),
        BrowserScroll = require("../../reactMixins/browserScroll"),
        IsoContext = require("../../reactMixins/isomorphicContextWithDeps"),
        I18N = require("../../reactMixins/i18n"),
        EventBus = require("../../reactMixins/eventBus"),
        AkiraContext = require("../../reactMixins/akiraContext"),
        OptimizationTest = require("../../utils/ab/optimizationTest"),
        Position = require("../../common/position"),
        Row = require("../components/row.jsx"),
        TitleCard = require("../components/title/titleCard.jsx"),
        LoadingGallery = require("../components/loaders/loadingGallery.jsx"),
        LoadingSpinner = require("../components/loaders/loadingSpinner.jsx"),
        TimeoutTransitionGroup = require("../components/timeoutTransitionGroup.jsx"),
        PathEvaluatorUtils = require("../../utils/pathEvaluatorUtils"),
        INFINITE_SCROLL_BUFFER_PX = 2e3,
        ADDITIONAL_FETCH_KEY = "infinite-scroll-fetch-rows",
        ADDITIONAL_PAGE_LOAD_WAIT_MS = 900,
        FADE_OUT_CONTENT_TIMEOUT_MS = 550,
        FADE_IN_CONTENT_TIMEOUT_MS = 250,
        BUNDLE = "discovery/akira/Gallery",
        prefetchStrategies = nfProps.get("netflix.ui.akira.prefetch.strategies.gallery"),
        defaultStrategy = prefetchStrategies.small,
        getPaths = function(e, t, r) {
            t || (t = defaultStrategy), r || (r = {});
            var s, i, o, a = r && r.fromNum || 0,
                n = r && r.toNum || t.numVideos,
                l = r.sortOrder ? [r.sortOrder, {
                    from: a,
                    to: n
                }] : [{
                    from: a,
                    to: n
                }],
                c = TitleCard.getPaths(e, t).map(function(e) {
                    return l.concat(e)
                }),
                u = [
                    [
                        ["id", "length", "name", "trackIds", "requestId"]
                    ]
                ];
            return u = u.concat(c), r.sortOrder === Sortable.ORDER_BY_MATURITY && (s = l.concat("maturity"), u = u.concat([s])), r.sortOrder && (i = [r.sortOrder, "requestId"], u = u.concat([i])), r.term && (o = [
                [
                    ["referenceId"]
                ]
            ], u = u.concat(o)), u
        },
        GalleryContent = React.createClass({
            displayName: "GalleryContent",
            mixins: [AutoFetch, Sortable, BrowserScroll, IsoContext, I18N, AkiraContext],
            getInitialState: function() {
                return {
                    fetchingMoreRows: !1
                }
            },
            numTitlesToFetch: defaultStrategy.numVideos,
            isFirstSetOfResults: !0,
            isInteractive: !1,
            statics: {
                getPaths: getPaths,
                defaultStrategy: defaultStrategy,
                prefetchStrategies: prefetchStrategies
            },
            childContextTypes: {
                requestId: React.PropTypes.string,
                trackId: React.PropTypes.number,
                jawBoneTrackId: React.PropTypes.number,
                jawBoneEpisodeTrackId: React.PropTypes.number,
                jawBoneTrailerTrackId: React.PropTypes.number
            },
            getChildContext: function() {
                var e = this.getTrackIds();
                return {
                    requestId: this.getRequestId(),
                    trackId: e.trackId,
                    jawBoneTrackId: e.trackId_jaw,
                    jawBoneEpisodeTrackId: e.trackId_jawEpisode,
                    jawBoneTrailerTrackId: e.trackId_jawTrailer
                }
            },
            allRowsFetched: function() {
                var e = this.bindSortedModel();
                if (e) {
                    var t = !e.bind([this.numTitlesToFetch - 1]).getValueSync("summary");
                    return this.props.inLolomo && t && EventBus.emit("gallery:fetchedAllRows", {}), t
                }
                return EventBus.emit("gallery:fetchedAllRows", {}), !0
            },
            fetchMoreRows: function(e) {
                var t, r, s = nfProps.get("netflix.ui.akira.prefetch.strategies.gallery").medium,
                    i = this.props.sortOrder === Sortable.ORDER_BY_MATURITY ? prefetchStrategies.maximum.batchVideoSize : s.batchVideoSize,
                    o = this.props.model;
                this.isLoading() || this.allRowsFetched() || (this.numTitlesToFetch += i, this.isFirstSetOfResults = !1, t = {
                    sortOrder: this.props.sortOrder,
                    toNum: this.numTitlesToFetch
                }, r = getPaths(this.getContext(), s, t), this.isMounted() && (e && (this.setState({
                    fetchingMoreRows: !0
                }), this.state.fetchingMoreRows = !1), this.fetchData(o, r, ADDITIONAL_FETCH_KEY)))
            },
            prefetchOnLoad: function() {
                this.isFirstSetOfResults && Scheduler.queue(this.fetchMoreRows, ADDITIONAL_PAGE_LOAD_WAIT_MS)
            },
            onScroll: function() {
                this.isWithinDistanceBuffer(INFINITE_SCROLL_BUFFER_PX) && this.fetchMoreRows(!0)
            },
            isWithinDistanceBuffer: function(e) {
                var t = this.refs.gallery && React.findDOMNode(this.refs.gallery),
                    r = !1;
                return t && (r = Position.getDistanceToBottomOfElement(t) < e), r
            },
            getTrackIds: function() {
                var e = this.props.model,
                    t = this.props.trackIds;
                return !t && e.getValueSync(["trackIds"]) && (t = e.getValueSync(["trackIds"])), t || {}
            },
            getRequestId: function() {
                var e = this.props.model.getValueSync([this.props.sortOrder, "requestId"]),
                    t = this.props.model.getValueSync(["requestId"]);
                return this.props.referenceId || e || t
            },
            shouldAnimateInTitle: function() {
                if (this.props.inLolomo) return !1;
                var e = ["search"];
                return -1 === e.indexOf(this.props.keyPrefix) && this.isFirstSetOfResults && !this.context.isInitialRender
            },
            renderGallery: function() {
                var e, t, r, s = this.props.model.getValueSync(["id"]),
                    i = this.bindSortedModel(),
                    o = OptimizationTest.getColumnsInRowModifier(this.context),
                    a = this.context.columnsInRow,
                    n = null,
                    l = [],
                    c = [],
                    u = this.props.rowNum || 0,
                    d = 0,
                    h = 0,
                    p = 0,
                    m = {};
                for (o && (a += o), t = 0; t < this.numTitlesToFetch; t++)
                    if (e = i.bind([t]), e.getBoundValue()) r = e.getValueSync("summary"), r && (!this.props.filter || this.props.filter(e)) && (this.props.jawBoneRowNum === u && this.props.jawBoneRankNum === d && (n = t), m[r.id] = t, c.push(React.createElement(TitleCard, {
                        key: "title_" + r.id + "_" + u + "_" + t,
                        model: e,
                        rankNum: d,
                        videoId: r.id,
                        showVideoEvidence: this.props.showVideoEvidence,
                        animateIn: this.shouldAnimateInTitle()
                    })), d++, h % a === a - 1 && (l.push(this.renderRow(i, u, c, n, m)), u++, d = 0, c = []), h++);
                    else if (p++, 3 === p) break;
                return c.length > 0 && !this.props.inLolomo && l.push(this.renderRow(i, u, c, n, m)), React.createElement("div", {
                    key: "gallery-" + s,
                    className: "galleryLockups"
                }, l)
            },
            renderRow: function(e, t, r, s, i) {
                var o = null,
                    a = null,
                    n = !1,
                    l = this.props.isMyListRow;
                return this.props.jawBoneRowNum !== t || _.isUndefined(s) || (o = this.props.jawBoneRankNum, a = s, n = !0), React.createElement(Row, {
                    model: e,
                    pqls: this.props.pqls,
                    totalItems: r.length,
                    key: "gallery-row-" + t,
                    rowNum: t,
                    jawBoneRankNum: o,
                    jawBoneModelIndex: a,
                    showJawBone: n,
                    isGallery: !0,
                    isMyListRow: l,
                    orderedItemList: l ? i || null : null
                }, r)
            },
            renderNoResults: function() {
                return React.createElement("div", {
                    className: "galleryMessage",
                    key: "galleryMessage"
                }, this.getString(BUNDLE, "results.none"))
            },
            renderError: function() {
                return React.createElement("div", {
                    className: "galleryMessage",
                    key: "galleryMessageError"
                }, this.getString(BUNDLE, "results.error"))
            },
            componentWillReceiveProps: function(e) {
                this.props.sortOrder !== e.sortOrder && (this.numTitlesToFetch = defaultStrategy.numVideos, this.isFirstSetOfResults = !0)
            },
            setIsInteractive: function() {
                this.isLoading() || !this.isFirstSetOfResults || this.isInteractive || (EventBus.emit("app:interactive", this.props), this.isInteractive = !0)
            },
            componentDidMount: function() {
                this.prefetchOnLoad(), this.setIsInteractive()
            },
            componentDidUpdate: function(e, t) {
                this.prefetchOnLoad(), this.setIsInteractive()
            },
            render: function() {
                var e, t, r, s, i, o, a, n = this.props.model.getValueSync(["name"]),
                    l = this.bindSortedModel(),
                    c = null,
                    u = null;
                return e = {
                    gallery: !0,
                    "row-with-x-columns": !0,
                    search: "search" === this.props.keyPrefix && !this.props.header,
                    inLolomo: this.props.inLolomo,
                    "small-title-cards": OptimizationTest.hasSmallTitleCard(this.context),
                    "large-title-cards": OptimizationTest.hasLargeTitleCard(this.context)
                }, e["has-open-jaw"] = this.props.jawBoneVideoId, i = l.bind([0]).getValueSync("summary"), s = PathEvaluatorUtils.hasAnyError([n, i]), r = i && !s, o = !this.props.inLolomo && this.isLoading() && this.isFirstSetOfResults, a = this.state.fetchingMoreRows && !this.isFirstSetOfResults, r ? c = this.renderGallery() : s ? (c = this.renderError(), n = "&nbsp;") : o ? u = React.createElement(LoadingGallery, null) : c = this.props.customNoResults ? this.props.customNoResults() : this.renderNoResults(), c = React.createElement("div", {
                    key: "main-gallery"
                }, c), r && a && (t = React.createElement("div", {
                    className: "gallerySpinLoader"
                }, React.createElement(LoadingSpinner, null))), React.createElement("div", {
                    className: classNames(e),
                    ref: "gallery"
                }, this.props.header && !s ? this.props.header : React.createElement("div", {
                    className: "title",
                    dangerouslySetInnerHTML: {
                        __html: n
                    }
                }), React.createElement(TimeoutTransitionGroup, {
                    className: "galleryContent",
                    transitionName: "pulsateTransition",
                    component: "div",
                    enterTimeout: FADE_IN_CONTENT_TIMEOUT_MS,
                    leaveTimeout: FADE_OUT_CONTENT_TIMEOUT_MS
                }, u || c), t)
            }
        });
    GalleryContent.__meta__ = {
        strings: [{
            bundle: "discovery/akira/Gallery",
            ids: ["results.none", "results.error"]
        }]
    }, module.exports = GalleryContent;


});


Requireify.register('js/akira/components/lolomo/galleryRow.jsx', function(require, requireAsync, module, exports) {


    "use strict";
    var _extends = Object.assign || function(e) {
            for (var t = 1; t < arguments.length; t++) {
                var r = arguments[t];
                for (var o in r) Object.prototype.hasOwnProperty.call(r, o) && (e[o] = r[o])
            }
            return e
        },
        React = require("react"),
        nfProps = require("nf-iso-properties"),
        AkiraContext = require("../../../reactMixins/akiraContext"),
        IsomorphicContext = require("../../../reactMixins/isomorphicContextWithDeps"),
        GalleryContent = require("../../layouts/gallery.jsx"),
        RowHeader = require("./rowHeader.jsx"),
        getPaths = function(e, t, r) {
            var o = r && void 0 !== r.totalVideos ? Math.min(t.numVideos, r.totalVideos) : t.numVideos,
                a = t.startIndex || 0,
                s = ["galleryDisplayAsRow"];
            return s.concat([
                [{
                        from: a,
                        to: o
                    },
                    ["playListEvidence", "bookmark", "queue"]
                ]
            ])
        },
        GalleryRow = React.createClass({
            displayName: "GalleryRow",
            statics: {
                getPaths: getPaths,
                prefetchStrategies: nfProps.get("netflix.ui.akira.prefetch.strategies.galleryRow")
            },
            childContextTypes: {
                listContext: React.PropTypes.string
            },
            getChildContext: function() {
                return {
                    listContext: this.props.listContext
                }
            },
            mixins: [IsomorphicContext, AkiraContext],
            render: function() {
                var e = React.createElement(RowHeader, {
                    title: this.props.model.getValueSync(["displayName"])
                });
                return React.createElement("div", {
                    className: "galleryRow"
                }, React.createElement(GalleryContent, _extends({
                    model: this.props.model
                }, this.props, {
                    header: e,
                    inLolomo: !0,
                    showVideoEvidence: !0,
                    pqls: GalleryContent.getPaths(this.getContext())
                })))
            }
        });
    module.exports = GalleryRow;


});


Requireify.register('js/akira/page/siteError.jsx', function(require, requireAsync, module, exports) {


    "use strict";
    var React = require("react"),
        Router = require("react-router"),
        I18N = require("../../reactMixins/i18nWithDeps"),
        COMMON_BUNDLE = "common/common",
        SiteError = React.createClass({
            displayName: "SiteError",
            mixins: [I18N, Router.State],
            render: function() {
                return React.createElement("div", null, React.createElement("div", {
                    className: "seBox"
                }, React.createElement("h1", {
                    className: "seHeader"
                }, this.getString(COMMON_BUNDLE, "nfse.header")), React.createElement("p", null, this.getString(COMMON_BUNDLE, "nfse.desc"), "  "), React.createElement("p", null, this.getString(COMMON_BUNDLE, "nfse.desc2"), " "), React.createElement("div", {
                    className: "seNflxButton"
                }, React.createElement("a", {
                    className: "seHomeLink",
                    href: "/"
                }, this.getString(COMMON_BUNDLE, "nfse.button.home")))))
            }
        });
    module.exports = SiteError;


});


Requireify.register('js/akira/components/lolomo/lolomo.jsx', function(require, requireAsync, module, exports) {


    "use strict";
    var _extends = Object.assign || function(o) {
            for (var e = 1; e < arguments.length; e++) {
                var t = arguments[e];
                for (var i in t) Object.prototype.hasOwnProperty.call(t, i) && (o[i] = t[i])
            }
            return o
        },
        React = require("react"),
        _ = require("lodash"),
        nfProps = require("nf-iso-properties"),
        classNames = require("classnames"),
        LolomoRow = require("./lolomoRow.jsx"),
        BillboardRow = require("../billboard/billboardRow.jsx"),
        LolomoExpandedVideoRow = require("./lolomoExpandedVideoRow.jsx"),
        LolomoInlineVideoRow = require("./lolomoInlineVideoRow.jsx"),
        LolomoHeroRow = require("./lolomoHeroRow.jsx"),
        LolomoConstants = require("./lolomoConstants.jsx"),
        LolomoCategorizedRow = require("./lolomoCategorizedRow.jsx"),
        LoadingRow = require("../loaders/loadingRow.jsx"),
        lolomoUtils = require("../../../utils/lolomo/lolomoUtils"),
        urls = require("../../../utils/urls"),
        pathEvaluatorUtils = require("../../../utils/pathEvaluatorUtils"),
        HeroRowABHelper = require("../../../utils/ab/heroRow-AB-6661"),
        RichOriginalsRowTest = require("../../../utils/ab/richOriginalsRowTest"),
        AkiraContext = require("../../../reactMixins/akiraContext"),
        AutoFetch = require("../../../reactMixins/falkor-auto-fetch"),
        Scheduler = require("../../../reactMixins/scheduler"),
        IsomorphicContext = require("../../../reactMixins/isomorphicContextWithDeps"),
        EventBus = require("../../../reactMixins/eventBus"),
        MotionBoxArtTest = require("../../../reactMixins/ab/motionBoxArtTest"),
        MotionBoxArtController = require("./motionBoxArtController.jsx"),
        GalleryRow = require("./galleryRow.jsx"),
        SiteError = require("../../page/siteError.jsx"),
        MAX_ROWS = nfProps.get("netflix.ui.akira.max.lolomo.rows"),
        GALLERY_TEST_ID = "6454",
        lastAdditionalFetchStrat = nfProps.get("netflix.ui.akira.prefetch.homeLoaded.6"),
        lastAdditionalFetchRowMin = lastAdditionalFetchStrat ? lastAdditionalFetchStrat.rowMin : 25,
        FIRST_CHUNK_LOAD_INTERVAL_MS = 50,
        CHUNK_LOAD_INTERVAL_MS = 750,
        prefetchStrategies = {
            allRows: {
                numRows: MAX_ROWS,
                numVideos: 7,
                bobs: !1,
                jawBones: !1
            }
        },
        defaultStrategy = prefetchStrategies.allRows,
        getPaths = function(o, e, t) {
            var i = ["responseExpiration", "statusCode"];
            e || (e = defaultStrategy);
            var n = {
                    from: e.rowMin || 0,
                    to: e.numRows
                },
                r = LolomoRow.getPaths(o, e).map(function(o) {
                    return [n].concat(o)
                }).concat([
                    [n, ["context", "type"]]
                ]).concat([
                    ["summary"]
                ]).concat([
                    ["meta", i]
                ]).concat([
                    ["requestId"]
                ]);
            if (e.numBillboards > 0 && (r = r.concat(BillboardRow.getPaths(o, e))), n && 0 === n.from) {
                var s = GalleryRow.getPaths(o, e).map(function(o) {
                    return [{
                        from: 0,
                        to: 1
                    }].concat(o)
                });
                r = r.concat(s)
            }
            if (RichOriginalsRowTest.supportsCategorizedRow(o)) {
                var a = LolomoCategorizedRow.getPaths(o, e).map(function(o) {
                    return [n].concat(o)
                });
                r = r.concat(a)
            }
            return r
        },
        Lolomo = React.createClass({
            displayName: "Lolomo",
            mixins: [IsomorphicContext, AkiraContext, MotionBoxArtTest, Scheduler, AutoFetch],
            statics: {
                getPaths: getPaths,
                prefetchStrategies: prefetchStrategies,
                MAX_ROWS: MAX_ROWS
            },
            rowsFetching: {},
            prefetchCallbacks: [],
            isFetchingAdditionalLolomoData: !1,
            contextTypes: {
                jsongDocument: React.PropTypes.object
            },
            childContextTypes: {
                requestId: React.PropTypes.string
            },
            getChildContext: function() {
                return {
                    requestId: this.getRequestId()
                }
            },
            getInitialState: function() {
                return {
                    bouncing: !1
                }
            },
            allRowsPQLS: function() {
                return getPaths(this.getContext(), prefetchStrategies.allRows)
            },
            getRequestId: function() {
                return this.props.model.getValueSync(["requestId"])
            },
            seedLolomoImpression: function() {
                var o = lolomoUtils.getValidLolomoCookieUUID(),
                    e = this.context.jsongDocument;
                o && (e.setValueSync(["lolomo"], ["lolomos", o]), e.setValueSync(["lolomos", o, "aLeafNode"], "anyValue"))
            },
            prepareForAutoFetch: function() {
                if (!this.props.suppressBillboard) {
                    var o = this.props.model;
                    o.getBoundValue() || lolomoUtils.seedLolomoImpression(this.context.jsongDocument)
                }
            },
            lolomoIsValid: function() {
                var o = this.props.model,
                    e = o.getBoundValue(),
                    t = !!e && "error" !== e.$type;
                return t && this.hasFirstRow()
            },
            getNumRows: function() {
                var o, e = this.props.model,
                    t = -1;
                if (!e.getBoundValue()) return -1;
                if (this.props.newArrivals === !0) t = e.getValueSync(["length"]);
                else {
                    if (o = e.getValueSync(["summary"]), !o) return -1;
                    t = o.length
                }
                return t
            },
            renderPlaceHolder: function() {
                return React.createElement(LoadingRow, {
                    pulsateTitles: !0,
                    pulsateHeader: !1,
                    showSpinner: !1
                })
            },
            renderSiteError: function() {
                return React.createElement(SiteError, null)
            },
            setIsInteractive: function() {
                this.isLoading() || this.isInteractive || (this.isInteractive = !0, EventBus.emit("app:interactive", this.props), this.lolomoIsValid() && lolomoUtils.setLolomoCookie(this.context.jsongDocument))
            },
            updateRowsFetching: function(o, e, t) {
                o = o || 0, this.rowsFetching[o] = t, this.rowsFetching[e] = t
            },
            allAdditionalFetchingComplete: function() {
                var o = this.rowsFetching[lastAdditionalFetchRowMin] === !1;
                return o && _.every(this.rowsFetching, function(o) {
                    return o === !1
                })
            },
            lastRowdataExists: function() {
                var o, e = this.props.model && this.props.model.getValueSync(["summary"]);
                return e ? (o = e.length - 1, this.props.model.bind([o]).getBoundValue() && this.props.model.bind([o - 1]).getBoundValue()) : !1
            },
            allRowsFetched: function() {
                var o = this.isFetchingAdditionalLolomoData,
                    e = this.lastRowdataExists();
                return !o && e || o && this.allAdditionalFetchingComplete()
            },
            bounceLolomo: function() {
                lolomoUtils.clearLolomoCookie(), setTimeout(function() {
                    document.location.href = urls.page.app
                }, 10)
            },
            componentDidMount: function() {
                this.setIsInteractive();
                var o = this;
                this.once("auto-fetch-done", function(e, t) {
                    if ("timeout" === e || !this.lolomoIsValid()) {
                        if (lolomoUtils.getLolomoCookie()) return o.setState({
                            bouncing: !0
                        }), void o.bounceLolomo();
                        this.isMounted() && this.forceUpdate()
                    }
                }), this.triggerAdditionalFetch()
            },
            triggerAdditionalFetch: function() {
                this.ab().attr(GALLERY_TEST_ID, "displayAsGallery") && this.hasGalleryLolomo() ? EventBus.once("gallery:fetchedAllRows", this.loadAdditionalData) : this.isLoading() ? this.once("dataFetch:complete", this.loadAdditionalData) : this.loadAdditionalData()
            },
            loadAdditionalData: function() {
                if (!this.lastRowdataExists()) {
                    this.isFetchingAdditionalLolomoData = !0;
                    var o = this,
                        e = this.props.model,
                        t = "netflix.ui.akira.prefetch.homeLoaded",
                        i = [t, t + ".2", t + ".3", t + ".4", t + ".5", t + ".6"],
                        n = function(t) {
                            if (e && e.getBoundValue()) {
                                var i = nfProps.get(t),
                                    n = i.rowMin,
                                    r = i.numRows,
                                    s = getPaths(o.getContext(), i);
                                o.updateRowsFetching(n, r, !0), o.fetchData(e, s, t, function() {
                                    o.updateRowsFetching(n, r, !1), o.allRowsFetched() && o.forceUpdate()
                                }, i.forceUpdate)
                            }
                        },
                        r = parseInt(nfProps.get("netflix.ui.lolomo.firstChunkLoadIntervalMS"), 10) || FIRST_CHUNK_LOAD_INTERVAL_MS,
                        s = parseInt(nfProps.get("netflix.ui.lolomo.chunkLoadIntervalMS"), 10) || CHUNK_LOAD_INTERVAL_MS;
                    _.map(i, function(e, t) {
                        o.prefetchCallbacks.push(o.queue(function() {
                            n(e)
                        }, r + t * s))
                    })
                }
            },
            componentDidUpdate: function() {
                this.setIsInteractive()
            },
            componentWillUnmount: function() {
                for (var o = this.prefetchCallbacks.pop(); o;) this.cancelQueuedItem(o), o = this.prefetchCallbacks.pop();
                EventBus.removeListener("gallery:fetchedAllRows", this.loadAdditionalData)
            },
            renderLolomo: function() {
                for (var o, e, t, i, n, r, s, a, l = !1, u = [], c = 0, h = 0, d = null, m = LolomoConstants.LIST_CONTEXTS; MAX_ROWS > c;) {
                    if (this.hasNthRow(c)) {
                        if (o = this.props.model.bind([c]), e = o.getValueSync(["context"]), t = o.getValueSync(["type"]), s = e === m.SUGGESTION_GALLERY && !o.getValueSync([m.SUGGESTION_ROW]), s && (a = o.getValueSync(["length"]), h = Math.floor(a / this.context.columnsInRow - 1)), this.props.jawBoneRowNum === c + h || s && this.props.jawBoneRowNum <= c + h ? (d = this.props.jawBoneRankNum || 0, n = !0, i = this.props.jawBoneVideoId) : (d = null, n = !1, i = null), this.props.suppressBillboard && e === m.BILLBOARD || -1 !== [m.SOCIAL_POPULAR, m.RATE_MOVIES].indexOf(e)) {
                            c++;
                            continue
                        }
                        e === m.BILLBOARD ? (u.push(React.createElement(BillboardRow, {
                            model: o,
                            rowNum: c,
                            key: c
                        })), l = !0) : e === m.EXPANDED_PROMO_VIDEO && LolomoExpandedVideoRow.stub !== !0 ? u.push(React.createElement(LolomoExpandedVideoRow, {
                            model: o,
                            rowNum: c,
                            key: c,
                            showJawBone: n,
                            listContext: e
                        })) : e === m.INLINE_PROMO_VIDEO && LolomoInlineVideoRow.stub !== !0 ? u.push(React.createElement(LolomoInlineVideoRow, {
                            model: o,
                            rowNum: c,
                            key: c,
                            listContext: e
                        })) : RichOriginalsRowTest.isCategorizedOriginalsRow(this.context, e, t) ? u.push(React.createElement(LolomoCategorizedRow, {
                            key: c + h,
                            model: o,
                            listContext: e,
                            rowNum: c + h,
                            showJawBone: n,
                            jawBoneRankNum: d,
                            showVideoEvidence: e === m.SUGGESTION_GALLERY,
                            columnsInRow: this.context.columnsInRow
                        })) : HeroRowABHelper.isHeroRow({
                            __proto__: this.context,
                            listContext: e
                        }) ? u.push(React.createElement(LolomoHeroRow, {
                            model: o,
                            rowNum: c,
                            key: c,
                            jawBoneRankNum: d,
                            jawBoneRowNum: this.props.jawBoneRowNum,
                            jawBoneVideoId: i,
                            listContext: e
                        })) : s ? u.push(React.createElement(GalleryRow, _extends({
                            ref: "galleryRow"
                        }, this.props, {
                            model: o,
                            rowNum: c,
                            key: c,
                            showJawBone: n,
                            jawBoneRankNum: d,
                            jawBoneVideoId: i,
                            listContext: e
                        }))) : u.push(React.createElement(LolomoRow, {
                            key: c + h,
                            model: o,
                            listContext: e,
                            rowNum: c + h,
                            showJawBone: n,
                            jawBoneRankNum: d,
                            showVideoEvidence: e === m.SUGGESTION_GALLERY,
                            columnsInRow: this.context.columnsInRow
                        }))
                    } else if (this.rowsFetching && this.rowsFetching[c]) break;
                    c++
                }
                return r = {
                    lolomo: !0,
                    "is-fullbleed": l,
                    "has-open-jaw": this.props.jawBoneVideoId
                }, React.createElement("div", {
                    className: classNames(r),
                    ref: "lolomo"
                }, this.hasMotionBoxArt() ? React.createElement(MotionBoxArtController, null) : null, u, this.allRowsFetched() ? null : this.renderPlaceHolder())
            },
            hasFirstRow: function() {
                return this.hasNthRow(0)
            },
            hasNthRow: function(o) {
                var e = this.props.model.bind([o]),
                    t = e.getBoundValue();
                return !!t && !pathEvaluatorUtils.isValueError(t)
            },
            getNthRow: function(o) {
                return this.hasNthRow(o) ? this.props.model.bind([o]) : null
            },
            hasGalleryLolomo: function() {
                var o = [0, 1],
                    e = this,
                    t = !1;
                return o.forEach(function(o) {
                    e.hasNthRow(o) && e.getNthRow(o).getValueSync(["context"]) === LolomoConstants.LIST_CONTEXTS.SUGGESTION_GALLERY && (t = !0)
                }), t
            },
            render: function() {
                return this.isAutoLoading() && !this.hasFirstRow() ? this.renderPlaceHolder() : this.state.bouncing ? null : this.lolomoIsValid() ? this.renderLolomo() : this.renderSiteError()
            }
        });
    module.exports = Lolomo;


});


Requireify.register('js/akira/page/home.jsx', function(require, requireAsync, module, exports) {


    "use strict";
    var _extends = Object.assign || function(e) {
            for (var t = 1; t < arguments.length; t++) {
                var o = arguments[t];
                for (var r in o) Object.prototype.hasOwnProperty.call(o, r) && (e[r] = o[r])
            }
            return e
        },
        React = require("react"),
        nfProps = require("nf-iso-properties"),
        Lolomo = require("../components/lolomo/lolomo.jsx"),
        TitleCard = require("../components/title/titleCard.jsx"),
        BillboardRow = require("../components/billboard/billboardRow.jsx"),
        LolomoInlineVideoRow = require("../components/lolomo/lolomoInlineVideoRow.jsx"),
        LolomoExpandedVideoRow = require("../components/lolomo/lolomoExpandedVideoRow.jsx"),
        IsoContext = require("../../reactMixins/isomorphicContextWithDeps"),
        AB = require("../../reactMixins/ab"),
        FalkorFetch = require("../../reactMixins/falkor-fetch"),
        Scheduler = require("../../reactMixins/scheduler"),
        ardbeg = require("nf-ardbeg"),
        contextData = require("../../utils/contextData"),
        inNode = require("../../utils/inNode"),
        GALLERY_TEST_ID = "6454",
        prefetchStrategies = nfProps.get("netflix.ui.akira.prefetch.strategies.home"),
        defaultStrategy = nfProps.get("netflix.ui.akira.prefetch.page"),
        getPaths = function(e, t, o) {
            t || (t = defaultStrategy);
            var r, a = t.numVideos,
                i = a;
            return r = [
                ["summary"]
            ].concat(Lolomo.getPaths(e, t)).concat(BillboardRow.getPaths(e, t)).concat([
                ["mylist", "summary"]
            ]).concat(TitleCard.getPaths(e, t).map(function(e) {
                return ["mylist", {
                    to: i
                }].concat(e)
            })), LolomoInlineVideoRow.stub !== !0 && nfProps.get("oui.billboard.inlinePromotionVideo.web.enabled") && (r = r.concat(LolomoInlineVideoRow.getPaths(e, t))), LolomoExpandedVideoRow.stub !== !0 && nfProps.get("oui.billboard.expandedPromotionVideo.web.enabled") && (r = r.concat(LolomoExpandedVideoRow.getPaths(e, t))), r
        },
        inGalleryRowTest = function(e) {
            var t, o, r;
            return t = inNode ? e.ab : ardbeg.evaluate(contextData.getData("ab", "serializedAB")), o = t && t._evaluatedTests, r = o && o[GALLERY_TEST_ID], r && r.attrs.displayAsGallery
        },
        getInitialPaths = function(e) {
            var t;
            return t = inGalleryRowTest(e) ? nfProps.get("netflix.ui.akira.prefetch.lolomoGallery") : nfProps.get("netflix.ui.akira.prefetch.page"), getPaths(e, t)
        },
        HomeContent = React.createClass({
            displayName: "HomeContent",
            mixins: [AB, FalkorFetch, Scheduler, IsoContext],
            statics: {
                NUM_ROWS_TO_RENDER: 15,
                NUM_TITLES_TO_RENDER: 20,
                getPaths: getPaths,
                prefetchStrategies: prefetchStrategies,
                defaultStrategy: defaultStrategy,
                getInitialPaths: getInitialPaths,
                inGalleryRowTest: inGalleryRowTest
            },
            getRootModel: function() {
                var e = this.props.suppressBillboard ? "lolomonobillboard" : "lolomo";
                return this.props.model.pathEvaluator.bind([e])
            },
            render: function() {
                var e = this.getRootModel(),
                    t = HomeContent.NUM_ROWS_TO_RENDER,
                    o = getInitialPaths(this.getContext(), this.nodeRequest());
                return React.createElement(Lolomo, _extends({}, this.props, {
                    ref: "lolomo",
                    model: e,
                    pqls: o,
                    numRows: t
                }))
            }
        });
    module.exports = HomeContent;


});


Requireify.register('js/utils/lolomo/lolomoActions.js', function(require, requireAsync, module, exports) {


    "use strict";
    var cookieUtils = require("../cookieUtils"),
        HomeContent = require("../../akira/page/home.jsx"),
        EventBus = require("../../reactMixins/eventBus.js"),
        context = require("../contextData"),
        lolomoUtils = require("./lolomoUtils"),
        _ = require("lodash");
    module.exports = {
        refreshLolomo: function(o) {
            this.evictLolomo(o), this.fetchLolomo(o)
        },
        evictLolomo: function(o) {
            var e = context.getFeatureData("userInfo").lastLolomoImpressionKey;
            window.pathEvaluator.invalidate(["lolomo"], ["lolomonobillboard"]).subscribe(), e && cookieUtils.clear(e, context.getFeatureData("serverDefs").host || cookieUtils.TOP_DOMAIN, cookieUtils.ROOT_PATH), EventBus.emit("lolomo:refreshStart", {
                message: o
            })
        },
        fetchLolomo: function(o) {
            var e = HomeContent.getInitialPaths(context.getContext()),
                t = window.pathEvaluator.bind(["lolomo"]);
            t.get.apply(t, e).subscribe(_.noop, function() {
                EventBus.emit("lolomo:refreshEnd", {
                    success: !1,
                    reason: "networkError",
                    message: o
                })
            }, function() {
                lolomoUtils.setLolomoCookie(t, !0) ? EventBus.emit("lolomo:refreshEnd", {
                    success: !0,
                    message: o
                }) : EventBus.emit("lolomo:refreshEnd", {
                    success: !1,
                    reason: "invalidCookie",
                    message: o
                })
            })
        }
    };


});


Requireify.register('js/utils/dynamicMessages/reno.js', function(require, requireAsync, module, exports) {


    "use strict";

    function _initRenoMessages() {
        RenoMessages.config = {
            messages: {
                NewLolomo: nfProps.get("web.ui.reno.message.newlolomo.enabled")
            }
        }
    }
    var nfProps = require("nf-iso-properties"),
        CURRENT_TIME = Date.now(),
        Rx = require("nf-rx"),
        EventBus = require("../../reactMixins/eventBus"),
        LolomoActions = require("../lolomo/lolomoActions"),
        _ = require("lodash"),
        inNode = require("../inNode"),
        RenoMessages = {
            config: {},
            resourceName: "reno",
            messages: {
                NEW_LOLOMO: "NewLolomo"
            },
            _lastTimestamp: new Rx.BehaviorSubject(CURRENT_TIME),
            onMessage: function(e, s, o) {
                if (RenoMessages.config.messages[e.messageType]) {
                    var n = RenoMessages._lastTimestamp.value;
                    e.creationTS > n && RenoMessages._lastTimestamp.onNext(e.creationTS), EventBus.emit("reno:message", {
                        message: e,
                        type: o.getPollTypeName()
                    })
                }
            },
            onMessages: function(e) {
                var s;
                _.forEach(e, function(e) {
                    RenoMessages.messages.NEW_LOLOMO === e.messageType && (s = e)
                }), s && LolomoActions.refreshLolomo(s)
            },
            getRequestData: function() {
                var e = RenoMessages._lastTimestamp.value;
                return e || (e = Date.now(), RenoMessages._lastTimestamp.onNext(e)), {
                    lastTimestamp: e
                }
            }
        };
    inNode || _initRenoMessages(), module.exports = RenoMessages;


});


Requireify.register('js/utils/dynamicMessages/identifiers.js', function(require, requireAsync, module, exports) {


    "use strict";
    var nfProps = require("nf-iso-properties"),
        EventBus = require("../../reactMixins/eventBus"),
        IdentifierMessages = {
            config: {},
            resourceName: "identifiers",
            onMessage: function(e, t, i) {
                e.updateApplication && (i.setApplicationRefreshState(t === i.context.applicationError ? !0 : !1), EventBus.emit("identifiers:update", e))
            },
            getRequestData: function() {
                var e = {
                    appIdentifier: nfProps.get("BUILD_IDENTIFIER")
                };
                return e
            }
        };
    module.exports = IdentifierMessages;


});


Requireify.register('js/utils/smallAssetLogging.js', function(require, requireAsync, module, exports) {


    "use strict";

    function getNewImageEntries() {
        var e = _.filter(window.performance.getEntries(), function(e) {
            var n = _.get(e, "name", ""),
                t = n.match(IMAGE_EXT) && !loggedAssets[n];
            return t && (loggedAssets[e.name] = !0), t
        }).map(function(e) {
            var n, t, r = {};
            for (n in e) t = e[n], "function" != typeof t && (r[n] = t);
            return r
        });
        return "function" == typeof window.performance.clearResourceTimings ? window.performance.clearResourceTimings() : "function" == typeof window.performance.webkitClearResourceTimings && window.performance.webkitClearResourceTimings(), e
    }
    var _ = require("lodash"),
        EventBus = require("../reactMixins/eventBus"),
        contextData = require("../utils/contextData"),
        supportsPerformanceAPI = "undefined" != typeof window && "function" == typeof _.get(window, "performance.getEntries"),
        loggedAssets = {},
        IMAGE_EXT = /^.*\.(jpg|gif|png|webp|svg)$/i;
    module.exports = {
        logMetrics: function() {
            var e, n;
            if (supportsPerformanceAPI && contextData.getData("apm", "enabled")) {
                n = {
                    reason: "success",
                    location: null,
                    size: 0,
                    entries: null
                };
                try {
                    n.location = window.location.href, e = getNewImageEntries()
                } catch (t) {
                    n.reason = "failure"
                }
                e && e.length && (n.size = e.length, n.entries = e, EventBus.emit("smallAssets:loaded", n))
            }
        }
    };


});


Requireify.register('js/utils/dynamicMessages/dynamicMessages.js', function(require, requireAsync, module, exports) {


    "use strict";

    function _initDynamicMessages() {
        var e = [];
        RenoMessages.stub || e.push(RenoMessages), IdentifiersMessages.stub || e.push(IdentifiersMessages), DynamicMessages.config = {
            enabled: nfProps.get("web.ui.dynamic.messages.enabled"),
            requestErrorCap: nfProps.get("web.ui.dynamic.messages.request.error.cap")
        }, DynamicMessages.pollingTypes = {
            PLAYBACK: {
                interval: parseInt(nfProps.get("web.ui.dynamic.messages.polling.interval.playback"), 10) || FIVE_MINUTES_IN_MS,
                resources: e,
                name: "playback"
            },
            PROFILESGATE: {
                interval: parseInt(nfProps.get("web.ui.dynamic.messages.polling.interval.profilesgate"), 10) || THIRTY_MINUTES_IN_MS,
                resources: e,
                name: "profilesgate"
            }
        }
    }
    var nfProps = require("nf-iso-properties"),
        Rx = require("nf-rx"),
        XHR = require("../XHR"),
        _ = require("lodash"),
        RenoMessages = require("./reno"),
        IdentifiersMessages = require("./identifiers"),
        SmallAssetLogging = require("../smallAssetLogging"),
        inNode = require("../inNode"),
        FIVE_MINUTES_IN_MS = 3e5,
        THIRTY_MINUTES_IN_MS = 18e5,
        SUCCESS = "success",
        DynamicMessages = {
            config: {},
            pollingTypes: {},
            _isPolling: null,
            _dispose: new Rx.Subject,
            _requestErrorCount: 0,
            _applicationUpdate: !1,
            context: {
                applicationError: "APPLICATION_ERROR"
            },
            poll: function(e) {
                if (!DynamicMessages.config.enabled) return Rx.Observable.empty();
                if (DynamicMessages._isPolling) {
                    if (DynamicMessages._isPolling === e) return DynamicMessages._messages;
                    DynamicMessages.stop(), DynamicMessages._isPolling = e
                } else DynamicMessages._isPolling = e;
                switch (e) {
                    case DynamicMessages.pollingTypes.PLAYBACK:
                        return DynamicMessages._startPolling(e.interval);
                    case DynamicMessages.pollingTypes.PROFILESGATE:
                        return DynamicMessages._startPolling(e.interval);
                    default:
                        return Rx.Observable.empty()
                }
            },
            _startPolling: function(e) {
                function s() {
                    if (!SmallAssetLogging.stub) try {
                        SmallAssetLogging.logMetrics()
                    } catch (e) {}
                }
                return DynamicMessages._messages = Rx.Observable.interval(e).takeUntil(DynamicMessages._dispose).flatMap(DynamicMessages._createObservableXHR).onErrorResumeNext(Rx.Observable["return"](null)).filter(function(e) {
                    return e && e.status && e.status === SUCCESS
                }).doAction(DynamicMessages._sendResourceMessages).doAction(s), setTimeout(s, 3e3), DynamicMessages._messages
            },
            makeRequest: function(e, s) {
                return DynamicMessages._createObservableXHR(!0, e).onErrorResumeNext(Rx.Observable["return"](null)).filter(function(e) {
                    return e && e.status && e.status === SUCCESS
                }).doAction(DynamicMessages._sendResourceMessages).doAction(s || _.noop).subscribe(_.noop, _.noop, _.noop)
            },
            setApplicationRefreshState: function(e) {
                DynamicMessages._applicationUpdate = !0, DynamicMessages.getPollTypeName() === DynamicMessages.pollingTypes.PROFILESGATE.name && DynamicMessages._refreshIfWindowHidden(), window.document.removeEventListener("visibilitychange", DynamicMessages._refreshIfWindowHidden), window.document.addEventListener("visibilitychange", DynamicMessages._refreshIfWindowHidden), e && (window.removeEventListener("popstate", DynamicMessages._onPopState), window.addEventListener("popstate", DynamicMessages._onPopState))
            },
            shouldApplicationUpdate: function() {
                return DynamicMessages._applicationUpdate
            },
            _refreshIfWindowHidden: function() {
                DynamicMessages.getPollTypeName() !== DynamicMessages.pollingTypes.PLAYBACK.name && window.document.hidden && window.document.location.reload(!0)
            },
            _onPopState: function(e) {
                window.document.location.reload(!0)
            },
            _createObservableXHR: function(e, s) {
                return Rx.Observable.create(function(n) {
                    return XHR.request({
                        method: "get",
                        data: {
                            resources: DynamicMessages._getResourcesRequestData()
                        },
                        resource: "/dynamicMessages",
                        service: "api",
                        authorize: !0
                    }).subscribe(function(a) {
                        DynamicMessages._requestErrorCount > 0 && (DynamicMessages._requestErrorCount = 0), (e || null !== DynamicMessages._isPolling) && (s && (a._context = s), n.onNext(a))
                    }, DynamicMessages._requestErrorHandler, function() {
                        n.onCompleted()
                    }), _.noop
                })
            },
            _sendResourceMessages: function(e) {
                var s = e._context;
                _.forEach(DynamicMessages._isPolling.resources, function(n) {
                    var a = e[n.resourceName];
                    a && a.messages && a.messages.length && (_.forEach(a.messages, function(e) {
                        n.onMessage(e, s, DynamicMessages)
                    }), _.isFunction(n.onMessages) && n.onMessages(a.messages))
                })
            },
            _requestErrorHandler: function(e, s, n) {
                s && 404 === s.status && (DynamicMessages._requestErrorCount += 1), DynamicMessages._requestErrorCount >= DynamicMessages.config.requestErrorCap && DynamicMessages.setApplicationRefreshState(!0)
            },
            _getResourcesRequestData: function() {
                var e = {};
                return DynamicMessages._isPolling ? (_.forEach(DynamicMessages._isPolling.resources, function(s) {
                    e[s.resourceName] = s.getRequestData()
                }), JSON.stringify(e)) : JSON.stringify(e)
            },
            stop: function() {
                DynamicMessages._dispose && (DynamicMessages._dispose.onNext(), DynamicMessages._dispose = new Rx.Subject), DynamicMessages._isPolling = null
            },
            getPollTypeName: function() {
                var e = DynamicMessages.pollingTypes;
                switch (DynamicMessages._isPolling) {
                    case e.PLAYBACK:
                        return e.PLAYBACK.name;
                    case e.PROFILESGATE:
                        return e.PROFILESGATE.name;
                    default:
                        return ""
                }
            }
        };
    inNode || _initDynamicMessages(), module.exports = DynamicMessages;


});


Requireify.register('js/utils/profileManager.js', function(require, requireAsync, module, exports) {


    "use strict";

    function _switchProfile(e, t, i) {
        var o = e.getValueSync(["summary"]);
        XHR.request({
            resource: "/profiles/switch",
            method: "get",
            service: "api",
            protocol: "https",
            authorize: !0,
            data: {
                switchProfileGuid: o.guid
            },
            timeout: SWITCH_TIMEOUT
        }).subscribe(t, function(e, t) {
            e && 401 === t.status ? window.location = URLs.page.signOut : i()
        })
    }

    function _setProfileGateCookie() {
        document.cookie = "profilesNewSession=0; domain=.netflix.com; path=/;max-age=" + PROFILE_INACTIVITY_TIMEOUT_IN_SECONDS + ";"
    }

    function resetPINState() {
        try {
            var e = "NFPlaybackSession",
                t = window.netflix && window.netflix.clientNotifications && window.netflix.clientNotifications.getCurrentSession("userSession") || {},
                i = t.sessionId,
                o = "object" == typeof localStorage ? JSON.parse(localStorage.getItem(e)) : null;
            if (!o) return;
            var a = o[i] || {};
            a.data && a.data.pin && (delete a.data.pin, localStorage.setItem(e, JSON.stringify(o)))
        } catch (s) {}
    }
    var _ = require("lodash"),
        XHR = require("./XHR"),
        URLs = require("./urls"),
        ContextData = require("./contextData"),
        EventBus = require("../reactMixins/eventBus"),
        DynamicMessages = require("./dynamicMessages/dynamicMessages"),
        inNode = require("../utils/inNode"),
        NanoPlayerConsts = require("../nanoPlayer/nanoPlayerConstants"),
        SWITCH_TIMEOUT = 5e3,
        ONE_MINUTE_IN_MS = 6e4,
        ONE_MINUTE_IN_SECONDS = 60,
        IDLE_TIMER_IN_MINUTES = ContextData.getData("profilesGate", "idle_timer") || 30,
        PROFILE_INACTIVITY_TIMEOUT_IN_MS = IDLE_TIMER_IN_MINUTES * ONE_MINUTE_IN_MS,
        PROFILE_INACTIVITY_TIMEOUT_IN_SECONDS = IDLE_TIMER_IN_MINUTES * ONE_MINUTE_IN_SECONDS,
        EVENT_THROTTLE_MS = 3e4,
        MIN_PROFILES_TO_SHOW_GATE = 2,
        profileManager = {
            addedPlaybackHooks: !1,
            profileTimeout: null,
            profileIntervalPlayback: null,
            updateProfileGateAppState: null,
            redirectPageAfterSwitch: URLs.page.app,
            resetProfileGateCookieExpiry: function() {
                var e = this;
                clearTimeout(this.profileTimeout), _setProfileGateCookie(), this.profileTimeout = setTimeout(function() {
                    ContextData.getData("userInfo", "numProfiles") >= MIN_PROFILES_TO_SHOW_GATE && e.setActiveView(e.VIEWS.LIST), EventBus.emit(NanoPlayerConsts.PROFILE_INACTIVITY_EVENT, ContextData.getData("userInfo", "numProfiles") >= MIN_PROFILES_TO_SHOW_GATE)
                }, PROFILE_INACTIVITY_TIMEOUT_IN_MS)
            },
            enableProfileGateSessionTracking: function() {
                this.throttledResetProfileGateCookieExpiry || (this.throttledResetProfileGateCookieExpiry = _.throttle(this.resetProfileGateCookieExpiry.bind(this), EVENT_THROTTLE_MS)), clearTimeout(this.profileIntervalPlayback), window.addEventListener("keydown", this.throttledResetProfileGateCookieExpiry, !1), window.addEventListener("mousemove", this.throttledResetProfileGateCookieExpiry, !1)
            },
            pauseProfileGateSessionTracking: function() {
                clearTimeout(this.profileTimeout), window.removeEventListener("keydown", this.throttledResetProfileGateCookieExpiry, !1), window.removeEventListener("mousemove", this.throttledResetProfileGateCookieExpiry, !1), this.profileIntervalPlayback = setInterval(this.resetProfileGateCookieExpiry.bind(this), ONE_MINUTE_IN_MS)
            },
            switchProfile: function(e) {
                var t = this,
                    i = e.getValueSync(["summary"]) || null;
                i && !i.isActive ? (EventBus.emit("profile:switch"), this.updateProfileGateAppState({
                    activeView: this.VIEWS.LOAD_PROFILE,
                    newProfile: e
                }), _switchProfile(e, function() {
                    t.onProfileSwitchSuccess(e)
                }, function() {
                    t.onProfileSwitchFailure(e)
                })) : !DynamicMessages.stub && DynamicMessages.shouldApplicationUpdate() ? window.document.location.reload(!0) : (this.redirectPageAfterSwitch = URLs.page.app, this.closeGate())
            },
            onProfileSwitchSuccess: function(e) {
                var t = e.getValueSync(["summary"]);
                return resetPINState(), t.isFirstUse ? (location.href = URLs.page.merchweb.onRamp, !0) : t.isKids ? (location.href = URLs.page.merchweb.kidsHome, !0) : (document.location.href = this.redirectPageAfterSwitch, !0)
            },
            onProfileSwitchFailure: function(e) {
                this.updateProfileGateAppState({
                    activeView: this.VIEWS.LOAD_PROFILE_ERROR,
                    newProfile: e
                })
            },
            setActiveView: function(e) {
                this.updateProfileGateAppState({
                    activeView: e
                })
            },
            openProfileList: function() {
                this.setActiveView(this.VIEWS.LIST)
            },
            openEditList: function() {
                this.setActiveView(this.VIEWS.MANAGE_PROFILES)
            },
            openCreateProfile: function(e) {
                this.updateProfileGateAppState({
                    activeView: this.VIEWS.CREATE_PROFILE,
                    previousView: e
                })
            },
            openEditProfile: function(e) {
                this.updateProfileGateAppState({
                    activeView: this.VIEWS.UPDATE_PROFILE,
                    newProfile: e
                })
            },
            openDeleteProfile: function(e) {
                this.updateProfileGateAppState({
                    activeView: this.VIEWS.DELETE_PROFILE,
                    newProfile: e
                })
            },
            closeGate: function() {
                this.setActiveView(this.VIEWS.CLOSED)
            },
            isGateOpen: function(e) {
                return e && e.activeView !== this.VIEWS.CLOSED
            },
            isReloadingProfiles: function(e) {
                return e && e.activeView === this.VIEWS.RELOADING_PROFILES
            },
            getCurrentUIView: function(e) {
                var t = null;
                if (e) switch (e.activeView) {
                    case this.VIEWS.LIST:
                        t = "profilesGate";
                        break;
                    case this.VIEWS.CREATE_PROFILE:
                        t = "addProfile";
                        break;
                    case this.VIEWS.LOAD_PROFILE:
                    case this.VIEWS.LOAD_PROFILE_ERROR:
                        t = "profileLoading"
                }
                return t
            },
            init: function(e, t) {
                this.updateProfileGateAppState = e, inNode || (EventBus.on("playback:start", this.pauseProfileGateSessionTracking.bind(this)), EventBus.on("playback:end", this.enableProfileGateSessionTracking.bind(this)), this.enableProfileGateSessionTracking(), this.resetProfileGateCookieExpiry(), t && (this.redirectPageAfterSwitch = window.location.pathname + window.location.search))
            },
            VIEWS: {
                CLOSED: 0,
                LIST: 1,
                LOAD_PROFILE: 2,
                LOAD_PROFILE_ERROR: 3,
                CREATE_PROFILE: 4,
                CREATE_PROFILE_ERROR: 5,
                UPDATE_PROFILE: 6,
                UPDATE_PROFILE_ERROR: 7,
                DELETE_PROFILE: 8,
                DELETE_PROFILE_ERROR: 9,
                RELOADING_PROFILES: 10,
                MANAGE_PROFILES: 11,
                MANAGE_PROFILES_ERROR: 12
            }
        };
    module.exports = profileManager;


});


Requireify.register('js/akira/components/profile/profile.jsx', function(require, requireAsync, module, exports) {


    "use strict";
    var React = require("react"),
        classNames = require("classnames"),
        HeaderMenuCaret = require("../header/menuCaret.jsx"),
        LoadingSpinner = require("../loaders/loadingSpinner.jsx"),
        ProfileManager = require("../../../utils/profileManager"),
        KeyCodes = require("../../../common/keyCodes"),
        SVGIcon = require("../../../common/svgIcon.jsx"),
        Profile = React.createClass({
            displayName: "Profile",
            handleProfileClick: function(e) {
                e.preventDefault(), this.props.inEditMode ? ProfileManager.openEditProfile(this.props.model) : ProfileManager.switchProfile(this.props.model)
            },
            handleKeyDown: function(e) {
                switch (e && e.which) {
                    case KeyCodes.ENTER:
                        this.handleProfileClick(e)
                }
            },
            renderAvatar: function(e, r, a) {
                if (a && !this.props.useDiv) return React.createElement("img", {
                    className: r,
                    src: a,
                    alt: ""
                });
                if (a && this.props.useDiv) {
                    var t = {
                        backgroundImage: "url(" + a + ")"
                    };
                    return React.createElement("div", {
                        className: r,
                        style: t
                    }, " ")
                }
                return null
            },
            renderProfile: function(e, r, a) {
                return React.createElement("li", {
                    className: "profile-link"
                }, this.renderAvatar(e, r, a), e.profileName && !this.props.loading ? React.createElement("span", {
                    className: "profile-name",
                    dangerouslySetInnerHTML: {
                        __html: e.profileName
                    }
                }) : null, this.props.loading && !this.props.errorLoadingProfile ? React.createElement(LoadingSpinner, null) : null)
            },
            renderLinkedProfile: function(e, r, a) {
                return React.createElement("a", {
                    className: "profile-link",
                    role: "link",
                    onClick: this.handleProfileClick,
                    onKeyDown: this.handleKeyDown,
                    tabIndex: 0
                }, this.props.useHeaderCaret ? React.createElement("div", {
                    className: "avatar-wrapper"
                }, this.renderAvatar(e, r, a), React.createElement(HeaderMenuCaret, null)) : this.renderAvatar(e, r, a), this.props.inEditMode ? React.createElement("div", {
                    className: "svg-edit-overlay"
                }, React.createElement(SVGIcon, {
                    name: "edit"
                })) : null, React.createElement("span", {
                    className: "profile-name",
                    dangerouslySetInnerHTML: {
                        __html: e.profileName
                    }
                }))
            },
            renderHeaderProfile: function(e, r, a) {
                return React.createElement("span", {
                    className: "profile-link",
                    role: "presentation"
                }, this.props.useHeaderCaret ? React.createElement("div", {
                    className: "avatar-wrapper"
                }, this.renderAvatar(e, r, a), React.createElement(HeaderMenuCaret, null)) : this.renderAvatar(e, r, a), React.createElement("span", {
                    className: "profile-name",
                    dangerouslySetInnerHTML: {
                        __html: e.profileName
                    }
                }))
            },
            render: function() {
                var e = this.props.model,
                    r = e.getValueSync(["summary"]),
                    a = e.getValueSync(["avatar", "images", "byWidth", this.props.avatarWidth]),
                    t = classNames({
                        activeProfile: e.isActive,
                        "profile-icon": !0,
                        errorLoading: this.props.errorLoadingProfile,
                        "profile-edit-mode": this.props.inEditMode
                    });
                return this.props.useHeaderProfile ? this.renderHeaderProfile(r, t, a) : this.props.isClickable ? this.renderLinkedProfile(r, t, a) : this.renderProfile(r, t, a)
            }
        });
    module.exports = Profile;


});


Requireify.register('js/akira/components/profile/profilesDropDown.jsx', function(require, requireAsync, module, exports) {


    "use strict";
    var React = require("react"),
        Profile = require("./profile.jsx"),
        AutoFetch = require("../../../reactMixins/falkor-auto-fetch"),
        nfProps = require("nf-iso-properties"),
        URLs = require("../../../utils/urls"),
        I18N = require("../../../reactMixins/i18nWithDeps"),
        AVATAR_WIDTH = 32,
        MAX_PROFILE_COUNT = 5,
        ProfilesDropDown = React.createClass({
            displayName: "ProfilesDropDown",
            mixins: [AutoFetch, I18N],
            statics: {
                getPaths: function(e, r, i) {
                    return [
                        ["profilesList", "summary"],
                        ["profilesList", {
                                to: MAX_PROFILE_COUNT
                            },
                            ["summary", "precacheConfig"]
                        ],
                        ["profilesList", {
                            to: MAX_PROFILE_COUNT
                        }, "avatar", "images", "byWidth", AVATAR_WIDTH]
                    ]
                },
                __meta__: {
                    strings: [{
                        bundle: "discovery/akira/Chrome",
                        ids: ["manage.profiles", "profiles.list.profiles.label"]
                    }]
                }
            },
            renderProfiles: function() {
                var e, r = this.props.model.bind(["profilesList"]),
                    i = r.getValueSync(["summary"]),
                    s = [];
                for (e = 0; e < Math.min(i.length, MAX_PROFILE_COUNT); e++) {
                    var t = r.bind([e]);
                    if (t) {
                        var a = t.getValueSync(["summary"]);
                        a.isActive || s.push(React.createElement("li", {
                            className: "sub-menu-item profile",
                            key: "profile" + e,
                            role: "listitem"
                        }, React.createElement(Profile, {
                            isClickable: !0,
                            avatarWidth: AVATAR_WIDTH,
                            model: t
                        })))
                    }
                }
                return s
            },
            render: function() {
                var e = this.renderProfiles(),
                    r = nfProps.get("netflix.ui.akira.manageProfile.enabled") || !1,
                    i = URLs.paths.manageProfiles;
                return React.createElement("ul", {
                    className: "sub-menu-list profiles",
                    role: "list",
                    "aria-label": this.getString("discovery/akira/Chrome", "profiles.list.profiles.label")
                }, e, React.createElement("li", {
                    className: "sub-menu-item profile-link",
                    role: "listitem"
                }, React.createElement("a", {
                    className: "sub-menu-link",
                    href: r ? i : "/EditProfiles"
                }, this.getString("discovery/akira/Chrome", "manage.profiles"))))
            }
        });
    module.exports = ProfilesDropDown;


});


Requireify.register('js/akira/components/profile/accountDropDownMenu.jsx', function(require, requireAsync, module, exports) {


    "use strict";
    var React = require("react"),
        Transition = require("../../../reactMixins/transition"),
        AccountDropDownMenu = React.createClass({
            displayName: "AccountDropDownMenu",
            mixins: [Transition],
            transitions: {
                fadeInHover: 150,
                fadeOut: 250
            },
            render: function() {
                return React.createElement("div", {
                    className: "account-drop-down sub-menu"
                }, React.createElement("div", {
                    className: "topbar"
                }), this.props.children)
            }
        });
    module.exports = AccountDropDownMenu;


});


Requireify.register('js/akira/components/profile/accountDropDown.jsx', function(require, requireAsync, module, exports) {


    "use strict";
    var React = require("react"),
        classNames = require("classnames"),
        ProfilesDropDown = require("../profile/profilesDropDown.jsx"),
        SubMenuFunctions = require("../controls/subMenuFunctions"),
        Profile = require("./profile.jsx"),
        DVDLink = require("../search/dvdLink.jsx"),
        I18N = require("../../../reactMixins/i18nWithDeps"),
        URLs = require("../../../utils/urls"),
        AccountDropDownMenu = require("./accountDropDownMenu.jsx"),
        AVATAR_WIDTH = 32,
        BUNDLE = "discovery/akira/Chrome",
        AccountDropDown = React.createClass({
            displayName: "AccountDropDown",
            mixins: [I18N, SubMenuFunctions],
            statics: {
                __meta__: {
                    strings: [{
                        bundle: BUNDLE,
                        ids: ["account.your.account", "account.help.center", "account.sign.out", "header.kids", "header.profile.altText", "profiles.list.account.label"]
                    }]
                },
                getPaths: function() {
                    return ProfilesDropDown.getPaths().concat([
                        ["profilesList", "current", "summary"],
                        ["profilesList", "current", "avatar", "images", "byWidth", AVATAR_WIDTH]
                    ])
                }
            },
            getSubMenuItems: function() {
                var e = this.props.model,
                    t = this.getStrings(BUNDLE),
                    n = [React.createElement(ProfilesDropDown, {
                        key: "profiles",
                        model: e,
                        pqls: ProfilesDropDown.getPaths()
                    })];
                return n.push(React.createElement("ul", {
                    className: "sub-menu-list responsive-links",
                    key: "browse-account-menu",
                    role: "list"
                }, this.props.showKidsLink ? React.createElement("li", {
                    className: "sub-menu-item kids-responsive-link",
                    role: "listitem"
                }, React.createElement("a", {
                    tabIndex: 0,
                    onClick: this.props.onKidsLinkClicked
                }, t.get("header.kids"))) : null, this.props.showDVDLink ? React.createElement("li", {
                    className: "sub-menu-item dvd-link",
                    role: "listitem"
                }, React.createElement(DVDLink, null)) : null)), n.push(React.createElement("ul", {
                    key: "account",
                    className: "account-links sub-menu-list",
                    role: "list",
                    "aria-label": t.get("profiles.list.account.label")
                }, React.createElement("li", {
                    className: "sub-menu-item",
                    role: "listitem"
                }, React.createElement("a", {
                    className: "sub-menu-link",
                    href: URLs.page.yourAccount
                }, t.get("account.your.account"))), React.createElement("li", {
                    className: "sub-menu-item",
                    role: "listitem"
                }, React.createElement("a", {
                    className: "sub-menu-link",
                    href: URLs.getExternalUrl("help")
                }, t.get("account.help.center"))), React.createElement("li", {
                    className: "sub-menu-item",
                    role: "listitem"
                }, React.createElement("a", {
                    className: "sub-menu-link",
                    href: URLs.page.signOut
                }, t.get("account.sign.out"))))), n
            },
            placeHolder: function() {
                return null
            },
            componentDidMount: function() {
                this.addEventListeners(React.findDOMNode(this.refs.menu), React.findDOMNode(this.refs.menuContainer))
            },
            componentWillUnmount: function() {
                this.removeEventListeners(React.findDOMNode(this.refs.menu), React.findDOMNode(this.refs.menuContainer))
            },
            render: function() {
                var e, t = this.props.model,
                    n = t.bind(["profilesList"]),
                    s = n.bind(["current"]),
                    a = classNames({
                        "account-menu-item": !0,
                        active: this.state.subMenuOpen
                    });
                return s ? (e = s.getValueSync(["summary"]), e ? React.createElement("div", {
                    ref: "menuContainer",
                    className: a
                }, React.createElement("div", {
                    ref: "menu",
                    className: "account-dropdown-button",
                    role: "button",
                    tabIndex: 0,
                    "aria-haspopup": !0,
                    "aria-label": this.getString(BUNDLE, "header.profile.altText", {
                        profileName: e.profileName
                    })
                }, React.createElement(Profile, {
                    useHeaderProfile: !0,
                    avatarWidth: AVATAR_WIDTH,
                    model: s,
                    useHeaderCaret: this.state.subMenuOpen
                }), React.createElement("span", {
                    className: "caret",
                    role: "presentation"
                })), this.state.subMenuOpen ? React.createElement(AccountDropDownMenu, {
                    onSelect: this.closeSubMenu
                }, this.getSubMenuItems()) : null) : null) : this.placeHolder()
            }
        });
    module.exports = AccountDropDown;


});


Requireify.register('js/akira/components/header/simpleNotification.jsx', function(require, requireAsync, module, exports) {


    "use strict";
    var React = require("react"),
        IsomorphicContext = require("../../../reactMixins/isomorphicContextWithDeps"),
        iconTypes = {
            success: "icon-success-inv",
            warning: "icon-warn-inv",
            error: "icon-warn-inv",
            info: "icon-info-inv"
        };
    module.exports = React.createClass({
        displayName: "exports",
        mixins: [IsomorphicContext],
        render: function() {
            var e = "simple-notification " + this.props.type + (this.props.animated ? " animated" : "");
            return React.createElement("div", {
                className: e
            }, React.createElement("p", {
                title: this.props.title
            }, React.createElement("span", {
                className: iconTypes[this.props.type]
            }), React.createElement("span", {
                className: "simple-notification-message"
            }, this.props.message)))
        }
    });


});


Requireify.register('js/akira/components/header/networkNotification.jsx', function(require, requireAsync, module, exports) {


    "use strict";
    var React = require("react"),
        I18N = require("../../../reactMixins/i18n"),
        SimpleNotification = require("./simpleNotification.jsx"),
        IsomorphicContext = require("../../../reactMixins/isomorphicContextWithDeps"),
        BUNDLE = "discovery/akira/Chrome";
    module.exports = React.createClass({
        displayName: "exports",
        mixins: [I18N, IsomorphicContext],
        statics: {
            __meta__: {
                strings: [{
                    bundle: BUNDLE,
                    ids: ["network.down.message", "network.down.tooltip"]
                }]
            }
        },
        render: function() {
            return React.createElement(SimpleNotification, {
                type: "warning",
                animated: !0,
                title: this.getString(BUNDLE, "network.down.tooltip"),
                message: this.getString(BUNDLE, "network.down.message")
            })
        }
    });


});


Requireify.register('js/akira/components/header/myListNotification.jsx', function(require, requireAsync, module, exports) {


    "use strict";
    var React = require("react"),
        SimpleNotification = require("./simpleNotification.jsx"),
        I18N = require("../../../reactMixins/i18n"),
        IsomorphicContext = require("../../../reactMixins/isomorphicContextWithDeps"),
        BUNDLE = "discovery/akira/Chrome";
    module.exports = React.createClass({
        displayName: "exports",
        mixins: [I18N, IsomorphicContext],
        statics: {
            __meta__: {
                strings: [{
                    bundle: BUNDLE,
                    ids: ["system.notification.queue.add.success", "system.notification.queue.add.error", "system.notification.queue.add.inqueue", "system.notification.queue.general.error"]
                }]
            }
        },
        getDetails: function() {
            var e = this.props.model.status,
                t = this.props.model.reason || "",
                i = this.props.model.title || "";
            return "success" === e ? {
                type: "success",
                message: this.getString(BUNDLE, "system.notification.queue.add.success", {
                    TITLE: i
                })
            } : "AlreadyInQueue" === t ? {
                type: "info",
                message: this.getString(BUNDLE, "system.notification.queue.add.inqueue", {
                    TITLE: i
                })
            } : "FailedToMove" === t || "FailedToRemove" === t ? {
                type: "warning",
                message: this.getString(BUNDLE, "system.notification.queue.general.error")
            } : {
                type: "warning",
                message: this.getString(BUNDLE, "system.notification.queue.add.error")
            }
        },
        render: function() {
            var e = this.getDetails();
            return React.createElement(SimpleNotification, {
                type: e.type,
                message: e.message,
                animated: !0
            })
        }
    });


});


Requireify.register('js/akira/components/header/systemNotifications.jsx', function(require, requireAsync, module, exports) {


    "use strict";
    var React = require("react"),
        NetworkNotification = require("./networkNotification.jsx"),
        MyListNotification = require("./myListNotification.jsx"),
        EventBus = require("../../../reactMixins/eventBus"),
        IsomorphicContext = require("../../../reactMixins/isomorphicContextWithDeps"),
        SHOW_NETWORK_DOWN_DELAY = 1e3,
        SHOW_NETWORK_UP_DELAY = 1,
        MYLIST_NOTIFICATION_DURATION = 3e3;
    module.exports = React.createClass({
        displayName: "exports",
        mixins: [IsomorphicContext],
        getInitialState: function() {
            return {
                activeNetwork: !0,
                myListNotification: {}
            }
        },
        handleNetworkStatusChange: function() {
            var t = this;
            setTimeout(function() {
                t.setState({
                    activeNetwork: navigator.onLine
                })
            }, navigator.onLine ? SHOW_NETWORK_UP_DELAY : SHOW_NETWORK_DOWN_DELAY)
        },
        setMyListNotificationTimeout: function() {
            var t = this;
            setTimeout(function() {
                t.setState({
                    myListNotification: {}
                })
            }, MYLIST_NOTIFICATION_DURATION)
        },
        handleMyListChange: function(t) {
            t.myListNotification && (this.setState({
                myListNotification: t.myListNotification
            }), this.setMyListNotificationTimeout())
        },
        componentDidMount: function() {
            navigator && navigator.onLine && (window.addEventListener("online", this.handleNetworkStatusChange), window.addEventListener("offline", this.handleNetworkStatusChange)), EventBus.on("myList:add:end", this.handleMyListChange), EventBus.on("myList:move:end", this.handleMyListChange), EventBus.on("myList:remove:end", this.handleMyListChange)
        },
        componentWillUnmount: function() {
            window.removeEventListener("online", this.handleNetworkStatusChange), window.removeEventListener("offline", this.handleNetworkStatusChange), EventBus.removeListener("myList:add:end", this.handleMyListChange), EventBus.removeListener("myList:move:end", this.handleMyListChange), EventBus.removeListener("myList:remove:end", this.handleMyListChange)
        },
        render: function() {
            return this.state.activeNetwork ? this.state.myListNotification.status ? React.createElement(MyListNotification, {
                model: this.state.myListNotification
            }) : null : React.createElement(NetworkNotification, null)
        }
    });


});


Requireify.register('js/features/userFeatures.js', function(require, requireAsync, module, exports) {


    "use strict";
    var ContextData = require("../utils/contextData"),
        UserFeatures = {
            linkToSubtitle: function() {
                var e, t, r = !1,
                    a = ContextData.getFeatureData("userContext");
                return a && (e = a.geo, t = e && e.preferredLocale, t && (r = "US" === t.country)), r
            }
        };
    module.exports = UserFeatures;


});


Requireify.register('js/utils/ab/newNotificationTest.js', function(require, requireAsync, module, exports) {


    "use strict";
    var AB = require("./ab"),
        nfProps = require("nf-iso-properties"),
        TEST_ID = 6692,
        newNotificationTestHelpers = {
            showNewNotifications: function(e, i) {
                var o = AB.resolveABValue(e, TEST_ID, "newNotifications", i),
                    r = nfProps.get("web.ui.akira.notifications.force.new");
                return r || o
            }
        };
    module.exports = newNotificationTestHelpers;


});


Requireify.register('js/akira/components/notificationsV1/pill.jsx', function(require, requireAsync, module, exports) {


    "use strict";
    var React = require("react"),
        Pill = React.createClass({
            displayName: "Pill",
            getDefaultProps: function() {
                return {
                    max: 9
                }
            },
            makeContents: function() {
                return this.props.number > this.props.max ? this.props.overflow || this.props.max + "+" : this.props.number
            },
            render: function() {
                return React.createElement("span", {
                    className: "notification-pill"
                }, this.makeContents())
            }
        });
    module.exports = Pill;


});


Requireify.register('js/akira/components/notificationsV1/notification-playable.jsx', function(require, requireAsync, module, exports) {


    "use strict";
    var React = require("react"),
        classNames = require("classnames"),
        PlayLink = require("../controls/playLink.jsx"),
        Link = require("../controls/mainViewLink.jsx"),
        Notification = React.createClass({
            displayName: "Notification",
            getDefaultProps: function() {
                return {
                    rowNum: -2,
                    rankNum: -2,
                    trackId: 2
                }
            },
            childContextTypes: {
                rowNum: React.PropTypes.number,
                rankNum: React.PropTypes.number,
                trackId: React.PropTypes.number
            },
            getChildContext: function() {
                return {
                    rowNum: this.props.rowNum,
                    rankNum: this.props.rankNum,
                    trackId: this.props.trackId
                }
            },
            render: function() {
                var e = classNames({
                    notification: !0,
                    "image-notification": !0,
                    "is-new": this.props.isNew
                });
                return React.createElement("div", {
                    className: e
                }, React.createElement(PlayLink, {
                    videoId: this.props.videoId,
                    row: -1,
                    className: "image-notification-image playLink"
                }, React.createElement("img", {
                    className: "title-card",
                    src: this.props.imageSrc,
                    alt: "temp image"
                }), React.createElement("div", {
                    className: "play-action"
                }, React.createElement("div", {
                    className: "playable-icon"
                }, React.createElement("div", {
                    className: "playRing"
                }, React.createElement("div", {
                    className: "play icon-play"
                }))))), React.createElement(Link, {
                    type: "title",
                    id: this.props.videoId,
                    className: "image-notification-text"
                }, React.createElement("h3", {
                    className: "notification-headline"
                }, this.props.headline), React.createElement("h4", {
                    className: "notification-subheadline"
                }, this.props.subheadline), React.createElement("p", {
                    className: "notification-age"
                }, this.props.ageString)))
            }
        });
    module.exports = Notification;


});


Requireify.register('js/akira/components/notificationsV1/notification-empty.jsx', function(require, requireAsync, module, exports) {


    "use strict";
    var React = require("react"),
        classNames = require("classnames"),
        EmptyNotification = React.createClass({
            displayName: "EmptyNotification",
            render: function() {
                var e = classNames({
                    notification: !0,
                    "empty-notification": !0
                });
                return React.createElement("div", {
                    className: e
                }, React.createElement("div", null, this.props.message))
            }
        });
    module.exports = EmptyNotification;


});


Requireify.register('js/akira/components/notificationsV1/notifications.jsx', function(require, requireAsync, module, exports) {


    "use strict";
    var React = require("react"),
        _ = require("lodash"),
        I18N = require("../../../reactMixins/i18nWithDeps"),
        FalkorFetch = require("../../../reactMixins/falkor-fetch"),
        SubMenuFunctions = require("../controls/subMenuFunctions"),
        ScrollLock = require("../../../reactMixins/scrollLock"),
        Pill = require("./pill.jsx"),
        HeaderMenuCaret = require("../header/menuCaret.jsx"),
        SubMenu = require("../controls/subMenu.jsx"),
        PlayableNotification = require("./notification-playable.jsx"),
        EmptyNotification = require("./notification-empty.jsx"),
        BUNDLE = "discovery/akira/Notifications",
        READ_TIME_MS = 3e3,
        NotificationsV1 = React.createClass({
            displayName: "NotificationsV1",
            mixins: [I18N, SubMenuFunctions, ScrollLock, FalkorFetch],
            statics: {
                getPaths: function() {
                    return [
                        ["notificationsV1", ["fullList", "unreadCount", "latestTimestamp"]]
                    ]
                },
                __meta__: {
                    strings: [{
                        bundle: BUNDLE,
                        all: !0
                    }]
                }
            },
            getInitialState: function() {
                return {
                    readTimer: null,
                    notificationsRead: !1
                }
            },
            _formatTimeDiff: function(e, t) {
                if (!_.isNumber(e) || !_.isNumber(t)) return "";
                var i = Math.floor((t - e) / 864e5);
                return 0 > i ? "" : 1 > i ? this.getString(BUNDLE, "notifications.timestamp.today") : 1 === i ? this.getString(BUNDLE, "notifications.timestamp.dayAgo", {
                    num: 1
                }) : 7 > i ? this.getString(BUNDLE, "notifications.timestamp.daysAgo", {
                    num: i
                }) : 14 > i ? this.getString(BUNDLE, "notifications.timestamp.weekAgo", {
                    num: 1
                }) : 29 > i ? this.getString(BUNDLE, "notifications.timestamp.weeksAgo", {
                    num: Math.floor(i / 7)
                }) : 57 > i ? this.getString(BUNDLE, "notifications.timestamp.monthAgo", {
                    num: 1
                }) : this.getString(BUNDLE, "notifications.timestamp.monthsAgo", {
                    num: Math.floor(i / 28)
                })
            },
            _notificationBuilders: {
                empty: function() {
                    return React.createElement(EmptyNotification, {
                        message: this.getString(BUNDLE, "notifications.defaults.noRecentNotifications")
                    })
                },
                NewSeasonAlert: function(e) {
                    var t = e.message,
                        i = e.trkIds,
                        n = {
                            headline: this.getString(BUNDLE, "notifications.newseason.header"),
                            subheadline: this.getString(BUNDLE, ["notifications.newseason", t.video.isMulti ? "multiple" : "single", t.video.showType.toLowerCase()].join("."), {
                                seasonNumber: t.video.newSeasonNumber,
                                seasonCount: t.video.seasonCount
                            }),
                            age: this._formatTimeDiff(t.created, (new Date).getTime())
                        };
                    return React.createElement(PlayableNotification, {
                        isNew: !t.isRead,
                        headline: n.headline,
                        subheadline: n.subheadline,
                        ageString: n.age,
                        imageSrc: t.video.boxArt,
                        trackId: i.playerTrkId,
                        videoId: t.video.videoId
                    })
                }
            },
            _generateNotificationList: function(e) {
                var t = this,
                    i = [];
                return _.forEach(e, function(e, n) {
                    e.message && e.message.msgType && t._notificationBuilders.hasOwnProperty(e.message.msgType) && "function" == typeof t._notificationBuilders[e.message.msgType] && i.push(React.createElement("li", {
                        className: "notifications-element",
                        key: "notification-" + n,
                        onClick: t._closeSubMenu
                    }, t._notificationBuilders[e.message.msgType].call(t, e)))
                }), 0 === i.length && i.push(React.createElement("li", {
                    className: "notifications-element",
                    key: "notification-empty",
                    onClick: t._closeSubMenu
                }, t._notificationBuilders.empty.call(t))), [React.createElement("ul", {
                    ref: "notifications-scroller",
                    className: "notifications-container"
                }, i)]
            },
            _markNotificationsAsRead: function() {
                this.setState({
                    readTimer: null
                });
                var e = this,
                    t = this.props.model.pathEvaluator.bind(["notificationsV1"]);
                t.getValueSync(["unreadCount"]) && this.props.model.pathEvaluator.call(["notificationsV1", "markRead"], [t.getValueSync(["latestTimestamp"])], [], []).subscribe(function(t) {
                    e.forceUpdate()
                }, function(t) {
                    e.forceUpdate()
                })
            },
            _closeSubMenu: function() {
                this.prepareToCloseSubMenu(), this.state.notificationsRead && this._markNotificationsAsRead()
            },
            componentDidUpdate: function(e, t) {
                var i = this;
                this.state.subMenuOpen === !0 && t.subMenuOpen === !1 ? i.state.readTimer || i.setState({
                    readTimer: window.setTimeout(function() {
                        i.setState({
                            notificationsRead: !0
                        }), i.forceUpdate()
                    }, READ_TIME_MS)
                }) : this.state.subMenuOpen === !1 && t.subMenuOpen === !0 && (i.state.readTimer && (window.clearTimeout(i.state.readTimer), i.setState({
                    readTimer: null
                })), i.scrollUnlock())
            },
            render: function() {
                var e = this,
                    t = e.props.model.pathEvaluator.bind(["notificationsV1"]),
                    i = t.getValueSync(["fullList"]),
                    n = t.getValueSync(["unreadCount"]);
                return React.createElement("span", {
                    className: "notificationsV1",
                    onMouseEnter: e.prepareToOpenSubMenu,
                    onMouseLeave: e._closeSubMenu
                }, React.createElement("button", {
                    className: "notifications-menu"
                }, React.createElement("span", {
                    className: "icon-button-notification"
                }), n > 0 ? React.createElement(Pill, {
                    number: n
                }) : null, e.state.subMenuOpen ? React.createElement(HeaderMenuCaret, null) : null), e.state.subMenuOpen ? React.createElement(SubMenu, {
                    cols: 1,
                    onMouseEnter: function() {
                        e.scrollLock("notifications-scroller")
                    },
                    onMouseLeave: function() {
                        e.scrollUnlock()
                    },
                    showCalloutArrow: !1,
                    items: e._generateNotificationList(i)
                }) : null)
            }
        });
    module.exports = NotificationsV1;


});


Requireify.register('js/akira/components/notifications/pill.jsx', function(require, requireAsync, module, exports) {


    "use strict";
    var React = require("react"),
        Pill = React.createClass({
            displayName: "Pill",
            getDefaultProps: function() {
                return {
                    max: 9
                }
            },
            makeContents: function() {
                return this.props.number > this.props.max ? this.props.overflow || this.props.max + "+" : this.props.number
            },
            render: function() {
                return React.createElement("span", {
                    className: "notification-pill",
                    "aria-label": this.props.altText
                }, this.makeContents())
            }
        });
    module.exports = Pill;


});


Requireify.register('js/akira/components/notifications/notification-link-wrapper.jsx', function(require, requireAsync, module, exports) {


    "use strict";
    var React = require("react"),
        classNames = require("classnames"),
        PlayLink = require("../controls/playLink.jsx"),
        Link = require("../controls/mainViewLink.jsx"),
        URLs = require("../../../utils/urls"),
        EventBus = require("../../../reactMixins/eventBus"),
        URIGen = {
            DISPLAY: function(e, i) {
                var s = function() {
                    _emitLinkClickedEvent(e.position, e.trackId, e.msgguid, e.id)
                };
                return e.id ? React.createElement(Link, {
                    onClick: s,
                    className: e.className,
                    type: "title",
                    id: e.id
                }, i) : this._NOT_A_LINK(e, i)
            },
            PLAYBACK: function(e, i) {
                var s = classNames(e.className, "playLink");
                return e.id ? React.createElement(PlayLink, {
                    videoId: e.id,
                    row: e.row || -1,
                    className: s
                }, i) : this._NOT_A_LINK(e, i)
            },
            YOURACCOUNT: function(e, i) {
                return React.createElement(Link, {
                    href: URLs.page.yourAccount,
                    className: e.className
                }, i)
            },
            _NOT_A_LINK: function(e, i) {
                return React.createElement("span", {
                    className: e.className
                }, i)
            }
        },
        _emitLinkClickedEvent = function(e, i, s, t) {
            EventBus.emit("notifications:clicked", {
                position: e,
                trackId: i,
                messageGuid: s,
                titleId: t
            })
        },
        NotificationLink = React.createClass({
            displayName: "NotificationLink",
            render: function() {
                var e = this,
                    i = classNames(e.props.className, "notification-link"),
                    s = {
                        id: e.props.videoId,
                        className: i,
                        position: this.props.position,
                        trackId: this.props.trackId,
                        msgguid: this.props.msgguid
                    };
                return this.props.linkTarget && URIGen.hasOwnProperty(this.props.linkTarget) ? URIGen[this.props.linkTarget](s, this.props.children) : URIGen._NOT_A_LINK({}, this.props.children)
            }
        });
    module.exports = NotificationLink;


});


Requireify.register('js/akira/components/notifications/relative-time.jsx', function(require, requireAsync, module, exports) {


    "use strict";
    var React = require("react"),
        _ = require("lodash"),
        I18N = require("../../../reactMixins/i18nWithDeps"),
        BUNDLE = "discovery/akira/Notifications",
        RelativeTime = React.createClass({
            displayName: "RelativeTime",
            mixins: [I18N],
            statics: {
                __meta__: {
                    strings: [{
                        bundle: BUNDLE,
                        all: !0
                    }]
                }
            },
            _formatTimeDiff: function(i, t) {
                if (!_.isNumber(i) || !_.isNumber(t)) return "";
                var e = Math.floor((t - i) / 864e5);
                return 0 > e ? "" : 1 > e ? this.getString(BUNDLE, "notifications.timestamp.today") : 1 === e ? this.getString(BUNDLE, "notifications.timestamp.dayAgo", {
                    num: 1
                }) : 7 > e ? this.getString(BUNDLE, "notifications.timestamp.daysAgo", {
                    num: e
                }) : 14 > e ? this.getString(BUNDLE, "notifications.timestamp.weekAgo", {
                    num: 1
                }) : 29 > e ? this.getString(BUNDLE, "notifications.timestamp.weeksAgo", {
                    num: Math.floor(e / 7)
                }) : 57 > e ? this.getString(BUNDLE, "notifications.timestamp.monthAgo", {
                    num: 1
                }) : this.getString(BUNDLE, "notifications.timestamp.monthsAgo", {
                    num: Math.floor(e / 28)
                })
            },
            render: function() {
                if (!this.props.originTime) return null;
                var i = _.isDate(this.props.originTime) ? this.props.originTime.getTime() : this.props.originTime,
                    t = !this.props.now || _.isDate(this.props.now) ? (new Date).getTime() : this.props.now;
                return React.createElement("span", {
                    className: "relative-time"
                }, this._formatTimeDiff(i, t))
            }
        });
    module.exports = RelativeTime;


});


Requireify.register('js/akira/components/notifications/notification-element-builders.jsx', function(require, requireAsync, module, exports) {


    "use strict";
    var _ = require("lodash"),
        srcsetBuilder = require("../../../utils/images").srcsetBuilder,
        NotificationLink = require("./notification-link-wrapper.jsx"),
        RelativeTime = require("./relative-time.jsx"),
        IMAGE_BASE_SIZE = 112,
        buildPlayIcon = function() {
            return React.createElement("div", {
                className: "play-action"
            }, React.createElement("div", {
                className: "playable-icon"
            }, React.createElement("div", {
                className: "playRing"
            }, React.createElement("div", {
                className: "play icon-play"
            }))))
        },
        elementBuilders = {
            image: function e(t, a) {
                a = a || {};
                var i = a.sizes || IMAGE_BASE_SIZE + "px",
                    e = _.get(t, "message.templateJSON.elements.image", {}),
                    s = _.get(t, "message.messageGuid", -1),
                    l = _.get(t, "trkIds.baseTrkId", -1),
                    r = srcsetBuilder(e.urls || {}, a.size || IMAGE_BASE_SIZE),
                    c = _.get(e, "target.type"),
                    n = a.position || -1;
                return r.src ? React.createElement(NotificationLink, {
                    className: "element image",
                    msgguid: s,
                    position: n,
                    trackId: l,
                    linkTarget: c,
                    videoId: _.get(t, "message.templateJSON.videoId")
                }, "PLAYBACK" === c ? buildPlayIcon() : null, React.createElement("img", {
                    className: "title-card",
                    src: r.src,
                    srcSet: r.srcset,
                    alt: e.altText,
                    sizes: i
                })) : null
            },
            buttons: function(e, t) {
                return null
            },
            text: function(e, t) {
                t = t || {};
                var a = _.get(e, "message.templateJSON.elements.text", {}),
                    i = _.get(e, "message.created"),
                    s = _.get(e, "message.messageGuid", ""),
                    l = _.get(e, "trkIds.baseTrkId", -1),
                    r = t.position || 0;
                return React.createElement(NotificationLink, {
                    className: "element text",
                    msgguid: s,
                    position: r,
                    trackId: l,
                    linkTarget: _.get(a, "target.type"),
                    videoId: _.get(e, "message.templateJSON.videoId")
                }, a.header ? React.createElement("div", {
                    className: "header"
                }, a.header) : null, a.body ? React.createElement("div", {
                    className: "body"
                }, a.body) : null, a.showTimestamp && i ? React.createElement("div", {
                    className: "age"
                }, React.createElement(RelativeTime, {
                    originTime: i
                })) : null)
            }
        };
    module.exports = elementBuilders;


});


Requireify.register('js/akira/components/notifications/notification-image-text.jsx', function(require, requireAsync, module, exports) {


    "use strict";
    var React = require("react"),
        _ = require("lodash"),
        notificationElementBuilders = require("./notification-element-builders.jsx"),
        NotificationImageText = React.createClass({
            displayName: "NotificationImageText",
            childContextTypes: {
                rowNum: React.PropTypes.number,
                rankNum: React.PropTypes.number,
                trackId: React.PropTypes.number
            },
            getChildContext: function() {
                return {
                    rowNum: -1,
                    rankNum: -1,
                    trackId: _.get(this.props.notification, "trkIds.baseTrkId", -1)
                }
            },
            render: function() {
                var t = {
                    position: this.props.position
                };
                return React.createElement("div", {
                    className: "image-text-notification"
                }, notificationElementBuilders.image(this.props.notification, t), notificationElementBuilders.text(this.props.notification, t), notificationElementBuilders.buttons(this.props.notification, t))
            }
        });
    module.exports = NotificationImageText;


});


Requireify.register('js/akira/components/notifications/notification-empty.jsx', function(require, requireAsync, module, exports) {


    "use strict";
    var React = require("react"),
        classNames = require("classnames"),
        EmptyNotification = React.createClass({
            displayName: "EmptyNotification",
            render: function() {
                var e = classNames({
                    "empty-notification": !0
                });
                return React.createElement("div", {
                    className: e
                }, React.createElement("div", null, this.props.message))
            }
        });
    module.exports = EmptyNotification;


});


Requireify.register('js/akira/components/notifications/notifications.jsx', function(require, requireAsync, module, exports) {


    "use strict";
    var React = require("react"),
        _ = require("lodash"),
        classNames = require("classnames"),
        I18N = require("../../../reactMixins/i18nWithDeps"),
        FalkorFetch = require("../../../reactMixins/falkor-fetch"),
        SubMenuFunctions = require("../controls/subMenuFunctions"),
        ScrollLock = require("../../../reactMixins/scrollLock"),
        EventBus = require("../../../reactMixins/eventBus"),
        Pill = require("./pill.jsx"),
        HeaderMenuCaret = require("../header/menuCaret.jsx"),
        SubMenu = require("../controls/subMenu.jsx"),
        NotificationImageText = require("./notification-image-text.jsx"),
        NotificationEmpty = require("./notification-empty.jsx"),
        BUNDLE = "discovery/akira/Notifications",
        READ_TIME_MS = 3e3,
        Notifications = React.createClass({
            displayName: "Notifications",
            mixins: [I18N, SubMenuFunctions, ScrollLock, FalkorFetch],
            statics: {
                getPaths: function() {
                    return [
                        ["notifications", ["fullList", "unreadCount", "latestTimestamp"]]
                    ]
                },
                __meta__: {
                    strings: [{
                        bundle: BUNDLE,
                        all: !0
                    }]
                }
            },
            getInitialState: function() {
                return {
                    readTimer: null,
                    notificationsRead: !1
                }
            },
            _notificationBuilders: {
                empty: function() {
                    return React.createElement(NotificationEmpty, {
                        message: this.getString(BUNDLE, "notifications.defaults.noRecentNotifications")
                    })
                },
                "IMAGE-TEXT": function(e, t) {
                    return React.createElement(NotificationImageText, {
                        notification: e,
                        position: t,
                        timeFormatter: this._formatTimeDiff
                    })
                }
            },
            _validateNotification: function(e) {
                var t = this,
                    i = _.get(e, "message.templateJSON.layout");
                return i && t._notificationBuilders.hasOwnProperty(i) && "function" == typeof t._notificationBuilders[i] ? i : !1
            },
            _generateNotificationList: function(e) {
                var t = this,
                    i = [];
                return _.forEach(e, function(e, n) {
                    var a = t._validateNotification(e);
                    if (a) {
                        var o = _.get(e, "message.isRead", !0),
                            s = classNames({
                                notification: !0,
                                "is-new": !o
                            });
                        i.push(React.createElement("li", {
                            className: s,
                            key: "notification-" + n,
                            onClick: t._closeSubMenu
                        }, t._notificationBuilders[a].call(t, e, n)))
                    }
                }), 0 === i.length && i.push(React.createElement("li", {
                    className: "notification",
                    key: "notification-empty",
                    onClick: t._closeSubMenu
                }, t._notificationBuilders.empty.call(t))), [React.createElement("ul", {
                    ref: "notifications-scroller",
                    className: "notifications-container"
                }, i)]
            },
            _markNotificationsAsRead: function() {
                this.setState({
                    readTimer: null
                });
                var e = this,
                    t = this.props.model.pathEvaluator.bind(["notifications"]);
                t.getValueSync(["unreadCount"]) && this.props.model.pathEvaluator.call(["notifications", "markRead"], [t.getValueSync(["latestTimestamp"])], [], []).subscribe(function(t) {
                    e.forceUpdate()
                }, function(t) {
                    e.forceUpdate()
                })
            },
            _emitNotificationsPanelEvent: function(e) {
                var t = this,
                    i = e ? "notifications:open" : "notifications:close",
                    n = e ? "notifications:readstart" : "notifications:readend",
                    a = this.props.model.pathEvaluator.bind(["notifications"]),
                    o = a.getValueSync(["fullList"]),
                    s = !!a.getValueSync(["unreadCount"]),
                    c = !1,
                    r = [];
                _.forEach(o, function(e, i) {
                    t._validateNotification(e) && (r.push(e), c = !0)
                }), EventBus.emit(i, _.assign({
                    hasNotifications: c,
                    hasUnreadNotifications: s
                }, t.context)), _.forEach(r, function(e, i) {
                    var a = _.get(e, "message.isRead", !0),
                        o = _.get(e, "message.templateJSON.videoId", null),
                        s = _.get(e, "message.messageGuid", "");
                    EventBus.emit(n, _.assign({
                        position: i,
                        isRead: a,
                        messageGuid: s,
                        titleId: o
                    }, t.context))
                })
            },
            _closeSubMenu: function(e) {
                this.handleMouseLeave(e), this.state.notificationsRead && this._markNotificationsAsRead(), this._emitNotificationsPanelEvent(!1)
            },
            _openSubMenu: function(e) {
                this.handleMouseEnter(e), this._emitNotificationsPanelEvent(!0)
            },
            componentDidUpdate: function(e, t) {
                var i = this;
                this.state.subMenuOpen === !0 && t.subMenuOpen === !1 ? i.state.readTimer || i.setState({
                    readTimer: window.setTimeout(function() {
                        i.setState({
                            notificationsRead: !0
                        }), i.forceUpdate()
                    }, READ_TIME_MS)
                }) : this.state.subMenuOpen === !1 && t.subMenuOpen === !0 && (i.state.readTimer && (window.clearTimeout(i.state.readTimer), i.setState({
                    readTimer: null
                })), i.scrollUnlock())
            },
            componentDidMount: function() {
                this.addEventListeners(React.findDOMNode(this.refs.menu), React.findDOMNode(this.refs.menuContainer), this._closeSubMenu, this._openSubMenu)
            },
            componentWillUnmount: function() {
                this.removeEventListeners(React.findDOMNode(this.refs.menu), React.findDOMNode(this.refs.menuContainer), this._closeSubMenu, this._openSubMenu)
            },
            render: function() {
                var e = this,
                    t = e.props.model.pathEvaluator.bind(["notifications"]),
                    i = t.getValueSync(["fullList"]),
                    n = t.getValueSync(["unreadCount"]);
                return React.createElement("span", {
                    ref: "menuContainer",
                    className: "notifications"
                }, React.createElement("button", {
                    ref: "menu",
                    className: "notifications-menu",
                    "aria-haspopup": !0,
                    "aria-label": this.getString(BUNDLE, "notifications.button.text")
                }, React.createElement("span", {
                    className: "icon-button-notification"
                }), n > 0 ? React.createElement(Pill, {
                    number: n
                }) : null, e.state.subMenuOpen ? React.createElement(HeaderMenuCaret, null) : null), e.state.subMenuOpen ? React.createElement(SubMenu, {
                    cols: 1,
                    onMouseEnter: function() {
                        e.scrollLock("notifications-scroller")
                    },
                    onMouseLeave: function() {
                        e.scrollUnlock()
                    },
                    showCalloutArrow: !1,
                    items: e._generateNotificationList(i)
                }) : null)
            }
        });
    module.exports = Notifications;


});


Requireify.register('js/akira/components/header/appHeader.jsx', function(require, requireAsync, module, exports) {


    "use strict";
    var React = require("react"),
        nfProps = require("nf-iso-properties"),
        classNames = require("classnames"),
        GenreNavItem = require("./genreNavItem.jsx"),
        DVDLink = require("../search/dvdLink.jsx"),
        SearchBox = require("../search/searchBox.jsx"),
        AccountDropDown = require("../profile/accountDropDown.jsx"),
        SystemNotifications = require("./systemNotifications.jsx"),
        Link = require("../controls/mainViewLink.jsx"),
        BrowserScroll = require("../../../reactMixins/browserScroll"),
        FalkorFetch = require("../../../reactMixins/falkor-fetch"),
        I18N = require("../../../reactMixins/i18n"),
        IsomorphicContext = require("../../../reactMixins/isomorphicContextWithDeps"),
        URLs = require("../../../utils/urls"),
        ProfileManager = require("../../../utils/profileManager"),
        Position = require("../../../common/position"),
        UserFeatures = require("../../../features/userFeatures"),
        NewNotificationTest = require("../../../utils/ab/newNotificationTest"),
        NotificationsV1 = require("../notificationsV1/notifications.jsx"),
        Notifications = require("../notifications/notifications.jsx"),
        RichOriginalsRowTest = require("../../../utils/ab/richOriginalsRowTest"),
        BrowseMenuTest = require("../../../utils/ab/browseMenuTest"),
        prefetchStrategies = {
            minimum: {
                headerDropDowns: !1,
                accountDropDown: !0
            },
            maximum: {
                headerDropDowns: !0,
                accountDropDown: !0
            }
        },
        defaultStrategy = prefetchStrategies.minimum,
        headerDropDowns = prefetchStrategies.maximum,
        getPaths = function(e, t, i) {
            var s = [];
            return t || (t = defaultStrategy), t.headerDropDowns && (s = GenreNavItem.getPaths().map(function(t) {
                return BrowseMenuTest.isHierarchicalList(e) === !0 ? ["genreTree", {
                    to: 3
                }].concat(t) : ["genreList"].concat(t)
            })), (t.headerDropDowns || t.accountDropDown) && (s = s.concat(AccountDropDown.getPaths())), s = NewNotificationTest.showNewNotifications(e, !1) ? s.concat(Notifications.getPaths()) : s.concat(NotificationsV1.getPaths())
        },
        BUNDLE = "discovery/akira/Chrome:navitem",
        BUNDLE_HEADER = "discovery/akira/Chrome:header",
        NETFLIX_ORIGINALS_PAGE = "netflixOriginals",
        ORIGINALS_GENRE_ID = 839338,
        SPANISH_GENRE_ID = 100396,
        BROWSE_PAGE = "app",
        Header = React.createClass({
            displayName: "Header",
            contextTypes: {
                router: React.PropTypes.func.isRequired
            },
            mixins: [I18N, FalkorFetch, BrowserScroll, IsomorphicContext],
            FADE_IN_THRESHOLD: 1,
            multipleKidsProfiles: !1,
            showKids: !1,
            kidProfile: null,
            statics: {
                __meta__: {
                    strings: [{
                        bundle: BUNDLE,
                        ids: ["home", "my.list", "new.arrivals", "subtitles", "ways.to.watch", "kids", "netflix.originals", "spanish.content"]
                    }, {
                        bundle: BUNDLE_HEADER,
                        ids: ["logo.text", "originals", "tv", "movies"]
                    }]
                },
                getPaths: getPaths,
                defaultStrategy: defaultStrategy,
                fullHeaderStrategy: headerDropDowns
            },
            getInitialState: function() {
                var e = !this.props.pinned;
                return {
                    hasBackground: !1,
                    isSearchBoxFocused: !!this.props.term,
                    trackPinning: e,
                    scrolling: e
                }
            },
            componentWillReceiveProps: function(e) {
                var t = !e.pinned;
                this.state.trackPinning !== t && this.setState({
                    trackPinning: t,
                    scrolling: t
                })
            },
            onScroll: function() {
                if (this.state.trackPinning) {
                    var e = React.findDOMNode(this.refs.hdSpace),
                        t = e.getBoundingClientRect().top,
                        i = t > 0;
                    i !== this.state.scrolling && this.setState({
                        scrolling: i
                    })
                }
                var s = Position.getScrollTop(),
                    a = s >= this.FADE_IN_THRESHOLD && !this.state.hasBackground || s < this.FADE_IN_THRESHOLD && this.state.hasBackground;
                a && this.setState({
                    hasBackground: !this.state.hasBackground
                })
            },
            handleSearchBoxFocus: function(e) {
                this.setState({
                    isSearchBoxFocused: e
                })
            },
            componentDidMount: function() {
                var e = prefetchStrategies.maximum;
                this.fetchData(this.props.pathEvaluator, getPaths(this.getContext(), e, "headerMount", null, e.forceUpdate)), this.onScroll()
            },
            onKidsLinkClicked: function() {
                return !this.multipleKidsProfiles && this.kidProfile ? ProfileManager.switchProfile(this.kidProfile) : ProfileManager.openProfileList(), !1
            },
            determineKidsStatus: function() {
                var e, t, i, s = this.props.pathEvaluator.bind(["profilesList"]),
                    a = s.getValueSync(["summary"]),
                    r = 0;
                if (this.multipleKidsProfiles = !1, this.showKids = !1, this.kidProfile = null, a)
                    for (i = 0; i < a.length; i++) e = s.bind([i]), e && (t = e.getValueSync(["summary"]), t.isKids && (this.showKids = !0, this.kidProfile = e, r >= 1 && (this.multipleKidsProfiles = !0), r++))
            },
            getNotifications: function() {
                var e = NewNotificationTest.showNewNotifications(this.context, !1);
                return React.createElement("div", {
                    className: "nav-element"
                }, e ? React.createElement(Notifications, {
                    className: "nav-element",
                    model: this.props.model
                }) : React.createElement(NotificationsV1, {
                    className: "nav-element",
                    model: this.props.model
                }))
            },
            getSpecialItems: function() {
                var e, t, i = [],
                    s = this.getFeatureData("userContext"),
                    a = "en";
                s && (e = s.geo, t = e && e.preferredLocale, t && (a = t.language));
                var r = this.getStrings(BUNDLE);
                return i = [React.createElement(Link, {
                    className: "sub-menu-link",
                    type: "home"
                }, r.get("home")), React.createElement(Link, {
                    className: "sub-menu-link",
                    type: "queue"
                }, r.get("my.list")), React.createElement(Link, {
                    className: "sub-menu-link",
                    type: "newArrivals"
                }, r.get("new.arrivals"))], BrowseMenuTest.overrideLeftMenu(this.context) === !0 ? (i.push(React.createElement(Link, {
                    className: "sub-menu-link",
                    type: "genre",
                    id: ORIGINALS_GENRE_ID
                }, r.get("netflix.originals"))), i.push(React.createElement(Link, {
                    className: "sub-menu-link",
                    type: "genre",
                    id: SPANISH_GENRE_ID
                }, r.get("spanish.content")))) : (UserFeatures.linkToSubtitle() && i.push(React.createElement(Link, {
                    className: "sub-menu-link",
                    type: "subtitle",
                    id: a
                }, r.get("subtitles"))), i.push(React.createElement(Link, {
                    className: "sub-menu-link",
                    type: "waysToWatch"
                }, r.get("ways.to.watch")))), i
            },
            getActiveLink: function() {
                return RichOriginalsRowTest.supportsOriginalsLink(this.context) && this.context.router.isActive(NETFLIX_ORIGINALS_PAGE) ? NETFLIX_ORIGINALS_PAGE : BROWSE_PAGE
            },
            isActive: function(e) {
                return this.getActiveLink() === e
            },
            render: function() {
                var e, t = this.getStrings(BUNDLE),
                    i = this.getStrings(BUNDLE_HEADER),
                    s = this.props.pathEvaluator,
                    a = !1,
                    r = this.getFeatureData("userInfo"),
                    n = classNames({
                        "akira-header": !0,
                        "head-opaque": this.state.hasBackground,
                        "search-focused": this.state.isSearchBoxFocused,
                        scrollingHeader: this.state.scrolling,
                        "profile-gated": this.props.isShowingProfilesGate,
                        hide: this.props.hideHeader && !this.state.isSearchBoxFocused
                    }),
                    o = nfProps.get("web.ui.akira.notifications.enabled"),
                    c = classNames({
                        browse: !0,
                        active: this.isActive(NETFLIX_ORIGINALS_PAGE)
                    }),
                    l = BrowseMenuTest.showMoviesandTVMenu(this.context),
                    h = s.bind(["genreList"]),
                    u = BrowseMenuTest.listWitHeaders(this.context);
                return u === !0 && (h = s.bind(["genreTree"])), BrowseMenuTest.showMoviesandTVMenu(this.context) && (h = s.bind(["genreTree", 0])), r && (a = "US" === r.countryOfSignup), nfProps.get("netflix.ui.browse.special.items.disable") || (e = this.getSpecialItems()), this.determineKidsStatus(), React.createElement("div", {
                    className: "hdSpace",
                    ref: "hdSpace",
                    role: "header"
                }, React.createElement("div", {
                    id: "hdPinTarget",
                    className: n
                }, React.createElement(Link, {
                    className: "logo icon-logoUpdate",
                    type: "home",
                    "aria-label": i.get("logo.text")
                }), this.props.isShowingProfilesGate ? null : React.createElement("ul", {
                    role: "navigation"
                }, React.createElement(GenreNavItem, {
                    model: h,
                    selected: l ? !1 : this.isActive(BROWSE_PAGE),
                    itemType: "genre",
                    pqls: GenreNavItem.getPaths(),
                    browseMenuWithHeaders: u,
                    className: "browse",
                    specialItems: e,
                    isTVMenu: l
                }), l ? React.createElement(GenreNavItem, {
                    model: s.bind(["genreTree", 1]),
                    selected: !1,
                    itemType: "genre",
                    pqls: GenreNavItem.getPaths(),
                    isMoviesMenu: !0,
                    className: "browse",
                    specialItems: e
                }) : null, RichOriginalsRowTest.supportsOriginalsLink(this.context) && React.createElement("li", {
                    className: c
                }, React.createElement(Link, {
                    type: NETFLIX_ORIGINALS_PAGE
                }, i.get("originals"))), this.showKids ? React.createElement("li", {
                    className: "kids"
                }, React.createElement(Link, {
                    onClick: this.onKidsLinkClicked,
                    href: URLs.page.merchweb.kidsHome
                }, t.get("kids"))) : null, a ? React.createElement("li", {
                    className: "dvd-link"
                }, React.createElement(DVDLink, null)) : null), this.props.isShowingProfilesGate ? null : React.createElement("div", {
                    className: "secondary-nav"
                }, React.createElement("div", {
                    className: "nav-element"
                }, React.createElement(SearchBox, {
                    term: this.props.term,
                    model: this.props.model,
                    ref: "searchBox",
                    handleSearchBoxFocus: this.handleSearchBoxFocus
                })), o ? this.getNotifications() : null, React.createElement("div", {
                    className: "nav-element"
                }, React.createElement(AccountDropDown, {
                    className: "nav-element",
                    model: s,
                    showDVDLink: a,
                    showKidsLink: this.showKids,
                    onKidsLinkClicked: this.onKidsLinkClicked
                }))), React.createElement(SystemNotifications, {
                    model: this.props.model
                })))
            }
        });
    module.exports = Header;


});


Requireify.register('js/akira/utils/service-code.js', function(require, requireAsync, module, exports) {


    "use strict";
    var XHR = require("../../utils/XHR"),
        serviceCode = {
            fetchServiceCode: function() {
                return XHR.request({
                    method: "post",
                    data: {},
                    resource: "/servicecode",
                    service: "api",
                    authorize: !0
                })
            },
            formatAuthCode: function(e) {
                return e = e || "", e = e.replace(/[^a-z0-9]/gi, ""), [e.slice(0, 3), e.slice(3)].join("-")
            }
        };
    module.exports = serviceCode;


});


Requireify.register('js/akira/components/footer/serviceCode.jsx', function(require, requireAsync, module, exports) {


    "use strict";
    var _ = require("lodash"),
        React = require("react"),
        I18N = require("../../../reactMixins/i18n"),
        IsomorphicContext = require("../../../reactMixins/isomorphicContextWithDeps"),
        serviceCodeService = require("../../utils/service-code"),
        BUNDLE = "discovery/akira/Footer",
        FAILED_AUTH_CODE = "888000",
        ServiceCode = React.createClass({
            displayName: "ServiceCode",
            mixins: [I18N, IsomorphicContext],
            getInitialState: function() {
                return {
                    serviceCode: null
                }
            },
            fetchServiceCode: function() {
                var e = this;
                serviceCodeService.fetchServiceCode().subscribe(function(t) {
                    e.setState({
                        serviceCode: serviceCodeService.formatAuthCode(_.get(t, "data.authCode", FAILED_AUTH_CODE))
                    })
                }, function(t) {
                    e.setState({
                        serviceCode: serviceCodeService.formatAuthCode(_.get(t, "data.authCode", FAILED_AUTH_CODE))
                    })
                })
            },
            render: function() {
                var e = this.getStrings(BUNDLE),
                    t = _.isNull(this.state.serviceCode) ? e.get("serviceCode") : this.state.serviceCode;
                return this.getFeatureData("userInfo").masquerade ? null : React.createElement("button", {
                    className: "service-code",
                    onClick: this.fetchServiceCode
                }, t)
            }
        });
    ServiceCode.__meta__ = {
        strings: [{
            bundle: BUNDLE,
            ids: ["serviceCode"]
        }]
    }, module.exports = ServiceCode;


});


Requireify.register('js/akira/components/footer/appFooter.jsx', function(require, requireAsync, module, exports) {


    "use strict";
    var React = require("react"),
        _ = require("lodash"),
        I18N = require("../../../reactMixins/i18n"),
        IsomorphicContext = require("../../../reactMixins/isomorphicContextWithDeps"),
        ServiceCode = require("./serviceCode.jsx"),
        BUNDLE = "discovery/akira/Footer",
        NewFooter = React.createClass({
            displayName: "NewFooter",
            mixins: [I18N, IsomorphicContext],
            statics: {
                __meta__: {
                    strings: [{
                        bundle: BUNDLE,
                        all: !0
                    }]
                }
            },
            shouldComponentUpdate: function() {
                return !1
            },
            generateLinks: function(e) {
                var t = this.getStrings(BUNDLE);
                return _.map(e, function(e) {
                    var r = null;
                    return e.updated && (r = React.createElement("span", {
                        className: "member-footer-link-update"
                    }, " *" + t.get("link.updatedLink") + "* ")), React.createElement("li", {
                        key: e.labelKey,
                        className: "member-footer-link-wrapper"
                    }, React.createElement("a", {
                        className: "member-footer-link",
                        href: e.url
                    }, r, React.createElement("span", {
                        className: "member-footer-link-content"
                    }, t.get("link." + e.labelKey))))
                })
            },
            render: function() {
                var e = this.getFeatureData("footerFeatures"),
                    t = this.getStrings(BUNDLE),
                    r = _.get(this.getFeatureData("serverDefs"), "instance", "");
                return React.createElement("div", {
                    role: "contentinfo",
                    className: "member-footer"
                }, React.createElement("ul", {
                    className: "member-footer-links"
                }, this.generateLinks(e.links)), React.createElement("div", {
                    className: "member-footer-service"
                }, React.createElement(ServiceCode, null)), React.createElement("div", {
                    className: "member-footer-copyright"
                }, t.get("copyright", {
                    currentYear: (new Date).getFullYear()
                }), " ", "{" + r + "}"))
            }
        });
    module.exports = NewFooter;


});


Requireify.register('js/akira/components/profile/profileChoices.jsx', function(require, requireAsync, module, exports) {


    "use strict";
    var React = require("react"),
        classNames = require("classnames"),
        Profile = require("../profile/profile.jsx"),
        I18N = require("../../../reactMixins/i18nWithDeps"),
        ProfileManager = require("../../../utils/profileManager"),
        EventBus = require("../../../reactMixins/eventBus"),
        Transition = require("../../../reactMixins/transition"),
        URLs = require("../../../utils/urls"),
        nfProps = require("nf-iso-properties"),
        Link = require("../controls/mainViewLink.jsx"),
        KeyBoardEvents = require("../../../utils/keyboardEventsWrapper"),
        AVATAR_WIDTH = 320,
        MAX_PROFILE_COUNT = 5,
        BUNDLE = "discovery/akira/Chrome";
    module.exports = React.createClass({
        displayName: "exports",
        mixins: [I18N, Transition],
        statics: {
            __meta__: {
                strings: [{
                    bundle: "discovery/akira/Chrome",
                    ids: ["add.profile", "whos.watching", "edit.profiles", "manage.profiles", "done"]
                }]
            }
        },
        transitions: {
            show: {
                target: "centeredDiv",
                before: {
                    scale: 1.1,
                    opacity: 0
                },
                scale: 1,
                opacity: 1,
                duration: 450
            },
            hide: {
                target: "centeredDiv",
                scale: 1,
                opacity: 0,
                duration: 350
            }
        },
        componentDidMount: function() {
            EventBus.emit("app:interactive")
        },
        renderChooseableProfiles: function() {
            var e, r, t = this.props.model.getValueSync(["summary"]),
                i = this.props.activeView === ProfileManager.VIEWS.MANAGE_PROFILES,
                a = Math.min(t.length, MAX_PROFILE_COUNT),
                s = [];
            for (e = 0; a > e; e++) r = this.props.model.bind([e]), r && s.push(React.createElement("li", {
                className: "profile",
                key: "profile" + e,
                ref: "profile" + e
            }, React.createElement(Profile, {
                useDiv: !0,
                isClickable: !0,
                avatarWidth: AVATAR_WIDTH,
                inEditMode: i,
                model: r
            })));
            return s
        },
        handleAddProfile: function(e) {
            ProfileManager.openCreateProfile(this.props.activeView), e.preventDefault()
        },
        renderAddProfile: function() {
            return React.createElement("li", null, React.createElement("a", {
                onClick: this.handleAddProfile,
                onKeyDown: KeyBoardEvents.executeOnEnterOrSpace(this.handleAddProfile),
                role: "link",
                tabIndex: 0
            }, React.createElement("div", {
                className: "addProfileIcon icon-tvuiAdd"
            }), React.createElement("span", {
                className: "profile-name"
            }, this.getString(BUNDLE, "add.profile"))))
        },
        render: function() {
            var e = this.props.model.getValueSync(["summary"]),
                r = e.length < MAX_PROFILE_COUNT,
                t = this.props.activeView === ProfileManager.VIEWS.LIST,
                i = this.getStrings(BUNDLE),
                a = classNames({
                    "profile-button": !0,
                    "preferred-action": !t
                }),
                s = t ? "profile-button" : a,
                n = t ? i.get("whos.watching") : i.get("edit.profiles"),
                l = URLs.paths.profilesGate,
                o = URLs.paths.manageProfiles,
                c = nfProps.get("netflix.ui.akira.manageProfile.enabled") || !1,
                d = c ? React.createElement("span", {
                    className: "profile-button"
                }, React.createElement(Link, {
                    href: o
                }, i.get("manage.profiles"))) : null;
            return React.createElement("div", {
                className: "centered-div",
                ref: "centeredDiv"
            }, React.createElement("div", {
                key: "listProfiles",
                ref: "listProfiles",
                className: "list-profiles"
            }, React.createElement("div", {
                className: "profile-gate-label"
            }, n), React.createElement("ul", {
                className: "choose-profile"
            }, this.renderChooseableProfiles(), r ? this.renderAddProfile() : null)), t ? d : React.createElement("span", {
                className: s
            }, React.createElement(Link, {
                href: l
            }, i.get("done"))))
        }
    });


});


Requireify.register('js/akira/components/profile/profileLoad.jsx', function(require, requireAsync, module, exports) {


    "use strict";
    var React = require("react"),
        classNames = require("classnames"),
        Profile = require("../profile/profile.jsx"),
        Transition = require("../../../reactMixins/transition"),
        ProfileManager = require("../../../utils/profileManager"),
        EventBus = require("../../../reactMixins/eventBus"),
        I18N = require("../../../reactMixins/i18nWithDeps"),
        AVATAR_WIDTH = 320,
        BUNDLE = "discovery/partials/profiles_gate";
    module.exports = React.createClass({
        displayName: "exports",
        statics: {
            __meta__: {
                strings: [{
                    bundle: BUNDLE,
                    ids: ["switch.error", "switch.button.tryAgain"]
                }]
            }
        },
        mixins: [Transition, I18N],
        transitions: {
            show: {
                target: "loadingProfileWrapper",
                before: {
                    scale: .6,
                    opacity: 0
                },
                scale: .4,
                opacity: 1,
                duration: 450
            },
            hide: {
                target: "loadingProfileWrapper",
                scale: .6,
                opacity: 0,
                duration: 350
            }
        },
        componentDidMount: function() {
            EventBus.emit("app:interactive")
        },
        handleRetry: function() {
            ProfileManager.switchProfile(this.props.newProfile)
        },
        renderLoadingError: function() {
            var e = classNames({
                "profile-load-error": !0,
                "show-error": this.props.errorLoadingProfile
            });
            return React.createElement("p", {
                className: e
            }, this.getString(BUNDLE, "switch.error"), React.createElement("span", {
                className: "profile-button",
                onClick: this.handleRetry
            }, React.createElement("span", null, this.getString(BUNDLE, "switch.button.tryAgain"))))
        },
        render: function() {
            var e = this.props.newProfile;
            return e ? React.createElement("div", {
                ref: "centeredDiv",
                className: classNames({
                    "centered-div": !0,
                    "loading-wrapper": !0
                })
            }, React.createElement("div", null, React.createElement("div", {
                ref: "loadingProfileWrapper",
                className: classNames({
                    "loading-profile-wrapper": !0
                })
            }, React.createElement("ul", null, React.createElement(Profile, {
                useDiv: !0,
                linked: !1,
                loading: !0,
                avatarWidth: AVATAR_WIDTH,
                errorLoadingProfile: this.props.errorLoadingProfile,
                model: e
            }))), this.renderLoadingError())) : null
        }
    });


});


Requireify.register('js/akira/components/profile/create/profileTooltip.jsx', function(require, requireAsync, module, exports) {


    "use strict";
    var React = require("react"),
        Transition = require("../../../../reactMixins/transition"),
        classes = "kids-profile-tooltip",
        ProfileTooltip = React.createClass({
            displayName: "ProfileTooltip",
            mixins: [Transition],
            transitions: {
                show: {
                    target: classes,
                    before: {
                        opacity: 0
                    },
                    opacity: 1,
                    duration: 350,
                    delay: 400
                },
                hide: {
                    target: classes,
                    opacity: 0,
                    duration: 350,
                    delay: 100
                }
            },
            render: function() {
                return React.createElement("span", {
                    className: classes,
                    ref: classes
                }, this.props.tooltipText)
            }
        });
    module.exports = ProfileTooltip;


});


Requireify.register('js/akira/components/profile/create/profileImage.jsx', function(require, requireAsync, module, exports) {


    "use strict";
    var React = require("react"),
        Transition = require("../../../../reactMixins/transition"),
        IMAGE_REF = "profileImage",
        ProfileImage = React.createClass({
            displayName: "ProfileImage",
            mixins: [Transition],
            transitions: {
                show: {
                    target: IMAGE_REF,
                    before: {
                        opacity: 0,
                        scale: .6
                    },
                    opacity: 1,
                    scale: 1,
                    duration: 400
                }
            },
            render: function() {
                return React.createElement("img", {
                    src: this.props.profileAvatarSrc,
                    ref: IMAGE_REF,
                    alt: ""
                })
            }
        });
    module.exports = ProfileImage;


});


Requireify.register('js/akira/components/profile/create/profileAvatar.jsx', function(require, requireAsync, module, exports) {


    "use strict";
    var React = require("react"),
        LoadingBox = require("../../loaders/loadingBox.jsx"),
        ProfileImage = require("./profileImage.jsx"),
        ProfileAvatar = React.createClass({
            displayName: "ProfileAvatar",
            render: function() {
                var e = {
                    loadingTitle: !0
                };
                return this.props.profileAvatarSrc ? React.createElement(ProfileImage, {
                    profileAvatarSrc: this.props.profileAvatarSrc
                }) : React.createElement(LoadingBox, {
                    boxClassNames: e,
                    delay: 0,
                    pulsate: !0,
                    displayWhenNotPulsing: !0
                })
            }
        });
    module.exports = ProfileAvatar;


});


Requireify.register('js/akira/components/profile/profileCreate.jsx', function(require, requireAsync, module, exports) {


    "use strict";
    var React = require("react"),
        _ = require("lodash"),
        classNames = require("classnames"),
        I18N = require("../../../reactMixins/i18nWithDeps"),
        Transition = require("../../../reactMixins/transition"),
        XHR = require("../../../utils/XHR"),
        KeyCodes = require("../../../common/keyCodes"),
        ProfileTooltip = require("./create/profileTooltip.jsx"),
        ProfileManager = require("../../../utils/profileManager"),
        EventBus = require("../../../reactMixins/eventBus"),
        ProfileAvatar = require("./create/profileAvatar.jsx"),
        KeyBoardEvents = require("../../../utils/keyboardEventsWrapper"),
        AVATAR_WIDTH = 320,
        BUNDLE = "discovery/partials/profiles_gate:addProfile",
        DEFAULT_PROFILE_NAME_VALUE = "",
        PROFILE_DATA_TIMEOUT = 5e3;
    module.exports = React.createClass({
        displayName: "exports",
        mixins: [I18N, Transition],
        statics: {
            __meta__: {
                strings: [{
                    bundle: BUNDLE,
                    ids: ["header", "subHeader", "label.kids", "error.name", "error.create", "button.continue", "button.cancel", "placeholder.name", "tooltip.kids"]
                }]
            }
        },
        transitions: {
            show: {
                target: "centeredDiv",
                before: {
                    scale: 1.1,
                    opacity: 0
                },
                scale: 1,
                opacity: 1,
                duration: 450,
                delay: 200
            }
        },
        getInitialState: function() {
            return {
                showKidsTooltip: !1,
                newProfileIsForAKid: !1,
                newProfileName: DEFAULT_PROFILE_NAME_VALUE,
                newProfileRequested: !1,
                newProfileAvatarSrc: null,
                newProfileAvatarName: null,
                attemptedInvalidNewProfile: !1,
                attemptedNewProfileTimeout: !1
            }
        },
        getAvatarsXHRSuccess: function(e) {
            var t, a = this,
                i = {
                    newProfileAvatarSrc: null,
                    newProfileAvatarName: null
                },
                r = new Image;
            _.isObject(e) && e.avatars && (t = _.find(e.avatars, function(e) {
                return e.isDefault
            }), t && (i = {
                newProfileAvatarSrc: t.images && t.images[AVATAR_WIDTH],
                newProfileAvatarName: t.name
            })), i.newProfileAvatarSrc && i.newProfileAvatarName ? (r.addEventListener("load", function o() {
                r.removeEventListener("load", o), a.setState(i)
            }), r.src = i.newProfileAvatarSrc, this.setState({
                newProfileAvatarName: i.newProfileAvatarName
            })) : this.setState(i)
        },
        onSuccessAddProfile: function() {
            ProfileManager.setActiveView(ProfileManager.VIEWS.RELOADING_PROFILES);
            var e = this;
            this.props.refetchPageChromeData(function() {
                var t = e.props.previousView;
                t === ProfileManager.VIEWS.LIST ? ProfileManager.openProfileList() : ProfileManager.openEditList()
            })
        },
        getAvatarsXHRError: function() {
            var e = {
                newProfileAvatarSrc: null,
                newProfileAvatarName: null
            };
            this.isMounted() && this.setState(e)
        },
        componentWillMount: function() {
            XHR.request({
                resource: "/profiles/avatars",
                query: {
                    include: "available"
                },
                service: "api"
            }).subscribe(this.getAvatarsXHRSuccess, this.getAvatarsXHRError)
        },
        componentDidMount: function() {
            EventBus.emit("app:interactive"), React.findDOMNode(this.refs["profile-name-entry"]).focus()
        },
        isValidData: function() {
            return this.state.newProfileName !== DEFAULT_PROFILE_NAME_VALUE
        },
        inputNameHandler: function(e) {
            this.setState({
                newProfileName: e.target.value.trim()
            })
        },
        inputNameKeyDownHandler: function(e) {
            e && e.which === KeyCodes.ENTER && this.clickContinueHandler()
        },
        newProfileXHRError: function() {
            this.isMounted() && this.setState({
                attemptedNewProfileTimeout: !0
            })
        },
        createNewProfile: function() {
            this.isValidData() && (this.state.attemptedNewProfileTimeout && this.setState({
                attemptedNewProfileTimeout: !1
            }), XHR.request({
                resource: "/profiles/create",
                service: "api",
                protocol: "https",
                method: "post",
                data: {
                    profiles: JSON.stringify([{
                        firstName: this.state.newProfileName,
                        avatarName: this.state.newProfileAvatarName,
                        jfk: this.state.newProfileIsForAKid
                    }])
                },
                timeout: PROFILE_DATA_TIMEOUT,
                authorize: !0
            }).subscribe(this.onSuccessAddProfile, this.newProfileXHRError))
        },
        clickContinueHandler: function() {
            this.isValidData() ? this.createNewProfile() : this.setState({
                attemptedNewProfileTimeout: !1,
                attemptedInvalidNewProfile: !0
            })
        },
        clickCancelHandler: function() {
            this.props.previousView === ProfileManager.VIEWS.LIST ? ProfileManager.openProfileList() : ProfileManager.openEditList()
        },
        clickKidsLabelHandler: function() {
            this.setState({
                newProfileIsForAKid: !this.state.newProfileIsForAKid
            })
        },
        targetValidForTooltip: function(e) {
            return React.findDOMNode(this.refs["add-kids-profile"]).contains(e) || React.findDOMNode(this.refs["add-kids-label"]).contains(e) || React.findDOMNode(this.refs["add-kids-marker"]).contains(e)
        },
        mouseOverKidsLabel: function(e) {
            this.getTooltip() && this.targetValidForTooltip(e.target) && (clearTimeout(this.timeoutHideKidsLabel), this.state.showKidsTooltip || this.setState({
                showKidsTooltip: !0
            }))
        },
        mouseOutKidsLabel: function(e) {
            var t = this;
            this.getTooltip() && !this.targetValidForTooltip(e.relatedTarget) && (clearTimeout(this.timeoutHideKidsLabel), this.state.showKidsTooltip && (this.timeoutHideKidsLabel = setTimeout(function() {
                t.setState({
                    showKidsTooltip: !1
                })
            }, 400)))
        },
        getTooltip: function() {
            var e = this.getString(BUNDLE, "tooltip.kids");
            return e.indexOf("addProfile") < 0 ? e : !1
        },
        render: function() {
            var e = this.getTooltip(),
                t = this.isValidData(),
                a = !t && this.state.attemptedInvalidNewProfile,
                i = this.state.attemptedNewProfileTimeout,
                r = this.getStrings(BUNDLE),
                o = classNames({
                    "profile-button": !0,
                    "preferred-action": !0,
                    "preferred-active": t
                }),
                n = classNames({
                    "name-error": a
                });
            return React.createElement("div", {
                className: "centered-div",
                ref: "centeredDiv"
            }, React.createElement("div", {
                className: "profile-actions-container",
                ref: "add-profile"
            }, React.createElement("h1", null, r.get("header")), React.createElement("h2", null, r.get("subHeader")), React.createElement("div", {
                className: "profile-metadata profile-entry"
            }, React.createElement("div", {
                className: "main-profile-avatar"
            }, React.createElement(ProfileAvatar, {
                profileAvatarSrc: this.state.newProfileAvatarSrc
            })), React.createElement("div", {
                className: "profile-add-parent"
            }, React.createElement("div", {
                className: "profile-entry-inputs",
                onMouseOver: this.mouseOverKidsLabel,
                onMouseOut: this.mouseOutKidsLabel
            }, React.createElement("input", {
                type: "text",
                id: "add-profile-name",
                className: n,
                ref: "profile-name-entry",
                placeholder: r.get("placeholder.name"),
                onChange: this.inputNameHandler,
                onKeyDown: this.inputNameKeyDownHandler
            }), React.createElement("label", {
                htmlFor: "add-profile-name",
                ref: "add-profile-name-label",
                "aria-label": r.get("placeholder.name")
            }), React.createElement("input", {
                type: "checkbox",
                id: "add-kids-profile",
                ref: "add-kids-profile",
                checked: this.state.newProfileIsForAKid,
                onChange: this.NOOP
            }), React.createElement("label", {
                htmlFor: "add-kids-profile",
                ref: "add-kids-label",
                onClick: this.clickKidsLabelHandler
            }), React.createElement("span", {
                className: "add-kids-marker",
                ref: "add-kids-marker",
                role: "checkbox",
                "aria-checked": this.state.newProfileIsForAKid,
                tabIndex: 0,
                onClick: this.clickKidsLabelHandler,
                onKeyDown: KeyBoardEvents.executeOnEnterOrSpace(this.clickKidsLabelHandler)
            }, r.get("label.kids")), e && this.state.showKidsTooltip ? React.createElement(ProfileTooltip, {
                tooltipText: e
            }) : null), a ? React.createElement("p", {
                className: "profile-entry-error"
            }, r.get("error.name")) : null, i ? React.createElement("p", {
                className: "profile-entry-error"
            }, r.get("error.create")) : null)), React.createElement("span", {
                className: o,
                tabIndex: 0,
                role: "button",
                onClick: this.clickContinueHandler,
                onKeyDown: KeyBoardEvents.executeOnEnterOrSpace(this.clickContinueHandler)
            }, React.createElement("span", null, r.get("button.continue"))), React.createElement("span", {
                className: "profile-button",
                tabIndex: 0,
                role: "button",
                onClick: this.clickCancelHandler,
                onKeyDown: KeyBoardEvents.executeOnEnterOrSpace(this.clickCancelHandler)
            }, React.createElement("span", null, r.get("button.cancel")))))
        }
    });


});


Requireify.register('js/akira/components/profile/profileLangDropdown.jsx', function(require, requireAsync, module, exports) {


    "use strict";
    var React = require("react"),
        DropDown = require("../controls/nfDropdown.jsx"),
        I18N = require("../../../reactMixins/i18nWithDeps"),
        _ = require("lodash"),
        AutoFetch = require("../../../reactMixins/falkor-auto-fetch"),
        BUNDLE = "discovery/partials/profiles_gate:languageSelection",
        ProfileLangDropDown = React.createClass({
            displayName: "ProfileLangDropDown",
            statics: {
                __meta__: {
                    strings: [{
                        bundle: BUNDLE,
                        ids: ["dropDownHeader"]
                    }]
                },
                getPaths: function(e, t, n) {
                    return [
                        ["languages"]
                    ]
                }
            },
            getInitialState: function() {
                return {
                    langIndex: void 0
                }
            },
            mixins: [AutoFetch, I18N],
            getUserLanguage: function() {
                var e, t = this.props.model,
                    n = t.getValueSync(["languages"]),
                    a = this,
                    r = [];
                return _.each(n, function(t, n) {
                    var i = t && t.id,
                        o = t && t.label;
                    i && o && (e = React.createElement("a", {
                        className: "user-lang-link",
                        key: i,
                        onClick: a.dropDownClickHandler(n)
                    }, o), r.push(e))
                }), r
            },
            dropDownClickHandler: function(e) {
                var t = this;
                return function() {
                    t.handleLanguageDropDownChange(e)
                }
            },
            handleLanguageDropDownChange: function(e) {
                this.setState({
                    langIndex: e
                })
            },
            getInitialLanguageIndex: function() {
                var e, t = this.getUserLanguage(),
                    n = this.props.language;
                for (n.indexOf("-") < 0 && (n = n + "-" + _.get(this.getFeatureData("userContext"), "geo.preferredLocale.country", "US")), e = 0; e < t.length; e++) {
                    var a = t[e].key;
                    if (a === n) return e
                }
            },
            getCurrentLanguage: function() {
                var e, t = this.getUserLanguage();
                return e = void 0 !== this.state.langIndex ? this.state.langIndex : this.getInitialLanguageIndex(), t[e] && t[e].key
            },
            render: function() {
                var e, t = this.getUserLanguage(),
                    n = this.getStrings(BUNDLE);
                return e = void 0 !== this.state.langIndex ? t[this.state.langIndex] : t[this.getInitialLanguageIndex()], React.createElement("div", {
                    className: "profileDropDown"
                }, React.createElement("div", {
                    className: "profileDropDown-label"
                }, n.get("dropDownHeader")), React.createElement(DropDown, {
                    options: t,
                    cols: 2,
                    widthRestricted: !1,
                    defaultValue: e
                }))
            }
        });
    module.exports = ProfileLangDropDown;


});


Requireify.register('js/akira/components/profile/profileMaturityDropdown.jsx', function(require, requireAsync, module, exports) {


    "use strict";
    var React = require("react"),
        DropDown = require("../controls/nfDropdown.jsx"),
        I18N = require("../../../reactMixins/i18nWithDeps"),
        AutoFetch = require("../../../reactMixins/falkor-auto-fetch"),
        KIDS_MATURITY_INDEX = 1,
        MATURITY_LEVELS_LAST_INDEX = 3,
        BUNDLE = "discovery/partials/profiles_gate:maturityRating",
        ProfileLangDropDown = React.createClass({
            displayName: "ProfileLangDropDown",
            statics: {
                __meta__: {
                    strings: [{
                        bundle: BUNDLE,
                        all: !0
                    }]
                },
                getPaths: function(t, e, i) {
                    return [
                        ["maturityRatings"]
                    ]
                }
            },
            getInitialState: function() {
                return {
                    maturityIndex: void 0
                }
            },
            mixins: [AutoFetch, I18N],
            getMaturityLabels: function() {
                var t, e = this.getStrings(BUNDLE),
                    i = [],
                    r = this.getMaturityModel();
                if (r)
                    for (t = 0; t <= r.length; t++) i.push(e.get(r[t]));
                return i
            },
            getMaturityModel: function() {
                var t = this.props.model,
                    e = t && t.bind(["maturityRatings"]).getBoundValue(),
                    i = e && e.value;
                return i
            },
            getMaturityOptions: function() {
                var t, e, i = this.getMaturityModel(),
                    r = this.props.isOwner && !this.props.isKid ? 2 : 0,
                    a = this.props.isKid ? KIDS_MATURITY_INDEX : MATURITY_LEVELS_LAST_INDEX,
                    n = this.getMaturityLabels(),
                    s = [];
                if (i)
                    for (t = r; a >= t; t++) {
                        var o = n[t];
                        o && (e = React.createElement("a", {
                            className: "user-lang-link",
                            key: t,
                            onClick: this.dropDownClickHandler(t)
                        }, o), s.push(e))
                    }
                return s
            },
            handleKidsLabelClick: function(t) {
                var e = t ? 1 : MATURITY_LEVELS_LAST_INDEX;
                this.setState({
                    maturityIndex: e
                }), this.forceUpdate()
            },
            dropDownClickHandler: function(t) {
                var e = this;
                return function() {
                    e.handleMaturityDropDownChange(t)
                }
            },
            handleMaturityDropDownChange: function(t) {
                this.setState({
                    maturityIndex: t
                }), KIDS_MATURITY_INDEX >= t && this.props.onselectKidsMaturity()
            },
            getCurrentMaturityIndex: function() {
                var t = this.getMaturityModel();
                return void 0 !== this.state.maturityIndex ? this.state.maturityIndex : t && t.indexOf(this.props.initialMaturityKey)
            },
            getCurrentMaturityKey: function() {
                var t = this.getMaturityModel();
                return t && t[this.getCurrentMaturityIndex()]
            },
            getCurrentMaturityLabel: function() {
                var t = this.getStrings(BUNDLE);
                if (void 0 === this.state.maturityIndex) return t.get(this.props.initialMaturityKey);
                var e = this.getMaturityModel(),
                    i = e && e[this.getCurrentMaturityIndex()];
                return i ? t.get(i) : t.get(this.props.initialMaturityKey)
            },
            render: function() {
                var t, e = this.getMaturityOptions(),
                    i = this.getStrings(BUNDLE);
                return t = this.getCurrentMaturityLabel(), React.createElement("div", {
                    className: "profileDropDown"
                }, React.createElement("div", {
                    className: "profileDropDown-label"
                }, i.get("dropDownHeader")), React.createElement(DropDown, {
                    options: e,
                    cols: 1,
                    widthRestricted: !0,
                    defaultValue: t
                }))
            }
        });
    module.exports = ProfileLangDropDown;


});


Requireify.register('js/akira/components/profile/profileEdit.jsx', function(require, requireAsync, module, exports) {


    "use strict";
    var React = require("react"),
        classNames = require("classnames"),
        I18N = require("../../../reactMixins/i18nWithDeps"),
        Transition = require("../../../reactMixins/transition"),
        KeyCodes = require("../../../common/keyCodes"),
        ProfileTooltip = require("./create/profileTooltip.jsx"),
        ProfileManager = require("../../../utils/profileManager"),
        ProfileLangDropdown = require("./profileLangDropdown.jsx"),
        ProfileMaturityDropdown = require("./profileMaturityDropdown.jsx"),
        LoadingSpinner = require("../loaders/loadingSpinner.jsx"),
        AutoFetch = require("../../../reactMixins/falkor-auto-fetch"),
        ProfileAvatar = require("./create/profileAvatar.jsx"),
        URLs = require("../../../utils/urls"),
        EventBus = require("../../../reactMixins/eventBus"),
        SVGIcon = require("../../../common/svgIcon.jsx"),
        AVATAR_WIDTH = 320,
        SMALL_AVATAR_WIDTH = 50,
        BUNDLE = "discovery/partials/profiles_gate:manageProfile",
        DEFAULT_PROFILE_NAME_VALUE = "",
        MAX_PROFILE_COUNT = 5,
        MAX_AVATAR_COUNT = 20;
    module.exports = React.createClass({
        displayName: "exports",
        mixins: [I18N, Transition, AutoFetch],
        statics: {
            __meta__: {
                strings: [{
                    bundle: BUNDLE,
                    ids: ["header", "label.kids", "error.name", "error.create", "button.save", "button.cancel", "button.delete", "placeholder.name", "tooltip.kids"]
                }]
            },
            getPaths: function(e, t, i) {
                return [
                    ["profilesList", "availableAvatarsList", "summary"],
                    ["profilesList", "availableAvatarsList", {
                        to: MAX_AVATAR_COUNT
                    }, "summary"],
                    ["profilesList", "availableAvatarsList", {
                        to: MAX_AVATAR_COUNT
                    }, "images", "byWidth", [AVATAR_WIDTH, SMALL_AVATAR_WIDTH]],
                    ["profilesList", {
                        to: MAX_PROFILE_COUNT
                    }, "avatar", "summary"],
                    ["profilesList", {
                        to: MAX_PROFILE_COUNT
                    }, "avatar", "images", "byWidth", SMALL_AVATAR_WIDTH]
                ]
            }
        },
        transitions: {
            show: {
                target: "centeredDiv",
                before: {
                    scale: 1.1,
                    opacity: 0
                },
                scale: 1,
                opacity: 1,
                duration: 450,
                delay: 200
            }
        },
        getInitialState: function() {
            return {
                showKidsTooltip: !1,
                newProfileIsForAKid: null,
                newProfileName: null,
                newProfileRequested: !1,
                newProfileAvatarSrc: null,
                newProfileAvatarName: null,
                attemptedInvalidEditProfile: !1,
                attemptedInvalidNewProfile: !1,
                inAvatarEditMode: !1,
                isSaving: !1
            }
        },
        componentDidMount: function() {
            this.refs["profile-name-entry"] && this.refs["profile-name-entry"].getDOMNode().focus()
        },
        isValidData: function() {
            return this.state.newProfileName !== DEFAULT_PROFILE_NAME_VALUE
        },
        inputNameHandler: function(e) {
            this.setState({
                newProfileName: e.target.value,
                attemptedInvalidNewProfile: !1
            })
        },
        inputNameKeyDownHandler: function(e) {
            e && e.which === KeyCodes.ENTER && this.clickContinueHandler()
        },
        shouldReloadPage: function(e, t) {
            return this.isActiveProfile() ? this.getInitialLanguage() !== e || this.getInitialMaturity() !== t : !1
        },
        clickContinueHandler: function() {
            if (EventBus.emit("profile:editStart"), this.isValidData()) {
                var e, t = this.props.newProfile,
                    i = this,
                    a = t && t.getValueSync(["summary"]).guid,
                    r = this.state.newProfileName,
                    n = this.state.newProfileAvatarName,
                    s = null !== this.state.newProfileIsForAKid,
                    l = this.refs["language-dropdown"].getCurrentLanguage(),
                    o = this.refs["maturity-dropdown"].getCurrentMaturityKey(),
                    c = this.shouldReloadPage(l, o),
                    d = [
                        ["profilesList", "summary"],
                        ["profilesList", {
                            to: MAX_PROFILE_COUNT
                        }, "summary"],
                        ["profilesList", {
                            to: MAX_PROFILE_COUNT
                        }, "avatar", "images", "byWidth", AVATAR_WIDTH]
                    ];
                s && (e = this.state.newProfileIsForAKid ? "jfk" : "standard"), this.setState({
                    isSaving: !0
                }), this.props.model.call(["profiles", a, "edit"], [r, e, l, n, o], [], d).subscribe(function() {
                    var e = i.props.newProfile.getValueSync(["editProfileResult"]).success;
                    e ? (EventBus.emit("profile:editEnd", {
                        reason: "success",
                        profileGuid: a,
                        kid: i.state.newProfileIsForAKid
                    }), c ? location.href = URLs.page.manageProfiles : ProfileManager.openEditList()) : (EventBus.emit("profile:editEnd", {
                        profileGuid: a,
                        kid: i.getCurrentKidsSelection()
                    }), i.setState({
                        attemptedInvalidEditProfile: !0,
                        attemptedInvalidNewProfile: !1,
                        isSaving: !1
                    }))
                })
            } else this.setState({
                attemptedInvalidEditProfile: !1,
                attemptedInvalidNewProfile: !0
            })
        },
        clickCancelHandler: function() {
            ProfileManager.openEditList()
        },
        clickDeleteHandler: function() {
            var e = this.props.newProfile && this.props.newProfile.getValueSync(["summary"]).guid;
            ProfileManager.openDeleteProfile(this.props.newProfile), EventBus.emit("profile:deleteStart", {
                profileGuid: e
            })
        },
        clickKidsLabelHandler: function() {
            this.setState({
                newProfileIsForAKid: !this.getCurrentKidsSelection()
            }), this.refs["maturity-dropdown"].handleKidsLabelClick(!this.getCurrentKidsSelection())
        },
        checkKidsLabel: function() {
            this.setState({
                newProfileIsForAKid: !0
            })
        },
        clickAvatarIconHandler: function(e) {
            this.setState({
                inAvatarEditMode: !1,
                newProfileAvatarSrc: e.getValueSync(["images", "byWidth", AVATAR_WIDTH]),
                newProfileAvatarName: e.getValueSync(["summary"]).name
            })
        },
        dismissAvatarModal: function(e) {
            this.state.inAvatarEditMode && this.setState({
                inAvatarEditMode: !1
            })
        },
        clickAvatarEditIconHandle: function() {
            this.setState({
                inAvatarEditMode: !0
            })
        },
        targetValidForTooltip: function(e) {
            return this.refs["add-kids-profile"] && this.refs["add-kids-profile"].getDOMNode().contains(e) || this.refs["add-kids-label"] && this.refs["add-kids-label"].getDOMNode().contains(e) || this.refs["add-kids-marker"] && this.refs["add-kids-marker"].getDOMNode().contains(e)
        },
        mouseOverKidsLabel: function(e) {
            this.getTooltip() && this.targetValidForTooltip(e.target) && (clearTimeout(this.timeoutHideKidsLabel), this.state.showKidsTooltip || this.setState({
                showKidsTooltip: !0
            }))
        },
        mouseOutKidsLabel: function(e) {
            var t = this;
            this.getTooltip() && !this.targetValidForTooltip(e.relatedTarget) && (clearTimeout(this.timeoutHideKidsLabel), this.state.showKidsTooltip && (this.timeoutHideKidsLabel = setTimeout(function() {
                t.setState({
                    showKidsTooltip: !1
                })
            }, 400)))
        },
        getTooltip: function() {
            var e = this.getString(BUNDLE, "tooltip.kids");
            return e.indexOf("addProfile") < 0 ? e : !1
        },
        getInitialLanguage: function() {
            var e = this.props.newProfile;
            return e && e.getValueSync(["summary"]).language
        },
        getInitialMaturity: function() {
            var e = this.props.newProfile;
            return e && e.getValueSync(["summary"]).maturityLevel
        },
        getInitialKidsSelection: function() {
            var e = this.props.newProfile;
            return e && e.getValueSync(["summary"]).isKids
        },
        getCurrentProfileName: function() {
            if (null !== this.state.newProfileName) return this.state.newProfileName;
            var e = this.props.newProfile;
            return e && e.getValueSync(["summary"]).profileName
        },
        getCurrentKidsSelection: function() {
            if (null !== this.state.newProfileIsForAKid) return this.state.newProfileIsForAKid;
            var e = this.props.newProfile;
            return e && e.getValueSync(["summary"]).isKids
        },
        getCurrentAvatar: function() {
            if (this.state.newProfileAvatarSrc) return this.state.newProfileAvatarSrc;
            var e = this.props.newProfile;
            return e && e.getValueSync(["avatar", "images", "byWidth", AVATAR_WIDTH])
        },
        isActiveProfile: function() {
            var e = this.props.newProfile;
            return e && e.getValueSync(["summary"]).isActive
        },
        inAvatarEditMode: function() {
            return this.state.inAvatarEditMode
        },
        renderProfileAvatars: function() {
            var e, t = this.props.model.bind(["profilesList", "availableAvatarsList"]),
                i = t && t.getValueSync(["summary"]),
                a = i && i.length || MAX_AVATAR_COUNT,
                r = [],
                n = this.props.newProfile.bind(["avatar"]),
                s = n.getValueSync(["images", "byWidth", SMALL_AVATAR_WIDTH]);
            for (s && r.push(React.createElement("li", {
                    key: "avatar0",
                    role: "listitem",
                    onClick: this.clickAvatarClickHandler(n)
                }, React.createElement(ProfileAvatar, {
                    profileAvatarSrc: s
                }))), e = 0; e < Math.min(a, MAX_AVATAR_COUNT); e++) {
                var l = t.bind([e]);
                if (l) {
                    var o = l.getValueSync(["images", "byWidth", SMALL_AVATAR_WIDTH]);
                    o && r.push(React.createElement("li", {
                        key: "avatar" + (e + 1),
                        role: "listitem",
                        onClick: this.clickAvatarClickHandler(l)
                    }, React.createElement(ProfileAvatar, {
                        profileAvatarSrc: o
                    })))
                }
            }
            return r
        },
        clickAvatarClickHandler: function(e) {
            var t = this;
            return function() {
                t.clickAvatarIconHandler(e)
            }
        },
        render: function() {
            var e = this.getTooltip(),
                t = this.isValidData(),
                i = !t && this.state.attemptedInvalidNewProfile,
                a = this.state.attemptedInvalidEditProfile,
                r = this.getStrings(BUNDLE),
                n = classNames({
                    "profile-button": !0,
                    "preferred-action": !0
                }),
                s = classNames({
                    "main-profile-avatar": !0
                }),
                l = classNames({
                    "name-error": i
                }),
                o = this.props.newProfile,
                c = this.getCurrentAvatar(),
                d = this.getCurrentKidsSelection(),
                u = this.getCurrentProfileName(),
                f = o && o.getValueSync(["summary"]).isAccountOwner,
                m = this.getInitialLanguage(o),
                p = this.getInitialMaturity(o),
                h = this.props.model.bind(["profilesList"]),
                g = this.state.inAvatarEditMode;
            return React.createElement("div", {
                className: "centered-div",
                ref: "centeredDiv",
                onClick: this.dismissAvatarModal
            }, React.createElement("div", {
                className: "profile-actions-container",
                ref: "edit-profile"
            }, this.state.isSaving ? React.createElement("div", {
                className: "profileSavingMask",
                key: "profileSavingMask"
            }, React.createElement(LoadingSpinner, null)) : null, React.createElement("h1", null, r.get("header")), React.createElement("div", {
                className: "profile-metadata profile-entry"
            }, React.createElement("div", {
                className: s
            }, React.createElement(ProfileAvatar, {
                profileAvatarSrc: c
            }), React.createElement("div", {
                className: "avatar-edit-icon",
                onClick: this.clickAvatarEditIconHandle
            }, React.createElement(SVGIcon, {
                name: "edit"
            }))), React.createElement("div", {
                className: "profile-edit-parent"
            }, React.createElement("div", {
                className: "profile-edit-inputs",
                onMouseOver: this.mouseOverKidsLabel,
                onMouseOut: this.mouseOutKidsLabel
            }, React.createElement("input", {
                type: "text",
                value: u,
                className: l,
                ref: "profile-name-entry",
                placeholder: r.get("placeholder.name"),
                onChange: this.inputNameHandler,
                onKeyDown: this.inputNameKeyDownHandler
            }), !f || this.getInitialKidsSelection() ? React.createElement("span", null, React.createElement("input", {
                type: "checkbox",
                id: "add-kids-profile",
                ref: "add-kids-profile",
                checked: d,
                onChange: this.NOOP
            }), React.createElement("label", {
                htmlFor: "add-kids-profile",
                ref: "add-kids-label",
                onClick: this.clickKidsLabelHandler
            }), React.createElement("span", {
                className: "add-kids-marker",
                ref: "add-kids-marker",
                onClick: this.clickKidsLabelHandler
            }, r.get("label.kids")), e && this.state.showKidsTooltip ? React.createElement(ProfileTooltip, {
                tooltipText: e
            }) : null) : null), i ? React.createElement("p", {
                className: "profile-entry-error"
            }, r.get("error.name")) : null, a ? React.createElement("p", {
                className: "profile-entry-error"
            }, r.get("error.create")) : null, React.createElement("div", {
                className: "profile-entry-dropdowns"
            }, React.createElement(ProfileLangDropdown, {
                pqls: ProfileLangDropdown.getPaths(),
                ref: "language-dropdown",
                model: h,
                language: m
            }), React.createElement(ProfileMaturityDropdown, {
                pqls: ProfileMaturityDropdown.getPaths(),
                ref: "maturity-dropdown",
                model: h,
                onselectKidsMaturity: this.checkKidsLabel,
                initialMaturityKey: p,
                isKid: d,
                isOwner: f
            })))), g ? React.createElement("ul", {
                className: "avatar-container"
            }, this.renderProfileAvatars()) : null, React.createElement("span", {
                className: n,
                onClick: this.clickContinueHandler
            }, React.createElement("span", null, r.get("button.save"))), React.createElement("span", {
                className: "profile-button",
                onClick: this.clickCancelHandler
            }, React.createElement("span", null, r.get("button.cancel"))), f ? null : React.createElement("span", {
                className: "profile-button",
                onClick: this.clickDeleteHandler
            }, React.createElement("span", null, r.get("button.delete")))))
        }
    });


});


Requireify.register('js/akira/components/profile/profileDelete.jsx', function(require, requireAsync, module, exports) {


    "use strict";
    var React = require("react"),
        classNames = require("classnames"),
        I18N = require("../../../reactMixins/i18nWithDeps"),
        Transition = require("../../../reactMixins/transition"),
        ProfileManager = require("../../../utils/profileManager"),
        EventBus = require("../../../reactMixins/eventBus"),
        LoadingSpinner = require("../loaders/loadingSpinner.jsx"),
        ProfileAvatar = require("./create/profileAvatar.jsx"),
        AVATAR_WIDTH = 320,
        BUNDLE = "discovery/partials/profiles_gate:deleteProfile",
        MAX_PROFILE_COUNT = 5;
    module.exports = React.createClass({
        displayName: "exports",
        contextTypes: {
            pathEvaluator: React.PropTypes.object
        },
        mixins: [I18N, Transition],
        statics: {
            __meta__: {
                strings: [{
                    bundle: BUNDLE,
                    ids: ["header", "button.keep", "button.delete", "warning"]
                }]
            }
        },
        transitions: {
            show: {
                target: "centeredDiv",
                before: {
                    scale: 1.1,
                    opacity: 0
                },
                scale: 1,
                opacity: 1,
                duration: 450,
                delay: 200
            }
        },
        getInitialState: function() {
            return {
                isSaving: !1
            }
        },
        clickDeleteHandler: function() {
            var e = this.props.newProfile,
                t = e && e.getValueSync(["summary"]).guid,
                a = [
                    ["profilesList", "summary"],
                    ["profilesList", {
                        to: MAX_PROFILE_COUNT
                    }, "summary"],
                    ["profilesList", {
                        to: MAX_PROFILE_COUNT
                    }, "avatar", "images", "byWidth", AVATAR_WIDTH]
                ];
            this.setState({
                isSaving: !0
            }), this.props.profileList.call(["profilesList", "remove"], [t], [], a).subscribe(function(e) {
                EventBus.emit("profile:deleteEnd", {
                    profileGuid: t
                }), ProfileManager.openEditList()
            })
        },
        clickKeepHandler: function() {
            ProfileManager.openEditProfile(this.props.newProfile)
        },
        render: function() {
            var e = this.getStrings(BUNDLE),
                t = classNames({
                    "profile-button": !0,
                    "preferred-action": !0
                }),
                a = classNames({
                    "profile-metadata": !0,
                    "profile-entry": !0
                }),
                i = this.props.newProfile,
                r = i && i.getValueSync(["avatar", "images", "byWidth", AVATAR_WIDTH]),
                n = i && i.getValueSync(["summary"]).profileName;
            return React.createElement("div", {
                className: "centered-div",
                ref: "centeredDiv"
            }, React.createElement("div", {
                className: "profile-actions-container",
                ref: "delete-profile"
            }, this.state.isSaving ? React.createElement("div", {
                className: "profileSavingMask",
                key: "profileSavingMask"
            }, React.createElement(LoadingSpinner, null)) : null, React.createElement("h1", null, e.get("header")), React.createElement("div", {
                className: a
            }, React.createElement("div", {
                className: "main-profile-avatar"
            }, React.createElement(ProfileAvatar, {
                profileAvatarSrc: r
            }), React.createElement("div", {
                className: "profile-name"
            }, n)), React.createElement("div", {
                className: "profile-delete-warning"
            }, e.get("warning"))), React.createElement("span", {
                className: t,
                onClick: this.clickKeepHandler
            }, React.createElement("span", null, e.get("button.keep"))), React.createElement("span", {
                className: "profile-button",
                onClick: this.clickDeleteHandler
            }, React.createElement("span", null, e.get("button.delete")))))
        }
    });


});


Requireify.register('js/akira/components/profile/profilesGate.jsx', function(require, requireAsync, module, exports) {


    "use strict";
    var React = require("react"),
        ProfileChoices = require("./profileChoices.jsx"),
        ProfileLoad = require("./profileLoad.jsx"),
        ProfileCreate = require("./profileCreate.jsx"),
        ProfileEdit = require("./profileEdit.jsx"),
        ProfileDelete = require("./profileDelete.jsx"),
        FalkorFetch = require("../../../reactMixins/falkor-fetch"),
        ProfileManager = require("../../../utils/profileManager"),
        DynamicMessages = require("../../../utils/dynamicMessages/dynamicMessages"),
        AVATAR_WIDTH = 320,
        MAX_PROFILE_COUNT = 5,
        ProfilesGate = React.createClass({
            displayName: "ProfilesGate",
            mixins: [FalkorFetch],
            statics: {
                getPaths: function(e, r, i) {
                    return [
                        ["profilesList", "summary"],
                        ["profilesList", {
                            to: MAX_PROFILE_COUNT
                        }, "summary"],
                        ["profilesList", {
                            to: MAX_PROFILE_COUNT
                        }, "avatar", "images", "byWidth", AVATAR_WIDTH]
                    ]
                }
            },
            getInitialState: function() {
                return {
                    animateSwitchingProfilesComplete: !1
                }
            },
            componentDidMount: function() {
                DynamicMessages.stub || DynamicMessages.poll(DynamicMessages.pollingTypes.PROFILESGATE).subscribe()
            },
            componentWillUnmount: function() {
                DynamicMessages.stub || DynamicMessages.stop()
            },
            renderProfileList: function(e) {
                var r = this.props.model.bind(["profilesList"]);
                return React.createElement(ProfileChoices, {
                    key: "listProfile",
                    activeView: e,
                    model: r
                })
            },
            renderProfileLoading: function(e, r) {
                return React.createElement(ProfileLoad, {
                    key: "loadProfile",
                    newProfile: r,
                    errorLoadingProfile: e
                })
            },
            renderProfileCreate: function(e) {
                return React.createElement(ProfileCreate, {
                    key: "createProfile",
                    refetchPageChromeData: this.props.refetchPageChromeData,
                    previousView: e
                })
            },
            renderProfileEdit: function(e) {
                return React.createElement(ProfileEdit, {
                    key: "createProfile",
                    pqls: ProfileEdit.getPaths(),
                    model: this.props.model,
                    newProfile: e
                })
            },
            renderProfileDelete: function(e) {
                return React.createElement(ProfileDelete, {
                    key: "createProfile",
                    profileList: this.props.model,
                    newProfile: e
                })
            },
            render: function() {
                var e = this.props.model.bind(["profilesList"]),
                    r = e.getValueSync(["summary"]),
                    i = this.props.profileGateAppState,
                    t = i && i.activeView,
                    o = i && i.newProfile,
                    a = i && i.previousView,
                    l = t === ProfileManager.VIEWS.LOAD_PROFILE_ERROR,
                    s = null;
                return r && r.length ? (t === ProfileManager.VIEWS.LIST ? s = this.renderProfileList(t) : t === ProfileManager.VIEWS.MANAGE_PROFILES ? s = this.renderProfileList(t) : t === ProfileManager.VIEWS.LOAD_PROFILE || l ? s = this.renderProfileLoading(l, o) : t === ProfileManager.VIEWS.CREATE_PROFILE ? s = this.renderProfileCreate(a) : t === ProfileManager.VIEWS.UPDATE_PROFILE ? s = this.renderProfileEdit(o) : t === ProfileManager.VIEWS.DELETE_PROFILE && (s = this.renderProfileDelete(o)), React.createElement("div", {
                    className: "profiles-gate-container"
                }, s)) : null
            }
        });
    module.exports = ProfilesGate;


});


Requireify.register('js/akira/components/modals/modalOverlay.jsx', function(require, requireAsync, module, exports) {


    "use strict";
    var React = require("react"),
        Transition = require("../../../reactMixins/transition"),
        EventBus = require("../../../reactMixins/eventBus"),
        CLOSE_EVENT = "app:closeModalOverlay",
        ModalOverlay = React.createClass({
            displayName: "ModalOverlay",
            mixins: [Transition],
            _onClickMargin: function(e) {
                "modal-overlay-content" === e.target.className && this.props.canDismiss && (this.props.onDismiss && this.props.onDismiss(), ModalOverlay.close())
            },
            transitions: {
                show: function(e, a) {
                    var t = this;
                    this.animate({
                        delay: 500,
                        opacity: 1,
                        duration: 500,
                        callback: function() {
                            t.animate({
                                target: "overlay-content",
                                opacity: 1,
                                duration: 500,
                                callback: a
                            })
                        }
                    })
                },
                fadeOut: 750
            },
            render: function() {
                return React.createElement("div", {
                    className: "modal-overlay"
                }, React.createElement("div", {
                    className: "modal-overlay-smoked-glass"
                }), React.createElement("div", {
                    className: "modal-overlay-content",
                    ref: "overlay-content",
                    onClick: this._onClickMargin
                }, this.props.children))
            }
        });
    ModalOverlay.close = function() {
        EventBus.emit(CLOSE_EVENT)
    }, ModalOverlay.onClose = function(e) {
        EventBus.once(CLOSE_EVENT, e)
    }, module.exports = ModalOverlay;


});


Requireify.register('js/account/components/nfButton.jsx', function(require, requireAsync, module, exports) {


    "use strict";
    var React = require("react"),
        NFButton = React.createClass({
            displayName: "NFButton",
            handleClick: function(t) {
                this.props.handleClick && this.props.handleClick(t)
            },
            getDefaultProps: function() {
                return {
                    enabled: !0,
                    additionalClasses: ""
                }
            },
            componentDidUpdate: function() {
                var t = React.findDOMNode(this);
                this.props.enabled && t.disabled ? t.removeAttribute("disabled") : this.props.enabled || t.setAttribute("disabled", !0)
            },
            render: function() {
                var t = "button " + this.props.additionalClasses + (this.props.enabled ? "" : " disabled");
                return React.createElement("button", {
                    className: t,
                    id: this.props.id,
                    onClick: this.handleClick
                }, this.props.text)
            }
        });
    module.exports = NFButton;


});


Requireify.register('js/akira/components/modals/satisfactionSurvey.jsx', function(require, requireAsync, module, exports) {


    "use strict";
    var React = require("react"),
        Transition = require("../../../reactMixins/transition"),
        i18n = require("../../../reactMixins/i18nWithDeps"),
        EventBus = require("../../../reactMixins/eventBus"),
        BasicStarBar = require("../title/basicStarBar.jsx"),
        ModalOverlay = require("./modalOverlay.jsx"),
        NFButton = require("../../../account/components/nfButton.jsx"),
        BUNDLE = "discovery/akira/Messaging:messaging.satisfactionSurvey",
        SatisfactionSurvey = React.createClass({
            displayName: "SatisfactionSurvey",
            mixins: [i18n, Transition],
            statics: {
                __meta__: {
                    strings: [{
                        bundle: BUNDLE,
                        ids: ["help", "thanks", "submit", "question.1.text", "question.1.starbar.tooltip.1", "question.1.starbar.tooltip.2", "question.1.starbar.tooltip.3", "question.1.starbar.tooltip.4", "question.1.starbar.tooltip.5"]
                    }]
                }
            },
            getInitialState: function() {
                return {
                    rating: 0
                }
            },
            componentDidMount: function() {
                EventBus.emit("satisfactionSurvey:open")
            },
            onStarBarRating: function(t) {
                this.setState({
                    rating: t
                })
            },
            onSubmit: function() {
                this.state.rating && (EventBus.emit("satisfactionSurvey:close", {
                    rating: this.state.rating
                }), this.animate({
                    target: "page-question",
                    opacity: 0,
                    duration: 500
                }), this.animate({
                    target: "page-thanks",
                    before: {
                        display: "block"
                    },
                    opacity: 1,
                    duration: 750
                }), setTimeout(function() {
                    ModalOverlay.close()
                }, 1500))
            },
            onDismiss: function() {
                EventBus.emit("satisfactionSurvey:close", {
                    rating: 0
                })
            },
            getStarbarLabels: function(t) {
                for (var e = [], a = 1; 5 >= a; a++) e.push(t.get("question.1.starbar.tooltip." + a));
                return e
            },
            render: function() {
                var t = this.getStrings(BUNDLE);
                return React.createElement(ModalOverlay, {
                    canDismiss: !0,
                    onDismiss: this.onDismiss
                }, React.createElement("div", {
                    className: "survey-content"
                }, React.createElement("div", {
                    className: "page-question",
                    ref: "page-question"
                }, React.createElement("div", {
                    className: "survey-question"
                }, t.get("question.1.text")), React.createElement("div", {
                    className: "survey-hint",
                    dangerouslySetInnerHTML: {
                        __html: t.get("help")
                    }
                }), React.createElement("div", {
                    className: "survey-starbar"
                }, React.createElement(BasicStarBar, {
                    predictedRating: "0",
                    userRating: this.state.rating,
                    onRating: this.onStarBarRating,
                    tooltip: this.getStarbarLabels(t)
                })), React.createElement(NFButton, {
                    handleClick: this.onSubmit,
                    additionalClasses: "action-button responsive",
                    enabled: this.state.rating > 0,
                    text: t.get("submit")
                })), React.createElement("div", {
                    className: "page-thanks",
                    ref: "page-thanks"
                }, t.get("thanks"))))
            }
        });
    SatisfactionSurvey.onClose = function(t) {
        return ModalOverlay.onClose(t)
    }, module.exports = SatisfactionSurvey;


});


Requireify.register('js/reactMixins/columnsInRow.js', function(require, requireAsync, module, exports) {


    "use strict";
    var Position = require("../common/position"),
        BrowserResize = require("./browserResize"),
        DEFAULT_NUM_COLUMNS = 6,
        DESIGN_STOP_PHONE = 500,
        DESIGN_STOP_SMALL = 800,
        DESIGN_STOP_MEDIUM = 1100,
        DESIGN_STOP_LARGE = 1400;
    module.exports = {
        mixins: [BrowserResize],
        getInitialState: function() {
            return {
                columnsInRow: DEFAULT_NUM_COLUMNS
            }
        },
        componentDidMount: function() {
            this.onResize()
        },
        onResize: function() {
            var S = Position.getWindowRect().width,
                e = null;
            DESIGN_STOP_PHONE >= S ? e = 2 : S > DESIGN_STOP_PHONE && DESIGN_STOP_SMALL >= S ? e = 3 : S > DESIGN_STOP_SMALL && DESIGN_STOP_MEDIUM >= S ? e = 4 : S > DESIGN_STOP_MEDIUM && DESIGN_STOP_LARGE >= S ? e = 5 : S > DESIGN_STOP_LARGE && (e = 6), e && this.state.columnsInRow !== e && this.setState({
                columnsInRow: e
            })
        }
    };


});


Requireify.register('js/reactMixins/browserVisibility.js', function(require, requireAsync, module, exports) {


    "use strict";

    function onWindowVisibilityChange() {
        EventBus.emit("window-visibility:changed", !document[PROPERTY_NAME])
    }
    var EventBus = require("./eventBus"),
        PROPERTY_NAME = "hidden",
        EVENT_NAME = "visibilitychange",
        browserVisibilityMixin = {
            componentDidMount: function() {
                document.addEventListener(EVENT_NAME, onWindowVisibilityChange)
            },
            componentWillUnmount: function() {
                document.removeEventListener(EVENT_NAME, onWindowVisibilityChange)
            }
        };
    module.exports = browserVisibilityMixin;


});


Requireify.register('js/akira/layouts/akiraLayout.jsx', function(require, requireAsync, module, exports) {


    "use strict";
    var _extends = Object.assign || function(e) {
            for (var t = 1; t < arguments.length; t++) {
                var r = arguments[t];
                for (var a in r) Object.prototype.hasOwnProperty.call(r, a) && (e[a] = r[a])
            }
            return e
        },
        React = require("react"),
        Router = require("react-router"),
        nfProps = require("nf-iso-properties"),
        _ = require("lodash"),
        AdtechIFrame = require("../../common/adtech-iFrame.js"),
        Uma = require("../../components/uma.jsx"),
        Header = require("../components/header/appHeader.jsx"),
        Footer = require("../components/footer/appFooter.jsx"),
        ProfilesGate = require("../components/profile/profilesGate.jsx"),
        SatisfactionSurvey = require("../components/modals/satisfactionSurvey.jsx"),
        TimeoutTransitionGroup = require("../components/timeoutTransitionGroup.jsx"),
        I18N = require("../../reactMixins/i18nWithDeps"),
        FalkorFetch = require("../../reactMixins/falkor-fetch"),
        BrowserScroll = require("../../reactMixins/browserScroll"),
        EventBus = require("../../reactMixins/eventBus"),
        ColumnsInRow = require("../../reactMixins/columnsInRow"),
        BrowserVisibility = require("../../reactMixins/browserVisibility"),
        WindowOnErrorLogging = require("../../reactMixins/windowOnError"),
        ProfileManager = require("../../utils/profileManager"),
        PathEvaluatorUtils = require("../../utils/pathEvaluatorUtils"),
        Cookies = require("../../reactMixins/isomorphicCookies"),
        VideoPreparer = require("../../utils/player/videoPreparer"),
        VideoSession = require("../../utils/player/videoSession"),
        NanoPlayerConsts = require("../../nanoPlayer/nanoPlayerConstants"),
        ON_SCROLL_STOP_HOVERS_THRESHOLD_PX = 50,
        PAGE_TRANSITION_ENTER_SLA_MS = 200,
        PAGE_TRANSITION_ENTER_DELAY_MS = 250,
        PAGE_TRANSITION_LEAVE_SLA_MS = 200,
        ENABLE_POINTER_EVENTS_DELAY = 100,
        MYLIST_SORTSETTING_PATH = [
            ["profilesList", "current", "usesManualMyListSort"]
        ],
        AkiraLayout = React.createClass({
            displayName: "AkiraLayout",
            mixins: [I18N, FalkorFetch, BrowserScroll, Router.State, Router.Navigation, ColumnsInRow, Cookies, BrowserVisibility, WindowOnErrorLogging],
            childContextTypes: {
                node: React.PropTypes.object,
                jsongDocument: React.PropTypes.object,
                columnsInRow: React.PropTypes.number,
                currentPage: React.PropTypes.string,
                promotionalVideoHasPlayed: React.PropTypes.bool,
                isInitialRender: React.PropTypes.bool
            },
            getChildContext: function() {
                return {
                    node: this.props.model.node,
                    jsongDocument: this.props.model.pathEvaluator,
                    columnsInRow: this.state.columnsInRow,
                    currentPage: this.props.uiView,
                    promotionalVideoHasPlayed: this.props.promotionalVideoHasPlayed,
                    isInitialRender: this.props.isInitialRender
                }
            },
            getInitialState: function() {
                var e = this.getFeatureData("umaData") || null;
                return {
                    uma: e && e.uma,
                    modalOverlay: null,
                    hideHeader: !1,
                    isPrefetchingPaths: !1
                }
            },
            componentWillMount: function() {
                "client" === this.props.renderSource && this.logPageChange()
            },
            componentDidMount: function() {
                this.prefetchPageData(), this.checkForSurveyOverlay(), AdtechIFrame.sendAdTech("homeScreen", "current"), VideoPreparer.stub || VideoPreparer.initialize(), EventBus.on("appHeader:hide", this.hideHeader), EventBus.on("appHeader:show", this.showHeader), EventBus.on(NanoPlayerConsts.PROFILE_INACTIVITY_EVENT, this.profileInactivityTimeout)
            },
            componentDidUpdate: function() {
                this.logPageChange()
            },
            componentWillUnmount: function() {
                EventBus.removeListener("appHeader:hide", this.hideHeader), EventBus.removeListener("appHeader:show", this.showHeader), VideoPreparer.stub || VideoPreparer.destroy()
            },
            afterPageTransitionLeave: function() {
                this.scrollTo(0, 0)
            },
            onScroll: function() {
                var e = document.body.style;
                Math.abs(this.getScrollDistance()) > ON_SCROLL_STOP_HOVERS_THRESHOLD_PX && "none" !== e.pointerEvents && (e.pointerEvents = "none")
            },
            onScrollEnd: function() {
                setTimeout(function() {
                    document.body.style.pointerEvents = ""
                }, ENABLE_POINTER_EVENTS_DELAY)
            },
            logPageChange: function() {
                var e = this.getPageProps(),
                    t = this.props.profileGateAppState;
                ProfileManager.isGateOpen(t) ? e.uiView = ProfileManager.getCurrentUIView(t) : e.uiView = this.props.uiView, e.uiView && EventBus.emit("app:pageChange", e)
            },
            prefetchPageData: function() {
                var e = this;
                if (this.isShowingProfilesGate()) {
                    var t = this.getFeatureData("postGateData");
                    t && t.length > 0 && (e.state.isPrefetchingPaths = !0, this.fetchData(this.props.model.pathEvaluator, t, "prefetch-page", function() {
                        e.setState({
                            isPrefetchingPaths: !1
                        })
                    }))
                }
            },
            refetchPageChromeData: function(e) {
                PathEvaluatorUtils.resetCache(this.props.model.pathEvaluator);
                var t = Header.getPaths(null, Header.fullHeaderStrategy).concat(MYLIST_SORTSETTING_PATH).concat(ProfilesGate.getPaths());
                this.fetchData(this.props.model.pathEvaluator, t, null, e, !1)
            },
            isShowingProfilesGate: function() {
                var e = this.props.model.pathEvaluator.bind(["profilesList"]),
                    t = e.getValueSync(["summary"]),
                    r = t && t.length > 1,
                    a = this.props.profileGateAppState;
                return ProfileManager.isGateOpen(a) && (r || ProfileManager.isReloadingProfiles(a) || this.isManageProfiles())
            },
            isShowingUMA: function() {
                return !this.isShowingProfilesGate() && !this.isManageProfiles() && this.state.uma
            },
            hideUMA: function() {
                this.setState({
                    uma: null
                })
            },
            getPageKey: function() {
                var e = this.getPathname();
                return -1 !== this.props.uiView.indexOf("search") && (e = "search"), e
            },
            getPageProps: function() {
                var e = this.getQuery();
                return {
                    id: this.getParams().id,
                    jawBoneRankNum: "undefined" != typeof e.jbp ? parseInt(e.jbp, 10) : null,
                    jawBoneRowNum: "undefined" != typeof e.jbr ? parseInt(e.jbr, 10) : null,
                    jawBoneVideoId: e.jbv
                }
            },
            showOverlay: function(e) {
                this.setState({
                    modalOverlay: e
                })
            },
            closeOverlay: function() {
                this.setState({
                    modalOverlay: null
                })
            },
            checkForSurveyOverlay: function() {
                var e = this,
                    t = this.props.model.pathEvaluator,
                    r = ["messaging", "satisfactionSurvey"];
                nfProps.get("netflix.ui.akira.satisfactionSurvey.disable") || this.fetchData(t, r.concat("messages"), "satisfactionSurvey", function() {
                    var a = t.getValueSync(r.concat("messages"));
                    a && a.messageId && (t.get(r.concat("markAsRead")).subscribe(function() {}), e.showOverlay("satisfactionSurvey"), SatisfactionSurvey.onClose(function() {
                        e.closeOverlay()
                    }))
                })
            },
            hideHeader: function() {
                this.setState({
                    hideHeader: !0
                })
            },
            showHeader: function() {
                this.setState({
                    hideHeader: !1
                })
            },
            isManageProfiles: function() {
                return this.getPageKey().match(/(profiles)/i)
            },
            profileInactivityTimeout: function(e) {
                VideoSession.precacheTrailerIfNeeded(this.props.model.pathEvaluator)
            },
            renderUMA: function() {
                return React.createElement("div", {
                    className: "uma",
                    id: "uma",
                    key: "uma-area"
                }, React.createElement(Uma, {
                    key: "user-uma",
                    model: this.state.uma,
                    hideUma: this.hideUMA
                }))
            },
            renderProfilesGate: function() {
                return React.createElement(ProfilesGate, {
                    model: this.props.model.pathEvaluator,
                    profileGateAppState: this.props.profileGateAppState,
                    refetchPageChromeData: this.refetchPageChromeData
                })
            },
            renderInnerView: function() {
                var e = this.getPageProps(),
                    t = this.getPageKey();
                return ["satisfactionSurvey" === this.state.modalOverlay ? React.createElement(SatisfactionSurvey, null) : null, React.createElement(TimeoutTransitionGroup, {
                    key: "mainView",
                    className: "mainView",
                    role: "main",
                    component: "div",
                    transitionName: "pageTransition",
                    enterTimeout: PAGE_TRANSITION_ENTER_SLA_MS,
                    leaveTimeout: PAGE_TRANSITION_LEAVE_SLA_MS,
                    enterDelayMs: PAGE_TRANSITION_ENTER_DELAY_MS,
                    afterTransitionLeave: this.afterPageTransitionLeave
                }, React.createElement(Router.RouteHandler, _extends({}, this.props, {
                    key: t,
                    jawBoneRankNum: e.jawBoneRankNum,
                    jawBoneRowNum: e.jawBoneRowNum,
                    jawBoneVideoId: e.jawBoneVideoId,
                    isPrefetchingPaths: this.state.isPrefetchingPaths
                }))), this.isManageProfiles() ? null : React.createElement(Footer, {
                    key: "footer"
                })]
            },
            render: function() {
                var e = this.props.model,
                    t = this.getParams().term || "",
                    r = t && decodeURIComponent(t),
                    a = this.isShowingProfilesGate(),
                    i = a || this.isManageProfiles(),
                    o = this.isShowingUMA(),
                    s = !o,
                    n = this.getFeatureData("geo"),
                    l = _.get(n, "preferredLocale.language", "en");
                return React.createElement("div", {
                    className: "bd dark-background",
                    lang: l,
                    onClick: this.handleClick,
                    onChange: this.handleChange,
                    onMouseMove: this.handleMouseMove
                }, o ? this.renderUMA() : null, React.createElement(Header, {
                    model: e,
                    ref: "header",
                    pathEvaluator: e.pathEvaluator,
                    term: r,
                    isShowingProfilesGate: i,
                    pinned: s,
                    hideHeader: this.state.hideHeader
                }), a ? this.renderProfilesGate() : this.renderInnerView(), React.createElement("div", {
                    className: "image-preloaders"
                }, React.createElement("span", {
                    className: "jawbone-images"
                })), React.createElement("svg", {
                    style: {
                        display: "none"
                    },
                    xmlns: "http://www.w3.org/2000/svg"
                }, React.createElement("defs", {
                    dangerouslySetInnerHTML: {
                        __html: '<symbol id="chevron-down" viewBox="0 0 60 19">    <path fill="currentColor" d="M59.5615866,2.44258873 L31.1899791,17.6617954 C30.7515658,17.9123173 30.2505219,18.1002088 30.0626305,18.1002088 C29.874739,18.1002088 29.6242171,18.0375783 29.5615866,18.0375783 C29.4363257,17.9749478 28.9979123,17.7244259 28.559499,17.5365344 L0.501043841,2.44258873 C0.187891441,2.31732777 0,1.94154489 0,1.62839248 C0,1.50313152 0.0626304802,1.37787056 0.12526096,1.18997912 L0.501043841,0.501043841 C0.688935282,0.187891441 1.00208768,0 1.31524008,0 C1.50313152,0 1.62839248,0 1.75365344,0.12526096 L29.1858038,14.8434238 C29.3736952,14.9686848 29.6868476,15.0313152 30,15.0313152 C30.3131524,15.0313152 30.6263048,14.9686848 30.8141962,14.8434238 L58.2463466,0.12526096 C58.6847599,-0.12526096 59.2484342,0 59.4989562,0.501043841 L59.874739,1.18997912 C60.125261,1.62839248 60,2.19206681 59.5615866,2.44258873"></path></symbol><symbol id="add" viewBox="0 0 60 60">    <path fill="currentColor" d="M54.6886726,24.6861711 C57.6894231,24.7461866 60,26.9367348 60,30.0025004 C60,33.0582644 57.6894231,35.3088269 54.6886726,35.3738432 L35.3738432,35.3738432 L35.3738432,54.6836707 C35.3088269,57.6844212 33.0032509,60 29.9974996,60 C26.9967491,60 24.7511874,57.6844212 24.6861711,54.6836707 L24.6861711,35.3738432 L5.31132735,35.3738432 C2.37559424,35.3088269 0,32.99825 0,30.0025004 C0,27.0017511 2.37559424,24.7461866 5.31132735,24.6861711 L24.6861711,24.6861711 L24.6861711,5.30632652 C24.7511874,2.31057799 26.9367348,0 29.9974996,0 C33.0632663,0 35.3088269,2.31057799 35.3738432,5.30632652 L35.3738432,24.6861711 L54.6886726,24.6861711"></path></symbol><symbol id="check" viewBox="0 0 60 60">    <path fill="currentColor" d="M0,40.0650165 L9.37734421,27.5668918 L21.8754686,36.939235 L47.1867971,0 L59.1247815,9.25231308 L26.5016254,60 L0,40.0650165 L0,40.0650165 Z"></path></symbol><symbol id="episodes" viewBox="0 0 81 60">    <path fill="currentColor" d="M50.9256283,23.8269128 C51.5703585,23.8269128 52.096041,24.3485822 52.096041,25.0521669 L52.096041,58.7693954 C52.096041,59.4154628 51.5703585,60 50.9256283,60 L1.16907437,60 C0.525682496,60 0,59.4154628 0,58.7693954 L0,25.0521669 C0,24.3485822 0.525682496,23.8269128 1.16907437,23.8269128 L50.9256283,23.8269128 L50.9256283,23.8269128 Z M65.0936335,11.9983949 C65.7370253,11.9983949 66.2640451,12.5294275 66.2640451,13.2289995 L66.2640451,48.8777423 C66.2640451,49.5197969 65.7370253,50.0468166 65.0936335,50.0468166 L57.3060465,50.0468166 C56.6064745,50.0468166 56.0754419,49.5197969 56.0754419,48.8777423 L56.0754419,20.0214019 L13.1139646,20.0214019 C12.4692345,20.0214019 11.943553,19.4903692 11.943553,18.7907973 L11.943553,13.2289995 C11.943553,12.5294275 12.4692345,11.9983949 13.1139646,11.9983949 L65.0936335,11.9983949 L65.0936335,11.9983949 Z M79.0850725,0 C79.7271271,0 80.2554841,0.584537187 80.2554841,1.2306046 L80.2554841,34.7685928 C80.2554841,35.4735153 79.7271271,35.9991974 79.0850725,35.9991974 L71.2988228,35.9991974 C70.5965763,35.9991974 70.0682182,35.4735153 70.0682182,34.7685928 L70.0682182,8.01899411 L27.2766187,8.01899411 C26.5770466,8.01899411 26.0500269,7.49197436 26.0500269,6.84858217 L26.0500269,1.2306046 C26.0500269,0.584537187 26.5770466,0 27.2766187,0 L79.0850725,0 L79.0850725,0 Z"></path></symbol><symbol id="edit" viewBox="0 0 32 32">    <path fill="currentColor" d="M16 0c8.833 0 16 7.167 16 16 0 8.8-7.167 16-16 16s-16-7.2-16-16c0-8.833 7.167-16 16-16zM16 1.7c-7.9 0-14.3 6.4-14.3 14.3s6.4 14.3 14.3 14.3 14.3-6.4 14.3-14.3-6.4-14.3-14.3-14.3zM22.333 12.9l0.3-0.267 0.867-0.867c0.467-0.5 0.4-0.767 0-1.167l-1.767-1.767c-0.467-0.467-0.767-0.4-1.167 0l-0.867 0.867-0.267 0.3zM18.3 11.1l-8.6 8.6-0.833 3.767 3.767-0.833 0.967-1 7.633-7.6z"></path></symbol><symbol id="play" viewBox="0 0 53 60">    <path fill="currentColor" d="M50.7569187,27.4991667 C51.9423137,28.2494161 52.5025004,29.1247086 52.5025004,30 C52.5025004,31.0003335 51.9423137,31.8106033 50.7569187,32.5008333 L4.37645931,59.4398134 C3.62620889,59.8149386 2.9359789,60 2.37579226,60 C0.940313102,60 0.0650216737,58.8746244 0,56.8739573 L0,3.12604159 C0.0650216737,1.12037329 0.940313102,0.0600204233 2.37579226,0 C2.9359789,0 3.62620889,0.185061437 4.37645931,0.555185394 L50.7569187,27.4991667"></path></symbol><symbol id="check-mark" viewBox="0 0 32 32">    <path fill="currentColor" d="M14.133 23.5l12.767-12.467c0.033-0.033 0.1-0.1 0.133-0.167l-3.1-3.133c-0.067 0.033-0.133 0.1-0.2 0.167l-11.267 10.933-4.267-4.333-3.233 2.933c0.033 0 1.067 1.067 1.1 1.067l4.767 5 0.133 0.133c0.433 0.4 0.967 0.633 1.5 0.633s1.1-0.233 1.5-0.633z"></path></symbol><symbol id="add-profile" viewBox="0 0 32 32">    <path fill="currentColor" d="M16 0c8.833 0 16 7.133 16 16 0 8.833-7.167 16-16 16s-16-7.167-16-16c0-8.867 7.167-16 16-16zM16 29.533c7.467 0 13.533-6.067 13.533-13.533s-6.067-13.567-13.533-13.567-13.533 6.1-13.533 13.567 6.067 13.533 13.533 13.533zM17.133 14.767h5.033v2.433h-5.033v4.933h-2.467v-4.933h-4.833v-2.433h4.833v-4.933h2.467v4.933z"></path><symbol id="grips" viewBox="0 0 7.5 35.2" fill="currentColor">    <circle cx="5.8" cy="19.6" r="1.6"/><circle cx="1.6" cy="19.6" r="1.6"/><circle cx="5.8" cy="24.3" r="1.6"/><circle cx="1.6" cy="24.3" r="1.6"/><circle cx="5.8" cy="28.9" r="1.6"/><circle cx="1.6" cy="28.9" r="1.6"/><circle cx="5.8" cy="33.6" r="1.6"/><circle cx="1.6" cy="33.6" r="1.6"/><circle cx="5.8" cy="1.6" r="1.6"/><circle cx="1.6" cy="1.6" r="1.6"/><circle cx="5.8" cy="6.3" r="1.6"/><circle cx="1.6" cy="6.3" r="1.6"/><circle cx="5.8" cy="10.9" r="1.6"/><circle cx="1.6" cy="10.9" r="1.6"/><circle cx="5.8" cy="15.6" r="1.6"/><circle cx="1.6" cy="15.6" r="1.6"/></symbol><symbol id="moveToTop" viewBox="0 0 32 15.5">    <path fill="currentColor" d="M0,12.7L16.1,0L32,12.6l-2.2,2.8L16.1,4.6L2.2,15.5L0,12.7z"/></symbol><symbol id="close" viewBox="0 0 25.5 25.5">    <polygon fill="currentColor" class="st0" points="25.5,1.4 24,0 12.7,11.3 1.4,0 0,1.4 11.3,12.7 0,24 1.4,25.5 12.7,14.1 24,25.5 25.5,24 14.1,12.7 "/></symbol><filter id="dropShadow">    <feGaussianBlur in="SourceAlpha" stdDeviation="3"/><feOffset dx="0" dy="0" result="offsetblur"/><feFlood flood-color="rgba(0,0,0,0.5)"/><feComposite in2="offsetblur" operator="in"/><feMerge><feMergeNode/><feMergeNode in="SourceGraphic"/></feMerge></filter>'
                    }
                })))
            }
        });
    module.exports = AkiraLayout;


});


Requireify.register('js/utils/consolidatedLogging/jawBone.js', function(require, requireAsync, module, exports) {


    "use strict";
    module.exports = {
        openJawParams: null,
        currentTab: null,
        isJawOpen: function() {
            return !!this.openJawParams
        },
        setOpenJawParams: function(a) {
            this.openJawParams = a
        },
        getOpenJawParams: function() {
            return this.openJawParams
        },
        getCurrentTab: function() {
            return this.currentTab
        },
        setCurrentTab: function(a) {
            this.currentTab = a
        },
        logJawOpen: function(a) {
            var e = this;
            this.validateParamsAndSend({
                name: "logJawOpen",
                params: a,
                defaultParams: {
                    view: "movieDetails",
                    tab: "overview"
                },
                requiredParams: ["trigger", "videoId", "rowNum", "rankNum"],
                send: function(a) {
                    e.setOpenJawParams(a), e.logSessionStart("jawImpression", {
                        category: "uiView",
                        modalView: e.getCurrentModalView(),
                        data: {
                            view: a.view,
                            trigger: a.trigger,
                            jawTab: a.tab,
                            matchScore: a.matchScore,
                            isNewMS: a.tooNewForMatchScore
                        },
                        dataContext: {
                            trackId: a.trackId,
                            videoId: a.videoId,
                            row: a.rowNum,
                            rank: a.rankNum,
                            requestId: a.requestId
                        }
                    })
                }
            })
        },
        logJawClose: function(a) {
            var e = this;
            this.validateParamsAndSend({
                name: "logJawClose",
                params: a,
                defaultParams: this.getOpenJawParams(),
                requiredParams: ["reason", "videoId", "rowNum", "rankNum"],
                send: function(a) {
                    e.logSessionEnd("jawImpression", {
                        category: "uiView",
                        modalView: e.getCurrentModalView(),
                        data: {
                            view: a.view,
                            trigger: a.trigger,
                            reason: a.reason
                        },
                        dataContext: {
                            trackId: a.trackId,
                            videoId: a.videoId,
                            row: a.rowNum,
                            rank: a.rankNum,
                            requestId: a.requestId
                        }
                    }), e.setOpenJawParams(null)
                }
            })
        },
        logJawTabOpen: function(a) {
            var e = this;
            this.validateParamsAndSend({
                name: "logJawTabSessionStarted",
                params: a,
                requiredParams: ["tab"],
                send: function(a) {
                    e.setCurrentTab(a.tab), e.logSessionStart("jawTabImpression", {
                        category: "uiView",
                        modalView: e.getCurrentModalView(),
                        data: {
                            jawTab: a.tab
                        }
                    })
                }
            })
        },
        logJawTabClose: function(a) {
            var e = this;
            this.validateParamsAndSend({
                name: "logJawTabSessionEnded",
                params: a,
                requiredParams: ["tab"],
                send: function(a) {
                    e.setCurrentTab(a.tab), e.logSessionEnd("jawTabImpression", {
                        category: "uiView",
                        modalView: e.getCurrentModalView(),
                        data: {
                            jawTab: a.tab
                        }
                    })
                }
            })
        },
        logJawScrollPrev: function(a) {
            var e = this;
            this.validateParamsAndSend({
                name: "logJawNavPrev",
                params: a,
                defaultParams: {},
                requiredParams: [],
                send: function(a) {
                    e.logEvent("logJawNavLeft", {
                        category: "uiView",
                        modalView: e.getCurrentModalView(),
                        data: {}
                    })
                }
            })
        },
        logJawScrollNext: function(a) {
            var e = this;
            this.validateParamsAndSend({
                name: "logJawNavNext",
                params: a,
                defaultParams: {},
                requiredParams: [],
                send: function(a) {
                    e.logEvent("logJawNavRight", {
                        category: "uiView",
                        modalView: e.getCurrentModalView(),
                        data: {}
                    })
                }
            })
        },
        logJawTabClick: function(a) {
            var e = this;
            this.validateParamsAndSend({
                name: "logJawClick",
                params: a,
                defaultParams: {
                    tab: "Overview",
                    name: "",
                    url: "",
                    type: ""
                },
                requiredParams: ["tab"],
                send: function(a) {
                    e.logEvent("logJawClick", {
                        category: "uiView",
                        modalView: e.getCurrentModalView(),
                        data: {
                            tab: a.tab,
                            name: a.name,
                            url: a.url,
                            type: a.type
                        }
                    })
                }
            })
        }
    };


});


Requireify.register('js/utils/consolidatedLogging/billboard.js', function(require, requireAsync, module, exports) {


    "use strict";
    var billboardUtil = {
        logMotionBillboardLoadingStarted: function(r) {
            var e = this;
            e.validateParamsAndSend({
                name: "logMotionBillboardLoadingStarted",
                params: r,
                defaultParams: {
                    trigger: "auto"
                },
                requiredParams: [],
                send: function(r) {
                    e.logSessionStart("startTrailerPlay", {
                        category: "uiAction",
                        modalView: e.getCurrentModalView(),
                        data: {
                            trigger: r.trigger,
                            merchedVideoId: r.motionId || r.videoId
                        },
                        dataContext: {
                            trackId: r.trackId,
                            videoId: r.videoId,
                            row: r.rowNum,
                            rank: r.rankNum,
                            requestId: r.requestId
                        }
                    })
                }
            })
        },
        logMotionBillboardLoadingEnded: function(r) {
            var e = this;
            e.validateParamsAndSend({
                name: "logMotionBillboardLoadingEnded",
                params: r,
                defaultParams: {
                    trigger: "auto",
                    reason: "success"
                },
                requiredParams: [],
                send: function(r) {
                    e.logSessionEnd("startTrailerPlay", {
                        category: "uiAction",
                        modalView: e.getCurrentModalView(),
                        data: {
                            trigger: r.trigger,
                            reason: r.reason,
                            merchedVideoId: r.motionId || r.videoId
                        },
                        dataContext: {
                            trackId: r.trackId,
                            videoId: r.videoId,
                            row: r.rowNum,
                            rank: r.rankNum,
                            requestId: r.requestId
                        }
                    })
                }
            })
        },
        logMotionBillboardLoadingError: function(r) {
            var e = this;
            e.validateParamsAndSend({
                name: "logMotionBillboardLoadingError",
                params: r,
                defaultParams: {
                    trigger: "auto",
                    reason: "failure"
                },
                requiredParams: ["errorType"],
                send: function(r) {
                    e.logSessionEnd("startTrailerPlay", {
                        category: "uiAction",
                        modalView: e.getCurrentModalView(),
                        data: {
                            trigger: r.trigger,
                            reason: r.reason,
                            merchedVideoId: r.motionId || r.videoId,
                            error: {
                                rootCause: r.errorType,
                                uiAction: "handledSilently",
                                deepError: {
                                    errorCode: "errorStartingMotionBillboardVideo",
                                    fatal: !1,
                                    debug: {
                                        message: r.errorType
                                    }
                                }
                            }
                        },
                        dataContext: {
                            trackId: r.trackId,
                            videoId: r.videoId,
                            row: r.rowNum,
                            rank: r.rankNum,
                            requestId: r.requestId
                        }
                    })
                }
            })
        },
        logMotionBillboardPlayStarted: function(r) {
            var e = this;
            e.validateParamsAndSend({
                name: "logMotionBillboardLoadingStarted",
                params: r,
                defaultParams: {
                    trigger: "auto"
                },
                requiredParams: ["startOffset"],
                send: function(r) {
                    e.logSessionStart("trailerPlay", {
                        category: "uiAction",
                        modalView: e.getCurrentModalView(),
                        data: {
                            trigger: r.trigger,
                            merchedVideoId: r.motionId || r.videoId,
                            startOffset: r.startOffset
                        },
                        dataContext: {
                            trackId: r.trackId,
                            videoId: r.videoId,
                            row: r.rowNum,
                            rank: r.rankNum,
                            requestId: r.requestId
                        }
                    })
                }
            })
        },
        logMotionBillboardPlayEnded: function(r) {
            var e = this;
            e.validateParamsAndSend({
                name: "logMotionBillboardLoadingEnded",
                params: r,
                defaultParams: {
                    trigger: "auto",
                    reason: "success"
                },
                requiredParams: ["detailedCompletionReason"],
                send: function(r) {
                    e.logSessionEnd("trailerPlay", {
                        category: "uiAction",
                        modalView: e.getCurrentModalView(),
                        data: {
                            trigger: r.trigger,
                            reason: r.reason,
                            merchedVideoId: r.motionId || r.videoId,
                            detailedCompletionReason: r.detailedCompletionReason
                        },
                        dataContext: {
                            trackId: r.trackId,
                            videoId: r.videoId,
                            row: r.rowNum,
                            rank: r.rankNum,
                            requestId: r.requestId
                        }
                    })
                }
            })
        },
        logMotionBillboardPlayError: function(r) {
            var e = this;
            e.validateParamsAndSend({
                name: "logMotionBillboardLoadingError",
                params: r,
                defaultParams: {
                    trigger: "auto",
                    reason: "failure"
                },
                requiredParams: ["errorType"],
                send: function(r) {
                    e.logSessionEnd("trailerPlay", {
                        category: "uiAction",
                        modalView: e.getCurrentModalView(),
                        data: {
                            trigger: r.trigger,
                            reason: r.reason,
                            merchedVideoId: r.motionId || r.videoId,
                            error: {
                                rootCause: r.errorType,
                                uiAction: "handledSilently",
                                deepError: {
                                    errorCode: "errorStartingMotionBillboardVideo",
                                    fatal: !1,
                                    debug: {
                                        message: r.errorType
                                    }
                                }
                            }
                        },
                        dataContext: {
                            trackId: r.trackId,
                            videoId: r.videoId,
                            row: r.rowNum,
                            rank: r.rankNum,
                            requestId: r.requestId
                        }
                    })
                }
            })
        },
        logMotionBillboardCommand: function(r) {
            var e = this;
            e.validateParamsAndSend({
                name: "logMuteButtonClick",
                params: r,
                requiredParams: ["commandName"],
                send: function(r) {
                    var a = {
                        category: "uiView",
                        modalView: e.getCurrentModalView(),
                        data: {
                            name: r.commandName
                        },
                        dataContext: {
                            trackId: r.trackId,
                            videoId: r.videoId,
                            row: r.rowNum,
                            rank: r.rankNum,
                            requestId: r.requestId
                        }
                    };
                    e.logSessionStart("command", a), e.logSessionEnd("command", a)
                }
            })
        }
    };
    module.exports = billboardUtil;


});


Requireify.register('js/utils/consolidatedLogging/bob.js', function(require, requireAsync, module, exports) {


    "use strict";
    module.exports = {
        openBobParams: null,
        isBobOpen: function() {
            return !!this.openBobParams
        },
        setOpenBobParams: function(e) {
            this.openBobParams = e
        },
        getOpenBobParams: function() {
            return this.openBobParams
        },
        logBobOpen: function(e) {
            var a = this;
            this.validateParamsAndSend({
                name: "logBobOpen",
                params: e,
                defaultParams: {
                    view: "bob"
                },
                requiredParams: ["videoId", "rowNum", "rankNum"],
                send: function(e) {
                    a.setOpenBobParams(e), a.logSessionStart("impression", {
                        category: "uiView",
                        modalView: a.getCurrentModalView(),
                        data: {
                            view: e.view,
                            matchScore: e.matchScore,
                            predictedRating: e.predictedRating,
                            isNewMS: e.tooNewForMatchScore
                        },
                        dataContext: {
                            trackId: e.trackId,
                            videoId: e.videoId,
                            row: e.rowNum,
                            rank: e.rankNum,
                            requestId: e.requestId
                        }
                    })
                }
            })
        },
        logBobClose: function(e) {
            var a = this;
            this.validateParamsAndSend({
                name: "logBobClose",
                params: e,
                defaultParams: this.getOpenBobParams(),
                requiredParams: ["videoId", "rowNum", "rankNum"],
                send: function(e) {
                    a.logSessionEnd("impression", {
                        category: "uiView",
                        modalView: a.getCurrentModalView(),
                        data: {
                            view: e.view
                        },
                        dataContext: {
                            trackId: e.trackId,
                            videoId: e.videoId,
                            row: e.rowNum,
                            rank: e.rankNum,
                            requestId: e.requestId
                        }
                    }), a.setOpenBobParams(null)
                }
            })
        }
    };


});


Requireify.register('js/utils/consolidatedLogging/modal.js', function(require, requireAsync, module, exports) {


    "use strict";
    module.exports = {
        previousModalView: null,
        currentModalView: null,
        currentModalViewHash: null,
        getCurrentModalView: function() {
            return this.currentModalView
        },
        setCurrentModalView: function(e) {
            this.currentModalView = e
        },
        logModalViewChange: function(e) {
            var a = this;
            this.validateParamsAndSend({
                name: "logModalViewChange",
                params: e,
                defaultParams: {
                    sourceModalView: this.getCurrentModalView()
                },
                requiredParams: ["modalView"],
                send: function(e) {
                    var i = e.modalView,
                        o = {
                            category: "uiQOE",
                            modalView: e.modalView,
                            data: {
                                sourceModalView: e.sourceModalView
                            }
                        };
                    e.id && (o.dataContext = {
                        collectionId: e.id
                    }, i += "|" + e.id), i !== a.currentModalViewHash && (a.logEvent("uiModalViewChanged", o), a.currentModalViewHash = i)
                }
            }), this.setCurrentModalView(e.modalView)
        },
        logModelessViewStart: function(e) {
            var a = this;
            this.validateParamsAndSend({
                name: "logModelessViewStart",
                params: e,
                defaultParams: {
                    orientation: "portrait"
                },
                requiredParams: ["modelessView"],
                send: function(e) {
                    var i = {
                        category: "uiQOE",
                        modalView: a.getCurrentModalView(),
                        data: {
                            modelessView: e.modelessView,
                            orientation: e.orientation
                        }
                    };
                    a.logSessionStart("uiModelessView", i)
                }
            })
        },
        logModelessViewEnd: function(e) {
            var a = this;
            this.validateParamsAndSend({
                name: "logModelessViewEnd",
                params: e,
                defaultParams: {
                    endReason: "implicitClose",
                    orientation: "portrait"
                },
                requiredParams: ["modelessView"],
                send: function(e) {
                    var i = {
                        category: "uiQOE",
                        modalView: a.getCurrentModalView(),
                        data: {
                            modelessView: e.modelessView,
                            orientation: e.orientation,
                            endReason: e.endReason
                        }
                    };
                    a.logSessionEnd("uiModelessView", i)
                }
            })
        },
        logStartNavigation: function(e) {
            var a = this,
                i = this.getCurrentModalView();
            this.validateParamsAndSend({
                name: "logStartNavigation",
                params: e,
                defaultParams: {
                    sourceModalView: i
                },
                requiredParams: [],
                send: function(e) {
                    a.previousModalView = i, a.logSessionStart("navigate", {
                        category: "uiAction",
                        modalView: i,
                        data: {},
                        dataContext: {}
                    })
                }
            })
        },
        logEndNavigation: function(e) {
            var a = this;
            this.validateParamsAndSend({
                name: "logEndNavigation",
                params: e,
                defaultParams: {
                    sourceModalView: a.previousModalView
                },
                requiredParams: [],
                send: function(e) {
                    a.logSessionEnd("navigate", {
                        category: "uiAction",
                        modalView: a.getCurrentModalView(),
                        data: {
                            sourceModalView: e.sourceModalView
                        },
                        dataContext: {}
                    })
                }
            })
        }
    };


});


Requireify.register('js/utils/consolidatedLogging/apm.js', function(require, requireAsync, module, exports) {


    "use strict";
    module.exports = {
        logStartup: function(a) {
            var e = this;
            this.validateParamsAndSend({
                name: "logStartup",
                params: a,
                defaultParams: {},
                requiredParams: ["timeToInteractive", "components"],
                send: function(a) {
                    var t = {
                        category: "uiQOE",
                        modalView: e.getCurrentModalView(),
                        duration: a.duration,
                        data: {
                            timeToInteractive: a.timeToInteractive,
                            components: a.components,
                            success: !0
                        }
                    };
                    e.logSessionStart("uiBrowseStartup", t), e.logSessionEnd("uiBrowseStartup", t)
                }
            })
        },
        logDataRequest: function(a, e) {
            var t = this;
            this.validateParamsAndSend({
                name: "uiDataRequest",
                params: a,
                defaultParams: {
                    requestId: "unknown"
                },
                requiredParams: ["url", "requestId", "reason"],
                send: function(a) {
                    var s = {
                        category: "uiQOE",
                        modalView: t.getCurrentModalView(),
                        duration: e,
                        data: a
                    };
                    t.logSessionStart("uiDataRequest", s), t.logSessionEnd("uiDataRequest", s)
                }
            })
        },
        logSmallAssetMetrics: function(a) {
            var e = this,
                t = "siteSmallAssetMetrics";
            this.validateParamsAndSend({
                name: t,
                params: a,
                requiredParams: ["location", "entries"],
                send: function(a) {
                    var s = {
                        category: "www",
                        modalView: e.getCurrentModalView(),
                        data: a
                    };
                    e.logSessionStart(t, s), e.logSessionEnd(t, s)
                }
            })
        }
    };


});


Requireify.register('js/utils/consolidatedLogging/reno.js', function(require, requireAsync, module, exports) {


    "use strict";
    module.exports = {
        logRenoMessage: function(e) {
            var a = this;
            a.validateParamsAndSend({
                name: "logRenoMessage",
                params: e,
                requiredParams: ["type", "message"],
                send: function(e) {
                    var n = {
                        category: "uiAction",
                        modalView: a.getCurrentModalView(),
                        data: e,
                        dataContext: {}
                    };
                    a.logSessionStart("renoMessage", n), a.logSessionEnd("renoMessage", n)
                }
            })
        },
        logRenoRefreshStart: function(e) {
            var a = this;
            a.validateParamsAndSend({
                name: "logRenoRefreshStart",
                params: e,
                requiredParams: ["message"],
                send: function(e) {
                    a.logSessionStart("renoRefresh", {
                        category: "uiAction",
                        modalView: a.getCurrentModalView(),
                        data: e,
                        dataContext: {}
                    })
                }
            })
        },
        logRenoRefreshEnd: function(e) {
            var a = this;
            a.validateParamsAndSend({
                name: "logRenoRefreshEnd",
                params: e,
                requiredParams: ["message", "success"],
                send: function(e) {
                    a.logSessionEnd("renoRefresh", {
                        category: "uiAction",
                        modalView: a.getCurrentModalView(),
                        data: e,
                        dataContext: {}
                    })
                }
            })
        }
    };


});


Requireify.register('js/utils/consolidatedLogging/identifiersCheck.js', function(require, requireAsync, module, exports) {


    "use strict";
    module.exports = {
        logIdentifiersCheck: function(e) {
            var i = this;
            i.validateParamsAndSend({
                name: "logIdentifierCheck",
                params: e,
                requiredParams: [],
                send: function(e) {
                    var t = {
                        category: "www",
                        modalView: i.getCurrentModalView(),
                        data: e,
                        dataContext: {}
                    };
                    i.logSessionStart("identifiersCheck", t), i.logSessionEnd("identifiersCheck", t)
                }
            })
        }
    };


});


Requireify.register('js/utils/consolidatedLogging/commonActions.js', function(require, requireAsync, module, exports) {


    "use strict";
    module.exports = {
        logAddToPlaylistStart: function(a) {
            var r = this;
            this.validateParamsAndSend({
                name: "logAddToPlaylistStart",
                params: a,
                defaultParams: {},
                requiredParams: ["videoId", "rowNum", "rankNum", "trackId"],
                send: function(a) {
                    r.logSessionStart("addToPlaylist", {
                        category: "uiAction",
                        modalView: r.getCurrentModalView(),
                        data: {},
                        dataContext: {
                            trackId: a.trackId,
                            videoId: a.videoId,
                            row: a.rowNum,
                            rank: a.rankNum,
                            requestId: a.requestId
                        }
                    })
                }
            })
        },
        logAddToPlaylistEnd: function(a) {
            var r = this;
            this.validateParamsAndSend({
                name: "logAddToPlaylistEnd",
                params: a,
                defaultParams: {},
                requiredParams: ["videoId", "rowNum", "rankNum", "trackId"],
                send: function(a) {
                    r.logSessionEnd("addToPlaylist", {
                        category: "uiAction",
                        modalView: r.getCurrentModalView(),
                        data: {
                            reason: "success"
                        },
                        dataContext: {
                            trackId: a.trackId,
                            videoId: a.videoId,
                            row: a.rowNum,
                            rank: a.rankNum,
                            requestId: a.requestId
                        }
                    })
                }
            })
        },
        logRemoveFromPlaylistStart: function(a) {
            var r = this;
            this.validateParamsAndSend({
                name: "logRemoveFromPlaylistStart",
                params: a,
                defaultParams: {},
                requiredParams: ["videoId", "rowNum", "rankNum", "trackId"],
                send: function(a) {
                    r.logSessionStart("removeFromPlaylist", {
                        category: "uiAction",
                        modalView: r.getCurrentModalView(),
                        data: {},
                        dataContext: {
                            trackId: a.trackId,
                            videoId: a.videoId,
                            row: a.rowNum,
                            rank: a.rankNum,
                            requestId: a.requestId
                        }
                    })
                }
            })
        },
        logRemoveFromPlaylistEnd: function(a) {
            var r = this;
            this.validateParamsAndSend({
                name: "logRemoveFromPlaylistEnd",
                params: a,
                defaultParams: {},
                requiredParams: ["videoId", "rowNum", "rankNum", "trackId"],
                send: function(a) {
                    r.logSessionEnd("removeFromPlaylist", {
                        category: "uiAction",
                        modalView: r.getCurrentModalView(),
                        data: {
                            reason: "success"
                        },
                        dataContext: {
                            trackId: a.trackId,
                            videoId: a.videoId,
                            row: a.rowNum,
                            rank: a.rankNum,
                            requestId: a.requestId
                        }
                    })
                }
            })
        },
        logRequestPlaybackStart: function(a) {
            var r = this;
            this.validateParamsAndSend({
                name: "logRequestPlaybackStart",
                params: a,
                defaultParams: {},
                requiredParams: ["videoId", "rowNum", "rankNum", "trackId"],
                send: function(a) {
                    var e = {
                        category: "uiAction",
                        modalView: r.getCurrentModalView(),
                        data: {
                            triggerClassName: a.triggerEl && a.triggerEl.className
                        },
                        dataContext: {
                            trackId: a.trackId,
                            videoId: a.videoId,
                            row: a.rowNum,
                            rank: a.rankNum,
                            requestId: a.requestId
                        }
                    };
                    a.ppmGUID && (e.data.ppmGUID = a.ppmGUID, e.data.ppmID = a.ppmID), r.logSessionStart("startPlay", e)
                }
            })
        },
        logPlaybackStarted: function(a) {
            var r = this;
            this.validateParamsAndSend({
                name: "logPlaybackStarted",
                params: a,
                defaultParams: {},
                requiredParams: [],
                send: function(a) {
                    r.logSessionEnd("startPlay", {
                        category: "uiAction",
                        modalView: r.getCurrentModalView(),
                        data: {
                            reason: a.reason
                        },
                        dataContext: {}
                    })
                }
            })
        },
        logPlaybackInitError: function(a) {
            var r = this;
            this.validateParamsAndSend({
                name: "logPlaybackInitError",
                params: a,
                defaultParams: {},
                requiredParams: [],
                send: function(a) {
                    var e = {
                        category: "www",
                        modalView: r.getCurrentModalView(),
                        data: a,
                        dataContext: {}
                    };
                    r.logSessionStart("playbackInitError", e), r.logSessionEnd("playbackInitError", e)
                }
            })
        },
        logTrailerPlayStart: function(a) {
            var r = this;
            this.validateParamsAndSend({
                name: "logTrailerPlayStart",
                params: a,
                defaultParams: {},
                requiredParams: [],
                send: function(a) {
                    var e = {
                        category: "uiAction",
                        modalView: r.getCurrentModalView(),
                        data: {},
                        dataContext: {
                            row: a.row,
                            rank: a.rank,
                            requestId: a.requestId,
                            trackId: a.trackId,
                            videoId: a.videoId
                        }
                    };
                    r.logSessionStart("videoPlay", e)
                }
            })
        },
        logTrailerPlayEnd: function(a) {
            var r = this;
            this.validateParamsAndSend({
                name: "logTrailerPlayEnd",
                params: a,
                defaultParams: {},
                requiredParams: ["startOffset", "merchedVideoId", "playingVideoId"],
                send: function(a) {
                    var e = {
                        category: "uiAction",
                        modalView: r.getCurrentModalView(),
                        data: {
                            startOffset: a.startOffset,
                            merchedVideoId: a.merchedVideoId,
                            playingVideoId: a.playingVideoId
                        },
                        dataContext: {
                            row: a.row,
                            rank: a.rank,
                            requestId: a.requestId,
                            trackId: a.trackId,
                            videoId: a.videoId
                        }
                    };
                    r.logSessionEnd("videoPlay", e)
                }
            })
        },
        logWindowOnError: function(a) {
            var r = this;
            this.validateParamsAndSend({
                name: "logOnWindowError",
                params: a,
                defaultParams: {},
                requiredParams: [],
                send: function(a) {
                    var e = {
                        category: "www",
                        modalView: r.getCurrentModalView(),
                        data: a,
                        dataContext: {}
                    };
                    r.logSessionStart("windowOnError", e), r.logSessionEnd("windowOnError", e)
                }
            })
        }
    };


});


Requireify.register('js/utils/consolidatedLogging/search.js', function(require, requireAsync, module, exports) {


    "use strict";
    module.exports = {
        logSearchEdit: function(e) {
            var a = this;
            this.validateParamsAndSend({
                name: "logSearchEdit",
                params: e,
                defaultParams: {
                    view: "search"
                },
                requiredParams: ["term"],
                send: function(e) {
                    a.logEvent("edit", {
                        category: "uiView",
                        modalView: a.getCurrentModalView(),
                        data: {
                            path: "searchQuery",
                            value: e.term
                        }
                    })
                }
            })
        },
        logSearchFocus: function(e) {
            var a = this;
            this.validateParamsAndSend({
                name: "logSearchFocus",
                params: e,
                defaultParams: {
                    view: "search"
                },
                requiredParams: ["term"],
                send: function(e) {
                    e.start ? a.logSessionStart("focus", {
                        category: "search",
                        modalView: a.getCurrentModalView(),
                        data: {
                            path: [e.term]
                        }
                    }) : a.logSessionEnd("focus", {
                        category: "search",
                        modalView: a.getCurrentModalView(),
                        data: {
                            path: [e.term]
                        }
                    })
                }
            })
        },
        logSearchImpression: function(e) {
            var a = this;
            this.validateParamsAndSend({
                name: "logSearchImpression",
                params: e,
                defaultParams: {
                    view: "search"
                },
                requiredParams: ["referenceId", "view"],
                send: function(e) {
                    a.logEvent("impression", {
                        category: "search",
                        modalView: a.getCurrentModalView(),
                        data: {
                            path: ["search", "lists", e.referenceId],
                            view: e.view
                        }
                    })
                }
            })
        }
    };


});


Requireify.register('js/utils/consolidatedLogging/satisfactionSurvey.js', function(require, requireAsync, module, exports) {


    "use strict";
    var LOGGING_RESULT_SUCCESS = "success",
        LOGGING_RESULT_CANCELED = "canceled",
        LOGGING_SURVEY_TYPE = "satisfaction",
        LOGGING_QUESTION_NUM = 1;
    module.exports = {
        logSatisfactionSurveyOpen: function(a) {
            var e = this;
            this.validateParamsAndSend({
                name: "logSatisfactionSurveyOpen",
                params: a,
                defaultParams: {},
                requiredParams: [],
                send: function(a) {
                    e.logSessionStart("survey", {
                        category: "uiAction",
                        modalView: e.getCurrentModalView(),
                        data: {},
                        endOnUnload: {
                            data: {
                                reason: LOGGING_RESULT_CANCELED
                            }
                        }
                    }), e.logSessionStart("surveyQuestion", {
                        category: "uiAction",
                        modalView: e.getCurrentModalView(),
                        data: {},
                        endOnUnload: {
                            data: {
                                reason: LOGGING_RESULT_CANCELED
                            }
                        }
                    })
                }
            })
        },
        logSatisfactionSurveyClose: function(a) {
            var e = this;
            this.validateParamsAndSend({
                name: "logSatisfactionSurveyClose",
                params: a,
                defaultParams: {},
                requiredParams: [],
                send: function(a) {
                    var t = a.rating ? LOGGING_RESULT_SUCCESS : LOGGING_RESULT_CANCELED,
                        n = {
                            reason: t
                        };
                    a.rating && (n.question = LOGGING_QUESTION_NUM, n.response = a.rating), e.logSessionEnd("surveyQuestion", {
                        category: "uiAction",
                        modalView: e.getCurrentModalView(),
                        data: n
                    }), e.logSessionEnd("survey", {
                        category: "uiAction",
                        modalView: e.getCurrentModalView(),
                        data: {
                            surveyType: LOGGING_SURVEY_TYPE,
                            reason: t
                        }
                    })
                }
            })
        }
    };


});


Requireify.register('js/utils/consolidatedLogging/motionBoxArt.js', function(require, requireAsync, module, exports) {


    "use strict";
    module.exports = {
        logMotionBoxArtEnterViewport: function(a) {
            var o = this;
            this.validateParamsAndSend({
                name: "logMotionBoxArtEnterViewport",
                params: a,
                defaultParams: {},
                requiredParams: [],
                send: function(a) {
                    o.logSessionStart("starTrailerPlay", {
                        category: "uiAction",
                        data: {}
                    }), o.logSessionEnd("starTrailerPlay", {
                        category: "uiAction",
                        data: {
                            reason: a.success ? "success" : "failure",
                            merchedVideoId: a.videoId
                        }
                    })
                }
            })
        },
        logMotionBoxArtPlayLoop: function(a) {
            var o = this;
            this.validateParamsAndSend({
                name: "logMotionBoxArtPlayLoop",
                params: a,
                defaultParams: {},
                requiredParams: [],
                send: function(a) {
                    o.logSessionStart("trailerPlay", {
                        category: "uiAction",
                        data: {}
                    }), o.logSessionEnd("trailerPlay", {
                        category: "uiAction",
                        data: {
                            startOffset: 0,
                            reason: "success",
                            detailedCompletionReason: a.loopNum,
                            merchedVideoId: a.videoId
                        }
                    })
                }
            })
        }
    };


});


Requireify.register('js/utils/consolidatedLogging/rating.js', function(require, requireAsync, module, exports) {


    "use strict";
    module.exports = {
        logRating: function(t) {
            var e = this;
            e.validateParamsAndSend({
                name: "logRating",
                params: t,
                requiredParams: ["rating", "videoId"],
                send: function(t) {
                    var a = {
                        category: "uiAction",
                        modalView: e.getCurrentModalView(),
                        data: {
                            rating: t.rating,
                            ratingType: t.ratingType,
                            rankTitle: t.rankTitle,
                            matchScore: t.matchScore,
                            isNewMS: t.tooNewForMatchScore,
                            predictedRating: t.predictedRating
                        },
                        dataContext: {
                            trackId: t.trackId,
                            videoId: t.videoId,
                            row: t.rowNum,
                            rank: t.rankNum,
                            requestId: t.requestId
                        }
                    };
                    e.logSessionStart("rateTitle", a), e.logSessionEnd("rateTitle", a)
                }
            })
        }
    };


});


Requireify.register('js/utils/consolidatedLogging/notifications.js', function(require, requireAsync, module, exports) {


    "use strict";
    module.exports = {
        logNotificationsOpen: function(i) {
            var a = this;
            a.validateParamsAndSend({
                name: "logNotificationsOpen",
                params: i,
                requiredParams: ["hasNotifications", "hasUnreadNotifications"],
                send: function(i) {
                    var e = {
                            category: "uiView",
                            modalView: a.getCurrentModalView(),
                            data: {
                                name: "viewNotifications",
                                inputMethod: "pointer",
                                inputValue: "hover",
                                isHotkey: "false"
                            }
                        },
                        t = {
                            category: "uiView",
                            modalView: a.getCurrentModalView(),
                            data: {
                                view: "notificationPanel",
                                model: [{
                                    notification: i.hasNotifications,
                                    unreadNotifications: i.hasUnreadNotifications
                                }]
                            }
                        };
                    a.logSessionStart("command", e), a.logSessionStart("impressionSession", t), a.logSessionEnd("command", e)
                }
            })
        },
        logNotificationsClose: function(i) {
            var a = this;
            a.validateParamsAndSend({
                name: "logNotificationsClose",
                params: i,
                requiredParams: ["hasNotifications", "hasUnreadNotifications"],
                send: function(i) {
                    var e = {
                        category: "uiView",
                        modalView: a.getCurrentModalView(),
                        data: {
                            view: "notificationPanel",
                            model: [{
                                notification: i.hasNotifications,
                                unreadNotifications: i.hasUnreadNotifications
                            }]
                        }
                    };
                    a.logSessionEnd("impressionSession", e)
                }
            })
        },
        logNotificationsReadStart: function(i) {
            var a = this;
            a.validateParamsAndSend({
                name: "logNotificationsReadStart",
                params: i,
                requiredParams: ["position", "isRead", "messageGuid", "titleId"],
                send: function(i) {
                    var e = {
                        category: "uiView",
                        modalView: a.getCurrentModalView(),
                        data: {
                            view: "notification",
                            model: [{
                                position: i.position,
                                isRead: i.isRead,
                                messageGuid: i.messageGuid,
                                titleId: i.titleId
                            }]
                        }
                    };
                    a.logSessionStart("impressionSession", e)
                }
            })
        },
        logNotificationsReadEnd: function(i) {
            var a = this;
            a.validateParamsAndSend({
                name: "logNotificationsReadEnd",
                params: i,
                requiredParams: ["position", "isRead", "messageGuid", "titleId"],
                send: function(i) {
                    var e = {
                        category: "uiView",
                        modalView: a.getCurrentModalView(),
                        data: {
                            view: "notification",
                            model: [{
                                position: i.position,
                                isRead: i.isRead,
                                messageGuid: i.messageGuid,
                                titleId: i.titleId
                            }]
                        }
                    };
                    a.logSessionEnd("impressionSession", e)
                }
            })
        },
        logNotificationsClicked: function(i) {
            var a = this;
            a.validateParamsAndSend({
                name: "logNotificationsClicked",
                params: i,
                requiredParams: ["position", "trackId", "messageGuid", "titleId"],
                send: function(i) {
                    var e = {
                        category: "uiView",
                        modalView: a.getCurrentModalView(),
                        data: {
                            name: "viewTitleDetails",
                            inputMethod: "pointer",
                            inputValue: "click",
                            isHotkey: "false",
                            model: [{
                                position: i.position,
                                trackId: i.trackId,
                                messageGuid: i.messageGuid,
                                titleId: i.titleId
                            }]
                        }
                    };
                    a.logSessionStart("command", e), a.logSessionEnd("command", e)
                }
            })
        }
    };


});


Requireify.register('js/utils/consolidatedLogging/falkorHelpers.js', function(require, requireAsync, module, exports) {


    "use strict";
    var falkorHelpers = {
        logApiError: function(e) {
            var r = this;
            this.validateParamsAndSend({
                name: "falkorModelError",
                params: e,
                defaultParams: {},
                requiredParams: ["message", "pql"],
                send: function(e) {
                    r.logEvent("apiError", {
                        category: "uiAction",
                        modalView: r.getCurrentModalView(),
                        data: {
                            pql: e.pql,
                            message: e.message
                        }
                    })
                }
            })
        }
    };
    module.exports = falkorHelpers;


});


Requireify.register('js/utils/consolidatedLogging/browsePlayback.js', function(require, requireAsync, module, exports) {


    "use strict";
    module.exports = {
        logPerformanceMetrics: function(a) {
            var e = this;
            e.validateParamsAndSend({
                name: "logBrowsePlaybackPerformance",
                params: a,
                requiredParams: ["playbackType"],
                send: function(a) {
                    var t = {
                        category: "www",
                        modalView: e.getCurrentModalView(),
                        data: a,
                        dataContext: {}
                    };
                    e.logSessionStart("browsePlaybackPerformance", t), e.logSessionEnd("browsePlaybackPerformance", t)
                }
            })
        },
        logCanFulfillAttempt: function(a) {
            var e = this;
            e.validateParamsAndSend({
                name: "logCanFulfillUIAttempt",
                params: a,
                requiredParams: ["canFulfill"],
                send: function(a) {
                    var t = {
                        category: "www",
                        modalView: e.getCurrentModalView(),
                        data: a,
                        dataContext: {
                            videoId: a.videoId,
                            trackId: a.trackId
                        }
                    };
                    e.logSessionStart("canFulfillUIAttempt", t), e.logSessionEnd("canFulfillUIAttempt", t)
                }
            })
        },
        logPrecachePrepareAttempt: function(a) {
            var e = this;
            e.validateParamsAndSend({
                name: "logPrecachePrepareAttempt",
                params: a,
                requiredParams: [],
                send: function(a) {
                    var t = {
                        category: "www",
                        modalView: e.getCurrentModalView(),
                        data: a,
                        dataContext: {}
                    };
                    e.logSessionStart("precachePrepareAttempt", t), e.logSessionEnd("precachePrepareAttempt", t)
                }
            })
        }
    };


});


Requireify.register('js/utils/consolidatedLogging/originalsFeedback.js', function(require, requireAsync, module, exports) {


    "use strict";
    var REASON_SUCCESS = "success",
        REASON_FAILURE = "failure";
    module.exports = {
        logShowFeedbackButton: function(e) {
            var a = this;
            a.validateParamsAndSend({
                name: "titleFeedbackButton",
                params: e,
                defaultParams: {
                    view: "titleFeedbackButton",
                    path: "postPlay"
                },
                requiredParams: ["view", "path"],
                send: function(e) {
                    var t = {
                        category: "uiView",
                        modalView: a.getCurrentModalView(),
                        data: {
                            view: e.view,
                            path: e.path,
                            reason: REASON_SUCCESS
                        }
                    };
                    a.logSessionStart("impression", t), a.logSessionEnd("impression", t)
                }
            })
        },
        logClickFeedbackButton: function(e) {
            var a = this;
            a.validateParamsAndSend({
                name: "titleFeedback",
                params: e,
                defaultParams: {
                    inputMethod: "pointer"
                },
                requiredParams: [],
                send: function(e) {
                    var t = {
                        category: "uiView",
                        modalView: a.getCurrentModalView(),
                        data: {
                            name: "titleFeedback",
                            inputMethod: e.inputMethod,
                            reason: REASON_SUCCESS
                        }
                    };
                    a.logSessionStart("command", t), a.logSessionEnd("command", t)
                }
            })
        },
        logFeedbackFormShown: function(e) {
            var a = this;
            a.validateParamsAndSend({
                name: "titleFeedback",
                params: e,
                defaultParams: {
                    path: "postPlay"
                },
                requiredParams: ["path"],
                send: function(e) {
                    a.logEvent("uiModalViewChanged", {
                        category: "uiQOE",
                        modalView: a.getCurrentModalView(),
                        data: {
                            view: "titleFeedback",
                            path: e.path,
                            reason: REASON_SUCCESS
                        }
                    })
                }
            })
        },
        logClickSubmitFeedback: function(e) {
            var a = this;
            a.validateParamsAndSend({
                name: "submitTitleFeedback",
                params: e,
                requiredParams: [],
                send: function(e) {
                    var t = {
                        category: "uiView",
                        modalView: a.getCurrentModalView(),
                        data: {
                            name: "submitTitleFeedback",
                            reason: REASON_SUCCESS
                        }
                    };
                    a.logSessionStart("command", t), a.logSessionEnd("command", t)
                }
            })
        },
        logSubmitFeedback: function(e) {
            var a = this;
            a.validateParamsAndSend({
                name: "submitTitleFeedback",
                params: e,
                requiredParams: [],
                send: function(e) {
                    var t = {
                        category: "uiAction",
                        modalView: a.getCurrentModalView(),
                        data: {
                            reason: REASON_SUCCESS
                        }
                    };
                    a.logSessionStart("submitTitleFeedback", t), a.logSessionEnd("submitTitleFeedback", t)
                }
            })
        },
        logSubmitFeedbackError: function(e) {
            var a = this;
            a.validateParamsAndSend({
                name: "submitTitleFeedback",
                params: e,
                requiredParams: ["errorCode", "message"],
                send: function(e) {
                    var t = {
                        category: "uiAction",
                        modalView: a.getCurrentModalView(),
                        data: {
                            reason: REASON_FAILURE
                        },
                        error: {
                            rootCause: "networkError",
                            uiAction: "handledSilently",
                            deepError: {
                                errorCode: e.errorCode,
                                fatal: !1,
                                debug: {
                                    message: e.message
                                }
                            }
                        }
                    };
                    a.logSessionStart("submitTitleFeedback", t), a.logSessionEnd("submitTitleFeedback", t)
                }
            })
        }
    };


});


Requireify.register('js/utils/consolidatedLogging/profiles.js', function(require, requireAsync, module, exports) {


    "use strict";
    module.exports = {
        logProfileDeleteStart: function(e) {
            var i = this;
            this.validateParamsAndSend({
                name: "logProfileDelete",
                params: e,
                defaultParams: {
                    view: "manageProfiles"
                },
                requiredParams: ["profileGuid"],
                send: function(e) {
                    i.logSessionStart("deleteProfile", {
                        category: "uiAction",
                        modalView: i.getCurrentModalView(),
                        data: {
                            profileGuid: e.profileGuid
                        }
                    })
                }
            })
        },
        logProfileDeleteEnd: function(e) {
            var i = this;
            this.validateParamsAndSend({
                name: "logProfileDelete",
                params: e,
                defaultParams: {
                    view: "manageProfiles"
                },
                requiredParams: ["profileGuid"],
                send: function(e) {
                    i.logSessionEnd("deleteProfile", {
                        category: "uiAction",
                        modalView: i.getCurrentModalView(),
                        data: {
                            profileGuid: e.profileGuid
                        }
                    })
                }
            })
        },
        logProfileEditStart: function(e) {
            var i = this;
            this.validateParamsAndSend({
                name: "logProfileEdit",
                params: e,
                defaultParams: {
                    view: "manageProfiles"
                },
                requiredParams: [],
                send: function(e) {
                    i.logSessionStart("editProfile", {
                        category: "uiAction",
                        modalView: i.getCurrentModalView(),
                        data: {}
                    })
                }
            })
        },
        logProfileEditEnd: function(e) {
            var i = this;
            this.validateParamsAndSend({
                name: "logProfileEdit",
                params: e,
                defaultParams: {
                    view: "manageProfiles"
                },
                requiredParams: ["profileGuid", "kids"],
                send: function(e) {
                    i.logSessionEnd("editProfile", {
                        category: "uiAction",
                        modalView: i.getCurrentModalView(),
                        data: {
                            profileGuid: e.profileGuid,
                            kids: e.kids,
                            age: e.age
                        }
                    })
                }
            })
        }
    };


});


Requireify.register('js/utils/consolidatedLogging/inputs.js', function(require, requireAsync, module, exports) {


    "use strict";
    module.exports = {
        logInputTypeTouch: function(e) {
            var a = this;
            this.validateParamsAndSend({
                name: "logInputTypeTouch",
                params: e,
                defaultParams: {},
                requiredParams: [],
                send: function(e) {
                    a.logEvent("logInputTypeTouch", {
                        category: "uiView",
                        modalView: a.getCurrentModalView(),
                        data: {}
                    })
                }
            })
        }
    };


});


Requireify.register('js/utils/consolidatedLogging/webFonts.js', function(require, requireAsync, module, exports) {


    "use strict";
    module.exports = {
        logWebFontObserverLoadStart: function(a) {
            var e = this;
            this.validateParamsAndSend({
                name: "logWebFontObserverLoadStart",
                params: a,
                defaultParams: {},
                requiredParams: [],
                send: function(a) {
                    var t = {
                        category: "www",
                        modalView: e.getCurrentModalView(),
                        data: a,
                        dataContext: {}
                    };
                    e.logSessionStart("webFontLoadObserver", t)
                }
            })
        },
        logWebFontObserverLoadEnd: function(a) {
            var e = this;
            this.validateParamsAndSend({
                name: "logWebFontObserverLoadEnd",
                params: a,
                defaultParams: {},
                requiredParams: ["config", "success"],
                send: function(a) {
                    var t = {
                        category: "www",
                        modalView: e.getCurrentModalView(),
                        data: a,
                        dataContext: {}
                    };
                    e.logSessionEnd("webFontLoadObserver", t)
                }
            })
        }
    };


});


Requireify.register('js/utils/consolidatedLogging/index.js', function(require, requireAsync, module, exports) {


    "use strict";
    var jawBoneConsLogHelper = require("./jawBone"),
        billboardHelper = require("./billboard"),
        bobConsLogHelper = require("./bob"),
        modalConsLogHelper = require("./modal"),
        apmConsLogHelper = require("./apm"),
        renoConsLogHelper = require("./reno"),
        identifiersCheckConsLogHelper = require("./identifiersCheck"),
        commonActionsConsLogHelper = require("./commonActions"),
        searchConsLogHelper = require("./search"),
        satisfactionSurveyConsLogHelper = require("./satisfactionSurvey"),
        motionBoxArt = require("./motionBoxArt"),
        ratingHelper = require("./rating"),
        notificationsHelper = require("./notifications"),
        EventBus = require("../../reactMixins/eventBus"),
        netflix = require("../../common/nfNamespace"),
        NanoPlayerConsts = require("../../nanoPlayer/nanoPlayerConstants"),
        falkorHelpers = require("./falkorHelpers"),
        playPredictionConsLogHelper = require("./playPrediction"),
        browsePlaybackConsLogHelper = require("./browsePlayback"),
        originalsFeedbackConsLogHelper = require("./originalsFeedback"),
        profileConsLogHelper = require("./profiles"),
        inputConsLogHelper = require("./inputs"),
        webFontConsLogHelper = require("./webFonts"),
        globalDefaultParams = {
            kids: !1
        },
        hasInitializedListeners = !1,
        currentPage = null,
        isNavigating = !1,
        VALID_CLOSE_JAW_REASONS = ["bob", "miniBob", "jawNext", "jawPrev", "rowNext", "rowPrev"];
    module.exports = {
        logJawOpen: jawBoneConsLogHelper.logJawOpen,
        logJawClose: jawBoneConsLogHelper.logJawClose,
        logJawTabOpen: jawBoneConsLogHelper.logJawTabOpen,
        logJawTabClose: jawBoneConsLogHelper.logJawTabClose,
        getOpenJawParams: jawBoneConsLogHelper.getOpenJawParams,
        setOpenJawParams: jawBoneConsLogHelper.setOpenJawParams,
        isJawOpen: jawBoneConsLogHelper.isJawOpen,
        setCurrentTab: jawBoneConsLogHelper.setCurrentTab,
        getCurrentTab: jawBoneConsLogHelper.getCurrentTab,
        logJawTabScrollPrev: jawBoneConsLogHelper.logJawScrollPrev,
        logJawTabScrollNext: jawBoneConsLogHelper.logJawScrollNext,
        logJawTabClick: jawBoneConsLogHelper.logJawTabClick,
        logBobOpen: bobConsLogHelper.logBobOpen,
        logBobClose: bobConsLogHelper.logBobClose,
        getOpenBobParams: bobConsLogHelper.getOpenBobParams,
        setOpenBobParams: bobConsLogHelper.setOpenBobParams,
        isBobOpen: bobConsLogHelper.isBobOpen,
        getCurrentModalView: modalConsLogHelper.getCurrentModalView,
        setCurrentModalView: modalConsLogHelper.setCurrentModalView,
        logModalViewChange: modalConsLogHelper.logModalViewChange,
        logModelessViewStart: modalConsLogHelper.logModelessViewStart,
        logModelessViewEnd: modalConsLogHelper.logModelessViewEnd,
        logStartup: apmConsLogHelper.logStartup,
        logDataRequest: apmConsLogHelper.logDataRequest,
        logSmallAssetMetrics: apmConsLogHelper.logSmallAssetMetrics,
        logAddToPlaylistStart: commonActionsConsLogHelper.logAddToPlaylistStart,
        logAddToPlaylistEnd: commonActionsConsLogHelper.logAddToPlaylistEnd,
        logRemoveFromPlaylistStart: commonActionsConsLogHelper.logRemoveFromPlaylistStart,
        logRemoveFromPlaylistEnd: commonActionsConsLogHelper.logRemoveFromPlaylistEnd,
        logRequestPlaybackStart: commonActionsConsLogHelper.logRequestPlaybackStart,
        logPlaybackStarted: commonActionsConsLogHelper.logPlaybackStarted,
        logPlaybackInitError: commonActionsConsLogHelper.logPlaybackInitError,
        logWindowOnError: commonActionsConsLogHelper.logWindowOnError,
        logTrailerPlayStart: commonActionsConsLogHelper.logTrailerPlayStart,
        logTrailerPlayEnd: commonActionsConsLogHelper.logTrailerPlayEnd,
        logSearchEdit: searchConsLogHelper.logSearchEdit,
        logSearchFocus: searchConsLogHelper.logSearchFocus,
        logSearchImpression: searchConsLogHelper.logSearchImpression,
        logStartNavigation: modalConsLogHelper.logStartNavigation,
        logEndNavigation: modalConsLogHelper.logEndNavigation,
        logSatisfactionSurveyOpen: satisfactionSurveyConsLogHelper.logSatisfactionSurveyOpen,
        logSatisfactionSurveyClose: satisfactionSurveyConsLogHelper.logSatisfactionSurveyClose,
        logMotionBillboardLoadingStarted: billboardHelper.logMotionBillboardLoadingStarted,
        logMotionBillboardLoadingEnded: billboardHelper.logMotionBillboardLoadingEnded,
        logMotionBillboardLoadingError: billboardHelper.logMotionBillboardLoadingError,
        logMotionBillboardPlayStarted: billboardHelper.logMotionBillboardPlayStarted,
        logMotionBillboardPlayEnded: billboardHelper.logMotionBillboardPlayEnded,
        logMotionBillboardPlayError: billboardHelper.logMotionBillboardPlayError,
        logMotionBillboardCommand: billboardHelper.logMotionBillboardCommand,
        logMotionBoxArtEnterViewport: motionBoxArt.logMotionBoxArtEnterViewport,
        logMotionBoxArtPlayLoop: motionBoxArt.logMotionBoxArtPlayLoop,
        logRenoMessage: renoConsLogHelper.logRenoMessage,
        logRenoRefreshStart: renoConsLogHelper.logRenoRefreshStart,
        logRenoRefreshEnd: renoConsLogHelper.logRenoRefreshEnd,
        logIdentifiersCheck: identifiersCheckConsLogHelper.logIdentifiersCheck,
        logFalkorApiError: falkorHelpers.logApiError,
        logPlayPredictionInputOutput: playPredictionConsLogHelper.logPlayPredictionInOut,
        logRating: ratingHelper.logRating,
        logNotificationsOpen: notificationsHelper.logNotificationsOpen,
        logNotificationsClose: notificationsHelper.logNotificationsClose,
        logNotificationsReadStart: notificationsHelper.logNotificationsReadStart,
        logNotificationsReadEnd: notificationsHelper.logNotificationsReadEnd,
        logNotificationsClicked: notificationsHelper.logNotificationsClicked,
        logBrowsePlaybackPerformanceMetrics: browsePlaybackConsLogHelper.logPerformanceMetrics,
        logCanFulfillAttempt: browsePlaybackConsLogHelper.logCanFulfillAttempt,
        logPrecachePrepareAttempt: browsePlaybackConsLogHelper.logPrecachePrepareAttempt,
        logOriginalsFeedbackButtonShown: originalsFeedbackConsLogHelper.logShowFeedbackButton,
        logOriginalsFeedbackButtonClick: originalsFeedbackConsLogHelper.logClickFeedbackButton,
        logOriginalsFeedbackFormShown: originalsFeedbackConsLogHelper.logFeedbackFormShown,
        logOriginalsFeedbackFormClickSubmit: originalsFeedbackConsLogHelper.logClickSubmitFeedback,
        logOriginalsFeedbackFormSubmit: originalsFeedbackConsLogHelper.logSubmitFeedback,
        logOriginalsFeedbackFormSubmitError: originalsFeedbackConsLogHelper.logSubmitFeedbackError,
        logProfileDeleteStart: profileConsLogHelper.logProfileDeleteStart,
        logProfileDeleteEnd: profileConsLogHelper.logProfileDeleteEnd,
        logProfileEditStart: profileConsLogHelper.logProfileEditStart,
        logProfileEditEnd: profileConsLogHelper.logProfileEditEnd,
        logInputTypeTouch: inputConsLogHelper.logInputTypeTouch,
        logWebFontObserverLoadStart: webFontConsLogHelper.logWebFontObserverLoadStart,
        logWebFontObserverLoadEnd: webFontConsLogHelper.logWebFontObserverLoadEnd,
        attachListeners: function() {
            var o = this;
            hasInitializedListeners || (EventBus.on("dataRequest:send", function(e, n) {
                o.logDataRequest(e, n)
            }), EventBus.on("jawbone:open", function(e) {
                o.isJawOpen() && -1 !== VALID_CLOSE_JAW_REASONS.indexOf(e.trigger) && (o.logJawClose({
                    reason: e.trigger
                }), o.logJawTabClose()), o.logJawOpen(e)
            }), EventBus.on("jawbone:close", function(e) {
                o.logJawClose(e), o.logJawTabClose({
                    tab: o.getCurrentTab()
                })
            }), EventBus.on("jawbone:tab:open", function(e) {
                o.getCurrentTab() && o.getCurrentTab() !== e.tab && o.logJawTabClose({
                    tab: o.getCurrentTab()
                }), o.logJawTabOpen(e)
            }), EventBus.on("jawbone:tab:click", function(e) {
                o.logJawTabClick(e)
            }), EventBus.on("jawbone:tab:scrollNext", function(e) {
                o.logJawTabScrollNext()
            }), EventBus.on("jawbone:tab:scrollPrev", function(e) {
                o.logJawTabScrollPrev()
            }), EventBus.on("bob:open", function(e) {
                o.logBobOpen(e)
            }), EventBus.on("bob:close", function(e) {
                o.logBobClose(e)
            }), EventBus.on("myList:add:start", function(e) {
                o.logAddToPlaylistStart(e)
            }), EventBus.on("myList:add:end", function(e) {
                o.logAddToPlaylistEnd(e)
            }), EventBus.on("myList:remove:start", function(e) {
                o.logRemoveFromPlaylistStart(e)
            }), EventBus.on("myList:remove:end", function(e) {
                o.logRemoveFromPlaylistEnd(e)
            }), EventBus.on("profile:switch", function(e) {
                o.flushBuffer()
            }), EventBus.on("playback:requestPlay", function(e) {
                if (o.logRequestPlaybackStart(e), o.isJawOpen()) {
                    var n = o.getOpenJawParams();
                    n && e.rowNum === n.rowNum && e.rankNum === n.rankNum ? o.logJawClose({
                        reason: "success"
                    }) : o.logJawClose({
                        reason: "implicit"
                    })
                }
            }), EventBus.on("playback:start", function(e) {
                o.logPlaybackStarted(e)
            }), EventBus.on("logTrailerPlayStart", function(e) {
                o.logTrailerPlayStart(e)
            }), EventBus.on("logTrailerPlayEnd", function(e) {
                o.logTrailerPlayEnd(e)
            }), EventBus.on("window:error", function(e) {
                o.logWindowOnError(e)
            }), EventBus.on("app:interactive", function(e) {
                setTimeout(function() {
                    o.logEndNavigation(e), isNavigating = !1
                })
            }), EventBus.on("search:edit", function(e) {
                o.logSearchEdit(e)
            }), EventBus.on("search:focus", function(e) {
                o.logSearchFocus(e)
            }), EventBus.on("search:impression", function(e) {
                o.logSearchImpression(e)
            }), EventBus.on("satisfactionSurvey:open", function(e) {
                o.logSatisfactionSurveyOpen(e)
            }), EventBus.on("satisfactionSurvey:close", function(e) {
                o.logSatisfactionSurveyClose(e)
            }), EventBus.on("motionBoxArt:enterViewport", function(e) {
                o.logMotionBoxArtEnterViewport(e)
            }), EventBus.on("motionBoxArt:playLoop", function(e) {
                o.logMotionBoxArtPlayLoop(e)
            }), billboardHelper.stub || (EventBus.on("motionBillboard:loadingStarted", function(e) {
                o.logMotionBillboardLoadingStarted(e)
            }), EventBus.on("motionBillboard:loadingEnded", function(e) {
                o.logMotionBillboardLoadingEnded(e)
            }), EventBus.on("motionBillboard:loadingError", function(e) {
                o.logMotionBillboardLoadingError(e)
            }), EventBus.on("motionBillboard:playStarted", function(e) {
                o.logMotionBillboardPlayStarted(e)
            }), EventBus.on("motionBillboard:playEnded", function(e) {
                o.logMotionBillboardPlayEnded(e)
            }), EventBus.on("motionBillboard:playError", function(e) {
                o.logMotionBillboardPlayError(e)
            }), EventBus.on("motionBillboard:muteButtonClicked", function(e) {
                o.logMotionBillboardCommand(e)
            })), EventBus.on("app:pageChange", function(e) {
                var n = window.location.pathname || "generic";
                (n !== currentPage || e.uiView !== o.getCurrentModalView()) && (isNavigating && o.logEndNavigation(e), o.logStartNavigation(e), isNavigating = !0), o.isJawOpen() && !e.jawBoneVideoId && o.logJawClose({
                    reason: "implicit"
                }), o.isBobOpen() && o.logBobClose({
                    reason: "implicit"
                }), o.logModalViewChange({
                    modalView: e.uiView,
                    id: "browseTitles" === e.uiView ? e.id : null
                }), e.jawBoneVideoId && (currentPage ? n !== currentPage && o.logJawOpen({
                    trigger: "return",
                    videoId: e.jawBoneVideoId,
                    rowNum: e.jawBoneRowNum,
                    rankNum: e.jawBoneRankNum
                }) : o.logJawOpen({
                    trigger: "url",
                    videoId: e.jawBoneVideoId,
                    rowNum: e.jawBoneRowNum,
                    rankNum: e.jawBoneRankNum
                })), currentPage = n
            }), renoConsLogHelper.stub || (EventBus.on("reno:message", function(e) {
                o.logRenoMessage(e)
            }), EventBus.on("lolomo:refreshStart", function(e) {
                o.logRenoRefreshStart(e)
            }), EventBus.on("lolomo:refreshEnd", function(e) {
                o.logRenoRefreshEnd(e)
            })), identifiersCheckConsLogHelper.stub || EventBus.on("identifiers:update", function(e) {
                o.logIdentifiersCheck(e)
            }), EventBus.once("falkorFetch:error", function(e) {
                o.logFalkorApiError(e)
            }), EventBus.on("playprediction:result", function(e) {
                o.logPlayPredictionInputOutput(e)
            }), EventBus.on("rating:set", function(e) {
                o.logRating(e)
            }), EventBus.on("notifications:open", function(e) {
                o.logNotificationsOpen(e)
            }), EventBus.on("notifications:close", function(e) {
                o.logNotificationsClose(e)
            }), EventBus.on("notifications:readstart", function(e) {
                o.logNotificationsReadStart(e)
            }), EventBus.on("notifications:readend", function(e) {
                o.logNotificationsReadEnd(e)
            }), EventBus.on("notifications:clicked", function(e) {
                o.logNotificationsClicked(e)
            }), EventBus.on("browsePlayback:recordPerformanceMetrics", function(e) {
                o.logBrowsePlaybackPerformanceMetrics(e)
            }), EventBus.on(NanoPlayerConsts.CAN_FULFILL_EVENT, function(e) {
                o.logCanFulfillAttempt(e)
            }), EventBus.on(NanoPlayerConsts.PREPARE_EVENT, function(e) {
                o.logPrecachePrepareAttempt(e)
            }), EventBus.on("playback:initError", function(e) {
                o.logPlaybackInitError(e)
            }), EventBus.on("smallAssets:loaded", function(e) {
                o.logSmallAssetMetrics(e)
            }), originalsFeedbackConsLogHelper.stub || (EventBus.on("originalsFeedbackButton:show", function(e) {
                o.logOriginalsFeedbackButtonShown(e)
            }), EventBus.on("originalsFeedbackButton:click", function(e) {
                o.logOriginalsFeedbackButtonClick(e)
            }), EventBus.on("originalsFeedbackForm:show", function(e) {
                o.logOriginalsFeedbackFormShown(e)
            }), EventBus.on("originalsFeedbackForm:click", function(e) {
                o.logOriginalsFeedbackFormClickSubmit(e)
            }), EventBus.on("originalsFeedbackForm:submit", function(e) {
                o.logOriginalsFeedbackFormSubmit(e)
            }), EventBus.on("originalsFeedbackForm:error", function(e) {
                o.logOriginalsFeedbackFormSubmitError(e)
            })), EventBus.on("profile:deleteStart", function(e) {
                o.logProfileDeleteStart(e)
            }), EventBus.on("profile:deleteEnd", function(e) {
                o.logProfileDeleteEnd(e)
            }), EventBus.on("profile:editStart", function(e) {
                o.logProfileEditStart(e)
            }), EventBus.on("profile:editEnd", function(e) {
                o.logProfileEditEnd(e)
            }), EventBus.once("inputType:touch", function(e) {
                o.logInputTypeTouch()
            }), webFontConsLogHelper.stub || (EventBus.on("webFontLoadObserver:start", function(e) {
                o.logWebFontObserverLoadStart(e)
            }), EventBus.on("webFontLoadObserver:end", function(e) {
                o.logWebFontObserverLoadEnd(e)
            })), hasInitializedListeners = !0)
        },
        flushBuffer: function() {
            netflix.clientNotifications.flushBuffer()
        },
        validateParamsAndSend: function(o) {
            var e, n, t = o.defaultParams,
                i = o.requiredParams,
                l = {};
            for (n in globalDefaultParams) globalDefaultParams.hasOwnProperty(n) && (l[n] = globalDefaultParams[n]);
            for (n in t) t.hasOwnProperty(n) && (l[n] = t[n]);
            for (n in o.params) o.params.hasOwnProperty(n) && "function" != typeof o.params[n] && (l[n] = o.params[n]);
            e = this.validateParams(l, i), 0 === e.length ? "function" == typeof o.send ? o.send(l) : this._outputErrorMessage('Unable to log event due to missing "send" function') : this._outputErrorMessage("Unable to log event (" + o.name + ") due to missing params: " + e.join(","))
        },
        getSpecification: function(o, e, n) {
            return {
                constants: {
                    sessionLength: 30,
                    ownerToken: n,
                    locale: o || "en-US",
                    uiMode: "member",
                    version: {
                        app: "shakti-" + e,
                        ui: "akira"
                    },
                    pageName: this.getCurrentModalView(),
                    logPageOnStart: !1,
                    debugMode: !1
                },
                specification: {
                    uiView: {
                        impression: {
                            send: "both"
                        },
                        jawImpression: {
                            send: "both"
                        },
                        jawTabImpression: {
                            send: "both"
                        },
                        focus: {
                            send: "both"
                        },
                        command: {
                            send: "end"
                        },
                        uma: {
                            send: "both"
                        },
                        titleFeedback: {
                            send: "end"
                        },
                        impressionSession: {
                            send: "end"
                        }
                    },
                    uiAction: {
                        selectProfile: {
                            send: "end"
                        },
                        rateTitle: {
                            send: "end"
                        },
                        addToPlaylist: {
                            send: "end"
                        },
                        removeFromPlaylist: {
                            send: "end"
                        },
                        search: {
                            send: "end"
                        },
                        navigate: {
                            send: "both"
                        },
                        startPlay: {
                            send: "both"
                        },
                        survey: {
                            send: "end"
                        },
                        surveyQuestion: {
                            send: "end"
                        },
                        startTrailerPlay: {
                            send: "both"
                        },
                        trailerPlay: {
                            send: "both"
                        },
                        renoMessage: {
                            send: "end"
                        },
                        renoRefresh: {
                            send: "both"
                        },
                        identifierCheck: {
                            send: "end"
                        },
                        submitTitleFeedback: {
                            send: "end"
                        },
                        videoPlay: {
                            send: "end"
                        },
                        deleteProfile: {
                            send: "end"
                        },
                        editProfile: {
                            send: "end"
                        }
                    },
                    search: {
                        focus: {
                            send: "both"
                        }
                    },
                    www: {
                        debug: {
                            send: "start"
                        },
                        playPrediction: {
                            send: "end"
                        },
                        browsePlaybackPerformance: {
                            send: "end"
                        },
                        webFontLoadObserver: {
                            send: "end"
                        },
                        canFulfillUIAttempt: {
                            send: "end"
                        },
                        precachePrepareAttempt: {
                            send: "end"
                        },
                        siteSmallAssetMetrics: {
                            send: "end"
                        },
                        playbackInitError: {
                            send: "end"
                        },
                        windowOnError: {
                            send: "end"
                        }
                    },
                    uiQOE: {
                        appSession: {
                            send: "both"
                        },
                        userSession: {
                            send: "both"
                        },
                        uiBrowseStartup: {
                            send: "end"
                        },
                        uiDataRequest: {
                            send: "end",
                            disabledChance: 90
                        },
                        uiModalViewChanged: {
                            eventProperties: {
                                value: "modalView"
                            },
                            send: "start"
                        },
                        uiModelessView: {
                            send: "both",
                            overlapping: "true"
                        }
                    }
                }
            }
        },
        validateParams: function(o, e) {
            return e.filter(function(e) {
                return void 0 === o[e]
            })
        },
        logEvent: function(o, e) {
            netflix && netflix.clientNotifications && (this._outputEventDebugMessage("Event", o, e), netflix.clientNotifications.notify(o, e))
        },
        logSessionStart: function(o, e) {
            netflix && netflix.clientNotifications && (this._outputEventDebugMessage("Start", o, e), netflix.clientNotifications.notifyStart(o, e))
        },
        logSessionEnd: function(o, e) {
            netflix && netflix.clientNotifications && (this._outputEventDebugMessage("End", o, e), netflix.clientNotifications.notifyEnd(o, e))
        },
        logDebugEvent: function(o) {
            var e = this;
            this.validateParamsAndSend({
                name: "logDebugEvent",
                params: o,
                defaultParams: {},
                requiredParams: [],
                send: function(o) {
                    e.logEvent("debug", {
                        category: "www",
                        modalView: e.getCurrentModalView(),
                        data: o
                    })
                }
            })
        },
        _outputEventDebugMessage: function(o, e, n) {
            n.modalView ? "'" + n.modalView + "'" : "N/A", n.data || {}, n.dataContext || {};
            netflix && netflix.notification && netflix.notification.constants && netflix.notification.constants.debugMode
        },
        _outputErrorMessage: function(o) {
            netflix && netflix.notification && netflix.notification.constants && netflix.notification.constants.debugMode
        }
    };


});


Requireify.register('js/utils/isRtl.js', function(require, requireAsync, module, exports) {


    "use strict";
    var _ = require("lodash"),
        RIGHT_TO_LEFT = "rtl",
        LEFT_TO_RIGHT = "ltr";
    module.exports = function(r) {
        return r ? _.get(r || {}, "preferredLocale.dir", LEFT_TO_RIGHT) === RIGHT_TO_LEFT : !1
    };


});


Requireify.register('js/akira/baseRouteHandler.jsx', function(require, requireAsync, module, exports) {


    "use strict";

    function initConsolidatedLogging(e) {
        ConsolidatedLogging.setCurrentModalView(e), ConsolidatedLogging.attachListeners()
    }
    var _extends = Object.assign || function(e) {
            for (var t = 1; t < arguments.length; t++) {
                var i = arguments[t];
                for (var a in i) Object.prototype.hasOwnProperty.call(i, a) && (e[a] = i[a])
            }
            return e
        },
        React = require("react"),
        Router = require("react-router"),
        _ = require("lodash"),
        nfProps = require("nf-iso-properties"),
        cx = require("classnames"),
        PaymentHold = require("./components/messaging/paymentHold.js"),
        ConsolidatedLogging = require("../utils/consolidatedLogging/index"),
        EventBus = require("../reactMixins/eventBus"),
        HistoryBack = require("../reactMixins/historyBack"),
        ProfileManager = require("../utils/profileManager"),
        ModalManager = require("./components/modals/modalManager.jsx"),
        IsomorphicContext = require("../reactMixins/isomorphicContextWithDeps"),
        inNode = require("../utils/inNode"),
        AB = require("../utils/ab/ab"),
        isRtl = require("../utils/isRtl"),
        CookiesMixin = require("../reactMixins/isomorphicCookies"),
        ONE_PREVIOUS_PAGE = 1,
        RTL_WEB_FONTS_DISABLED_FP_KEY = "web.ui.rtl.webfonts.disabled",
        RTL_WEB_FONTS_BASE64_DISABLED_FP_KEY = "web.ui.rtl.webfonts.base64.disabled",
        RTL_FONT_TEST_ID = 6789,
        UI_VIEWS = {
            home: "homeScreen",
            homeWithSlash: "homeScreen",
            title: "homeScreen",
            addToMyList: "homeScreen",
            genre: "browseTitles",
            similars: "WiSimilarsByViewType",
            genreNewRelease: "NewReleases",
            hd: "browseTitles",
            person: "rolesDisplay",
            myList: "MyListAsGallery",
            watchAgain: "WiAgain",
            recentlyAdded: "WiRecentAdditions",
            justAdded: "justAdded",
            newRelease: "NewReleases",
            newReleases: "NewReleases",
            newArrivals: "NewReleases",
            subtitle: "browseTitles",
            subtitles: "browseTitles",
            search: "searchResults",
            searchPerson: "searchResults",
            searchSuggestion: "searchResults",
            searchDVD: "searchResults",
            playback: "playback",
            watchNow: "playback",
            audioDescription: "browseTitles",
            manageProfiles: "manageProfiles",
            editProfiles: "manageProfiles",
            netflixOriginals: "browseTitles"
        },
        BaseRouteHandler = React.createClass({
            displayName: "BaseRouteHandler",
            mixins: [Router.Navigation, Router.State, HistoryBack, IsomorphicContext, CookiesMixin],
            childContextTypes: {
                isRtl: React.PropTypes.bool
            },
            getChildContext: function() {
                return {
                    isRtl: isRtl(this.getFeatureData("geo"))
                }
            },
            getInitialState: function() {
                var e = ProfileManager.VIEWS,
                    t = this.getFeatureData("showGate") === !0 ? e.LIST : e.CLOSED;
                return {
                    initializedCL: !1,
                    isInitialRender: !0,
                    promotionalVideoHasPlayed: !1,
                    profileGateAppState: {
                        activeView: t
                    }
                }
            },
            isInAkiraDiscovery: function() {
                var e = _.get(this.getRoutes(), "[1].name", null);
                return "akira" === e
            },
            getRouteName: function() {
                var e = this.getRoutes(),
                    t = e && e.length > 0 && e[e.length - 1],
                    i = t && t.name;
                return i
            },
            getCurrentUIView: function() {
                var e = this.getRouteName(),
                    t = e && UI_VIEWS[e];
                return t
            },
            isPlaybackView: function() {
                return "playback" === this.getCurrentUIView()
            },
            componentWillMount: function() {
                var e;
                "client" !== this.props.renderSource || this.state.initializedCL || (e = this.getCurrentUIView(), e && (this.state.initializedCL = !0, initConsolidatedLogging(e)))
            },
            updateProfileGateAppState: function(e) {
                this.isInAkiraDiscovery() && (this.setState({
                    profileGateAppState: e
                }), e.activeView === ProfileManager.VIEWS.CLOSED && this.replaceWith(this.getRouteName(), this.getParams()))
            },
            paymentHoldModalClose: function() {
                this.isPlaybackView() && this.goBackHistory(ONE_PREVIOUS_PAGE)
            },
            drawPaymentHold: function() {
                ProfileManager.isGateOpen(this.state.profileGateAppState) || PaymentHold.potentiallyOpen({
                    umaData: this.getFeatureData("umaData") || null
                }, this.isPlaybackView())
            },
            componentDidMount: function() {
                if (!inNode && window.PointerEvent) {
                    var e = this.refs.main,
                        t = e && e.getDOMNode();
                    t && t.addEventListener("pointerenter", this._handlePointerEnter)
                }
                var i = ProfileManager.isGateOpen(this.state.profileGateAppState);
                ProfileManager.init(this.updateProfileGateAppState, i), EventBus.on("modal:close:paymentHoldModal", this.paymentHoldModalClose), EventBus.on("videoPromoRow:hasPlayed", this.setVideoPromoHasPlayed), this.drawPaymentHold()
            },
            setVideoPromoHasPlayed: function() {
                this.setState({
                    promotionalVideoHasPlayed: !0
                })
            },
            componentWillReceiveProps: function() {
                this.state.isInitialRender && this.setState({
                    isInitialRender: !1
                })
            },
            componentDidUpdate: function() {
                EventBus.removeListener("modal:close:paymentHoldModal", this.paymentHoldModalClose), ModalManager.closeOpenModal({}), this.drawPaymentHold()
            },
            componentWillUnmount: function() {
                if (EventBus.removeListener("videoPromoRow:hasPlayed", this.setVideoPromoHasPlayed), !inNode && window.PointerEvent) {
                    var e = this.refs.main,
                        t = e && e.getDOMNode();
                    t && t.removeEventListener("pointerenter", this._handleTouchStart)
                }
            },
            _handleTouchStart: function() {
                EventBus.emit("inputType:touch")
            },
            _handlePointerEnter: function(e) {
                "touch" === e.pointerType && EventBus.emit("inputType:touch")
            },
            getClassName: function() {
                var e = this.getFeatureData("geo"),
                    t = isRtl(e),
                    i = "ar" === _.get(e, "preferredLocale.language", ""),
                    a = AB.attr(this.getContext(), RTL_FONT_TEST_ID, "setFontImmediately"),
                    o = AB.attr(this.getContext(), RTL_FONT_TEST_ID, "dataURI"),
                    r = nfProps.get(o ? RTL_WEB_FONTS_BASE64_DISABLED_FP_KEY : RTL_WEB_FONTS_DISABLED_FP_KEY),
                    s = this.cookies().get("nkufiLoaded");
                return cx({
                    "nkufi-font-loaded": i && t && !r && a || s
                })
            },
            render: function() {
                var e, t, i, a;
                return PaymentHold.preventPlay(this.getFeatureData("umaData")) && this.isPlaybackView() ? null : (e = this.getFeatureData("geo"), t = _.get(e, "preferredLocale.language", "en"), i = _.get(e, "preferredLocale.dir", "ltr"), a = this.getClassName(), React.createElement("div", {
                    ref: "main",
                    lang: t,
                    dir: i,
                    className: a,
                    onTouchStart: this._handleTouchStart
                }, React.createElement(Router.RouteHandler, _extends({}, this.props, {
                    uiView: this.getCurrentUIView(),
                    profileGateAppState: this.state.profileGateAppState,
                    promotionalVideoHasPlayed: this.state.promotionalVideoHasPlayed,
                    hideHeader: this.state.hideHeader,
                    renderSource: this.props.renderSource,
                    isInitialRender: this.state.isInitialRender
                })), this.renderSVGSymbols()))
            },
            renderSVGSymbols: function() {
                return React.createElement("svg", {
                    style: {
                        display: "none"
                    },
                    xmlns: "http://www.w3.org/2000/svg"
                }, React.createElement("defs", {
                    dangerouslySetInnerHTML: {
                        __html: '<symbol id="chevron-down" viewBox="0 0 60 19">    <path fill="currentColor" d="M59.5615866,2.44258873 L31.1899791,17.6617954 C30.7515658,17.9123173 30.2505219,18.1002088 30.0626305,18.1002088 C29.874739,18.1002088 29.6242171,18.0375783 29.5615866,18.0375783 C29.4363257,17.9749478 28.9979123,17.7244259 28.559499,17.5365344 L0.501043841,2.44258873 C0.187891441,2.31732777 0,1.94154489 0,1.62839248 C0,1.50313152 0.0626304802,1.37787056 0.12526096,1.18997912 L0.501043841,0.501043841 C0.688935282,0.187891441 1.00208768,0 1.31524008,0 C1.50313152,0 1.62839248,0 1.75365344,0.12526096 L29.1858038,14.8434238 C29.3736952,14.9686848 29.6868476,15.0313152 30,15.0313152 C30.3131524,15.0313152 30.6263048,14.9686848 30.8141962,14.8434238 L58.2463466,0.12526096 C58.6847599,-0.12526096 59.2484342,0 59.4989562,0.501043841 L59.874739,1.18997912 C60.125261,1.62839248 60,2.19206681 59.5615866,2.44258873"></path></symbol><symbol id="add" viewBox="0 0 60 60">    <path fill="currentColor" d="M54.6886726,24.6861711 C57.6894231,24.7461866 60,26.9367348 60,30.0025004 C60,33.0582644 57.6894231,35.3088269 54.6886726,35.3738432 L35.3738432,35.3738432 L35.3738432,54.6836707 C35.3088269,57.6844212 33.0032509,60 29.9974996,60 C26.9967491,60 24.7511874,57.6844212 24.6861711,54.6836707 L24.6861711,35.3738432 L5.31132735,35.3738432 C2.37559424,35.3088269 0,32.99825 0,30.0025004 C0,27.0017511 2.37559424,24.7461866 5.31132735,24.6861711 L24.6861711,24.6861711 L24.6861711,5.30632652 C24.7511874,2.31057799 26.9367348,0 29.9974996,0 C33.0632663,0 35.3088269,2.31057799 35.3738432,5.30632652 L35.3738432,24.6861711 L54.6886726,24.6861711"></path></symbol><symbol id="check" viewBox="0 0 60 60">    <path fill="currentColor" d="M0,40.0650165 L9.37734421,27.5668918 L21.8754686,36.939235 L47.1867971,0 L59.1247815,9.25231308 L26.5016254,60 L0,40.0650165 L0,40.0650165 Z"></path></symbol><symbol id="episodes" viewBox="0 0 81 60">    <path fill="currentColor" d="M50.9256283,23.8269128 C51.5703585,23.8269128 52.096041,24.3485822 52.096041,25.0521669 L52.096041,58.7693954 C52.096041,59.4154628 51.5703585,60 50.9256283,60 L1.16907437,60 C0.525682496,60 0,59.4154628 0,58.7693954 L0,25.0521669 C0,24.3485822 0.525682496,23.8269128 1.16907437,23.8269128 L50.9256283,23.8269128 L50.9256283,23.8269128 Z M65.0936335,11.9983949 C65.7370253,11.9983949 66.2640451,12.5294275 66.2640451,13.2289995 L66.2640451,48.8777423 C66.2640451,49.5197969 65.7370253,50.0468166 65.0936335,50.0468166 L57.3060465,50.0468166 C56.6064745,50.0468166 56.0754419,49.5197969 56.0754419,48.8777423 L56.0754419,20.0214019 L13.1139646,20.0214019 C12.4692345,20.0214019 11.943553,19.4903692 11.943553,18.7907973 L11.943553,13.2289995 C11.943553,12.5294275 12.4692345,11.9983949 13.1139646,11.9983949 L65.0936335,11.9983949 L65.0936335,11.9983949 Z M79.0850725,0 C79.7271271,0 80.2554841,0.584537187 80.2554841,1.2306046 L80.2554841,34.7685928 C80.2554841,35.4735153 79.7271271,35.9991974 79.0850725,35.9991974 L71.2988228,35.9991974 C70.5965763,35.9991974 70.0682182,35.4735153 70.0682182,34.7685928 L70.0682182,8.01899411 L27.2766187,8.01899411 C26.5770466,8.01899411 26.0500269,7.49197436 26.0500269,6.84858217 L26.0500269,1.2306046 C26.0500269,0.584537187 26.5770466,0 27.2766187,0 L79.0850725,0 L79.0850725,0 Z"></path></symbol><symbol id="play" viewBox="0 0 53 60">    <path fill="currentColor" d="M50.7569187,27.4991667 C51.9423137,28.2494161 52.5025004,29.1247086 52.5025004,30 C52.5025004,31.0003335 51.9423137,31.8106033 50.7569187,32.5008333 L4.37645931,59.4398134 C3.62620889,59.8149386 2.9359789,60 2.37579226,60 C0.940313102,60 0.0650216737,58.8746244 0,56.8739573 L0,3.12604159 C0.0650216737,1.12037329 0.940313102,0.0600204233 2.37579226,0 C2.9359789,0 3.62620889,0.185061437 4.37645931,0.555185394 L50.7569187,27.4991667"></path></symbol><symbol id="edit" viewBox="0 0 32 32">    <path fill="currentColor" d="M16 0c8.833 0 16 7.167 16 16 0 8.8-7.167 16-16 16s-16-7.2-16-16c0-8.833 7.167-16 16-16zM16 1.7c-7.9 0-14.3 6.4-14.3 14.3s6.4 14.3 14.3 14.3 14.3-6.4 14.3-14.3-6.4-14.3-14.3-14.3zM22.333 12.9l0.3-0.267 0.867-0.867c0.467-0.5 0.4-0.767 0-1.167l-1.767-1.767c-0.467-0.467-0.767-0.4-1.167 0l-0.867 0.867-0.267 0.3zM18.3 11.1l-8.6 8.6-0.833 3.767 3.767-0.833 0.967-1 7.633-7.6z"></path></symbol><symbol id="thumb-down" viewBox="0 0 16 18">    <path fill="currentColor" d="M0.007,9.422c-0.076-0.728,0.479-1.378,1.24-1.453l0.176-0.017 C0.865,7.868,0.4,7.41,0.333,6.786C0.256,6.058,0.742,5.417,1.42,5.35l0.43-0.042C1.424,5.159,1.083,4.714,1.021,4.152 C0.945,3.425,1.363,2.79,1.957,2.731l3.418-0.333C6.682,2.192,8.233,2,9.473,2c3.799,0,4.75,1.331,6.527,0.888 c0,2.366-0.02,4.32,0,6.603c0.002,0.265-1.656,0.528-1.656,0.791c0,0-2.677,4.966-2.799,5.437 c-0.123,0.472-0.154,3.791-0.154,3.791s-2.281,1.458-3.145-2.426c-0.865-3.887,0.262-4.373,0.262-4.373l-0.779,0.011 l-5.483,0.532c-0.669,0.066-1.271-0.471-1.349-1.198c-0.078-0.728,0.399-1.371,1.066-1.435l1.641-0.159l-0.008-0.058 l-2.066,0.201C0.766,10.678,0.084,10.148,0.007,9.422z"></path></symbol><symbol id="check-mark" viewBox="0 0 32 32">    <path fill="currentColor" d="M14.133 23.5l12.767-12.467c0.033-0.033 0.1-0.1 0.133-0.167l-3.1-3.133c-0.067 0.033-0.133 0.1-0.2 0.167l-11.267 10.933-4.267-4.333-3.233 2.933c0.033 0 1.067 1.067 1.1 1.067l4.767 5 0.133 0.133c0.433 0.4 0.967 0.633 1.5 0.633s1.1-0.233 1.5-0.633z"></path></symbol><symbol id="add-profile" viewBox="0 0 32 32">    <path fill="currentColor" d="M16 0c8.833 0 16 7.133 16 16 0 8.833-7.167 16-16 16s-16-7.167-16-16c0-8.867 7.167-16 16-16zM16 29.533c7.467 0 13.533-6.067 13.533-13.533s-6.067-13.567-13.533-13.567-13.533 6.1-13.533 13.567 6.067 13.533 13.533 13.533zM17.133 14.767h5.033v2.433h-5.033v4.933h-2.467v-4.933h-4.833v-2.433h4.833v-4.933h2.467v4.933z"></path></symbol><symbol id="thumb-up" viewBox="0 0 16 18">    <path fill="currentColor" d="M15.992986,10.3557422 C15.9154066,9.62920418 15.2340012,9.10002797 14.4711375,9.17280512 L12.4049405,9.37386741 L12.3971826,9.31589239 L14.0366931,9.15676947 C14.7038756,9.0926269 15.1822817,8.44996768 15.1034093,7.72219619 C15.0258299,6.99442471 14.4232969,6.45784743 13.7548214,6.52322351 L8.2712536,7.05610026 L7.49287402,7.06720186 C7.49287402,7.06720186 8.61906774,6.58119853 7.75405786,2.6944054 C6.89034098,-1.1899207 4.60950777,0.268089287 4.60950777,0.268089287 C4.60950777,0.268089287 4.57847603,3.58746736 4.45564204,4.05866856 C4.33280805,4.52986975 1.65632011,9.495985 1.65632011,9.495985 C1.65632011,9.75872284 -0.00129223331,10.0214607 7.5603586e-07,10.2866655 C0.0193955962,12.5698944 7.5603586e-07,14.5237758 7.5603586e-07,16.8896499 C1.77786111,16.4468194 2.72820828,17.7777778 6.52701097,17.7777778 C7.76698776,17.7777778 9.31857497,17.5853501 10.6244942,17.3793537 L14.043158,17.0463058 C14.6366402,16.9883307 15.0542757,16.3530726 14.9779893,15.6253011 C14.9172188,15.0640536 14.5758697,14.6187561 14.1504762,14.4695013 L14.5797486,14.4275619 C15.257275,14.3609523 15.744732,13.7195266 15.6671527,12.9917551 C15.5999172,12.3675986 15.1344411,11.909966 14.5771626,11.8260873 L14.7530092,11.8088181 C15.5145799,11.7335739 16.0692723,11.0835136 15.992986,10.3557422"></path></symbol><filter id="dropShadow">    <feGaussianBlur in="SourceAlpha" stdDeviation="3"/><feOffset dx="0" dy="0" result="offsetblur"/><feFlood flood-color="rgba(0,0,0,0.5)"/><feComposite in2="offsetblur" operator="in"/><feMerge><feMergeNode/><feMergeNode in="SourceGraphic"/></feMerge></filter>'
                    }
                }))
            }
        });
    module.exports = BaseRouteHandler;


});


Requireify.register('js/akira/components/controls/breadCrumbs.jsx', function(require, requireAsync, module, exports) {


    "use strict";
    var React = require("react"),
        Link = require("../controls/mainViewLink.jsx"),
        AutoFetch = require("../../../reactMixins/falkor-auto-fetch"),
        BreadCrumbs = React.createClass({
            displayName: "BreadCrumbs",
            mixins: [AutoFetch],
            statics: {
                getPaths: function(e, r, t) {
                    var a, s = [];
                    if (t.breadCrumbs)
                        for (a = 0; a < t.breadCrumbs.length; a++) {
                            var n = t.breadCrumbs[a];
                            s.push(["genres", n, "name"])
                        }
                    return [
                        ["genres", t.id, "name"]
                    ].concat(s)
                }
            },
            getBreadCrumbs: function() {
                var e, r = [];
                if (this.props.breadCrumbs)
                    for (e = 0; e < this.props.breadCrumbs.length; e++) {
                        var t = this.props.breadCrumbs[e],
                            a = this.props.model.bind(["genres", t]),
                            s = a.getValueSync(["name"]);
                        s && r.push(React.createElement("li", {
                            key: "breadCrumb" + e
                        }, React.createElement(Link, {
                            type: "genre",
                            id: t
                        }, s)))
                    }
                return r
            },
            render: function() {
                var e = [],
                    r = this.props.model.bind(["genres", this.props.id]),
                    t = r.getValueSync(["name"]);
                return t ? (e = this.getBreadCrumbs(), React.createElement("div", {
                    className: "title"
                }, e.length ? React.createElement("div", {
                    className: "breadCrumbs"
                }, React.createElement("ul", null, e)) : null, React.createElement("span", {
                    className: "genreTitle"
                }, t))) : null
            }
        });
    module.exports = BreadCrumbs;


});


Requireify.register('js/akira/components/gallery/maturitySelector.jsx', function(require, requireAsync, module, exports) {


    "use strict";
    var _extends = Object.assign || function(e) {
            for (var t = 1; t < arguments.length; t++) {
                var r = arguments[t];
                for (var a in r) Object.prototype.hasOwnProperty.call(r, a) && (e[a] = r[a])
            }
            return e
        },
        React = require("react"),
        MaturitySelector = React.createClass({
            displayName: "MaturitySelector",
            handleUpdate: function() {
                this.props.onChange(this.props.value, !this.props.checked)
            },
            render: function() {
                return this.props.label ? React.createElement("li", {
                    className: "ms"
                }, React.createElement("input", _extends({}, this.props, {
                    type: "checkbox",
                    id: "checkbox-" + this.props.reactKey
                })), React.createElement("label", {
                    htmlFor: "checkbox-" + this.props.reactKey,
                    onClick: this.handleUpdate
                }), React.createElement("span", {
                    onClick: this.handleUpdate
                }, this.props.label)) : null
            }
        });
    module.exports = MaturitySelector;


});


Requireify.register('js/akira/components/gallery/maturitySelectors.jsx', function(require, requireAsync, module, exports) {


    "use strict";
    var React = require("react"),
        MaturitySelector = require("./maturitySelector.jsx"),
        MAX_RATINGS = 20,
        MaturitySelectors = React.createClass({
            displayName: "MaturitySelectors",
            statics: {
                getPaths: function(t, e, a) {
                    return [
                        ["maturityRatings", "summary"],
                        ["maturityRatings", {
                            to: MAX_RATINGS
                        }, "summary"]
                    ]
                }
            },
            getInitialState: function() {
                return {
                    ratings: []
                }
            },
            filterByMaturity: function(t) {
                var e = this.state.ratings,
                    a = t.getValueSync(["maturity"]);
                return a && a.rating ? e[a.rating.value] !== !1 : !0
            },
            handleMaturityChange: function(t, e) {
                var a = this.state.ratings;
                a[t] = e, this.props.onFilterChange(this.filterByMaturity)
            },
            render: function() {
                var t, e = this.props.model,
                    a = e.bind(["maturityRatings"]),
                    r = [],
                    i = a.getValueSync(["summary"]);
                if (!i) return React.createElement("b", null);
                for (t = 0; t < Math.min(MAX_RATINGS, i.length); t++) {
                    var n, s, u, l = a.bind([t]),
                        c = l.getValueSync(["summary"]);
                    c && (n = c.value, s = c.value, u = void 0 !== this.state.ratings[n] ? this.state.ratings[n] : !0, r.push(React.createElement(MaturitySelector, {
                        key: "ms" + t,
                        reactKey: "ms" + t,
                        value: n,
                        label: s,
                        checked: u,
                        onChange: this.handleMaturityChange
                    })))
                }
                return React.createElement("ul", {
                    className: "maturitySelectors"
                }, r)
            }
        });
    module.exports = MaturitySelectors;


});


Requireify.register('js/akira/components/gallery/sortGallery.jsx', function(require, requireAsync, module, exports) {


    "use strict";
    var React = require("react"),
        JawBoneLink = require("../../../reactMixins/jawBoneLink"),
        MaturitySelectors = require("./maturitySelectors.jsx"),
        DropDown = require("../controls/nfDropdown.jsx"),
        I18N = require("../../../reactMixins/i18nWithDeps"),
        Sortable = require("../../../reactMixins/sortable"),
        AB = require("../../../reactMixins/ab"),
        RatingsTestMixin = require("../../../reactMixins/ab/ratingsRedesignTest"),
        EventBus = require("../../../reactMixins/eventBus"),
        sortOptions = {
            su: "suggestions.for.you",
            rt: "highest.rated",
            yr: "year.release",
            az: "a.z",
            za: "z.a"
        },
        BUNDLE = "discovery/akira/Chrome",
        SortGallery = React.createClass({
            displayName: "SortGallery",
            mixins: [I18N, Sortable, JawBoneLink, AB, RatingsTestMixin],
            statics: {
                __meta__: {
                    strings: [{
                        bundle: "discovery/akira/Chrome",
                        ids: ["sort.by", "highest.rated", "suggestions.for.you", "year.release", "maturity.rating", "a.z", "z.a"]
                    }]
                },
                getPaths: function(e, t, r) {
                    return "mr" === r.sortOrder ? MaturitySelectors.getPaths() : []
                }
            },
            handleClick: function(e) {
                var t = this;
                return function() {
                    t.handleSortOrderChange(e)
                }
            },
            handleSortOrderChange: function(e) {
                var t = this.getQuery();
                this.closeJawBone(function() {
                    EventBus.emit("jawbone:close", {
                        reason: "implicit"
                    })
                }, t), t.so = e, "mr" !== e && this.props.onFilterChange(function() {
                    return !0
                }), this.transitionTo(this.getPathname(), {}, t)
            },
            getSortOptions: function() {
                var e, t = [];
                this.inRatingTest() && delete sortOptions.rt;
                for (e in sortOptions) sortOptions.hasOwnProperty(e) && t.push(React.createElement("a", {
                    className: "sub-menu-link",
                    onClick: this.handleClick(e)
                }, this.getString(BUNDLE, sortOptions[e])));
                return t
            },
            render: function() {
                var e = this.getString(BUNDLE, sortOptions[this.props.sortOrder]),
                    t = "mr" === this.props.sortOrder;
                return React.createElement("div", {
                    className: "sortGallery"
                }, React.createElement("span", null, this.getString(BUNDLE, "sort.by")), React.createElement(DropDown, {
                    options: this.getSortOptions(),
                    defaultValue: e,
                    cols: 1
                }), t ? React.createElement(MaturitySelectors, {
                    model: this.props.model,
                    onFilterChange: this.props.onFilterChange
                }) : null)
            }
        });
    module.exports = SortGallery;


});


Requireify.register('js/akira/components/gallery/subGenres.jsx', function(require, requireAsync, module, exports) {


    "use strict";
    var React = require("react"),
        DropDown = require("../controls/nfDropdown.jsx"),
        Link = require("../controls/mainViewLink.jsx"),
        I18N = require("../../../reactMixins/i18nWithDeps"),
        MAX_SUBGENRES = 20,
        BUNDLE = "discovery/akira/Chrome",
        SubGenres = React.createClass({
            displayName: "SubGenres",
            mixins: [I18N],
            statics: {
                getPaths: function(e, r, n) {
                    return [
                        ["subgenres", "summary"],
                        ["subgenres", {
                            to: MAX_SUBGENRES
                        }, "summary"]
                    ]
                },
                __meta__: {
                    strings: [{
                        bundle: "discovery/akira/Chrome",
                        ids: ["subgenres"]
                    }]
                }
            },
            getDefaultProps: function() {
                return {
                    breadCrumbs: []
                }
            },
            handleClick: function(e) {
                var r = this;
                return function() {
                    r.handleGenreChange(e)
                }
            },
            getGenreQuery: function() {
                for (var e = [], r = 0; this.props.breadCrumbs.length; r++) e.push(this.props.breadCrumbs[r]);
                return e.push(this.props.id), {
                    bc: e.join(",")
                }
            },
            render: function() {
                var e, r = this.props.model.bind(["subgenres"]),
                    n = r.getValueSync(["summary"]),
                    s = [];
                if (!n) return React.createElement("b", null);
                for (e = 0; e < Math.min(n.length, MAX_SUBGENRES); e++) {
                    var t = r.bind([e]),
                        i = t.getValueSync(["summary"]);
                    i && s.push(React.createElement(Link, {
                        className: "sub-menu-link",
                        type: "genre",
                        id: i.id,
                        query: this.getGenreQuery()
                    }, i.name))
                }
                return 0 === s.length ? null : React.createElement("div", {
                    className: "subgenres"
                }, React.createElement(DropDown, {
                    options: s,
                    label: this.getString(BUNDLE, "subgenres"),
                    cols: 3,
                    widthRestricted: !1,
                    isReadOnly: !1
                }))
            }
        });
    module.exports = SubGenres;


});


Requireify.register('js/akira/components/subHeaders/genreHeader.jsx', function(require, requireAsync, module, exports) {


    "use strict";
    var React = require("react"),
        BreadCrumbs = require("../controls/breadCrumbs.jsx"),
        SortGallery = require("../gallery/sortGallery.jsx"),
        SubGenres = require("../gallery/subGenres.jsx"),
        AutoFetch = require("../../../reactMixins/falkor-auto-fetch"),
        IsomorphicContext = require("../../../reactMixins/isomorphicContextWithDeps"),
        GenreHeader = React.createClass({
            displayName: "GenreHeader",
            mixins: [AutoFetch, IsomorphicContext],
            statics: {
                getPaths: function(e, r, t) {
                    var s = SubGenres.getPaths(e, r, {
                            id: t.id
                        }).map(function(e) {
                            return ["genres", t.id].concat(e)
                        }),
                        a = SortGallery.getPaths(e, r, {
                            sortOrder: t.sortOrder
                        }).map(function(e) {
                            return ["genres", t.id].concat(e)
                        });
                    return BreadCrumbs.getPaths(e, r, {
                        id: t.id,
                        breadCrumbs: t.breadCrumbs
                    }).concat(s).concat(a)
                }
            },
            render: function() {
                var e = this.props.model.bind(["genres", this.props.id]);
                return React.createElement("div", {
                    className: "galleryHeader"
                }, React.createElement(BreadCrumbs, {
                    breadCrumbs: this.props.breadCrumbs,
                    id: this.props.id,
                    model: this.props.model,
                    pqls: BreadCrumbs.getPaths(this.getContext(), null, {
                        id: this.props.id,
                        breadCrumbs: this.props.breadCrumbs
                    })
                }), React.createElement(SubGenres, {
                    model: e,
                    id: this.props.id,
                    breadCrumbs: this.props.breadCrumbs
                }), React.createElement(SortGallery, {
                    sortOrder: this.props.sortOrder,
                    model: e,
                    onFilterChange: this.props.onFilterChange
                }))
            }
        });
    module.exports = GenreHeader;


});


Requireify.register('js/reactMixins/filterable.js', function(require, requireAsync, module, exports) {


    "use strict";
    module.exports = {
        getInitialState: function() {
            return {
                filter: function() {
                    return !0
                }
            }
        },
        setFilter: function(t) {
            this.setState({
                filter: t
            })
        }
    };


});


Requireify.register('js/akira/page/genre.jsx', function(require, requireAsync, module, exports) {


    "use strict";
    var _extends = Object.assign || function(e) {
            for (var r = 1; r < arguments.length; r++) {
                var t = arguments[r];
                for (var a in t) Object.prototype.hasOwnProperty.call(t, a) && (e[a] = t[a])
            }
            return e
        },
        React = require("react"),
        Router = require("react-router"),
        GalleryContent = require("../layouts/gallery.jsx"),
        GenreHeader = require("../components/subHeaders/genreHeader.jsx"),
        Filterable = require("../../reactMixins/filterable"),
        IsomorphicContext = require("../../reactMixins/isomorphicContextWithDeps"),
        Sortable = require("../../reactMixins/sortable"),
        GenreContent = React.createClass({
            displayName: "GenreContent",
            mixins: [Filterable, IsomorphicContext, Router.State],
            statics: {
                getPaths: function(e, r, t) {
                    var a = ["genres", t.id],
                        n = GalleryContent.getPaths(e, r, {
                            sortOrder: t.sortOrder
                        }).map(function(e) {
                            return a.concat(e)
                        }),
                        s = GenreHeader.getPaths(e, r, {
                            id: t.id,
                            breadCrumbs: t.breadCrumbs,
                            sortOrder: t.sortOrder
                        });
                    return n.concat(s)
                },
                getBreadCrumbs: function(e) {
                    var r = [];
                    return e.bc && (r = e.bc.split(",")), r
                }
            },
            getFalkorModel: function() {
                return this.props.model.pathEvaluator
            },
            render: function() {
                var e, r, t = this.getParams().id,
                    a = GenreContent.getBreadCrumbs(this.getQuery()),
                    n = Sortable.getSortOrder(this.getQuery());
                return e = this.props.model.pathEvaluator.bind(["genres", t]), r = React.createElement(GenreHeader, {
                    sortOrder: n,
                    breadCrumbs: a,
                    model: this.props.model.pathEvaluator,
                    id: t,
                    onFilterChange: this.setFilter,
                    pqls: GenreHeader.getPaths(this.getContext(), null, {
                        id: t,
                        breadCrumbs: a,
                        sortOrder: n
                    })
                }), React.createElement(GalleryContent, _extends({}, this.props, {
                    keyPrefix: "genre",
                    key: "genre-" + t,
                    model: e,
                    header: r,
                    filter: this.state.filter,
                    sortOrder: n,
                    pqls: GalleryContent.getPaths(this.getContext(), null, {
                        sortOrder: n
                    })
                }))
            }
        });
    module.exports = GenreContent;


});


Requireify.register('js/akira/components/subHeaders/personHeader.jsx', function(require, requireAsync, module, exports) {


    "use strict";
    var React = require("react"),
        ImageExtension = require("../../../common/imageExtension"),
        AutoFetch = require("../../../reactMixins/falkor-auto-fetch"),
        IsomorphicContext = require("../../../reactMixins/isomorphicContextWithDeps");
    module.exports = React.createClass({
        displayName: "exports",
        statics: {
            getPaths: function(e, t, a) {
                return [
                    ["headshot", ImageExtension.getExtensionForOpaqueImage(e)],
                    ["name"]
                ]
            }
        },
        mixins: [AutoFetch, IsomorphicContext],
        render: function() {
            var e = this.props.model,
                t = e.getValueSync(["headshot", ImageExtension.getExtensionForOpaqueImage(this.getContext())]),
                a = e.getValueSync(["name"]);
            return React.createElement("div", {
                className: "personHeader"
            }, t ? React.createElement("img", {
                className: "headshot",
                src: t
            }) : null, React.createElement("div", {
                className: "title",
                dangerouslySetInnerHTML: {
                    __html: a
                }
            }))
        }
    });


});


Requireify.register('js/akira/page/person.jsx', function(require, requireAsync, module, exports) {


    "use strict";
    var _extends = Object.assign || function(e) {
            for (var t = 1; t < arguments.length; t++) {
                var r = arguments[t];
                for (var a in r) Object.prototype.hasOwnProperty.call(r, a) && (e[a] = r[a])
            }
            return e
        },
        React = require("react"),
        Router = require("react-router"),
        GalleryContent = require("../layouts/gallery.jsx"),
        PersonHeader = require("../components/subHeaders/personHeader.jsx"),
        IsomorphicContext = require("../../reactMixins/isomorphicContextWithDeps"),
        getPaths = function(e, t, r) {
            var a = ["person", r.id],
                n = PersonHeader.getPaths(e).map(function(e) {
                    return a.concat(e)
                }),
                s = GalleryContent.getPaths(e).map(function(e) {
                    return a.concat(e)
                });
            return n.concat(s)
        };
    module.exports = React.createClass({
        displayName: "exports",
        statics: {
            getPaths: getPaths
        },
        mixins: [IsomorphicContext, Router.State],
        render: function() {
            var e = this.props.model.pathEvaluator.bind(["person", this.getParams().id]),
                t = React.createElement(PersonHeader, {
                    model: e,
                    pqls: PersonHeader.getPaths(this.getContext())
                });
            return React.createElement(GalleryContent, _extends({}, this.props, {
                keyPrefix: "person",
                model: e,
                header: t,
                pqls: GalleryContent.getPaths(this.getContext())
            }))
        }
    });


});


Requireify.register('js/akira/components/rowList/rowListItem.jsx', function(require, requireAsync, module, exports) {


    "use strict";
    var _extends = Object.assign || function(e) {
            for (var t = 1; t < arguments.length; t++) {
                var a = arguments[t];
                for (var r in a) Object.prototype.hasOwnProperty.call(a, r) && (e[r] = a[r])
            }
            return e
        },
        React = require("react"),
        PlayButton = require("../controls/playbutton.jsx"),
        Link = require("../controls/mainViewLink.jsx"),
        VideoMeta = require("../title/videoMeta.jsx"),
        TinyTitleCard = require("../title/tinyTitleCard.jsx"),
        Duration = require("../title/duration.jsx"),
        MaturityRating = require("../title/maturityRating.jsx"),
        UserRating = require("../title/userRating.jsx"),
        SVGIcon = require("../../../common/svgIcon.jsx"),
        ImageExtension = require("../../../common/imageExtension"),
        IsomorphicContext = require("../../../reactMixins/isomorphicContextWithDeps"),
        I18N = require("../../../reactMixins/i18n"),
        PathEvaluatorUtils = require("../../../utils/pathEvaluatorUtils"),
        BUNDLE = "discovery/akira/Common",
        SIZE = "_233x131",
        RowListItem = React.createClass({
            displayName: "RowListItem",
            mixins: [IsomorphicContext, I18N],
            childContextTypes: {
                rankNum: React.PropTypes.number,
                rowNum: React.PropTypes.number
            },
            getChildContext: function() {
                return {
                    rankNum: this.props.rankNum,
                    rowNum: this.props.rowNum
                }
            },
            statics: {
                extension: function(e) {
                    return ImageExtension.getExtensionForOpaqueImage(e)
                },
                getPaths: function(e, t, a) {
                    return [
                        ["summary"],
                        ["title"],
                        ["queue"],
                        ["availabilityEndDateNear"],
                        ["boxarts", SIZE, ImageExtension.getExtensionForOpaqueImage(e)]
                    ].concat(PlayButton.getPaths()).concat(VideoMeta.getPaths(e))
                },
                getSize: function() {
                    return SIZE
                }
            },
            placeHolder: function() {
                return React.createElement("div", {
                    className: "rowListItem"
                }, this.getString(BUNDLE, "loading"))
            },
            onMoveToTop: function(e) {
                e.preventDefault(), this.props.onMoveToTop(this.props.videoId)
            },
            onRemove: function(e) {
                e.preventDefault(), this.props.onRemove(this.props.videoId)
            },
            renderActions: function() {
                return [this.props.rowNum > 0 && React.createElement("div", {
                    className: "move-to-top"
                }, React.createElement("a", {
                    href: "#",
                    onClick: this.onMoveToTop
                }, React.createElement(SVGIcon, {
                    name: "moveToTop"
                }), " ", this.getString(BUNDLE, "move.to.top"))), React.createElement("div", {
                    className: "remove"
                }, React.createElement("a", {
                    href: "#",
                    onClick: this.onRemove
                }, React.createElement(SVGIcon, {
                    name: "close"
                }), " "))]
            },
            renderGrips: function(e) {
                return React.createElement("div", {
                    className: e
                }, React.createElement(SVGIcon, {
                    name: "grips"
                }))
            },
            render: function() {
                var e, t = this.props,
                    a = t.videoId,
                    r = t.model,
                    i = r.getValueSync(["summary"]),
                    n = r.getValueSync(["title"]),
                    o = r.getValueSync(["runtime"]),
                    s = r.getValueSync(["seasonCount"]),
                    c = r.getValueSync(["releaseYear"]) || "",
                    l = r.getValueSync(["availabilityEndDateNear"]),
                    m = r.getValueSync(["seasonList", "current", "showMemberType"]),
                    u = "rowListItem",
                    p = "rowListItem-" + i.id;
                return i ? (l && !PathEvaluatorUtils.isValueError(l) && (e = this.getString(BUNDLE, "available.until", {
                    DATE: l
                })), React.createElement("div", _extends({}, this.props, {
                    id: p,
                    key: p,
                    className: u
                }), this.renderGrips("first-move-grips"), React.createElement(TinyTitleCard, {
                    model: r,
                    className: "tinyTinyCard",
                    key: "watchedEvidence"
                }), React.createElement("div", {
                    className: "title"
                }, React.createElement(Link, {
                    type: "title",
                    params: {
                        id: a
                    }
                }, n)), React.createElement(UserRating, {
                    model: this.props.model,
                    extraClass: "jawmetastars"
                }), React.createElement("div", {
                    className: "year"
                }, c), React.createElement(MaturityRating, {
                    model: this.props.model
                }), React.createElement(Duration, {
                    runtime: o,
                    seasonCount: s,
                    seasonLabelKey: m
                }), React.createElement("div", {
                    className: "notes"
                }, e), this.renderActions(), this.renderGrips("last-move-grips"))) : this.placeHolder()
            }
        });
    RowListItem.__meta__ = {
        strings: [{
            bundle: BUNDLE,
            ids: ["available.until", "loading", "move.to.top"]
        }]
    }, module.exports = RowListItem;


});


Requireify.register('js/akira/layouts/sortableRowList.jsx', function(require, requireAsync, module, exports) {


    "use strict";
    var React = require("react"),
        _ = require("lodash"),
        classNames = require("classnames"),
        nfProps = require("nf-iso-properties"),
        inNode = require("../../utils/inNode"),
        AutoFetch = require("../../reactMixins/falkor-auto-fetch"),
        IsoContext = require("../../reactMixins/isomorphicContextWithDeps"),
        I18N = require("../../reactMixins/i18n"),
        EventBus = require("../../reactMixins/eventBus"),
        AkiraContext = require("../../reactMixins/akiraContext"),
        BrowserScroll = require("../../reactMixins/browserScroll"),
        Position = require("../../common/position"),
        RowListItem = require("../components/rowList/rowListItem.jsx"),
        LoadingSpinner = require("../components/loaders/loadingSpinner.jsx"),
        PathEvaluatorUtils = require("../../utils/pathEvaluatorUtils"),
        MyListUtils = require("../../utils/mylist_utils"),
        BUNDLE = "discovery/akira/Gallery",
        MAX_TITLES_TO_FETCH = 500,
        getPaths = function(e, t, i) {
            var s = [{
                    from: 0,
                    to: MAX_TITLES_TO_FETCH
                }],
                n = RowListItem.getPaths(e, t).map(function(e) {
                    return s.concat(e)
                }),
                r = [
                    [
                        ["id", "length", "name", "trackIds", "requestId"]
                    ]
                ];
            return r.concat(n)
        },
        SortableRowList = React.createClass({
            displayName: "SortableRowList",
            mixins: [AutoFetch, IsoContext, I18N, AkiraContext],
            isInteractive: !1,
            statics: {
                getPaths: getPaths
            },
            childContextTypes: {
                requestId: React.PropTypes.string,
                trackId: React.PropTypes.number
            },
            getChildContext: function() {
                var e = this.getTrackIds();
                return {
                    requestId: this.getRequestId(),
                    trackId: e.trackId
                }
            },
            getTrackIds: function() {
                var e = this.props.model,
                    t = this.props.trackIds;
                return !t && e.getValueSync(["trackIds"]) && (t = e.getValueSync(["trackIds"])), t || {}
            },
            getRequestId: function() {
                return this.props.model.getValueSync(["requestId"])
            },
            handleMoveToTop: function(e) {
                if (!this.isSavingMove) {
                    nfProps.get("netflix.ui.akira.manualMyListBlocking") && (this.isSavingMove = !0);
                    var t = this.refs.rowList.getDOMNode();
                    this.itemBeingMoved = this.refs["item-" + e].getDOMNode(), this.itemBeingMovedNextSibling = this.itemBeingMoved.nextElementSibling, this.moveItemInDOM(this.itemBeingMoved, t.firstChild), MyListUtils.moveInList(e, null, function() {
                        this.isSavingMove = !1
                    }.bind(this), function() {
                        this.isSavingMove = !1, this.undoMoveItemInDOM(), EventBus.emit("myList:move:end", _.assign({}, this.context, this.props, {
                            myListNotification: {
                                status: -1,
                                reason: "FailedToRemove"
                            }
                        }))
                    }.bind(this))
                }
            },
            handleMoveInList: function(e, t) {
                this.isSavingMove || (nfProps.get("netflix.ui.akira.manualMyListBlocking") && (this.isSavingMove = !0), MyListUtils.moveInList(e, null, function() {
                    this.isSavingMove = !1
                }.bind(this), function() {
                    this.isSavingMove = !1, this.undoMoveItemInDOM(), EventBus.emit("myList:move:end", _.assign({}, this.context, this.props, {
                        myListNotification: {
                            status: -1,
                            reason: "FailedToRemove"
                        }
                    }))
                }.bind(this), {
                    placeAfterVideo: t
                }))
            },
            handleRemove: function(e) {
                var t = this.refs["item-" + e].getDOMNode();
                this.hideRow(t), MyListUtils.removeFromList(e, null, function() {
                    EventBus.emit("myList:remove:end", _.assign({}, this.context, this.props))
                }.bind(this), function() {
                    this.showRow(t), EventBus.emit("myList:remove:end", _.assign({}, this.context, this.props, {
                        myListNotification: {
                            status: -1,
                            reason: "FailedToRemove"
                        }
                    }))
                }.bind(this))
            },
            handleMouseDown: function(e) {
                this.isSavingMove && (e.preventDefault(), e.stopPropagation())
            },
            dragStart: function(e) {
                this.itemBeingMoved = e.currentTarget, this.itemBeingMovedNextSibling = e.currentTarget.nextElementSibling, this.insertAfterNode = null, e.dataTransfer.effectAllowed = "move", e.dataTransfer.setData("text/html", e.currentTarget)
            },
            checkMousePositionForScroll: function(e) {
                e.clientY > 0 && e.clientY < 100 ? BrowserScroll.scrollDelta(-4) : e.clientY > Position.getWindowRect().height - 100 && BrowserScroll.scrollDelta(4)
            },
            dragOver: function(e) {
                var t = e.target;
                if (e.preventDefault(), this.requiresScrollHelp && this.checkMousePositionForScroll(e), this.hideRow(this.itemBeingMoved), "placeholder" !== t.className && "rowListItem" === t.className) {
                    var i = t.getBoundingClientRect(),
                        s = (e.clientY - i.top) / (i.bottom - i.top) > .5;
                    s ? (this.insertAfterNode = t, this.insertBeforeNode = t.nextElementSibling, this.insertBeforeNode && "placeholder" === this.insertBeforeNode.className && t.nextElementSibling.nextElementSibling && (this.insertBeforeNode = t.nextElementSibling.nextElementSibling), this.moveItemInDOM(this.placeholder, t.nextElementSibling)) : (this.insertAfterNode = t.previousElementSibling, this.insertAfterNode && "placeholder" === this.insertAfterNode.className && t.previousElementSibling.previousElementSibling && (this.insertAfterNode = t.previousElementSibling.previousElementSibling), this.insertBeforeNode = t, this.moveItemInDOM(this.placeholder, t))
                }
            },
            dragEnd: function(e) {
                this.showRow(this.itemBeingMoved), this.moveItemInDOM(this.itemBeingMoved, this.placeholder), this.itemBeingMoved.parentNode.removeChild(this.placeholder), this.insertBeforeNode !== this.itemBeingMovedNextSibling && this.handleMoveInList(this.itemBeingMoved.dataset.id, this.insertAfterNode && this.insertAfterNode.dataset.id)
            },
            moveItemInDOM: function(e, t) {
                if (this.isMounted()) {
                    var i = this.refs.rowList && this.refs.rowList.getDOMNode();
                    t ? i.insertBefore(e, t) : i.appendChild(e)
                }
            },
            undoMoveItemInDOM: function() {
                this.moveItemInDOM(this.itemBeingMoved, this.itemBeingMovedNextSibling)
            },
            hideRow: function(e) {
                this.isMounted() && (e.style.display = "none")
            },
            showRow: function(e) {
                this.isMounted() && (e.style.display = "flex")
            },
            renderRows: function() {
                var e, t, i, s = this.props.model,
                    n = [],
                    r = 0;
                for (e = 0; MAX_TITLES_TO_FETCH > e; e++) t = s.bind([e]), i = t.getValueSync("summary"), i && n.push(React.createElement(RowListItem, {
                    key: "title_" + i.id + "_" + e + "_" + r,
                    ref: "item-" + i.id,
                    "data-id": i.id,
                    model: t,
                    rowNum: e,
                    rankNum: r,
                    videoId: i.id,
                    draggable: "true",
                    onRemove: this.handleRemove,
                    onMoveToTop: this.handleMoveToTop,
                    onMouseDown: this.handleMouseDown,
                    onDragEnd: this.dragEnd,
                    onDragStart: this.dragStart
                }));
                return React.createElement("div", {
                    ref: "rowList",
                    className: "rowList",
                    onDragOver: this.dragOver
                }, n)
            },
            renderNoResults: function() {
                return React.createElement("div", {
                    className: "rowListMessage"
                }, this.getString(BUNDLE, "results.none"))
            },
            renderError: function() {
                return React.createElement("div", {
                    className: "rowListMessage"
                }, this.getString(BUNDLE, "results.error"))
            },
            setIsInteractive: function() {
                this.isLoading() || this.isInteractive || (EventBus.emit("app:interactive", this.props), this.isInteractive = !0)
            },
            buildDragPlaceHolder: function() {
                this.placeholder = document.createElement("div"), this.placeholder.className = "placeholder"
            },
            componentDidMount: function() {
                this.buildDragPlaceHolder(), this.setIsInteractive();
                var e = this.getFeatureData("browserInfo");
                this.requiresScrollHelp = e && e.isFirefox
            },
            componentDidUpdate: function() {
                this.setIsInteractive()
            },
            render: function() {
                var e, t, i, s, n = this.props.model,
                    r = n.getValueSync(["name"]),
                    o = null;
                return i = n.bind([0]).getValueSync("summary"), s = n.bind([0]).getValueSync("releaseYear"), t = PathEvaluatorUtils.hasAnyError([r, i]), e = i && !t, e && s ? o = this.renderRows() : t ? (o = this.renderError(), r = "&nbsp;") : o = inNode || this.isLoading() || !s ? React.createElement("div", {
                    className: "rowListSpinLoader"
                }, React.createElement(LoadingSpinner, null)) : this.renderNoResults(), React.createElement("div", {
                    className: classNames({
                        rowListContainer: !0
                    })
                }, this.props.header && !t ? this.props.header : React.createElement("div", {
                    className: "title",
                    dangerouslySetInnerHTML: {
                        __html: r
                    }
                }), o)
            }
        });
    SortableRowList.__meta__ = {
        strings: [{
            bundle: "discovery/akira/Gallery",
            ids: ["results.none", "results.error"]
        }]
    }, module.exports = SortableRowList;


});


Requireify.register('js/akira/components/subHeaders/myListHeader.jsx', function(require, requireAsync, module, exports) {


    "use strict";
    var React = require("react"),
        I18N = require("../../../reactMixins/i18nWithDeps"),
        BUNDLE = "discovery/akira/Gallery";
    module.exports = React.createClass({
        displayName: "exports",
        mixins: [I18N],
        statics: {
            __meta__: {
                strings: [{
                    bundle: "discovery/akira/Gallery:myList",
                    ids: ["label", "changeOrder.label", "changeOrder.button"]
                }]
            }
        },
        render: function() {
            var e = this.getString(BUNDLE, "myList.label");
            return React.createElement("div", {
                className: "galleryHeader"
            }, React.createElement("div", {
                className: "title"
            }, e))
        }
    });


});


Requireify.register('js/akira/page/myList.jsx', function(require, requireAsync, module, exports) {


    "use strict";
    var _extends = Object.assign || function(e) {
            for (var t = 1; t < arguments.length; t++) {
                var r = arguments[t];
                for (var o in r) Object.prototype.hasOwnProperty.call(r, o) && (e[o] = r[o])
            }
            return e
        },
        React = require("react"),
        Router = require("react-router"),
        SortableRowList = require("../layouts/sortableRowList.jsx"),
        GalleryContent = require("../layouts/gallery.jsx"),
        MyListHeader = require("../components/subHeaders/myListHeader.jsx"),
        IsomorphicContext = require("../../reactMixins/isomorphicContextWithDeps");
    module.exports = React.createClass({
        displayName: "exports",
        statics: {
            getPaths: function(e, t, r) {
                var o = ["lolomo", "mylist"],
                    s = [
                        ["lolomo", "summary"],
                        ["lolomo", "mylist", "context"]
                    ],
                    a = GalleryContent.getPaths(e, t, r).map(function(e) {
                        return o.concat(e)
                    });
                return s.concat(a)
            }
        },
        mixins: [IsomorphicContext, Router.State],
        render: function() {
            var e, t = this.props.model.pathEvaluator.bind(["lolomo", "mylist"]),
                r = this.props.model.pathEvaluator.bind(["profilesList", "current"]),
                o = r.getValueSync(["usesManualMyListSort"]);
            return e = React.createElement(MyListHeader, null), o ? React.createElement(SortableRowList, _extends({}, this.props, {
                keyPrefix: "mylist",
                model: t,
                header: e,
                pqls: SortableRowList.getPaths(this.getContext())
            })) : React.createElement(GalleryContent, _extends({}, this.props, {
                keyPrefix: "mylist",
                model: t,
                header: e,
                isMyListRow: !0,
                pqls: GalleryContent.getPaths(this.getContext())
            }))
        }
    });


});


Requireify.register('js/akira/page/title.jsx', function(require, requireAsync, module, exports) {


    "use strict";
    var _extends = Object.assign || function(e) {
            for (var r = 1; r < arguments.length; r++) {
                var t = arguments[r];
                for (var a in t) Object.prototype.hasOwnProperty.call(t, a) && (e[a] = t[a])
            }
            return e
        },
        React = require("react"),
        Router = require("react-router"),
        Home = require("./home.jsx"),
        JawBone = require("../components/jawBone/jawBone.jsx"),
        IsomorphicContext = require("../../reactMixins/isomorphicContextWithDeps");
    module.exports = React.createClass({
        displayName: "exports",
        mixins: [IsomorphicContext, Router.State],
        childContextTypes: {
            rowNum: React.PropTypes.number,
            rankNum: React.PropTypes.number,
            trackId: React.PropTypes.number,
            jawBoneTrackId: React.PropTypes.number,
            jawBoneEpisodeTrackId: React.PropTypes.number,
            jawBoneTrailerTrackId: React.PropTypes.number
        },
        getTrackIds: function() {
            var e = this.getJawBoneModel(),
                r = e.getValueSync(["trackIds"]);
            return r || {}
        },
        getJawBoneModel: function() {
            return this.props.model.pathEvaluator.bind(["videos", this.getParams().id])
        },
        getChildContext: function() {
            var e = this.getTrackIds();
            return {
                rowNum: -1,
                rankNum: 0,
                trackId: e.trackId,
                jawBoneTrackId: e.trackId_jaw,
                jawBoneEpisodeTrackId: e.trackId_jawEpisode,
                jawBoneTrailerTrackId: e.trackId_jawTrailer
            }
        },
        render: function() {
            var e = this.getJawBoneModel();
            return React.createElement("div", null, React.createElement(JawBone, {
                model: e,
                videoId: this.getParams().id,
                disableClose: !0,
                isStandaloneJawbone: !0,
                pqls: JawBone.getPaths(this.getContext(), null, {
                    isShow: void 0,
                    isStandaloneJawbone: !0
                }),
                isFirstJaw: !0,
                jawBoneRankNum: -1
            }), React.createElement(Home, _extends({}, this.props, {
                model: this.props.model,
                suppressBillboard: !0
            })))
        }
    });


});


Requireify.register('js/akira/page/addToMyList.jsx', function(require, requireAsync, module, exports) {


    "use strict";
    var _ = require("lodash"),
        React = require("react"),
        Router = require("react-router"),
        Title = require("./title.jsx"),
        IsomorphicContext = require("../../reactMixins/isomorphicContextWithDeps"),
        EventBus = require("../../reactMixins/eventBus"),
        MyListUtils = require("../../utils/mylist_utils");
    module.exports = React.createClass({
        displayName: "exports",
        mixins: [Router.State, IsomorphicContext],
        componentDidMount: function() {
            var t = this.getQuery(),
                e = t.msg_token,
                i = this.context.trackId || 0,
                s = parseInt(this.getParams().id, 10),
                r = decodeURIComponent(e).replace(/ /g, "+");
            EventBus.emit("myList:add:start", _.assign({}, this.context, this.props)), MyListUtils.addToList(s, i, this.triggerNotification, this.triggerNotification, {
                reqMsgToken: !0,
                msgToken: r
            })
        },
        triggerNotification: function(t) {
            EventBus.emit("myList:add:end", _.assign({}, this.context, this.props, {
                myListNotification: t
            }))
        },
        render: function() {
            return React.createElement(Title, this.props)
        }
    });


});


Requireify.register('js/akira/components/gallery/languageDropdown.jsx', function(require, requireAsync, module, exports) {


    "use strict";
    var React = require("react"),
        DropDown = require("../controls/nfDropdown.jsx"),
        Link = require("../controls/mainViewLink.jsx"),
        I18N = require("../../../reactMixins/i18nWithDeps"),
        MAX_LANGUAGES = 25,
        LanguageDropDown = React.createClass({
            displayName: "LanguageDropDown",
            statics: {
                getPaths: function(e, a, t) {
                    return [
                        ["subtitleLanguages", {
                                to: MAX_LANGUAGES
                            },
                            ["id", "name"]
                        ],
                        ["subtitleLanguages", "length"]
                    ]
                },
                __meta__: {
                    strings: [{
                        bundle: "discovery/akira/Chrome",
                        ids: ["language.label.default"]
                    }]
                }
            },
            mixins: [I18N],
            render: function() {
                var e, a = this.props.model,
                    t = a.bind(["subtitleLanguages"]),
                    n = t.getValueSync(["length"]),
                    r = [],
                    i = this.getString("discovery/akira/Chrome", "language.label.default");
                for (e = 0; n > e; e++) {
                    var s = t.bind([e]),
                        l = s.getValueSync(["id"]),
                        o = s.getValueSync(["name"]);
                    l === this.props.id && (i = o), l && o && r.push(React.createElement(Link, {
                        className: "sub-menu-link",
                        type: "subtitle",
                        id: l
                    }, o))
                }
                return React.createElement("div", {
                    className: "languageDropDown"
                }, React.createElement(DropDown, {
                    options: r,
                    cols: 1,
                    defaultValue: i
                }))
            }
        });
    module.exports = LanguageDropDown;


});


Requireify.register('js/akira/components/subHeaders/subtitleHeader.jsx', function(require, requireAsync, module, exports) {


    "use strict";
    var React = require("react"),
        SortGallery = require("../gallery/sortGallery.jsx"),
        LanguageDropDown = require("../gallery/languageDropdown.jsx"),
        AutoFetch = require("../../../reactMixins/falkor-auto-fetch"),
        I18N = require("../../../reactMixins/i18nWithDeps"),
        SubtitlesHeader = React.createClass({
            displayName: "SubtitlesHeader",
            mixins: [AutoFetch, I18N],
            statics: {
                getPaths: function(e, r, t) {
                    var a, s = SortGallery.getPaths(e, r, {
                        sortOrder: t.sortOrder
                    }).map(function(e) {
                        return ["subtitles", t.id].concat(e)
                    });
                    return a = LanguageDropDown.getPaths().concat(s)
                },
                __meta__: {
                    strings: [{
                        bundle: "discovery/akira/Chrome",
                        ids: ["header.subtitles"]
                    }]
                }
            },
            render: function() {
                var e = this.props.model.bind(["subtitles", this.props.id]);
                return React.createElement("div", {
                    className: "galleryHeader"
                }, React.createElement("div", {
                    className: "title"
                }, this.getString("discovery/akira/Chrome", "header.subtitles")), React.createElement(LanguageDropDown, {
                    model: this.props.model,
                    id: this.props.id
                }), React.createElement(SortGallery, {
                    sortOrder: this.props.sortOrder,
                    model: e,
                    onFilterChange: this.props.onFilterChange
                }))
            }
        });
    module.exports = SubtitlesHeader;


});


Requireify.register('js/akira/page/subtitle.jsx', function(require, requireAsync, module, exports) {


    "use strict";
    var _extends = Object.assign || function(e) {
            for (var t = 1; t < arguments.length; t++) {
                var r = arguments[t];
                for (var s in r) Object.prototype.hasOwnProperty.call(r, s) && (e[s] = r[s])
            }
            return e
        },
        React = require("react"),
        Router = require("react-router"),
        Gallery = require("../layouts/gallery.jsx"),
        SubtitleHeader = require("../components/subHeaders/subtitleHeader.jsx"),
        IsomorphicContext = require("../../reactMixins/isomorphicContextWithDeps"),
        Filterable = require("../../reactMixins/filterable"),
        Sortable = require("../../reactMixins/sortable"),
        SubtitleContent = React.createClass({
            displayName: "SubtitleContent",
            statics: {
                getPaths: function(e, t, r) {
                    var s = ["subtitles", r.id],
                        a = Gallery.getPaths(e, t, {
                            sortOrder: r.sortOrder
                        }).map(function(e) {
                            return s.concat(e)
                        }),
                        i = SubtitleHeader.getPaths(e, t, r);
                    return i.concat(a)
                }
            },
            mixins: [IsomorphicContext, Filterable, Router.State],
            render: function() {
                var e, t = ["subtitles", this.getParams().id],
                    r = this.props.model.pathEvaluator,
                    s = r.bind(t),
                    a = Sortable.getSortOrder(this.getQuery()),
                    i = {
                        id: this.getParams().id,
                        sortOrder: a
                    },
                    l = SubtitleHeader.getPaths(this.getContext(), null, i),
                    o = Gallery.getPaths(this.getContext(), null, {
                        sortOrder: a
                    });
                return e = React.createElement(SubtitleHeader, _extends({}, this.props, {
                    model: r,
                    sortOrder: a,
                    id: this.getParams().id,
                    onFilterChange: this.setFilter,
                    pqls: l
                })), React.createElement(Gallery, _extends({}, this.props, {
                    keyPrefix: "subtitles",
                    sortOrder: a,
                    pqls: o,
                    model: s,
                    header: e,
                    filter: this.state.filter
                }))
            }
        });
    module.exports = SubtitleContent;


});


Requireify.register('js/akira/layouts/sortableGallery.jsx', function(require, requireAsync, module, exports) {


    "use strict";
    var _extends = Object.assign || function(e) {
            for (var t = 1; t < arguments.length; t++) {
                var r = arguments[t];
                for (var a in r) Object.prototype.hasOwnProperty.call(r, a) && (e[a] = r[a])
            }
            return e
        },
        React = require("react"),
        Gallery = require("./gallery.jsx"),
        SortGallery = require("../components/gallery/sortGallery.jsx"),
        Filterable = require("../../reactMixins/filterable"),
        AutoFetch = require("../../reactMixins/falkor-auto-fetch"),
        IsomorphicContext = require("../../reactMixins/isomorphicContextWithDeps"),
        SortableGallery = React.createClass({
            displayName: "SortableGallery",
            mixins: [Filterable, AutoFetch, IsomorphicContext],
            statics: {
                getPaths: function(e, t, r) {
                    var a = Gallery.getPaths(e, t, r),
                        l = SortGallery.getPaths(e, t, r);
                    return [
                        ["name"]
                    ].concat(a).concat(l)
                }
            },
            render: function() {
                var e, t = this.props.model,
                    r = t.getValueSync(["name"]);
                return e = React.createElement("div", {
                    className: "galleryHeader"
                }, React.createElement("div", {
                    className: "title",
                    dangerouslySetInnerHTML: {
                        __html: r
                    }
                }), React.createElement(SortGallery, {
                    sortOrder: this.props.sortOrder,
                    model: t,
                    onFilterChange: this.setFilter
                })), React.createElement(Gallery, _extends({}, this.props, {
                    keyPrefix: this.props.keyPrefix,
                    model: t,
                    header: e,
                    filter: this.state.filter,
                    pqls: Gallery.getPaths(this.getContext(), null, {
                        sortOrder: this.props.sortOrder
                    })
                }))
            }
        });
    module.exports = SortableGallery;


});


Requireify.register('js/akira/page/newRelease.jsx', function(require, requireAsync, module, exports) {


    "use strict";
    var _extends = Object.assign || function(e) {
            for (var r = 1; r < arguments.length; r++) {
                var t = arguments[r];
                for (var a in t) Object.prototype.hasOwnProperty.call(t, a) && (e[a] = t[a])
            }
            return e
        },
        React = require("react"),
        Router = require("react-router"),
        SortableGallery = require("../layouts/sortableGallery.jsx"),
        IsomorphicContext = require("../../reactMixins/isomorphicContextWithDeps"),
        Sortable = require("../../reactMixins/sortable");
    module.exports = React.createClass({
        displayName: "exports",
        statics: {
            getPaths: function(e, r, t) {
                var a = ["newrelease"];
                return SortableGallery.getPaths(e, r, {
                    sortOrder: t.sortOrder
                }).map(function(e) {
                    return a.concat(e)
                })
            }
        },
        mixins: [IsomorphicContext, Router.State],
        render: function() {
            var e = ["newrelease"],
                r = this.props.model.pathEvaluator.bind(e),
                t = Sortable.getSortOrder(this.getQuery());
            return React.createElement(SortableGallery, _extends({}, this.props, {
                keyPrefix: "newrelease",
                sortOrder: t,
                model: r,
                prefix: e,
                pqls: SortableGallery.getPaths(this.getContext(), null, {
                    sortOrder: t
                })
            }))
        }
    });


});


Requireify.register('js/akira/page/recentlyAdded.jsx', function(require, requireAsync, module, exports) {


    "use strict";
    var _extends = Object.assign || function(e) {
            for (var r = 1; r < arguments.length; r++) {
                var t = arguments[r];
                for (var a in t) Object.prototype.hasOwnProperty.call(t, a) && (e[a] = t[a])
            }
            return e
        },
        React = require("react"),
        Router = require("react-router"),
        SortableGallery = require("../layouts/sortableGallery.jsx"),
        IsomorphicContext = require("../../reactMixins/isomorphicContextWithDeps"),
        Sortable = require("../../reactMixins/sortable");
    module.exports = React.createClass({
        displayName: "exports",
        statics: {
            getPaths: function(e, r, t) {
                var a = ["recentlyadded"];
                return SortableGallery.getPaths(e, r, {
                    sortOrder: t.sortOrder
                }).map(function(e) {
                    return a.concat(e)
                })
            }
        },
        mixins: [IsomorphicContext, Router.State],
        render: function() {
            var e = ["recentlyadded"],
                r = this.props.model.pathEvaluator.bind(e),
                t = Sortable.getSortOrder(this.getQuery());
            return React.createElement(SortableGallery, _extends({}, this.props, {
                keyPrefix: "recentlyadded",
                sortOrder: t,
                model: r,
                prefix: e,
                pqls: SortableGallery.getPaths(this.getContext(), null, {
                    sortOrder: t
                })
            }))
        }
    });


});


Requireify.register('js/akira/page/contentRefresh.jsx', function(require, requireAsync, module, exports) {


    "use strict";
    var _extends = Object.assign || function(e) {
            for (var t = 1; t < arguments.length; t++) {
                var r = arguments[t];
                for (var o in r) Object.prototype.hasOwnProperty.call(r, o) && (e[o] = r[o])
            }
            return e
        },
        React = require("react"),
        Router = require("react-router"),
        SortableGallery = require("../layouts/sortableGallery.jsx"),
        IsomorphicContext = require("../../reactMixins/isomorphicContextWithDeps"),
        Sortable = require("../../reactMixins/sortable");
    module.exports = React.createClass({
        displayName: "exports",
        statics: {
            getPaths: function(e, t, r) {
                var o = ["contentRefreshRecentlyAdded"];
                return SortableGallery.getPaths(e, t, {
                    sortOrder: r.sortOrder
                }).map(function(e) {
                    return o.concat(e)
                })
            }
        },
        mixins: [IsomorphicContext, Router.State],
        render: function() {
            var e = ["contentRefreshRecentlyAdded"],
                t = this.props.model.pathEvaluator.bind(e),
                r = Sortable.getSortOrder(this.getQuery());
            return React.createElement(SortableGallery, _extends({}, this.props, {
                keyPrefix: "contentRefreshRecentlyAdded",
                sortOrder: r,
                model: t,
                prefix: e,
                pqls: SortableGallery.getPaths(this.getContext(), null, {
                    sortOrder: r
                })
            }))
        }
    });


});


Requireify.register('js/akira/page/watchAgain.jsx', function(require, requireAsync, module, exports) {


    "use strict";
    var _extends = Object.assign || function(e) {
            for (var r = 1; r < arguments.length; r++) {
                var t = arguments[r];
                for (var a in t) Object.prototype.hasOwnProperty.call(t, a) && (e[a] = t[a])
            }
            return e
        },
        React = require("react"),
        Router = require("react-router"),
        SortableGallery = require("../layouts/sortableGallery.jsx"),
        IsomorphicContext = require("../../reactMixins/isomorphicContextWithDeps"),
        Sortable = require("../../reactMixins/sortable");
    module.exports = React.createClass({
        displayName: "exports",
        statics: {
            getPaths: function(e, r, t) {
                var a = ["watchagain"];
                return SortableGallery.getPaths(e, r, {
                    sortOrder: t.sortOrder
                }).map(function(e) {
                    return a.concat(e)
                })
            }
        },
        mixins: [IsomorphicContext, Router.State],
        render: function() {
            var e = ["watchagain"],
                r = this.props.model.pathEvaluator.bind(e),
                t = Sortable.getSortOrder(this.getQuery());
            return React.createElement(SortableGallery, _extends({}, this.props, {
                keyPrefix: "watchagain",
                model: r,
                sortOrder: t,
                prefix: e,
                pqls: SortableGallery.getPaths(this.getContext(), null, {
                    sortOrder: t
                })
            }))
        }
    });


});


Requireify.register('js/akira/page/similars.jsx', function(require, requireAsync, module, exports) {


    "use strict";
    var _extends = Object.assign || function(r) {
            for (var e = 1; e < arguments.length; e++) {
                var t = arguments[e];
                for (var a in t) Object.prototype.hasOwnProperty.call(t, a) && (r[a] = t[a])
            }
            return r
        },
        React = require("react"),
        Router = require("react-router"),
        SortableGallery = require("../layouts/sortableGallery.jsx"),
        IsomorphicContext = require("../../reactMixins/isomorphicContextWithDeps"),
        Sortable = require("../../reactMixins/sortable");
    module.exports = React.createClass({
        displayName: "exports",
        statics: {
            getPaths: function(r, e, t) {
                var a = ["similars", t.id];
                return SortableGallery.getPaths(r, e, {
                    sortOrder: t.sortOrder
                }).map(function(r) {
                    return a.concat(r)
                })
            }
        },
        mixins: [IsomorphicContext, Router.State],
        render: function() {
            var r = ["similars", this.getParams().id],
                e = this.props.model.pathEvaluator.bind(r),
                t = Sortable.getSortOrder(this.getQuery());
            return React.createElement(SortableGallery, _extends({}, this.props, {
                keyPrefix: "similars",
                sortOrder: t,
                model: e,
                prefix: r,
                pqls: SortableGallery.getPaths(this.getContext(), null, {
                    sortOrder: t
                })
            }))
        }
    });


});


Requireify.register('js/akira/page/genreNewRelease.jsx', function(require, requireAsync, module, exports) {


    "use strict";
    var _extends = Object.assign || function(e) {
            for (var r = 1; r < arguments.length; r++) {
                var t = arguments[r];
                for (var a in t) Object.prototype.hasOwnProperty.call(t, a) && (e[a] = t[a])
            }
            return e
        },
        React = require("react"),
        Router = require("react-router"),
        SortableGallery = require("../layouts/sortableGallery.jsx"),
        IsomorphicContext = require("../../reactMixins/isomorphicContextWithDeps"),
        Sortable = require("../../reactMixins/sortable"),
        GenreNewReleaseContent = React.createClass({
            displayName: "GenreNewReleaseContent",
            statics: {
                defaultSortOrder: Sortable.ORDER_BY_YEAR,
                getPaths: function(e, r, t) {
                    var a = ["genrenewrelease", t.id];
                    return SortableGallery.getPaths(e, r, {
                        sortOrder: t.sortOrder
                    }).map(function(e) {
                        return a.concat(e)
                    })
                }
            },
            mixins: [IsomorphicContext, Router.State],
            render: function() {
                var e = ["genrenewrelease", this.getParams().id],
                    r = this.props.model.pathEvaluator.bind(e),
                    t = Sortable.getSortOrder(this.getQuery(), GenreNewReleaseContent.defaultSortOrder);
                return React.createElement(SortableGallery, _extends({}, this.props, {
                    keyPrefix: "genrenewrelease",
                    sortOrder: t,
                    model: r,
                    prefix: e,
                    pqls: SortableGallery.getPaths(this.getContext(), null, {
                        sortOrder: t
                    })
                }))
            }
        });
    module.exports = GenreNewReleaseContent;


});


Requireify.register('js/akira/page/newArrivals.jsx', function(require, requireAsync, module, exports) {


    "use strict";
    var _extends = Object.assign || function(e) {
            for (var t = 1; t < arguments.length; t++) {
                var r = arguments[t];
                for (var a in r) Object.prototype.hasOwnProperty.call(r, a) && (e[a] = r[a])
            }
            return e
        },
        React = require("react"),
        Lolomo = require("../components/lolomo/lolomo.jsx"),
        I18N = require("../../reactMixins/i18nWithDeps"),
        MAX_ROWS = 20,
        getPaths = function(e, t, r) {
            t || (t = {
                numRows: 3,
                numVideos: 7
            });
            var a = [
                ["length"]
            ].concat(Lolomo.getPaths(e, t));
            return a
        };
    module.exports = React.createClass({
        displayName: "exports",
        mixins: [I18N],
        prefetchCallbacks: [],
        statics: {
            getPaths: getPaths,
            __meta__: {
                strings: [{
                    bundle: "discovery/akira/Chrome",
                    ids: ["new.arrivals"]
                }]
            }
        },
        render: function() {
            var e = this.props.model.pathEvaluator.bind(["newarrivals"]),
                t = MAX_ROWS,
                r = getPaths(this.getContext());
            return React.createElement("div", null, React.createElement("div", {
                className: "lolomoHeader"
            }, React.createElement("div", {
                className: "title"
            }, this.getString("discovery/akira/Chrome", "new.arrivals"))), React.createElement(Lolomo, _extends({}, this.props, {
                model: e,
                pqls: r,
                numRows: t,
                newarrivals: !0
            })))
        }
    });


});


Requireify.register('js/akira/page/HD.jsx', function(require, requireAsync, module, exports) {


    "use strict";
    var _extends = Object.assign || function(e) {
            for (var r = 1; r < arguments.length; r++) {
                var t = arguments[r];
                for (var a in t) Object.prototype.hasOwnProperty.call(t, a) && (e[a] = t[a])
            }
            return e
        },
        React = require("react"),
        Router = require("react-router"),
        SortableGallery = require("../layouts/sortableGallery.jsx"),
        IsomorphicContext = require("../../reactMixins/isomorphicContextWithDeps"),
        Sortable = require("../../reactMixins/sortable");
    module.exports = React.createClass({
        displayName: "exports",
        statics: {
            getPaths: function(e, r, t) {
                var a = ["hd", t.id];
                return SortableGallery.getPaths(e, r, {
                    sortOrder: t.sortOrder
                }).map(function(e) {
                    return a.concat(e)
                })
            }
        },
        mixins: [IsomorphicContext, Router.State],
        render: function() {
            var e = ["hd", this.getParams().id],
                r = this.props.model.pathEvaluator.bind(e),
                t = Sortable.getSortOrder(this.getQuery());
            return React.createElement(SortableGallery, _extends({}, this.props, {
                keyPrefix: "hd",
                sortOrder: t,
                model: r,
                prefix: e,
                pqls: SortableGallery.getPaths(this.getContext(), null, {
                    sortOrder: t
                })
            }))
        }
    });


});


Requireify.register('js/akira/components/subHeaders/suggestionHeader.jsx', function(require, requireAsync, module, exports) {


    "use strict";
    var React = require("react");
    module.exports = React.createClass({
        displayName: "exports",
        statics: {
            getPaths: function(e, a, t) {
                return [
                    ["header"]
                ]
            }
        },
        render: function() {
            var e = this.props.model,
                a = e.getValueSync(["summary"]) && e.getValueSync(["summary"]).name,
                t = a && e.getValueSync(["header"]),
                r = t ? t.replace("${TITLE}", a) : a;
            return React.createElement("div", {
                className: "suggestionHeader"
            }, React.createElement("div", {
                className: "title"
            }, r))
        }
    });


});


Requireify.register('js/akira/components/search/searchPeople.jsx', function(require, requireAsync, module, exports) {


    "use strict";
    var React = require("react"),
        Link = require("../controls/mainViewLink.jsx"),
        I18N = require("../../../reactMixins/i18nWithDeps"),
        EventBus = require("../../../reactMixins/eventBus"),
        URLs = require("../../../utils/urls"),
        MAX_PEOPLE = 20,
        BUNDLE = "discovery/akira/Search",
        SearchPeople = React.createClass({
            displayName: "SearchPeople",
            mixins: [I18N],
            statics: {
                __meta__: {
                    strings: [{
                        bundle: "discovery/akira/Search",
                        ids: ["search.people"]
                    }]
                },
                getPaths: function(e, r, s) {
                    return [
                        ["person", ["summary", "reference", "trackId"]],
                        ["person", {
                            to: MAX_PEOPLE
                        }, "person", "summary"],
                        ["person", {
                                to: MAX_PEOPLE
                            },
                            ["referenceId"]
                        ]
                    ]
                }
            },
            hasLoggedImpression: !1,
            firstResult: null,
            peopleCount: 0,
            getPeople: function() {
                var e, r = this.props.model.bind(["person"]),
                    s = r.getValueSync(["summary"]),
                    t = [];
                if (this.firstResult = null, !s) return t;
                for (e = 0; e < s.length; e++) {
                    var n = r.bind([e, "person"]),
                        i = n.getValueSync(["summary"]),
                        o = new RegExp("(" + this.props.term + ")", "gi"),
                        a = i && i.name.replace(o, function(e) {
                            return "<strong>" + e + "</strong>"
                        }),
                        l = null;
                    i && (0 === e && (this.firstResult = n), this.props.personId === i.id && (l = "selected"), t.push(React.createElement("li", {
                        key: "person" + e,
                        className: l
                    }, React.createElement(Link, {
                        type: "searchPerson",
                        params: {
                            personId: i.id,
                            term: this.props.term
                        },
                        onClick: this.props.onRailClick,
                        dangerouslySetInnerHTML: {
                            __html: a
                        }
                    }))))
                }
                return t
            },
            getReferenceId: function() {
                var e = this.props.model.bind(["person"]);
                return e && e.getValueSync(["reference"])
            },
            getFirstResultLink: function() {
                var e;
                return this.firstResult ? (e = this.firstResult.getValueSync(["summary"]).id, URLs.getSearchPersonUrl(this.props.term, e)) : void 0
            },
            logSearchImpression: function(e) {
                var r;
                !this.peopleCount || !e && this.hasLoggedImpression || (r = this.getReferenceId(), r && (EventBus.emit("search:impression", {
                    referenceId: r,
                    view: "peopleResults"
                }), this.hasLoggedImpression = !0))
            },
            componentDidMount: function() {
                this.logSearchImpression()
            },
            componentDidUpdate: function(e, r) {
                var s = e.searchKey !== this.props.searchKey;
                s && (this.hasLoggedImpression = !1), this.logSearchImpression(s)
            },
            render: function() {
                var e = this.getPeople();
                return this.peopleCount = e ? e.length : 0, this.peopleCount ? React.createElement("div", {
                    className: "people"
                }, React.createElement("span", {
                    className: "peopleLabel"
                }, this.getString(BUNDLE, "search.people")), React.createElement("ul", null, e)) : React.createElement("b", null)
            }
        });
    module.exports = SearchPeople;


});


Requireify.register('js/akira/components/search/noResults.jsx', function(require, requireAsync, module, exports) {


    "use strict";
    var React = require("react"),
        I18N = require("../../../reactMixins/i18nWithDeps"),
        BUNDLE = "discovery/akira/Search:search.noresults",
        NoResults = React.createClass({
            displayName: "NoResults",
            mixins: [I18N],
            statics: {
                getPaths: function() {},
                __meta__: {
                    strings: [{
                        bundle: BUNDLE,
                        ids: ["title", "suggestions", "keywords", "looking", "try", "genre"]
                    }]
                }
            },
            render: function() {
                var e = this.getStrings(BUNDLE);
                return React.createElement("div", {
                    className: "noResultsWrapper"
                }, React.createElement("div", {
                    className: "noResults"
                }, React.createElement("p", null, " ", e.get("title", {
                    query: this.props.term
                }), " "), React.createElement("p", null, e.get("suggestions")), React.createElement("ul", null, React.createElement("li", null, e.get("keywords")), React.createElement("li", null, e.get("looking")), React.createElement("li", null, e.get("try")), React.createElement("li", null, e.get("genre")))))
            }
        });
    module.exports = NoResults;


});


Requireify.register('js/akira/components/search/searchSuggestions.jsx', function(require, requireAsync, module, exports) {


    "use strict";
    var React = require("react"),
        Link = require("../controls/mainViewLink.jsx"),
        I18N = require("../../../reactMixins/i18nWithDeps"),
        EventBus = require("../../../reactMixins/eventBus"),
        URLs = require("../../../utils/urls"),
        MAX_SUGGESTIONS = 20,
        BUNDLE = "discovery/akira/Search",
        SearchSuggestions = React.createClass({
            displayName: "SearchSuggestions",
            mixins: [I18N],
            statics: {
                getPaths: function(e, s, t) {
                    return [
                        ["suggestions", ["summary", "reference", "trackId"]],
                        ["suggestions", {
                                to: MAX_SUGGESTIONS
                            },
                            ["referenceId", "summary"]
                        ]
                    ]
                },
                __meta__: {
                    strings: [{
                        bundle: "discovery/akira/Search",
                        ids: ["search.suggestions.label"]
                    }]
                }
            },
            hasLoggedImpression: !1,
            suggestionCount: 0,
            getFirstResultLink: function() {
                return this.firstResult ? URLs.getSearchSuggestionUrl(this.props.term, 0) : void 0
            },
            getReferenceId: function() {
                var e = this.props.model.bind(["suggestions"]);
                return e && e.getValueSync(["reference"])
            },
            getSuggestions: function() {
                var e, s = [],
                    t = this.props.model,
                    i = t.bind(["suggestions"]),
                    n = i.getValueSync(["summary"]);
                if (this.firstResult = null, !n || 0 === n.length) return s;
                for (e = 0; e < n.length; e++) {
                    var r = i.bind([e]),
                        a = r.getValueSync(["summary"]),
                        o = a.name,
                        u = null;
                    0 === e && (this.firstResult = r), this.props.suggestionId === e && (u = "selected"), s.push(React.createElement("li", {
                        key: s + e,
                        className: u
                    }, React.createElement(Link, {
                        type: "searchSuggestion",
                        params: {
                            suggestionId: e,
                            term: this.props.term
                        },
                        onClick: this.props.onRailClick
                    }, o)))
                }
                return s
            },
            logSearchImpression: function(e) {
                var s;
                !this.suggestionCount || !e && this.hasLoggedImpression || (s = this.getReferenceId(), s && (EventBus.emit("search:impression", {
                    referenceId: s,
                    view: "suggestionResults"
                }), this.hasLoggedImpression = !0))
            },
            componentDidMount: function() {
                this.logSearchImpression()
            },
            componentDidUpdate: function(e, s) {
                var t = e.searchKey !== this.props.searchKey;
                t && (this.hasLoggedImpression = !1), this.logSearchImpression(t)
            },
            render: function() {
                var e = this.getSuggestions();
                return this.suggestionCount = e.length, this.suggestionCount ? React.createElement("div", {
                    className: "suggestions"
                }, React.createElement("span", {
                    className: "suggestionsLabel"
                }, this.getString(BUNDLE, "search.suggestions.label")), React.createElement("ul", null, e)) : React.createElement("b", null)
            }
        });
    module.exports = SearchSuggestions;


});


Requireify.register('js/akira/components/search/searchDVDs.jsx', function(require, requireAsync, module, exports) {


    "use strict";
    var React = require("react"),
        Link = require("../controls/mainViewLink.jsx"),
        I18N = require("../../../reactMixins/i18nWithDeps"),
        EventBus = require("../../../reactMixins/eventBus"),
        URLs = require("../../../utils/urls"),
        MAX_DVDS = 20,
        BUNDLE = "discovery/akira/Search",
        SearchDVDs = React.createClass({
            displayName: "SearchDVDs",
            mixins: [I18N],
            statics: {
                getPaths: function(e, s, t) {
                    return [
                        ["dvds", "summary"],
                        ["dvds", "referenceId"],
                        ["dvds", {
                            to: MAX_DVDS
                        }, "summary"]
                    ]
                },
                __meta__: {
                    strings: [{
                        bundle: "discovery/akira/Search:search",
                        ids: ["dvd.label", "see.all.dvd.results"]
                    }]
                }
            },
            hasLoggedImpression: !1,
            suggestionCount: 0,
            getDVDs: function() {
                var e, s = [],
                    t = this.props.model,
                    r = t.bind(["dvds"]),
                    n = r.getValueSync(["summary"]);
                if (n && n.length > 0)
                    for (e = 0; e < n.length; e++) {
                        var a = r.bind([e]),
                            i = a.getValueSync(["summary"]),
                            c = i && i.name.toLowerCase(),
                            d = null;
                        this.props.dvdId === encodeURIComponent(c) && (d = "selected"), c && s.push(React.createElement("li", {
                            key: "dvd" + s + e,
                            className: d
                        }, React.createElement(Link, {
                            type: "searchDVD",
                            params: {
                                dvdId: c,
                                term: this.props.term
                            },
                            onClick: this.props.onRailClick
                        }, c)))
                    }
                return s.push(React.createElement("li", {
                    key: "allDVD"
                }, React.createElement("a", {
                    href: URLs.getDVDCoSearchURL(decodeURI(this.props.term))
                }, this.getString(BUNDLE, "search.see.all.dvd.results")))), s
            },
            getReferenceId: function() {
                var e = this.props.model.bind(["dvds"]);
                return e && e.getValueSync(["referenceId"])
            },
            logSearchImpression: function(e) {
                var s;
                !this.suggestionCount || !e && this.hasLoggedImpression || (s = this.getReferenceId(), s && (EventBus.emit("search:impression", {
                    referenceId: s,
                    view: "dvdResults"
                }), this.hasLoggedImpression = !0))
            },
            componentDidMount: function() {
                this.logSearchImpression()
            },
            componentDidUpdate: function(e, s) {
                var t = e.searchKey !== this.props.searchKey;
                t && (this.hasLoggedImpression = !1), this.logSearchImpression(t)
            },
            render: function() {
                var e = this.getDVDs();
                return this.suggestionCount = e ? e.length : 0, this.suggestionCount ? React.createElement("div", {
                    className: "dvds"
                }, React.createElement("span", {
                    className: "dvdLabel"
                }, this.getString(BUNDLE, "search.dvd.label")), React.createElement("ul", null, e)) : null
            }
        });
    module.exports = SearchDVDs;


});


Requireify.register('js/akira/components/search/hybridDVDDetails.jsx', function(require, requireAsync, module, exports) {


    "use strict";
    var React = require("react"),
        I18N = require("../../../reactMixins/i18nWithDeps"),
        URLs = require("../../../utils/urls"),
        BUNDLE = "discovery/akira/Search",
        HybridDVDDetails = React.createClass({
            displayName: "HybridDVDDetails",
            mixins: [I18N],
            statics: {
                __meta__: {
                    strings: [{
                        bundle: "discovery/akira/Search",
                        ids: ["search.see.dvd.details"]
                    }]
                }
            },
            render: function() {
                var e = this.props.model,
                    t = e.getValueSync(["title"]),
                    a = e.getValueSync(["summary"]),
                    s = a && a.id,
                    i = e.getValueSync(["synopsis"]),
                    r = URLs.getDVDCoMDPURL(s);
                return React.createElement("div", {
                    className: "dvdUpsellText"
                }, React.createElement("div", {
                    className: "dvdTitle"
                }, t), React.createElement("div", {
                    className: "dvdSynopsis"
                }, i), React.createElement("a", {
                    href: r
                }, React.createElement("div", {
                    className: "dvdAction"
                }, this.getString(BUNDLE, "search.see.dvd.details"))))
            }
        });
    module.exports = HybridDVDDetails;


});


Requireify.register('js/akira/components/search/softUpsellDVDDetails.jsx', function(require, requireAsync, module, exports) {


    "use strict";
    var React = require("react"),
        I18N = require("../../../reactMixins/i18nWithDeps"),
        URLs = require("../../../utils/urls"),
        BUNDLE = "discovery/akira/Search:search.dvd.softupsell",
        SoftUpsellDVDDetails = React.createClass({
            displayName: "SoftUpsellDVDDetails",
            mixins: [I18N],
            statics: {
                __meta__: {
                    strings: [{
                        bundle: BUNDLE,
                        ids: ["details", "title"]
                    }]
                }
            },
            render: function() {
                var e = this.props.model,
                    t = e.getValueSync(["title"]),
                    s = e.getValueSync(["summary"]),
                    l = s && s.id,
                    a = URLs.getDVDUpsellURL(l, "search");
                return React.createElement("div", {
                    className: "dvdUpsellText"
                }, React.createElement("div", {
                    className: "dvdStreamingTitle",
                    dangerouslySetInnerHTML: {
                        __html: this.getString(BUNDLE, "title", {
                            title: t
                        })
                    }
                }), React.createElement("div", {
                    className: "dvdUpsellLink",
                    dangerouslySetInnerHTML: {
                        __html: this.getString(BUNDLE, "details", {
                            dvdUpsellUrl: a
                        })
                    }
                }))
            }
        });
    module.exports = SoftUpsellDVDDetails;


});


Requireify.register('js/akira/components/search/hardUpsellDVDDetails.jsx', function(require, requireAsync, module, exports) {


    "use strict";
    var React = require("react"),
        I18N = require("../../../reactMixins/i18nWithDeps"),
        URLs = require("../../../utils/urls"),
        BUNDLE = "discovery/akira/Search:search",
        HardUpsellDVDDetails = React.createClass({
            displayName: "HardUpsellDVDDetails",
            mixins: [I18N],
            statics: {
                __meta__: {
                    strings: [{
                        bundle: BUNDLE,
                        ids: ["dvd.hardupsell.title", "dvd.hardupsell.details", "dvd.hardupsell.freetrial", "add.dvds"]
                    }]
                }
            },
            render: function() {
                var e = this.props.model,
                    t = e.getValueSync(["title"]),
                    a = e.getValueSync(["summary"]),
                    l = a && a.id,
                    s = URLs.getDVDUpsellURL(l, "search"),
                    d = this.getStrings(BUNDLE);
                return React.createElement("div", {
                    className: "dvdUpsellText"
                }, React.createElement("div", {
                    className: "dvdTitle"
                }, d.get("dvd.hardupsell.title", {
                    title: t
                })), React.createElement("div", {
                    className: "dvdUpsellLink",
                    dangerouslySetInnerHTML: {
                        __html: d.get("dvd.hardupsell.details", {
                            title: t
                        })
                    }
                }), React.createElement("a", {
                    href: s
                }, React.createElement("div", {
                    className: "dvdAction"
                }, d.get("add.dvds"))))
            }
        });
    module.exports = HardUpsellDVDDetails;


});


Requireify.register('js/akira/components/search/dvdUpsell.jsx', function(require, requireAsync, module, exports) {


    "use strict";
    var React = require("react"),
        HybridDVDDetails = require("./hybridDVDDetails.jsx"),
        SoftUpsellDVDDetails = require("./softUpsellDVDDetails.jsx"),
        HardUpsellDVDDetails = require("./hardUpsellDVDDetails.jsx"),
        I18N = require("../../../reactMixins/i18nWithDeps"),
        BUNDLE = "discovery/akira/Search",
        DVD_IMAGE_PREFIX = "//cdn.nflximg.com/us/boxshots/large/";
    module.exports = React.createClass({
        displayName: "exports",
        mixins: [I18N],
        statics: {
            getPaths: function(e, t, s) {
                return [
                    ["dvdresult", 0, "video", ["summary", "title", "synopsis"]],
                    ["dvdresult", 0, "isSoftUpsell"]
                ]
            },
            __meta__: {
                strings: [{
                    bundle: "discovery/akira/Search",
                    ids: ["search.dvd.icon.text"]
                }]
            }
        },
        render: function() {
            var e, t = this.props.model,
                s = t.bind(["dvdresult", 0, "video"]),
                a = t.bind(["dvdresult", 0, "isSoftUpsell"]),
                l = a.getValueSync(["value"]),
                r = s.getValueSync(["title"]),
                i = s.getValueSync(["summary"]),
                c = i && i.id,
                d = DVD_IMAGE_PREFIX + c + ".jpg",
                n = this.getFeatureData("userInfo").isDVD,
                D = n || !l ? " showDisc" : "";
            return e = n ? React.createElement(HybridDVDDetails, {
                model: s
            }) : l ? React.createElement(SoftUpsellDVDDetails, {
                model: s
            }) : React.createElement(HardUpsellDVDDetails, {
                model: s
            }), r ? React.createElement("div", {
                className: "dvdUpsell"
            }, React.createElement("div", {
                className: "dvdUpsellImg" + D
            }, React.createElement("img", {
                src: d
            })), e, React.createElement("div", {
                className: "dvdParent"
            }, React.createElement("div", {
                className: "dvdIcon"
            }, React.createElement("div", {
                className: "upsellText",
                dangerouslySetInnerHTML: {
                    __html: this.getString(BUNDLE, "search.dvd.icon.text")
                }
            })))) : React.createElement("b", null)
        }
    });


});


Requireify.register('js/akira/page/search.jsx', function(require, requireAsync, module, exports) {


    "use strict";
    var _extends = Object.assign || function(e) {
            for (var t = 1; t < arguments.length; t++) {
                var s = arguments[t];
                for (var r in s) Object.prototype.hasOwnProperty.call(s, r) && (e[r] = s[r])
            }
            return e
        },
        React = require("react"),
        Router = require("react-router"),
        PathEvaluatorUtils = require("../../utils/pathEvaluatorUtils"),
        Gallery = require("../layouts/gallery.jsx"),
        PersonHeader = require("../components/subHeaders/personHeader.jsx"),
        SuggestionHeader = require("../components/subHeaders/suggestionHeader.jsx"),
        SearchPeople = require("../components/search/searchPeople.jsx"),
        NoResults = require("../components/search/noResults.jsx"),
        SearchSuggestions = require("../components/search/searchSuggestions.jsx"),
        SearchDVDs = require("../components/search/searchDVDs.jsx"),
        DVDUpsell = require("../components/search/dvdUpsell.jsx"),
        AutoFetch = require("../../reactMixins/falkor-auto-fetch"),
        IsomorphicContext = require("../../reactMixins/isomorphicContextWithDeps"),
        EventBus = require("../../reactMixins/eventBus"),
        isNode = require("../../utils/inNode"),
        ctx = require("../../utils/contextData"),
        getPaths = function(e, t, s) {
            var r, n, a, o = ["search", s.term],
                i = o,
                c = [],
                d = SearchPeople.getPaths(e).map(function(e) {
                    return o.concat(e)
                }),
                u = SearchSuggestions.getPaths().map(function(e) {
                    return o.concat(e)
                }),
                g = !1,
                l = ctx.getFeatureData("userInfo");
            if (g = l && l.isDVD, g && (a = SearchDVDs.getPaths().map(function(e) {
                    return o.concat(e)
                })), s.personId && (i = ["person", s.personId]), s.suggestionId && (i = o.concat(["suggestions", s.suggestionId, "relatedvideos"]), r = o.concat(["suggestions", s.suggestionId])), s.dvdId && (i = o.concat(["dvds", s.dvdId.toLowerCase(), "relatedvideos"]), r = o.concat(["dvds", s.dvdId.toLowerCase()])), isNode && (c = Gallery.getPaths(e, t, s).map(function(e) {
                    return i.concat(e)
                })), n = c.concat(d).concat(u), n = n.concat([o.concat(["referenceId"])]), g && (n = n.concat(a)), s.personId) {
                var h = PersonHeader.getPaths(e).map(function(e) {
                    return i.concat(e)
                });
                n = n.concat(h)
            }
            if (s.suggestionId || s.dvdId) {
                var p = DVDUpsell.getPaths(e).map(function(e) {
                        return i.concat(e)
                    }),
                    m = SuggestionHeader.getPaths(e).map(function(e) {
                        return r.concat(e)
                    });
                n = n.concat(p).concat(m)
            }
            return n
        },
        Search = React.createClass({
            displayName: "Search",
            mixins: [AutoFetch, IsomorphicContext, Router.State, Router.Navigation],
            statics: {
                getPaths: getPaths
            },
            pageKey: null,
            hasLoggedImpression: !1,
            getFalkorModel: function() {
                return this.props.model.pathEvaluator
            },
            renderNoResults: function() {
                var e = this.getFallBackPage();
                return e ? (setTimeout(this.replaceWith.bind(this, e), 10), null) : React.createElement(NoResults, {
                    term: decodeURIComponent(this.props.term)
                })
            },
            getFallBackPage: function() {
                if (this.props.personId || this.props.suggestionId || this.props.dvdId) return !1;
                var e = this.refs.searchPeople && this.refs.searchPeople.getFirstResultLink(),
                    t = this.refs.searchSuggestions && this.refs.searchSuggestions.getFirstResultLink();
                return t ? t : e ? e : !1
            },
            getSearchModel: function() {
                var e = this.props.term;
                return this.props.model.pathEvaluator.bind(["search", e])
            },
            getReferenceId: function() {
                var e = this.getSearchModel(),
                    t = this.getSuggestionId(),
                    s = e && e.getValueSync(["referenceId"]);
                return e && this.getPersonId() && (s = this.getPersonRefId(e.bind(["person"]))), e && "undefined" != typeof t && (s = e.getValueSync(["suggestions", t, "referenceId"])), e && this.getDvdId() && (s = e.getValueSync(["dvds", "referenceId"])), s
            },
            getPersonRefId: function(e) {
                var t, s, r, n = e.getValueSync(["summary"]),
                    a = parseInt(this.props.personId, 10);
                if (!n) return null;
                for (s = 0; s < n.length; s++)
                    if (t = e.bind([s, "person"]), r = t.getValueSync(["summary"]), a === r.id) return e.bind([s]).getValueSync(["referenceId"])
            },
            getSearchView: function() {
                var e = "titleResults",
                    t = this.getSuggestionId();
                return this.getPersonId() && (e = "peopleTitleResults"), "undefined" != typeof t && (e = "suggestionTitleResults"), this.getDvdId() && (e = "dvdTitleResults"), e
            },
            getSearchPageKey: function() {
                return this.props.term + ":" + this.getPersonId() + ":" + this.getSuggestionId() + ":" + this.getDvdId()
            },
            logSearchImpression: function(e) {
                var t;
                this.isLoading() || !e && this.hasLoggedImpression || (t = this.getReferenceId(), t && (EventBus.emit("search:impression", {
                    referenceId: t,
                    view: this.getSearchView()
                }), this.hasLoggedImpression = !0))
            },
            componentDidMount: function() {
                this.logSearchImpression()
            },
            componentDidUpdate: function(e, t) {
                var s = this.getSearchPageKey(),
                    r = this.pageKey !== s;
                r && (this.pageKey = s, this.hasLoggedImpression = !1), this.logSearchImpression()
            },
            shouldComponentUpdate: function() {
                return !this.isLoading()
            },
            onRailClick: function(e, t) {
                return this.props.personId || this.props.suggestionId || this.props.dvdId ? this.replaceWith(t.type, t.params) : this.transitionTo(t.type, t.params), !1
            },
            getPersonId: function() {
                return this.props.personId && parseInt(this.props.personId, 10)
            },
            getSuggestionId: function() {
                return this.props.suggestionId && parseInt(this.props.suggestionId, 10)
            },
            getDvdId: function() {
                return this.props.dvdId
            },
            getTrackIdOverrides: function(e) {
                var t;
                return this.getPersonId() && (t = e.bind(["person"]).getValueSync(["trackId"])), "undefined" != typeof this.getSuggestionId() && (t = e.bind(["suggestions"]).getValueSync(["trackId"])), {
                    trackId: t,
                    jawBoneTrackId: t,
                    jawBoneEpisodeTrackId: t,
                    jawBoneTrailerTrackId: t
                }
            },
            hasSearchError: function() {
                var e, t = this.state && this.state.fetchDataError;
                return t ? (e = this.getSearchModel(), e && PathEvaluatorUtils.isValueError(e.getValueSync([0]))) : !1
            },
            render: function() {
                var e, t, s, r, n = this.props.term,
                    a = this.getSearchModel(),
                    o = a,
                    i = this.getFeatureData("userInfo"),
                    c = this.getPersonId(),
                    d = this.getSuggestionId(),
                    u = this.getDvdId(),
                    g = i && i.isDVD ? i.isDVD : !1,
                    l = this.getReferenceId(),
                    h = this.getSearchPageKey();
                return (c || "undefined" != typeof d) && (e = this.getTrackIdOverrides(a)), c && (o = this.props.model.pathEvaluator.bind(["person", c]), t = React.createElement(PersonHeader, {
                    model: o,
                    pqls: PersonHeader.getPaths(this.getContext())
                })), "undefined" != typeof d && (o = a.bind(["suggestions", d, "relatedvideos"]), s = a.bind(["suggestions", d]), r = o && o.bind(["dvdresult", 0, "video"]), t = r && r.getValueSync(["title"]) ? React.createElement("div", null, React.createElement(DVDUpsell, {
                    model: o
                }), React.createElement(SuggestionHeader, {
                    model: s
                })) : React.createElement(SuggestionHeader, {
                    model: s
                })), u && (o = a.bind(["dvds", u, "relatedvideos"]), s = a.bind(["suggestions", d]), t = React.createElement("div", null, React.createElement(DVDUpsell, {
                    model: o
                }), React.createElement(SuggestionHeader, {
                    model: s
                }))), React.createElement("div", null, React.createElement("div", {
                    className: "rail"
                }, g ? React.createElement(SearchDVDs, {
                    model: a,
                    searchKey: h,
                    term: n,
                    ref: "searchDVDs",
                    dvdId: u,
                    onRailClick: this.onRailClick
                }) : null, React.createElement(SearchSuggestions, {
                    model: a,
                    searchKey: h,
                    term: n,
                    ref: "searchSuggestions",
                    pqls: SearchSuggestions.getPaths(),
                    suggestionId: d,
                    onRailClick: this.onRailClick
                }), React.createElement(SearchPeople, {
                    model: a,
                    searchKey: h,
                    term: n,
                    ref: "searchPeople",
                    pqls: SearchPeople.getPaths(),
                    personId: c,
                    onRailClick: this.onRailClick
                })), React.createElement(Gallery, _extends({}, this.props, {
                    keyPrefix: "search",
                    key: h,
                    model: o,
                    customNoResults: this.renderNoResults,
                    pqls: Gallery.getPaths(this.getContext()),
                    referenceId: l,
                    header: t,
                    trackIds: e
                })))
            }
        });
    module.exports = Search;


});


Requireify.register('js/akira/page/searchRoute.jsx', function(require, requireAsync, module, exports) {


    "use strict";
    var _extends = Object.assign || function(e) {
            for (var t = 1; t < arguments.length; t++) {
                var r = arguments[t];
                for (var a in r) Object.prototype.hasOwnProperty.call(r, a) && (e[a] = r[a])
            }
            return e
        },
        React = require("react"),
        Router = require("react-router"),
        Search = require("./search.jsx"),
        HtmlSafe = require("../../reactMixins/htmlSafe"),
        IsomorphicContext = require("../../reactMixins/isomorphicContextWithDeps"),
        SearchRoute = React.createClass({
            displayName: "SearchRoute",
            mixins: [IsomorphicContext, Router.State],
            statics: {
                getPaths: function(e, t, r) {
                    return Search.getPaths(e, t, r)
                }
            },
            render: function() {
                var e = {
                    term: HtmlSafe.getHtmlSafeString(this.getParams().term),
                    personId: this.getParams().personId,
                    suggestionId: this.getParams().suggestionId,
                    dvdId: this.getParams().dvdId
                };
                return React.createElement(Search, _extends({}, this.props, e, {
                    pqls: Search.getPaths(this.getContext(), null, e)
                }))
            }
        });
    module.exports = SearchRoute;


});


Requireify.register('js/akira/page/audioDescription.jsx', function(require, requireAsync, module, exports) {


    "use strict";
    var _extends = Object.assign || function(e) {
            for (var t = 1; t < arguments.length; t++) {
                var r = arguments[t];
                for (var o in r) Object.prototype.hasOwnProperty.call(r, o) && (e[o] = r[o])
            }
            return e
        },
        React = require("react"),
        Router = require("react-router"),
        SortableGallery = require("../layouts/sortableGallery.jsx"),
        IsomorphicContext = require("../../reactMixins/isomorphicContextWithDeps"),
        Sortable = require("../../reactMixins/sortable");
    module.exports = React.createClass({
        displayName: "exports",
        statics: {
            getPaths: function(e, t, r) {
                var o = ["assistiveAudio"];
                return SortableGallery.getPaths(e, t, {
                    sortOrder: r.sortOrder
                }).map(function(e) {
                    return o.concat(e)
                })
            }
        },
        mixins: [IsomorphicContext, Router.State],
        childContextTypes: {
            audioDescription: React.PropTypes.bool
        },
        getChildContext: function() {
            return {
                audioDescription: !0
            }
        },
        render: function() {
            var e = ["assistiveAudio"],
                t = this.props.model.pathEvaluator.bind(e),
                r = Sortable.getSortOrder(this.getQuery());
            return React.createElement(SortableGallery, _extends({}, this.props, {
                keyPrefix: "assistiveAudio",
                sortOrder: r,
                model: t,
                prefix: e,
                pqls: SortableGallery.getPaths(this.getContext(), null, {
                    sortOrder: r
                })
            }))
        }
    });


});


Requireify.register('js/akira/page/manageProfiles.jsx', function(require, requireAsync, module, exports) {


    "use strict";
    var React = require("react"),
        ProfilesGate = require("../components/profile/profilesGate.jsx"),
        ProfileManager = require("../../utils/profileManager"),
        IsomorphicContext = require("../../reactMixins/isomorphicContextWithDeps"),
        ManageProfiles = React.createClass({
            displayName: "ManageProfiles",
            mixins: [IsomorphicContext],
            statics: {
                getPaths: function(e, r, t) {
                    return ProfilesGate.getPaths(e, r, t)
                }
            },
            render: function() {
                var e = this.props.model.pathEvaluator,
                    r = {
                        activeView: ProfileManager.VIEWS.MANAGE_PROFILES
                    };
                return React.createElement(ProfilesGate, {
                    model: e,
                    profileGateAppState: r
                })
            }
        });
    module.exports = ManageProfiles;


});


Requireify.register('js/akira/page/netflixOriginals.jsx', function(require, requireAsync, module, exports) {


    "use strict";
    var _extends = Object.assign || function(e) {
            for (var r = 1; r < arguments.length; r++) {
                var t = arguments[r];
                for (var a in t) Object.prototype.hasOwnProperty.call(t, a) && (e[a] = t[a])
            }
            return e
        },
        React = require("react"),
        Router = require("react-router"),
        SortableGallery = require("../layouts/sortableGallery.jsx"),
        IsomorphicContext = require("../../reactMixins/isomorphicContextWithDeps"),
        Sortable = require("../../reactMixins/sortable");
    module.exports = React.createClass({
        displayName: "exports",
        statics: {
            getPaths: function(e, r, t) {
                var a = ["netflixOriginals"];
                return SortableGallery.getPaths(e, r, {
                    sortOrder: t.sortOrder
                }).map(function(e) {
                    return a.concat(e)
                })
            }
        },
        mixins: [IsomorphicContext, Router.State],
        render: function() {
            var e = ["netflixOriginals"],
                r = this.props.model.pathEvaluator.bind(e),
                t = Sortable.getSortOrder(this.getQuery());
            return React.createElement(SortableGallery, _extends({}, this.props, {
                keyPrefix: "netflixOriginals",
                sortOrder: t,
                model: r,
                prefix: e,
                pqls: SortableGallery.getPaths(this.getContext(), null, {
                    sortOrder: t
                })
            }))
        }
    });


});


Requireify.register('js/reactMixins/popstate.js', function(require, requireAsync, module, exports) {


    "use strict";
    var Rx = require("../common/nfRx");
    module.exports = {
        popStateObservable: null,
        onPopState: function() {
            return this.popStateObservable || (this.popStateObservable = Rx.Observable.fromEvent(window, "popstate")), this.popStateObservable
        }
    };


});


Requireify.register('js/falkorClient/lolomoRefresh.js', function(require, requireAsync, module, exports) {


    "use strict";

    function findListWithContext(t, e) {
        for (var o, r = !0, n = 0; r;)
            if (o = t.bind([n]), r = !!o.getBoundValue()) {
                if (o.getValueSync("context") === e) return {
                    list: o,
                    index: n
                };
                n++
            }
        return null
    }

    function getId(t) {
        return t.getBoundValue().__key
    }

    function refreshUI() {
        root.reactApp.refresh()
    }

    function refreshListImpl(t, e, o, r) {
        var n = LolomoRow.getPaths(ContextData.getContext());
        t.call(["refreshListByContext"], [getId(e), r, o], n, []).subscribe(refreshUI)
    }

    function refreshLolomoList(t, e) {
        var o = findListWithContext(t, e);
        o && refreshListImpl(t, o.list, e, o.index)
    }

    function refreshListWithContext(t, e) {
        var o, r, n = ["lolomo", "lolomonobillboard"];
        for (o = 0; o < n.length; o++) r = t.hardBind([n[o]]), r.getBoundValue() && refreshLolomoList(r, e)
    }
    var ContextData = require("../utils/contextData"),
        LolomoRow = require("../akira/components/lolomo/lolomoRow.jsx"),
        inNode = require("../utils/inNode"),
        root = inNode ? {} : window;
    module.exports = {
        refreshList: refreshListWithContext
    };


});


Requireify.register('js/akira/components/modals/originalsFeedback.jsx', function(require, requireAsync, module, exports) {


    "use strict";
    var React = require("react"),
        _ = require("lodash"),
        ModalContent = require("./modalContent.jsx"),
        I18N = require("../../../reactMixins/i18nWithDeps"),
        BasicStarBar = require("../title/basicStarBar.jsx"),
        XHR = require("../../../utils/XHR"),
        Rx = require("nf-rx"),
        EventBus = require("../../../reactMixins/eventBus"),
        BUNDLE = "discovery/akira/OriginalsFeedback",
        FORM_ENTRY = "entry",
        OriginalsFeedback = React.createClass({
            displayName: "OriginalsFeedback",
            mixins: [I18N],
            statics: {
                __meta__: {
                    strings: [{
                        bundle: BUNDLE,
                        all: !0
                    }]
                }
            },
            childContextTypes: {
                modalDisableDismiss: React.PropTypes.bool
            },
            getChildContext: function() {
                return {
                    modalDisableDismiss: !0
                }
            },
            contextTypes: {
                modalDismiss: React.PropTypes.func,
                modalUpdate: React.PropTypes.func
            },
            getDefaultProps: function() {
                return {
                    minChars: 25,
                    maxChars: 1e3,
                    onSubmit: _.noop
                }
            },
            getInitialState: function() {
                return {
                    mode: FORM_ENTRY,
                    feedbackText: "",
                    rating: 0
                }
            },
            getTrimmedString: function(e) {
                return e ? _.trim(e).replace(/\r?\n|\r/g, " ") : ""
            },
            getFeedbackRequest: function() {
                var e = this;
                return Rx.Observable.create(function(t) {
                    return XHR.request({
                        resource: "/originalsfeedback",
                        service: "api",
                        protocol: "https",
                        method: "post",
                        authorize: !0,
                        data: {
                            videoId: e.props.id,
                            rating: e.state.rating,
                            comments: e.state.feedbackText
                        }
                    }).subscribe(function(e) {
                        t.onNext(e)
                    }, function(e) {
                        t.onError(e)
                    }, function() {
                        t.onCompleted()
                    })
                })
            },
            sendFeedback: function() {
                var e = this;
                EventBus.emit("originalsFeedbackForm:click"), this.getFeedbackRequest().retryWithBackoff(3, 500).subscribe(_.noop, function(t, a) {
                    EventBus.emit("originalsFeedbackForm:error", {
                        errorCode: a && a.status,
                        message: a && a.responseText
                    }), e.setState({
                        mode: "completed"
                    })
                }, function() {
                    EventBus.emit("originalsFeedbackForm:submit"), e.setState({
                        mode: "completed"
                    })
                }), _.isFunction(this.props.onSubmit) && this.props.onSubmit()
            },
            onStarBarRating: function(e) {
                this.setState({
                    rating: e
                })
            },
            handleChange: function(e) {
                this.setState({
                    feedbackText: this.getTrimmedString(e.currentTarget.value)
                })
            },
            buildModal: function() {
                var e = this.getStrings(BUNDLE),
                    t = Math.max(this.props.maxChars - this.state.feedbackText.length, 0),
                    a = !(this.state.feedbackText.length >= this.props.minChars && this.state.rating),
                    r = 0 === t ? this.refs.commentsBox.getDOMNode().value.length : Number.MAX_SAFE_INTEGER,
                    i = this.state.mode === FORM_ENTRY ? React.createElement("div", {
                        className: "originalsFeedbackBody"
                    }, React.createElement("div", {
                        className: "rating-container"
                    }, React.createElement("h3", null, e.get("what.would.you.rate")), React.createElement(BasicStarBar, {
                        predictedRating: 0,
                        userRating: this.state.rating,
                        onRating: this.onStarBarRating
                    })), React.createElement("h3", {
                        className: "comments"
                    }, e.get("comments")), React.createElement("textarea", {
                        ref: "commentsBox",
                        placeholder: e.get("defaulttext", {
                            min: this.props.minChars
                        }),
                        maxLength: r,
                        onChange: this.handleChange
                    }), React.createElement("p", {
                        className: "char-counter",
                        ref: "charCounter"
                    }, e.get("characters.remaining." + (1 === t ? "singular" : "plural"), {
                        num: t
                    })), React.createElement("button", {
                        className: "akira-button akira-button-red",
                        disabled: a,
                        onClick: this.sendFeedback
                    }, e.get("button.submit"))) : React.createElement("h2", {
                        className: "nf-modal-heading"
                    }, e.get("thanks.for.feedback")),
                    n = "number" == typeof this.props.episode ? e.get("episodic.what.did.you.think", {
                        episode: this.props.episode,
                        title: this.props.title
                    }) : e.get("what.did.you.think", {
                        title: this.props.title
                    });
                return {
                    header: "entry" === this.state.mode ? React.createElement("div", {
                        ref: "modal-header"
                    }, React.createElement("h2", {
                        className: "nf-modal-heading",
                        dangerouslySetInnerHTML: {
                            __html: n
                        }
                    })) : null,
                    customBody: React.createElement("div", {
                        className: "nf-modal-body",
                        ref: "modal-body"
                    }, i),
                    cornerDismiss: "entry" === this.state.mode
                }
            },
            render: function() {
                return React.createElement(ModalContent, this.buildModal())
            }
        });
    module.exports = OriginalsFeedback;


});


Requireify.register('js/akira/components/player/contentAdvisory.jsx', function(require, requireAsync, module, exports) {


    "use strict";
    var React = require("react"),
        _ = require("lodash"),
        DEFAULT_VISIBLE_TIME = 4e3,
        ContentAdvisory = React.createClass({
            displayName: "ContentAdvisory",
            mixins: [],
            _onTimeoutCompleted: function() {
                var e = this;
                this.setState({
                    completed: !0
                }), requestAnimationFrame(function() {
                    e.setState({
                        visible: !1
                    }), _.isFunction(e.props.onCompleted) && setTimeout(function() {
                        e.props.onCompleted()
                    }, 900)
                })
            },
            start: function() {
                clearTimeout(this._timeoutHandle), this._timeoutHandle = setTimeout(this._onTimeoutCompleted, this.props.visibleTime), this.setState({
                    visible: !0
                })
            },
            pause: function() {
                this.state.completed || this.state.paused || (clearTimeout(this._timeoutHandle), this.setState({
                    paused: !0
                }))
            },
            unpause: function() {
                this.state.completed || (clearTimeout(this._timeoutHandle), this._timeoutHandle = setTimeout(this._onTimeoutCompleted, this.props.visibleTime), this.setState({
                    paused: !1
                }))
            },
            getDefaultProps: function() {
                return {
                    visibleTime: DEFAULT_VISIBLE_TIME
                }
            },
            getInitialState: function() {
                return {
                    visible: !1,
                    paused: !1,
                    completed: !1
                }
            },
            componentWillUnmount: function() {
                clearTimeout(this._timeoutHandle)
            },
            render: function() {
                var e = "content-advisory-wrapper";
                return e += this.state.paused ? " paused" : this.state.visible ? " enter-active" : " leave-active", React.createElement("div", {
                    className: e
                }, React.createElement("div", {
                    className: "ca-background"
                }), React.createElement("div", {
                    className: "content-advisory"
                }, React.createElement("div", {
                    className: "bar"
                }), React.createElement("h4", null, this.props.rating), React.createElement("p", null, this.props.advisories)))
            }
        });
    module.exports = ContentAdvisory;


});


Requireify.register("bvui", function(e, t, n, i) {
    ! function() {
        if ("undefined" == typeof window) return null;
        var e = {};
        e.cadmium = e.cadmium || {}, e.cadmium.ui = e.cadmium.ui || {}, e.cadmium.ui.mdx = e.cadmium.ui.mdx || {}, window.netflix = window.netflix || {}, window.netflix.cadmium = window.netflix.cadmium || {}, window.netflix.cadmium.ui = {}, e.clientNotifications = window.netflix.clientNotifications, e.session = window.netflix.session, e.constants = window.netflix.constants, e.mdx = e.mdx || {}, e.mdx.ui = e.mdx.ui || {}, e.mdx.EVENTS = Object.freeze({
                mdx_init: "init",
                mdx_initerror: "initerror",
                mdx_state: "mdxstate",
                READY: "READY",
                NOT_READY: "NOT_READY",
                sessionstartresponse: "startSessionResponse",
                sessionended: "sessionended",
                messagedelivered: "messagedelivered",
                messagingerror: "messagingerror",
                pairingdeleted: "pairingdeleted",
                pairingresponse: "pairingresponse",
                regpairresponse: "regpairresponse",
                devicefound: "devicefound",
                devicelost: "devicelost",
                remoteDeviceReady: "remoteDeviceReady",
                pairingtimeout: "pairingtimeout",
                sessiontimeout: "sessiontimeout",
                heartbeat: "heartbeat"
            }), e.mdx.bootstrap = function() {
                function t() {
                    u = !0;
                    var e, t = document.documentElement,
                        i = document.createElement("script");
                    if ("undefined" == typeof Requireify) return void(u = !1);
                    e = Requireify.require("js/utils/player/playerAssets.js"), e.initializeMDXURL(), i.src = window.netflix.constants.page.merchMdxJs;
                    var o = a.fromEvent(i, "load");
                    o.take(1).doAction(l, l, n).subscribe(l, l), t.appendChild(i)
                }

                function n() {
                    d = !0, i()
                }

                function i() {
                    function t() {
                        c || r.init(function(t) {
                            t.success ? (e.player = window.netflix.player, e.player.nccp = t.nccp, e.player.mdx = t.mdx, window.netflix.initMdx(e), e.mdx.Manager.INSTANCE.start(), c = !0) : s.log("init error", t.error)
                        })
                    }
                    var n = e.cadmium,
                        o = n.objects.videoPlayer(),
                        r = n.objects.videoSession(),
                        s = n.logging,
                        a = n.UiEvents,
                        l = n.objects;
                    if (null != o) l.videoPlayerLoaded() ? t() : o.addEventListener("loaded", function() {
                        t()
                    });
                    else {
                        var u = function() {
                            i()
                        };
                        a.addEventListener(a.knownEvents.NEW_PLAYER_CREATED, u)
                    }
                }

                function o() {
                    if (chrome.cast && chrome.cast.isAvailable) u || t();
                    else {
                        window.__onGCastApiAvailable = function(e, n) {
                            u || (e ? t() : console.log(n))
                        };
                        var e = document.getElementsByTagName("script")[0],
                            n = document.createElement("script");
                        n.src = "https://www.gstatic.com/cv/js/sender/v1/cast_sender.js", e.parentNode.insertBefore(n, e)
                    }
                }

                function r(e) {
                    "complete" === document.readyState && (clearTimeout(m), document.removeEventListener("readystatechange", r), o())
                }

                function s() {
                    e.mdx.Manager && e.mdx.Manager.INSTANCE.stop(), c = !1
                }
                var a = Rx.Observable,
                    l = function() {},
                    u = !1,
                    d = !1,
                    c = !1;
                if (navigator.userAgent.toLowerCase().indexOf("chrome") >= 0 && navigator.userAgent.indexOf("Edge/") < 0) {
                    var m = setTimeout(function() {
                        document.removeEventListener("readystatechange", r), o()
                    }, 1e3);
                    document.addEventListener("readystatechange", r)
                }
                return {
                    readyToInit: function() {
                        return d && u
                    },
                    tryInitMdx: i,
                    deinitMdx: s
                }
            }(), e.cadmium.util = function() {
                function e(e) {
                    var t;
                    for (t in e)
                        if (e.hasOwnProperty(t)) return !1;
                    return !0
                }

                function t(e) {
                    return Array.isArray ? Array.isArray(e) : "[object Array]" === Object.prototype.toString.call(e)
                }

                function n(e) {
                    return "[object Object]" === Object.prototype.toString.call(e)
                }

                function i(e, t, n) {
                    e = e || {}, t = t || {}, n = n || {};
                    for (var i in e) !n.hasOwnProperty(i) && e.hasOwnProperty(i) && (t[i] = e[i]);
                    return t
                }

                function o(e, t, n) {
                    try {
                        return e.apply(t, n)
                    } catch (i) {
                        return i
                    }
                }

                function r(e) {
                    return e = e || document, e.querySelector("[dir=rtl]") ? "right" : "left"
                }

                function s(e, t) {
                    return l.getData(e, t)
                }
                window.Requireify = window.Requireify || {
                    require: function() {
                        return {
                            stub: !0
                        }
                    }
                };
                var a = Requireify.require("nf-ardbeg"),
                    l = Requireify.require("js/utils/contextData.js");
                return {
                    isEmptyObject: e,
                    isArray: t,
                    isObject: n,
                    mix: i,
                    NOOP: function() {},
                    tryCatch: o,
                    isRTL: r,
                    getContextData: s,
                    ab: !a.stub && a.evaluate(s("ab", "serializedAB")),
                    _: Requireify.require("lodash"),
                    EventBus: Requireify.require("js/reactMixins/eventBus.js")
                }
            }(),
            function() {
                "use strict";
                var t = e.cadmium.util.NOOP;
                Rx.Observable.fromEvent || (Rx.Observable.fromEvent = function(e, t) {
                    return Rx.Observable.create(function(n) {
                        function i() {
                            n.onNext.apply(n, arguments)
                        }
                        return e.addEventListener(t, i),
                            function() {
                                e.removeEventListener(t, i)
                            }
                    })
                }), Rx.Observable.prototype.filter || (Rx.Observable.prototype.filter = Rx.Observable.prototype.where), Rx.Observable.prototype.map || (Rx.Observable.prototype.map = function(e, t) {
                    return Rx.Observable.prototype.select.call(t || this, e)
                }), Rx.Observable["throw"] || (Rx.Observable["throw"] = Rx.Observable.throwException), Rx.Observable.flatMap || (Rx.Observable.prototype.flatMap = Rx.Observable.prototype.selectMany), Rx.Observable["return"] || (Rx.Observable["return"] = Rx.Observable.returnValue), Rx.Observable.wrap || (Rx.Observable.wrap = function(e) {
                    return 0 === arguments.length ? Rx.Observable.empty() : e instanceof Rx.Observable ? e : e instanceof Error ? Rx.Observable["throw"](e) : Rx.Observable.create(function(n) {
                        return n.onNext(e), n.onCompleted(), t
                    })
                }), Rx.Observable["catch"] || (Rx.Observable["catch"] = Rx.Observable.catchException), Rx.Observable.prototype["catch"] || (Rx.Observable.prototype["catch"] = Rx.Observable.prototype.catchException), Rx.Observable.prototype.share || (Rx.Observable.prototype.share = function() {
                    return this.publish().refCount()
                }), Rx.Observable.prototype.shareValue || (Rx.Observable.prototype.shareValue = function(e) {
                    return this.publishValue(e).refCount()
                }), Rx.Observable.prototype.shareReplay || (Rx.Observable.prototype.shareReplay = function(e, t, n) {
                    return this.replay(null, e, t, n).refCount()
                }), Rx.Observable.prototype.retryWithBackoff = function(e, t) {
                    e = e || 5, t = t || 1e3;
                    var n = this,
                        i = t,
                        o = 1,
                        r = Rx.Observable.defer(function() {
                            return Rx.Observable.timer(i).flatMap(function() {
                                return i = Math.pow(2, o++) * t, n
                            })
                        });
                    return this["catch"](r.retry(e))
                }
            }(), e.cadmium.animate = function() {
                "use strict";

                function e(e) {
                    "opacity" == e.propertyName && window.getComputedStyle(e.target).opacity < .1 && e.currentTarget.classList.add(i)
                }

                function t(t) {
                    t.removeEventListener(r, e, !1), t.addEventListener(r, e, !1), t.classList.add(o)
                }

                function n(t) {
                    t.removeEventListener(r, e, !1), t.classList.remove(i), requestAnimationFrame(function() {
                        t.classList.remove(o)
                    })
                }
                var i = "display-none",
                    o = "opacity-transparent",
                    r = "transitionend";
                return {
                    fadeIn: n,
                    fadeOut: t
                }
            }(),
            function() {
                var t = !1,
                    n = /\b_super\b/,
                    i = function(e, t) {
                        return function() {
                            var n, i = this._super;
                            return this._super = t, n = e.apply(this, arguments), this._super = i, n
                        }
                    };
                e.cadmium.Class = function() {}, e.cadmium.Class.extend = function(e) {
                    var o, r, s, a, l, u, d, c = this.prototype,
                        m = n,
                        p = i;
                    t = !0, o = new this, t = !1;
                    for (r in e)
                        if (e.hasOwnProperty(r)) {
                            if (s = e.__lookupGetter__(r), a = e.__lookupSetter__(r), s || a) {
                                s && o.__defineGetter__(r, s), a && o.__defineSetter__(r, a);
                                continue
                            }
                            l = e[r], o[r] = "function" == typeof l && "function" == typeof(u = c[r]) && m.test(l) ? p(l, u) : l
                        }
                    return d = function() {
                        !t && this.init && this.init.apply(this, arguments)
                    }, d.prototype = o, d.constructor = d, d.extend = arguments.callee, d
                }
            }(), e.cadmium.browser = function() {
                function e() {
                    var e = n.lowercase;
                    if ("ms" === e) {
                        var t = window.innerHeight === screen.height,
                            i = !1,
                            o = "#metroForce" === window.location.hash;
                        try {
                            i = !!new ActiveXObject("htmlfile")
                        } catch (r) {}
                        return t && !i || o
                    }
                    return !1
                }
                var t = !1,
                    n = function() {
                        var e = window.getComputedStyle(document.documentElement, ""),
                            t = Array.prototype.slice.call(e).join("").match(/-(moz|webkit|ms)-/)[1],
                            n = "WebKit|Moz|MS|O".match(new RegExp("(" + t + ")", "i"))[1];
                        return {
                            dom: n,
                            lowercase: t,
                            css: "-" + t + "-",
                            js: t[0].toUpperCase() + t.substr(1)
                        }
                    }(),
                    i = Object.freeze({
                        pen: "pen",
                        mouse: "mouse",
                        touch: "touch"
                    });
                return function() {
                    var e = "data:image/webp;base64,UklGRkoAAABXRUJQVlA4WAoAAAAQAAAAAAAAAAAAQUxQSAwAAAABBxAR/Q9ERP8DAABWUDggGAAAADABAJ0BKgEAAQADADQlpAADcAD++/1QAA==",
                        n = new Image;
                    n.onload = function(e) {
                        t = "load" === e.type && 1 === n.width
                    }, n.onerror = function(e) {
                        t = !1
                    }, n.src = e
                }(), {
                    prefix: function() {
                        return n
                    },
                    pointerTypes: i,
                    isMetroMode: e,
                    supportsWebP: function() {
                        return t
                    }
                }
            }(), e.cadmium.customerEvents = function() {
                var t = "/LogCustomerEvent",
                    n = function(e, t) {
                        if (!e) return "";
                        var n = 0,
                            i = [];
                        for (var o in e) e.hasOwnProperty(o) && (0 !== n && i.append(t), i.append(encodeURIComponent(o)), i.append("="), i.append(encodeURIComponent(e[o])), n++);
                        return i.join("")
                    },
                    i = function(i, o, r, s) {
                        var a = {
                            legacy: !1,
                            authURL: e.cadmium.objects.initParams().xsrfToken
                        };
                        "number" == typeof i ? a.eventId = i : "string" == typeof i && (a.custEventDef = i), o && (a.eventData = n(o, ",")), r && (a.trackId = r);
                        var l = new XMLHttpRequest;
                        l.onreadystatechange = function() {
                            4 === l.readyState && "200" === l.status && s && s(l.response)
                        }, l.open("GET", t + "?" + n(a, "&"), !0), l.send()
                    };
                return {
                    send: i
                }
            }(), Function.prototype.debounce = function(e, t) {
                var n, i = this;
                return function() {
                    function o() {
                        t || i.apply(r, s), n = null
                    }
                    var r = this,
                        s = arguments;
                    n ? clearTimeout(n) : t && i.apply(r, s), n = setTimeout(o, e || 100)
                }
            }, e.cadmium.dom = function() {
                "use strict";
                for (var e = ["DIV", "P", "LI", "UL", "SPAN", "IMG", "H1", "H2", "H3", "SECTION", "A", "BUTTON", "INPUT"], t = {}, n = function(e, t) {
                        if (void 0 !== t && null !== t)
                            if (t.nodeType) e.appendChild(t);
                            else if ("string" == typeof t || "number" == typeof t) {
                            var i = document.createTextNode(t);
                            e.appendChild(i)
                        } else if (t.constructor === Array)
                            for (var o = 0; o < t.length; o++) n(e, t[o]);
                        else
                            for (var r in t) t.hasOwnProperty(r) && e.setAttribute(r, t[r])
                    }, i = function(e) {
                        return function() {
                            for (var t = arguments.length, i = document.createElement(e), o = 0; t > o; o++) {
                                var r = arguments[o];
                                n(i, r)
                            }
                            return i
                        }
                    }, o = 0; o < e.length; o++) t[e[o]] = i(e[o]);
                return t.get = i, t
            }(), e.cadmium.element = function() {
                "use strict";

                function e() {
                    return null !== c ? c : (c = t("img"), c.src = "data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==", c)
                }

                function t(e, t, n) {
                    var i = document.createElement(e);
                    return t && (t.id && (i.id = t.id), t["class"] && (i.className = t["class"])), n && n.appendChild(i), i
                }

                function n(e) {
                    var t = function(e) {
                            var t = window.getComputedStyle(e);
                            return "visible" === t.visibility && parseInt(t.opacity) >= 1
                        },
                        n = t(e);
                    if (!n) return !1;
                    for (; e = e.offsetParent;)
                        if (!t(e)) {
                            n = !1;
                            break
                        }
                    return n
                }

                function i(e) {
                    var t = e.getBoundingClientRect();
                    return {
                        x: t.left,
                        y: t.top,
                        w: t.width,
                        h: t.height
                    }
                }

                function o(e) {
                    function t(e) {
                        e && e.parentNode && e.parentNode.removeChild(e)
                    }
                    if (e && e.length > 0)
                        for (var n = e.length, i = 0; n > i; ++i) t(e[i]);
                    else e && t(e)
                }

                function r(e, t) {
                    return [t.x - e.x, t.y - e.y]
                }

                function s(e, t, n, i) {
                    return l(n, i, r(t, e))
                }

                function a(e, t, n, i) {
                    return l(r(t, i), r(t, n), r(t, e))
                }

                function l(e, t, n) {
                    function i(e, t) {
                        return e[0] * t[0] + e[1] * t[1]
                    }
                    var o = i(e, e),
                        r = i(e, t),
                        s = i(e, n),
                        a = i(t, t),
                        l = i(t, n),
                        u = 1 / (o * a - r * r),
                        d = (a * s - r * l) * u,
                        c = (o * l - r * s) * u;
                    return d >= 0 && c >= 0 && 1 > d + c
                }

                function u(e, t) {
                    var n;
                    if (!(e.w / e.h > 4 / 3)) return "0";
                    var i = e.w - 4 * e.h / 3,
                        o = e.h / t;
                    return n = "-" + i / 2 / o + "em"
                }

                function d(e, t) {
                    function n(t) {
                        return parseInt(getComputedStyle(e).getPropertyValue(t), 10)
                    }
                    if (t = t || {}, e instanceof Element) {
                        var i = n("line-height") || n("font-size"),
                            o = t.maxLines,
                            r = i * o,
                            s = e.getBoundingClientRect().height;
                        if (!(isNaN(s) || isNaN(r) || r >= s)) {
                            var a = e.textContent.replace(/\s{2,}/g, " ").split(" "),
                                l = a.length;
                            t.isClamped ? a.splice(l - 2, 1) : (a.pop(), a.push("&hellip;"), t.isClamped = !0), e.innerHTML = a.join(" "), d(e, t)
                        }
                    }
                }
                var c = null;
                return {
                    getTransparentImage: e,
                    create: t,
                    getDimensions: i,
                    intendsToBeVisible: n,
                    remove: o,
                    vector: r,
                    isPointInCachedTriangle: s,
                    isPointInTriangle: a,
                    calcScaledScreenOffset: u,
                    limitLinesOfText: d,
                    classNames: Object.freeze({
                        visible: "player-visible",
                        active: "player-active",
                        hidden: "player-hidden",
                        animate: "player-animate"
                    })
                }
            }(),
            function() {
                var t = e.cadmium;
                t.Eventable = t.Class.extend({
                    init: function() {
                        this.events = {}
                    },
                    addEventListener: function(e, t, n) {
                        var i = {
                            handler: t,
                            scope: n
                        };
                        this.events.hasOwnProperty(e) ? this.events[e].push(i) : this.events[e] = [i]
                    },
                    removeEventListener: function(e, t, n) {
                        if (this.events.hasOwnProperty(e))
                            for (var i = 0; i < this.events[e].length; i++) {
                                var o = this.events[e][i];
                                if (o.handler == t && o.scope == n) return void this.events[e].splice(i, 1)
                            }
                    },
                    fireEvent: function(e, t) {
                        if (this.events.hasOwnProperty(e)) {
                            t && t.length || (t = []);
                            for (var n = this.events[e].slice(0), i = n.length, o = 0; i > o; o++) n[o].handler && n[o].handler.apply(n[o].scope, t)
                        }
                    }
                })
            }(), e.cadmium.logging = function() {
                "use strict";

                function t(t, n) {
                    n = Array.prototype.slice.call(n);
                    var i = window.netflix.player && window.netflix.player.log,
                        o = e.cadmium.objects;
                    i && o && o.videoSession() && i[t].apply(i, n)
                }
                var n = /logging=true/.test(window.location.search),
                    i = "trace",
                    o = "info",
                    r = "error";
                return {
                    log: function() {
                        n && window.console && console.log.apply(console, arguments), t(i, arguments)
                    },
                    info: function() {
                        n && window.console && console.info.apply(console, arguments), t(o, arguments)
                    },
                    error: function() {
                        n && window.console && console.error.apply(console, arguments), t(r, arguments)
                    },
                    uilog: function() {
                        n && window.console && console.log.apply(console, arguments), t(i, arguments)
                    },
                    onErrorLogger: function() {
                        var e, i;
                        arguments.length > 1 ? (i = arguments[0], e = arguments[1], i = i + "\n" + (e && e.stack || e)) : (e = arguments[0], i = e && e.stack || e), n && console.error(e), t(r, i)
                    }
                }
            }(), e.cadmium.time = function() {
                function t(t, n, o, r) {
                    var s = i(t),
                        a = function(e) {
                            return n && 10 > e ? "0" + e : e
                        },
                        l = function(t) {
                            return e.I18n.getWithParams(t, ["H", "M", "S"], [s.h, a(s.m), a(s.s)])
                        };
                    return l(s.h > 0 ? s.m > 0 ? s.s > 0 && !o ? r + "-hours-minutes-seconds" : r + "-hours-minutes" : s.s && !o > 0 ? r + "-hours-seconds" : r + "-hours" : s.m > 0 ? s.s > 0 && !o ? r + "-minutes-seconds" : r + "-minutes" : r + "-seconds")
                }

                function n(e) {
                    var t = "",
                        n = i(e);
                    return n.h > 0 && (t = n.h + ":", n.m < 10 && (t += "0")), t += n.m + ":", t + (n.s >= 10 ? n.s : "0" + n.s)
                }

                function i(e) {
                    var t = parseInt(e),
                        n = 0,
                        i = 0;
                    return t > 3600 && (n = parseInt(t / 3600), t %= 3600), t > 60 && (i = parseInt(t / 60), t %= 60), {
                        h: n,
                        m: i,
                        s: t
                    }
                }

                function o(e, t) {
                    return t = t || 10, Math.max(0, (e / t >> 0) * t)
                }
                return {
                    convert: n,
                    convertUsingKey: t,
                    getFloored: o
                }
            }(), e.cadmium.url = function() {
                function t() {
                    var e, i;
                    e = location.search.substr(1), i = e.indexOf("#"), i >= 0 && (e = e.substr(0, i));
                    var o = n(e);
                    return t = function() {
                        return o
                    }, o
                }

                function n(e) {
                    for (var t, n = /[+]/g, i = (e || "").split("&"), o = {}, r = 0; r < i.length; r++) e = w(i[r]), t = e.indexOf("="), t >= 0 ? o[decodeURIComponent(e.substr(0, t).replace(n, "%20")).toLowerCase()] = decodeURIComponent(e.substr(t + 1).replace(n, "%20")) : o[e.toLowerCase()] = null;
                    return o
                }

                function i(e) {
                    return e instanceof RegExp ? e.test(window.location.search) : !1
                }

                function o(t, n, i) {
                    if (n = parseInt(n, 10), e.cadmium.ui.master.isAkira()) {
                        var o = n + (i ? "?trackId=" + i : ""),
                            r = {};
                        r[t] = n, r.trackId = r.trackingId = i, history.replaceState(r, "", o)
                    } else {
                        var s = t === u.EPISODE_ID ? g : f;
                        s(n), i && m(u.TRACK_ID, i)
                    }
                }

                function r() {
                    var e = window.history.state || {};
                    if (e.videoId || e.episodeId) return e;
                    var t = +h(u.EPISODE_ID),
                        n = +h(u.VIDEO_ID),
                        i = +h(u.TRACK_ID) || 0;
                    return (t || n) && (e = {}, e[t ? "episodeId" : "videoId"] = t || n, e.trackId = e.trackingId = i), e
                }

                function s() {
                    if (!l) {
                        var t;
                        t = e && e.cadmium && e.cadmium.objects && e.cadmium.objects.initParams() && e.cadmium.objects.initParams().apiUrl ? e.cadmium.objects.initParams().apiUrl.replace("http://", "https://") : "https://" + location.hostname + "/api", l = t
                    }
                    return l
                }
                var a, l, u = Object.freeze({
                        EPISODE_ID: "episodeId",
                        VIDEO_ID: "videoId",
                        COMMENTARY_PREFERRED: "commentaryPreferred",
                        TRACK_ID: "trackId",
                        BOOKMARK: "t"
                    }),
                    d = {},
                    c = function() {
                        var e = window.location.hash;
                        return e.length > 0 && "#" === e[0] && (e = e.substring(1)), e
                    },
                    m = function(e, t) {
                        var n = c();
                        n !== a && v(), d[e] = t, E()
                    },
                    p = function(e) {
                        delete d[e], E()
                    },
                    h = function(e) {
                        var t = c();
                        return t !== a && (a = t, v()), d[e]
                    },
                    v = function() {
                        d = {};
                        var e = c();
                        if (e.length > 0)
                            for (var t = e.split("&"), n = 0; n < t.length; n++) {
                                var i = t[n].split("=");
                                d[i[0]] = i[1]
                            }
                    },
                    E = function() {
                        var e = "";
                        for (var t in d) d.hasOwnProperty(t) && (e = e + t + "=" + d[t] + "&");
                        e.length > 0 && (e = e.substring(0, e.length - 1)), (a || e) && (a = e, window.location.hash = e)
                    },
                    f = function(e) {
                        b(), m(u.VIDEO_ID, e)
                    },
                    g = function(e) {
                        b(), m(u.EPISODE_ID, e)
                    },
                    b = function() {
                        p(u.EPISODE_ID), p(u.VIDEO_ID), p(u.BOOKMARK)
                    },
                    _ = function(e, t) {
                        e += "?";
                        for (var n in t) t.hasOwnProperty(n) && (e += n + "=" + t[n] + "&");
                        return e.substr(0, e.length - 1)
                    },
                    y = function(e) {
                        var t = /^(?:([A-Za-z]+):)?(\/{0,3})([0-9.\-A-Za-z]+)(?::(\d+))?(?:\/([^?#]*))?(?:\?([^#]*))?(?:#(.*))?$/,
                            n = t.exec(e);
                        return n[1] + ":" + n[2] + n[3]
                    },
                    w = function() {
                        var e = /^\s+|\s+$/gm;
                        return function(t) {
                            return t.replace(e, "")
                        }
                    }();
                return {
                    setNextVideo: o,
                    getNextVideo: r,
                    addHash: m,
                    getHash: h,
                    addVideoIDHash: f,
                    addEpisodeIDHash: g,
                    removeHash: p,
                    constructUrl: _,
                    getOriginFromUrl: y,
                    getQueryString: t,
                    urlContains: i,
                    CONSTANTS: u,
                    getSecureApiPath: s
                }
            }(), e.cadmium.xhr = function() {
                "use strict";

                function t(e) {
                    return e = e || {}, Rx.Observable.create(function(t) {
                        function i() {
                            t.onNext(s), t.onCompleted()
                        }

                        function o() {
                            t.onError(s)
                        }
                        var s = new XMLHttpRequest,
                            a = e.url,
                            l = e.method,
                            u = e.headers,
                            d = e.data || null;
                        s.onload = function() {
                            var e = s.status;
                            e && e >= 200 && 300 > e ? i() : o()
                        }, s.onerror = o, s.open(l, a, !0), r(e, s), n(s, u);
                        try {
                            s.send(d)
                        } catch (c) {
                            t.onError(c)
                        }
                        return function() {
                            s && 4 !== s.readyState && s.abort()
                        }
                    })
                }

                function n(e, t) {
                    if (!e || !t) return e;
                    for (var n in t) e.setRequestHeader(n, t[n]);
                    return e
                }

                function i(e) {
                    function t(e, t) {
                        r.push(encodeURIComponent(e) + "=" + encodeURIComponent(t))
                    }
                    var n, i, r = [];
                    if (l.isObject(e))
                        for (n in e) e.hasOwnProperty(n) && o(n, e[n], t);
                    else
                        for (n in e) e.hasOwnProperty(n) && t(n, e[n]);
                    return i = 0 === r.length ? "" : r.join("&").replace(/%20/g, "+")
                }

                function o(e, t, n) {
                    var i = /\[\]$/;
                    if (l.isArray(t)) t.forEach(function(t, r) {
                        i.test(e) ? n(e, r) : o(e + "[" + (l.isObject(r) || l.isArray(r) ? t : "") + "]", r, n)
                    });
                    else if (l.isObject(t))
                        for (var r in t) t.hasOwnProperty(r) && o(e + "[" + r + "]", t[r], n);
                    else n(e, t)
                }

                function r(e, t) {
                    e = e || {}, t = t || {};
                    var n, i = function(e) {
                        return "requestType" === e || "withCredentials" === e
                    };
                    for (n in e) e.hasOwnProperty(n) && i(n) && (t[n] = e[n]);
                    return t
                }

                function s(n, o) {
                    o = o || {}, e.constants && e.constants.page && e.constants.page.xsrf && o.data && (o.data.authURL = e.constants.page.xsrf);
                    var r = i(o.data),
                        s = {
                            method: "GET",
                            responseType: "json"
                        };
                    return r ? s.url = n + "?" + r : s.url = n, l.mix(o, s, {
                        data: !0
                    }), t(s).map(function(e) {
                        var t = e.response;
                        return "string" == typeof t && (t = JSON.parse(t)), t
                    })
                }

                function a(e, n) {
                    n = n || {};
                    var o = {
                        url: e,
                        method: "POST",
                        requestType: "json"
                    };
                    return l.mix(n, o, {
                        data: !0
                    }), n.data && (o.headers = o.headers || {}, window.netflix.contextData && window.netflix.contextData.userInfo && window.netflix.contextData.userInfo.data && window.netflix.contextData.userInfo.data.authURL && (n.data.authURL = window.netflix.contextData.userInfo.data.authURL), n.urlEncoded ? (o.headers["Content-Type"] = "application/x-www-form-urlencoded", o.data = i(n.data)) : (o.headers["Content-Type"] = "application/json", o.data = JSON.stringify(n.data))), t(o).map(function(e) {
                        var t = e.response;
                        return "string" == typeof t && t && (t = JSON.parse(t)), t
                    })
                }
                var l = e.cadmium.util;
                return {
                    get: s,
                    post: a
                }
            }(), e.cadmium.popup = function() {
                function t(e) {
                    return e = e || {}, !l || l.closed || e.url !== u ? i(e) : l.focus(), h
                }

                function n() {
                    p && p.onNext(), l && l.close(), l = null, u = null, d = null, c = null, m = null, p = null, h = null
                }

                function i(e) {
                    n(), u = e.url, d = e.name, c = o(e.features), p = new Rx.Subject;
                    var t = r(c);
                    l = window.open(u, d, t), m = E.getOriginFromUrl(u), s()
                }

                function o(e) {
                    var t, n, i, o = e.width || 300,
                        r = e.height || 200,
                        s = screen.availTop,
                        a = screen.availLeft,
                        l = {
                            width: o,
                            height: r
                        },
                        u = {};
                    return e.centered && (t = document.body.getBoundingClientRect(), n = t.width, i = t.height, l.top = i / 2 - r / 2 + s, l.left = n / 2 - o / 2 + a), v.mix(e, u, {
                        centered: !0
                    }), v.mix(l, u)
                }

                function r(e) {
                    var t, n = "";
                    for (var i in e) e.hasOwnProperty(i) && (t = e[i], t === !0 ? t = "yes" : t === !1 ? t = "no" : t += "", n += (n.length ? "," : "") + i + "=" + t);
                    return n
                }

                function s() {
                    l && !l.closed && (h = Rx.Observable.fromEvent(window, "message").takeUntil(p).filter(a))
                }

                function a(e) {
                    return e && e.origin === m
                }
                var l, u, d, c, m, p, h, v = e.cadmium.util,
                    E = e.cadmium.url;
                return {
                    open: t,
                    close: n
                }
            }(),
            function() {
                "use strict";

                function t() {
                    for (var e, t = "", n = [], i = 0; i < arguments.length; i++) {
                        if (e = arguments[i], "string" != typeof e) {
                            n = [t, e];
                            break
                        }
                        t && (t += ": "), t += e
                    }
                    return n.length ? n : [t]
                }
                var n = e.cadmium,
                    i = n.logging,
                    o = n.Class,
                    r = o.extend({
                        init: function(e) {
                            this._namespace = e
                        },
                        log: function() {
                            this._logit("log", arguments)
                        },
                        error: function() {
                            this._logit("error", arguments)
                        },
                        info: function() {
                            this._logit("info", arguments)
                        },
                        getErrorHandler: function(e) {
                            var n = this;
                            return function(i) {
                                n.error.apply(n, t(n._namespace, e, i && i.stack || i))
                            }
                        },
                        _logit: function(e, n) {
                            Array.prototype.unshift.call(n, this._namespace), i[e].apply(i, t.apply(null, n)), "error" === e && console.error.apply(console, n)
                        }
                    });
                r.create = function(e) {
                    return new r(e)
                }, n.Logger = r
            }(),
            function() {
                "use strict";

                function t() {
                    return l().getActiveVideo && l().getActiveVideo() || {}
                }

                function n() {
                    var e = a().initParams && a().initParams();
                    return !(!e || !e.enableTrickPlay)
                }

                function i(e) {
                    return n() ? o(e) : r(e)
                }

                function o(e) {
                    var t = a().videoPlayer && a().videoPlayer(),
                        n = t && t.getTrickPlayFrame(e),
                        i = n && n.image;
                    if (i) try {
                        return URL.createObjectURL(new Blob([i], {
                            type: "image/jpeg"
                        }))
                    } catch (o) {
                        return u.log(o && o.stack || o), null
                    }
                    return null
                }

                function r(e) {
                    var n, i = e / 1e3,
                        o = t().progressImageRoot,
                        r = null;
                    return o && (n = i / 10, r = o + d.substring((n + "").length) + n + ".jpg"), r
                }

                function s(e, t, o) {
                    var r = i(t);
                    r && e ? (e.src = r, n() ? e.onload = function() {
                        window.URL.revokeObjectURL(this.src), o && o(!0)
                    } : o && o(!0)) : o && o(!1)
                }

                function a() {
                    return e.cadmium && e.cadmium.objects || {}
                }

                function l() {
                    return e.cadmium && e.cadmium.metadata || {}
                }
                var u = e.cadmium.Logger.create("trickplay"),
                    d = "00000";
                e.cadmium.trickplay = {
                    getImageUrlAtTime: i,
                    setImageTagSourceAtTime: s
                }
            }(),
            function() {
                "use strict";
                var t = e.cadmium;
                t.mixins = {
                    mixin: function(e, t, n) {
                        (n || Object.keys(t)).forEach(function(n) {
                            e[n] = t[n]
                        })
                    },
                    ui: {}
                }
            }(), e.cadmium.MutationUtils = function() {
                "use strict";

                function e(e, t) {
                    return window.MutationObserver ? Rx.Observable.create(function(n) {
                        var i;
                        return i = new window.MutationObserver(function(e) {
                                n.onNext(e)
                            }), i.observe(e, t),
                            function() {
                                i.disconnect()
                            }
                    }) : Rx.Observable.empty()
                }

                function t(t, n) {
                    return t && n ? e(t, {
                        childList: !0,
                        subtree: !1
                    }).flatMap(function(e) {
                        return Rx.Observable.fromArray(e)
                    }).filter(function(e) {
                        return e.addedNodes && e.addedNodes.length
                    }).flatMap(function(e) {
                        return Rx.Observable.fromArray([].slice.call(e.addedNodes))
                    }).filter(function(e) {
                        return n.some(function(t) {
                            return e !== t
                        })
                    }).doAction(function(e) {
                        e && e.remove()
                    }) : Rx.Observable["throw"]("Must provide a target element and whitelist.")
                }
                return {
                    createMutationObserver: e,
                    observeAndRemoveUnsafeNodes: t
                }
            }(),
            function() {
                "use strict";
                var t = e.cadmium,
                    n = t.Eventable.extend({
                        knownEvents: Object.freeze({
                            SHOW_MENU: "showmenu",
                            HIDE_MENU: "hidemenu",
                            METADATA_LOADED: "metadata-loaded",
                            SHOWN_TRICKPLAY_PREVIEW: "trickplay-shown",
                            HIDDEN_TRICKPLAY_PREVIEW: "trickplay-hidden",
                            CINEMA_MODE_ENTER: "cinema-enter",
                            CINEMA_MODE_EXIT: "cinema-exit",
                            KEYBOARD_SEEK_ENTER: "keyboard-seek-enter",
                            DRAG_MODE_ENTER: "drag-enter",
                            FORCE_SHOW_MENU: "force-show-menu",
                            REMOVE_FORCE_SHOW_MENU: "remove-force-show-menu",
                            DRAG_START_SCRUBBER: "drag-start-scrubber",
                            DRAG_FINISH_SCRUBBER: "drag-finish-scrubber",
                            AUTOPLAY_NEXT_EPISODE: "autoplay-next-episode",
                            SHOW_AUTOPLAY_INTERRUPTER: "show-autoplay-interrupter",
                            HIDE_AUTOPLAY_INTERRUPTER: "hide-autoplay-interrupter",
                            STOP_AUTOPLAY_TIMER: "stop-autoplay-timer",
                            START_AUTOPLAY_TIMER: "start-autoplay-timer",
                            FULLSCREEN_CHANGE: "fullscreenchange",
                            PAUSE_TOGGLED: "pause-toggled",
                            INCOGNITO_CHANGED: "incognito-changed",
                            VIDEO_FIRST_PLAY: "videoFirstPlay",
                            VIDEO_ENDED: "VideoEnded",
                            VIDEO_POSTPLAY_ENTER: "videoPostplayEnter",
                            NEW_PLAYER_CREATED: "playerCreated",
                            NEW_PLAYER_DOM_CREATED: "playerDomCreated",
                            MDX_LOADED: "mdxLoaded",
                            WINDOW_RESIZE: "resize",
                            ERROR: "ui-error",
                            SHUTDOWN: "ui-shutdown"
                        }),
                        init: function() {
                            this._super()
                        },
                        destroy: function() {
                            this.events = {}
                        }
                    });
                e.cadmium.UiEvents = new n, window.netflix.cadmium = window.netflix.cadmium || {}, window.netflix.cadmium.UiEvents = {
                    addEventListener: e.cadmium.UiEvents.addEventListener,
                    events: e.cadmium.UiEvents.events,
                    removeEventListener: e.cadmium.UiEvents.removeEventListener,
                    knownEvents: e.cadmium.UiEvents.knownEvents
                }
            }(),
            function() {
                "use strict";

                function t(e, t) {
                    return "function" != typeof e ? void a.error("Handler is not a function.") : void(t ? c.unshift(e) : c.push(e))
                }

                function n(e) {
                    c.forEach(function(t, n) {
                        t === e && c.splice(n, 1)
                    })
                }

                function i() {
                    Rx.Observable.merge(e.cadmium.playbackShutdown, Rx.Observable.fromEvent(window, "beforeunload"), Rx.Observable.fromEvent(window, "popstate").filter(function() {
                        var e = location.pathname.toLowerCase();
                        return e.indexOf("watch") < 0 && e.indexOf("wiplayer") < 0
                    })).takeUntil(u).take(1).doAction(function(e) {
                        var t, n = {
                            isPopStateEvent: e instanceof window.PopStateEvent,
                            event: e
                        };
                        for (t = 0; t < c.length; t++) c[t](n)
                    }, r, r).subscribe(l, a.getErrorHandler("beforeUnload"), l)
                }

                function o() {
                    d && r(), d = !0, s = e.cadmium, a = s.Logger.create("UnloadActions"), l = s.util.noop, u = new Rx.Subject, i()
                }

                function r() {
                    u && u.onNext(), a = null, l = null, u = null, m = c.length, d = !1
                }
                var s, a, l, u, d = !1,
                    c = [],
                    m = 0;
                e.cadmium.playbackShutdown = e.cadmium.playbackShutdown || new Rx.Subject, e.cadmium.addBeforeUnloadHandler = t, e.cadmium.removeBeforeUnloadHandler = n, e.cadmium.unloadActions = {
                    init: o
                }
            }(), e.cadmium.playbackEvents = function() {
                "use strict";

                function t() {
                    l() && !a() && i(!0), p.fireEvent(p.knownEvents.VIDEO_ENDED)
                }

                function n() {
                    s() || i()
                }

                function i(e) {
                    T[L] = !0, p.fireEvent(p.knownEvents.VIDEO_POSTPLAY_ENTER, {
                        hidePlayer: !!e
                    })
                }

                function o() {
                    var e, t, n;
                    E || (E = Requireify.require("js/reactMixins/eventBus.js")), k.removeBeforeUnloadHandler(o), e = f && f.getCurrentTime(), E && !E.stub && c && m && (t = c.getActiveVideo(), n = m.playContext(), E.emit("logTrailerPlayEnd", {
                        startOffset: e,
                        playingVideoId: L,
                        merchedVideoId: t.merchedVideoId,
                        trackId: m.trackId(),
                        row: n.row,
                        rank: n.rank,
                        requestId: n.request_id,
                        videoId: m.videoId()
                    }))
                }

                function r() {
                    if (!C) {
                        C = !0;
                        var e, i = c.videoIsKnown(L);
                        i && (e = c.getActiveVideo(), g = e.creditsOffset || b, g && l() && x.fromEvent(f, "currenttimechanged").takeUntil(y).sample(A).filter(function() {
                            return f ? (_ = f.getCurrentTime() / 1e3, !f.getPaused() && _ >= g) : !1
                        }).doAction(n).subscribe(w, v.getErrorHandler("event|currenttimechanged"), w)), I ? x.fromEvent(f, "currenttimechanged").takeUntil(y).sample(A).filter(function() {
                            return f ? (_ = f.getCurrentTime(), _ >= b - 1500) : !1
                        }).doAction(t).subscribe(w, v.getErrorHandler("event|webkit-currenttimechanged"), w) : x.fromEvent(f, "endedchanged").takeUntil(y).filter(function() {
                            return f && f.getEnded()
                        }).doAction(t).subscribe(w, v.getErrorHandler("event|endedchanged"), w)
                    }
                }

                function s() {
                    return !!T[L]
                }

                function a() {
                    var e = m.playerWrapper();
                    return e && e.classList.contains("player-postplay") || !1
                }

                function l() {
                    var e = c.getActiveVideo() || {},
                        t = k.ui.preplay.preplayNeeded();
                    return !t && !h.getClipValues(e)
                }

                function u() {
                    P && d(), P = !0, c = k.metadata, m = k.objects, p = k.UiEvents, h = k.clips, v = k.Logger.create("playback.events"), x = Rx.Observable, v.log("init"), y = new Rx.Subject, T = {}, w = k.util.NOOP;
                    var e = x.fromEvent(p, p.knownEvents.VIDEO_FIRST_PLAY).delay(3e3),
                        t = x.fromEvent(p, p.knownEvents.METADATA_LOADED);
                    x.concat(e, t).take(1).takeUntil(y).doAction(function() {
                        L = m.videoId(), f = m.videoPlayer(), b = f.getDuration(), r()
                    }).subscribe(w, v.getErrorHandler("events|firstplay+metadataloaded"), w), t.take(1).takeUntil(y).filter(function() {
                        return c.isSupplementalVideo()
                    }).doAction(function() {
                        var e;
                        E || (E = Requireify.require("js/reactMixins/eventBus.js")), E && !E.stub && (e = m.playContext(), E.emit("logTrailerPlayStart", {
                            trackId: m.trackId(),
                            row: e.row,
                            rank: e.rank,
                            requestId: e.request_id,
                            videoId: m.videoId()
                        }), k.addBeforeUnloadHandler(o))
                    }).subscribe(w, v.getErrorHandler("events|metadataloaded"), w)
                }

                function d() {
                    y && y.onNext(), v.log("deinit"), c = null, m = null, p = null, x = null, h = null, v = null, T = {}, L = null, f = null, g = null, b = null, _ = null, C = !1, y = null, w = null, E = null, P = !1
                }
                var c, m, p, h, v, E, f, g, b, _, y, w, k = e.cadmium,
                    x = Rx.Observable,
                    T = {},
                    A = 500,
                    L = null,
                    I = "webkit" === k.browser.prefix().lowercase,
                    P = !1,
                    C = !1;
                return {
                    init: u,
                    deinit: d
                }
            }(), e.cadmium.ui.errors = function() {
                "use strict";

                function t(e, t) {
                    o.fireEvent(o.knownEvents.ERROR, [n(e, t)])
                }

                function n(e, t) {
                    t = t && "-" + t || "";
                    var n, o = r + e + t,
                        l = null,
                        u = [];
                    switch (e) {
                        case s.UI_NO_METADATA:
                            u.push("ui_no_metadata");
                            break;
                        case s.UI_PLAYER_CREATION_EXCEPTION:
                            u.push("ui_player_creation_exception");
                            break;
                        case s.UI_TITLE_UNAVAILABLE:
                            n = i && i.objects && i.objects.getCountry(), a[n] ? u.push("title-unavailable-" + n) : u.push("title-unavailable");
                            break;
                        case s.UI_UNKNOWN:
                        default:
                            u.push("default")
                    }
                    return u.push(o), {
                        messageIdList: u,
                        display: {
                            code: o,
                            text: l
                        }
                    }
                }
                var i = e.cadmium,
                    o = i.UiEvents,
                    r = "UI",
                    s = Object.freeze({
                        UI_UNKNOWN: 3e3,
                        UI_NO_METADATA: 3001,
                        UI_PLAYER_CREATION_EXCEPTION: 3002,
                        UI_TITLE_UNAVAILABLE: 3003
                    }),
                    a = {
                        us: "us",
                        ca: "ca",
                        mx: "mx",
                        br: "br",
                        uk: "uk",
                        ie: "ie",
                        dk: "dk",
                        fi: "fi",
                        no: "no",
                        se: "se",
                        nl: "nl",
                        fr: "fr",
                        de: "de",
                        ch: "ch",
                        at: "at",
                        be: "be",
                        lu: "lu"
                    };
                return {
                    type: s,
                    throwUIError: t
                }
            }(), e.cadmium.cinemamode = function() {
                "use strict";

                function t() {
                    M = !0
                }

                function n() {
                    C = !1
                }

                function i() {
                    C = !0, l()
                }

                function o() {
                    H = !0
                }

                function r() {
                    H = !1
                }

                function s() {
                    var e = !1;
                    return L && C && !H ? R && (e = P && P.some(function(e) {
                        return e && e.contains(R) && b.intendsToBeVisible(R)
                    })) ? void T.log("Not entering cinema mode", {
                        lastMouseTarget: R && R.toString()
                    }) : (T.log("Entering cinema mode", {
                        lastMouseTarget: R && R.toString()
                    }), O && clearTimeout(O), M = !1, void y.fireEvent(y.knownEvents.CINEMA_MODE_ENTER)) : void T.log("Can't enter cinema mode", {
                        initialized: L,
                        cinemaModeEnabled: C,
                        modal: H
                    })
                }

                function a() {
                    L && (clearTimeout(O), y.fireEvent(y.knownEvents.CINEMA_MODE_EXIT), A.getBusy() || l())
                }

                function l() {
                    var e = k.initParams(),
                        t = x.get(e, "initparams.accessibility.cinemaModeAffordance", 15),
                        n = M ? U * t : U;
                    clearTimeout(O), O = setTimeout(s, n)
                }

                function u() {
                    clearTimeout(O), n(), I.removeEventListener("mousemove", V, !1), I.removeEventListener("mousemove", B, !1), y.removeEventListener(y.knownEvents.KEYBOARD_SEEK_ENTER, u), y.removeEventListener(y.knownEvents.DRAG_START_SCRUBBER, u), y.addEventListener(y.knownEvents.DRAG_MODE_ENTER, d), y.addEventListener(y.knownEvents.DRAG_FINISH_SCRUBBER, d)
                }

                function d() {
                    i(), l(), I.addEventListener("mousemove", V, !1), I.addEventListener("mousemove", B, !1), y.removeEventListener(y.knownEvents.DRAG_MODE_ENTER, d), y.removeEventListener(y.knownEvents.DRAG_FINISH_SCRUBBER, d), y.addEventListener(y.knownEvents.KEYBOARD_SEEK_ENTER, u), y.addEventListener(y.knownEvents.DRAG_START_SCRUBBER, u)
                }

                function c(e) {
                    9 === e.keyCode && (M = !0), a()
                }

                function m() {
                    a()
                }

                function p() {
                    L && (A.getBusy() || a())
                }

                function h(e) {
                    e && Array.isArray(e) && (P = P.concat(e))
                }

                function v() {
                    L && (T.log("cinemamode.manager.deinit"), L = !1, clearTimeout(O), I.removeEventListener("mousemove", V), I.removeEventListener("mousemove", B), document.body.removeEventListener("keydown", c), A.removeEventListener("busychanged", p), A.removeEventListener("pausedchanged", m), y.removeEventListener(w.FORCE_SHOW_MENU, n), y.removeEventListener(w.REMOVE_FORCE_SHOW_MENU, i), y.removeEventListener(w.SHOW_AUTOPLAY_INTERRUPTER, o), y.removeEventListener(w.HIDE_AUTOPLAY_INTERRUPTER, r), y.removeEventListener(w.KEYBOARD_SEEK_ENTER, u), y.removeEventListener(w.DRAG_START_SCRUBBER, u), R = null, f = null, _ = null, b = null, k = null, g = null, P = null, I = null, A = null, w = null, x = null, y = null, T.log("cinemamode.manager.deinit complete"))
                }

                function E() {
                    L && v(), L = !0, f = e.cadmium, _ = f.metadata, y = f.UiEvents, b = f.element, k = f.objects, g = f.ui, T = f.logging, w = y.knownEvents, x = f.util._, A = k.videoPlayer(), I = k.playerWrapper();
                    var t = f.url.getQueryString().trackpointerpos;
                    t && (D = "true" === t), P = [], T.log("cinemamode.manager.init", {
                        playerWrapperEl: I && I.toString()
                    }), I.addEventListener("mousemove", V, !1), I.addEventListener("mousemove", B, !1), document.body.addEventListener("keydown", c, !1), A.addEventListener("busychanged", p), A.addEventListener("pausedchanged", m), y.addEventListener(w.FORCE_SHOW_MENU, n), y.addEventListener(w.REMOVE_FORCE_SHOW_MENU, i), y.addEventListener(w.SHOW_AUTOPLAY_INTERRUPTER, o), y.addEventListener(w.HIDE_AUTOPLAY_INTERRUPTER, r), y.addEventListener(w.KEYBOARD_SEEK_ENTER, u), y.addEventListener(w.DRAG_START_SCRUBBER, u), a()
                }
                var f, g, b, _, y, w, k, x, T, A, L = !1,
                    I = null,
                    P = [],
                    C = !0,
                    O = null,
                    N = null,
                    S = null,
                    R = null,
                    D = !0,
                    M = !1,
                    H = !1,
                    U = 2200,
                    B = function(e) {
                        N = e.clientX, S = e.clientY, R = e.target
                    },
                    V = function(e) {
                        H || (D ? (e.clientX != N || e.clientY != S) && a() : a())
                    }.debounce(20, !0);
                return {
                    init: E,
                    deinit: v,
                    addExclusionEls: h,
                    disableCinemaMode: n,
                    enableCinemaMode: i,
                    setAccessibilityAffordance: t
                }
            }(), e.cadmium.metadata = function() {
                "use strict";

                function t() {
                    L = null, I = !1, P = null, y = null, w = null, k = null, x = null, T = []
                }

                function n(e) {
                    return e && e.video && e.video.type
                }

                function i(e) {
                    return I && e.video.type === C.show
                }

                function o(e) {
                    function t(e) {
                        return e.episodes.length
                    }
                    var n, i = L.video.seasons;
                    return i.forEach(function(i) {
                        return i.id === e ? t(i) : (n = i.episodes, void n.forEach(function(n) {
                            return n.id === e ? t(i) : void 0
                        }))
                    }), 0
                }

                function r(e) {
                    return c(e) && i(L) ? T.length : 0
                }

                function s(t) {
                    function o(e, t) {
                        L.video.seasons[e].episodes[t].active = !0, y = s[e], w = y.episodes[t], y.episodes[t + 1] ? (x = y, k = y.episodes[t + 1]) : s[e + 1] && (x = s[e + 1], k = x.episodes[0])
                    }
                    if (w = null, y = null, k = null, x = null, T = [], !n(L)) return void(I = !1);
                    if (I = !0, i(L)) {
                        var r, s = L.video.seasons;
                        s.forEach(function(e, n) {
                            e.id === t && o(n, 0), r = e.episodes, r.forEach(function(e, i) {
                                T.push(e.id), e.id === t ? o(n, i) : L.video.seasons[n].episodes[i].active = !1
                            })
                        })
                    } else L.video.active = !0, w = L.video, T.push(w.id);
                    var a = L.trackIds;
                    if (a) {
                        var l = e.cadmium.objects;
                        l.addInitParam("trackIdEpisodeSelector", a.episodeSelector), l.addInitParam("trackIdNextEpisode", a.nextEpisode)
                    }
                }

                function a(t, n, i) {
                    var o = +t,
                        r = e.cadmium,
                        a = r.UiEvents;
                    n && (L = n, s(o), P = o), a.fireEvent(a.knownEvents.METADATA_LOADED), r.logging.log("success loading metadata"), i && "function" == typeof i && i(L)
                }

                function l(e, t) {
                    for (var n = e.split("."), i = L, o = 0; o < n.length; o++) o == n.length - 1 ? i[n[o]] = t : i && (i = i[n[o]]);
                }

                function u(t, n, i) {
                    function o(e) {
                        e && null != e.version ? a(s, e, n) : r({
                            status: O.INVALID_METADATA
                        })
                    }

                    function r(e) {
                        I = !1, i && "function" == typeof i && i(e.status)
                    }
                    var s = +t,
                        l = e && e.cadmium && e.cadmium.objects && "function" == typeof e.cadmium.objects.initParams && e.cadmium.objects.initParams() || {};
                    if (P !== s)
                        if (c(s)) a(s, L);
                        else if (e.cadmium.ui.master.isAkira()) A || (A = Requireify.require("js/utils/player/playerMetadata.js")), A.getMetadataCall(s, window.pathEvaluator).timeout(15e3).retryWithBackoff(3, 1e3).doAction(o).subscribe(N, r, N);
                    else {
                        var u = l.metadataBaseServer || "",
                            d = u + "/WiPlayerMetadata?id=" + s + "&type=cadmium",
                            m = new XMLHttpRequest;
                        m.onload = function() {
                            var e;
                            try {
                                e = JSON.parse(m.responseText)
                            } catch (t) {}
                            e ? o(e) : r(m)
                        }, m.onerror = function() {
                            r(m)
                        }, m.open("GET", d, !0), m.withCredentials = !0, m.send()
                    } else a(s)
                }

                function d(e, t, n) {
                    t && (L = t, s(e)), t && c(e) ? a(e, t) : u(e, null, n)
                }

                function c(e) {
                    return T && T.indexOf(e) >= 0
                }

                function m() {
                    return L
                }

                function p() {
                    return w
                }

                function h() {
                    return i(L) ? y : null
                }

                function v() {
                    return i(L) ? k : null
                }

                function E() {
                    return i(L) ? x : null
                }

                function f(e, t) {
                    var n, i = 0,
                        o = null;
                    return e && e.length > 0 && e.forEach(function(e, r) {
                        n = e.h * e.w, t(n, i) && (i = n, o = r)
                    }), null !== o ? e[o] : null
                }

                function g(e) {
                    return f(e, function(e, t) {
                        return e > t
                    })
                }

                function b(e) {
                    return f(e, function(e, t) {
                        return 0 >= t || t > e
                    })
                }

                function _() {
                    return !(!L || !L.video || L.video.type !== C.supplemental)
                }
                var y, w, k, x, T, A, L = null,
                    I = !1,
                    P = null,
                    C = Object.freeze({
                        show: "show",
                        movie: "movie",
                        supplemental: "supplemental"
                    }),
                    O = Object.freeze({
                        INVALID_METADATA: 1e3
                    }),
                    N = e.cadmium.util.NOOP;
                return {
                    prepare: d,
                    setMetadata: a,
                    setMetadataField: l,
                    retrieveData: u,
                    getMetadata: m,
                    getActiveVideo: p,
                    getActiveSeason: h,
                    getTotalEpisodeCount: r,
                    getSeasonEpisodeCount: o,
                    getNextEpisode: v,
                    getNextEpisodeSeason: E,
                    getLargestImage: g,
                    getSmallestImage: b,
                    isShowData: i,
                    videoTypes: C,
                    videoIsKnown: c,
                    isSupplementalVideo: _,
                    clear: t
                }
            }(), e.cadmium.clips = function() {
                function t(t, n) {
                    return n || (n = e.cadmium.objects.initParams()), n && n.clipsMode && n.clipsMode[t]
                }
                return {
                    getClipValues: t
                }
            }(), e.cadmium.objects = function() {
                "use strict";

                function t(e) {
                    b = e || b
                }

                function n(e) {
                    e >= 0 && (_ = e)
                }

                function i() {
                    _ = 0
                }

                function o(e) {
                    k = e
                }

                function r(e) {
                    A = e
                }

                function s(e, t) {
                    A = A || {}, A[e] = t
                }

                function a(e) {
                    x = e
                }

                function l() {
                    y = null
                }

                function u(e) {
                    return null !== y ? (I.log("reusing video session"), y) : (A = e || A || {}, y = new window.netflix.player.VideoSession(A))
                }

                function d(e) {
                    y && y.applyConfig(e)
                }

                function c(e, t) {
                    if (A) {
                        if (e = parseInt(e, 10), t = parseInt(t, 10), isNaN(e) || isNaN(t)) return void I.error("Invalid params videoId=" + e + ", position=" + t);
                        A.bookmarkByMovieId = A.bookmarkByMovieId || {}, A.bookmarkByMovieId[e] = t, d(A)
                    }
                }

                function m() {
                    w.removeEventListener(O, m), T = !1
                }

                function p(i, o, r) {
                    t(i), n(o);
                    var s, a, l, u, d, c = L.UiEvents,
                        h = L.ui.errors;
                    T ? w.close(function() {
                        T = !1, p(i, o, r)
                    }) : (l = A.sessionParams || {}, u = A.authParams || {}, s = {
                        trackingId: _
                    }, a = e.cadmium.clips.getClipValues(b), a && (s.clipStart = a.start, s.clipDuration = a.duration), l.uiplaycontext = v(), I.info("Setting play context:", P, ",trackId: " + _), s.sessionParams = l, A.assistiveAudioPreferred && (u.assistiveAudioPreferred = !0), u.pinCapableClient = !(!A.pinConfig || !A.pinConfig.isEnabled), s.authParams = u, d = e.cadmium.util.tryCatch(y.createPlayer, y, [b, s]), d instanceof Error ? (I.error(d), h.throwUIError(h.type.UI_PLAYER_CREATION_EXCEPTION), r && r(new Error(h.type.UI_PLAYER_CREATION_EXCEPTION))) : (w = d, L.timedtext.create(w, A), c.fireEvent(c.knownEvents.NEW_PLAYER_CREATED), w.addEventListener("loaded", function f(e) {
                        E(!0), w.removeEventListener("loaded", f)
                    }), w.load(), w.addEventListener(O, m), T = !0, r && r(null, w)), A.isTestAccount && (window.netflix.cadmium.diagnostics = w.diagnostics))
                }

                function h(e) {
                    P = e
                }

                function v() {
                    if (A && A.playcontext && !P && (P = A.playcontext, delete A.playcontext), !P) return null;
                    var e = -99,
                        t = "unknown";
                    return {
                        row: void 0 != P.row ? P.row : e,
                        rank: void 0 != P.rank ? P.rank : e,
                        location: P.location || t,
                        request_id: P.request_id || t
                    }
                }

                function E(e) {
                    C = e, A && A.bookmarkByMovieId && delete A.bookmarkByMovieId[b]
                }

                function f(e, t) {
                    function n() {
                        e || (y = null, A = null, b = null, k = null, P = null, _ = 0, x = null, I.log("full drain")), w = null, T = !1, C = !1, I.log("drained")
                    }
                    if (t) n();
                    else try {
                        y ? y.closeAllPlayers(n) : n()
                    } catch (i) {
                        n()
                    }
                }

                function g() {
                    var t, n = L && L.ui && L.ui.master && L.ui.master.isAkira && L.ui.master.isAkira();
                    return t = n ? e && e.contextData && e.contextData.userContext && e.contextData.userContext.data && e.contextData.userContext.data.geo && e.contextData.userContext.data.geo.preferredLocale && "string" == typeof e.contextData.userContext.data.geo.preferredLocale.country && e.contextData.userContext.data.geo.preferredLocale.country.toLowerCase() || "" : e && e.constants && e.constants.page && e.constants.page.COUNTRY && "string" == typeof e.constants.page.COUNTRY && e.constants.page.COUNTRY.toLowerCase() || ""
                }
                var b, _ = 0,
                    y = null,
                    w = null,
                    k = null,
                    x = null,
                    T = !1,
                    A = null,
                    L = e.cadmium,
                    I = L.Logger.create("object.pool"),
                    P = null,
                    C = !1,
                    O = "closed";
                return window.netflix.cadmium.objects = {}, window.netflix.cadmium.objects.setPlayContext = h, window.netflix.cadmium.objects.createVideoSession = u, {
                    videoSession: function() {
                        return y
                    },
                    createVideoSession: u,
                    destroyVideoSession: l,
                    videoPlayer: function() {
                        return w
                    },
                    createVideoPlayer: p,
                    videoPlayerCreated: function() {
                        return T
                    },
                    trackId: function() {
                        return _
                    },
                    setTrackId: n,
                    clearTrackId: i,
                    videoId: function() {
                        return b
                    },
                    setVideoId: t,
                    initParams: function() {
                        return A
                    },
                    setInitParams: r,
                    addInitParam: s,
                    playerWrapper: function() {
                        return k
                    },
                    setPlayerWrapper: o,
                    videoPlayerLoaded: function() {
                        return C
                    },
                    mdxManager: function() {
                        return x
                    },
                    setMdxManager: a,
                    playContext: v,
                    setPlayContext: h,
                    overrideBookmark: c,
                    getCountry: g,
                    drain: f
                }
            }(), e.cadmium.sizing = function() {
                function t() {
                    p && (p = !1, window.removeEventListener("resize", _, !1)), h = 1, c.removeEventListener(c.knownEvents.FULLSCREEN_CHANGE, b)
                }

                function n() {
                    m && !p && (d.initParams().windowScaling && (p = !0, window.addEventListener("resize", _, !1)), c.addEventListener(c.knownEvents.FULLSCREEN_CHANGE, b), "" === s.style.fontSize || a && "" === a.style.fontSize ? setTimeout(b, f) : h = parseFloat(s.style.fontSize) || 1)
                }

                function i(t) {
                    l = e.cadmium, u = l.element, d = l.objects, c = l.UiEvents, s = t, m || (m = !0, r = u.create("div", {
                        "class": "player-sizing"
                    }, s)), n()
                }

                function o() {
                    t(), u.remove(r), m = !1, r = null, s = null, a = null, p = !1, h = 1, l = null, u = null, d = null, c = null
                }
                var r, s, a, l, u, d, c, m = !1,
                    p = !1,
                    h = 1,
                    v = 10,
                    E = 40,
                    f = 17,
                    g = "MS" === e.cadmium.browser.prefix() ? v : E,
                    b = function() {
                        var e, t = u.getDimensions(s).h,
                            n = u.getDimensions(r).h,
                            i = t / 100;
                        n > i ? (e = n / i, h /= e) : i > n && (e = i / n, h *= e), s.style.fontSize = h + "em", a && (a.style.fontSize = h + "em")
                    },
                    _ = function() {
                        b(), c.fireEvent(c.knownEvents.WINDOW_RESIZE)
                    }.debounce(g, !1);
                return {
                    init: i,
                    deinit: o,
                    start: n,
                    stop: t,
                    setMdxControlWrapperEl: function(e) {
                        a = e, a.style.fontSize = h + "em"
                    },
                    clearMdxControlWrapperEl: function() {
                        a = null
                    }
                }
            }(), e.cadmium.fullscreen = function() {
                "use strict";

                function t() {
                    var t = e.cadmium.objects.playerWrapper();
                    return t ? t.msRequestFullscreen ? document.msFullscreenElement : void 0 !== document.webkitIsFullScreen ? document.webkitIsFullScreen : void 0 !== document.mozFullScreen ? document.mozFullScreen : (l.error("Could not determine fullscreen status."), !1) : !1
                }

                function n() {
                    var t = e.cadmium.objects.playerWrapper();
                    t && (t.requestFullscreen ? t.requestFullscreen() : t.msRequestFullscreen ? t.msRequestFullscreen() : t.mozRequestFullScreen ? t.mozRequestFullScreen() : t.webkitRequestFullScreen())
                }

                function i() {
                    var t = e.cadmium.objects.playerWrapper();
                    if (t)
                        if (t.exitFullscreen) document.exitFullscreen();
                        else if (t.msRequestFullscreen) document.msExitFullscreen();
                    else if (document.mozCancelFullScreen) document.mozCancelFullScreen();
                    else {
                        if (!document.webkitCancelFullScreen) return l.error("Could not exit fullscreen"), !1;
                        document.webkitCancelFullScreen()
                    }
                }

                function o() {
                    t() ? i() : n()
                }

                function r() {
                    e.cadmium.UiEvents.fireEvent(e.cadmium.UiEvents.knownEvents.FULLSCREEN_CHANGE, [t()])
                }

                function s() {
                    document.removeEventListener("webkitfullscreenchange", r), document.removeEventListener("MSFullscreenChange", r), document.removeEventListener("mozfullscreenchange", r), u = !1
                }

                function a() {
                    u && s(), document.addEventListener("webkitfullscreenchange", r, !1), document.addEventListener("MSFullscreenChange", r, !1), document.addEventListener("mozfullscreenchange", r, !1), u = !0
                }
                var l = e.cadmium.Logger.create("fullscreen"),
                    u = !1;
                return e.cadmium.playbackShutdown.take(1).doAction(s).subscribe(e.cadmium.util.NOOP, function(e) {
                    console.error(e)
                }), {
                    init: a,
                    deinit: s,
                    isFullscreen: t,
                    enter: n,
                    exit: i,
                    toggle: o
                }
            }(),
            function() {
                "use strict";

                function t() {
                    c = !0
                }

                function n() {
                    c = !1
                }

                function i() {
                    var e;
                    e = u.tryCatch(l && l.toggle), e instanceof Error && a.error(e)
                }

                function o(e) {
                    var t = e.keyCode;
                    return l.isFullscreen() && e.preventDefault(), t == p ? void i() : void(w[t] && this.fireEvent(w[t], [e]))
                }

                function r() {
                    this._super(), d = new Rx.Subject, Rx.Observable.fromEvent(document, "keydown").takeUntil(d).filter(function() {
                        return c
                    }).doAction(o.bind(this)).subscribe(m, a.getErrorHandler("keydown"), m)
                }
                var s = e.cadmium,
                    a = s.Logger.create("keyboard.events"),
                    l = s.fullscreen,
                    u = s.util,
                    d = null,
                    c = !0,
                    m = function() {},
                    p = "70",
                    h = "77",
                    v = "40",
                    E = "38",
                    f = "37",
                    g = "39",
                    b = "32",
                    _ = "13",
                    y = {
                        TOGGLE_MUTE: "togglemute",
                        DECREASE_VOLUME: "decreasevolume",
                        INCREASE_VOLUME: "increasevolume",
                        SEEK_BACKWARD: "seekbackward",
                        SEEK_FORWARD: "seekforward",
                        TOGGLE_PLAY: "toggleplay"
                    },
                    w = {};
                w[h] = y.TOGGLE_MUTE, w[v] = y.DECREASE_VOLUME, w[E] = y.INCREASE_VOLUME, w[f] = y.SEEK_BACKWARD, w[g] = y.SEEK_FORWARD, w[b] = y.TOGGLE_PLAY, w[_] = y.TOGGLE_PLAY;
                var k = s.Eventable.extend({
                    init: r,
                    enableShortcut: t,
                    disableShortcut: n,
                    knownEvents: y
                });
                s.keyboard = new k
            }(), e.cadmium.session = function() {
                "use strict";

                function t() {
                    y.keepAlive()
                }

                function n(e) {
                    f.log("session.manager", e && e.stack || e)
                }

                function i(e) {
                    var t = l(e);
                    return y.newSession() || !t
                }

                function o() {
                    g && g.onNext()
                }

                function r(e, t) {
                    _.notify(e, t)
                }

                function s() {
                    if (!w) {
                        if (h = e.cadmium, v = h.UiEvents, E = h.objects, f = h.Logger.create("session.manager"), f.log("init"), !y || !_) return void f.log("consolidated logging library failed to load.");
                        w = !0, g = g || new Rx.Subject, b = b || new Rx.Subject;
                        var i = v.knownEvents,
                            o = Rx.Observable.fromEvent(v, i.VIDEO_FIRST_PLAY),
                            r = Rx.Observable.fromEvent(v, i.VIDEO_ENDED),
                            s = h.util.NOOP;
                        o.takeUntil(b).take(1).map(function() {
                            return E.videoPlayer()
                        }).flatMap(function(e) {
                            return Rx.Observable.interval(k).map(function() {
                                return e
                            })
                        }).takeUntil(b).takeUntil(g).takeUntil(r).filter(function(e) {
                            return e && !e.getPaused()
                        }).doAction(t).subscribe(s, n, s)
                    }
                }

                function a() {
                    var e = localStorage.getItem(x);
                    if (e) try {
                        e = JSON.parse(e)
                    } catch (t) {
                        e = null
                    }
                    return e
                }

                function l(e) {
                    return w ? d(e).currentSessionData : null
                }

                function u(e, t) {
                    if (w) {
                        var n = d(e),
                            i = n.id,
                            o = n.localStorageData,
                            r = n.sessionData;
                        c(o), r.timestamp = Date.now(), r.data = r.data || {}, r.data[e] = t, o[i] = r, localStorage.setItem(x, JSON.stringify(o))
                    }
                }

                function d(e) {
                    var t = m(),
                        n = a() || {},
                        i = n[t] || {},
                        o = i.data && i.data[e];
                    return {
                        id: t,
                        localStorageData: n,
                        sessionData: i,
                        currentSessionData: o
                    }
                }

                function c(e) {
                    var t = m();
                    for (var n in e) e.hasOwnProperty(n) && n !== t && delete e[n];
                    return e
                }

                function m() {
                    var e = _.getCurrentSession("userSession");
                    return e && e.sessionId
                }

                function p() {
                    w && (o(), b && b.onNext(), f.log("deinit"), h = null, v = null, E = null, f = null, g = null, b = null, w = !1)
                }
                var h, v, E, f, g, b, _ = e.clientNotifications,
                    y = e.session,
                    w = !1,
                    k = 6e5,
                    x = "NFPlaybackSession",
                    T = Object.freeze({
                        PIN: "pin",
                        AUDIO: "audio",
                        SUBTITLE: "subtitle",
                        VOLUME: "volume"
                    });
                return {
                    init: s,
                    deinit: p,
                    heartBeat: t,
                    isExpired: i,
                    setSessionData: u,
                    getSessionData: l,
                    endSession: o,
                    log: r,
                    SESSION_TYPES: T
                }
            }(),
            function() {
                "use strict";

                function t() {
                    u = e.cadmium, m = u.metadata, d = u.xhr, c = u.objects, p = u.UiEvents, h = u.url, v = Rx.Observable, E = u.util, f = E.NOOP, g = u.Logger.create("postplay.data"), g.log("init"), A && y && y.length > 0 && (g.info("Getting post play data in queue."), y.shift()), A = !0, b = b || new Rx.Subject;
                    var t = c.initParams() || {};
                    T = T || [], k = t.postPlayBaseUrl, x = t.postPlayApiRevision, y && y.length || (b.onNext(), r(k, c.videoId()))
                }

                function n(e) {
                    A && (g.log("deinit"), b && b.onNext(), u = null, d = null, c = null, m = null, p = null, h = null, v = null, E = null, f = null, g = null, b = null, _ = null, y = null, w = null, k = null, x = null, e || (T = null), A = !1)
                }

                function i() {
                    if (A || t(), y && y.length > 0) {
                        var e = y[0];
                        return delete e.replay, o(e), v["return"](y[0])
                    }
                    return _ ? _.map(function(e) {
                        return o(e && e.length && e[0]), e && e.length && e[0]
                    }).takeUntil(b) : Rx.Observable["return"](null)
                }

                function o(e) {
                    e = e || {};
                    var t, n = e.experience && e.experience.impression,
                        i = !1,
                        o = T && T.length || 0,
                        r = 0;
                    if (n) {
                        for (r; o > r; r++)
                            if (t = T[r], t && t.impressionType === n.impressionType && t.impression === n.impression) {
                                i = !0;
                                break
                            }
                        i && (e.experience.impression = null)
                    }
                }

                function r(e, t) {
                    if (!e) return void(_ = v["throw"](new Error("No post play url available.")).takeUntil(b));
                    if (isNaN(t)) return void(_ = v["throw"](new Error("Invalid movie id.")).takeUntil(b));
                    var n = v.fromEvent(p, p.knownEvents.VIDEO_FIRST_PLAY),
                        i = v["return"](c.videoPlayer()).filter(function(e) {
                            return !!e
                        }),
                        o = v.fromEvent(p, p.knownEvents.VIDEO_ENDED),
                        r = v.fromEvent(p, p.knownEvents.VIDEO_POSTPLAY_ENTER);
                    _ = v.merge(n, i, o, r).take(1).takeUntil(b).flatMap(function() {
                        var n = {
                                withCredentials: !0,
                                urlEncoded: !0,
                                data: {
                                    movieid: t
                                }
                            },
                            i = c.initParams() || {};
                        return x && (n.data.revision = x), "prod" !== i.environment && h.urlContains(/forcepromo=true/) && (n.data.debugPromoPhase = !0), u.browser.supportsWebP() && (n.headers = {
                            Accept: "image/webp, */*;"
                        }), d.get(e, n).takeUntil(b).timeout(L).retryWithBackoff(I, P).doAction(function(e) {
                            g.log("data received", e)
                        }, g.getErrorHandler("request error"))
                    }).map(function(e) {
                        return w = e.requestId, e = e.postplay, e instanceof Array || (e = [e]), e
                    }).doAction(function(e) {
                        y = e
                    }).shareReplay(), _.subscribe(f, g.getErrorHandler("dataAsObservable.subscribe"), f)
                }

                function s(e) {
                    e = e || {}, g.info("Recording impression", e);
                    var t = {
                        withCredentials: !0,
                        urlEncoded: !0,
                        data: {}
                    };
                    return x && (t.data.revision = x), E.mix(e, t.data, null), b = b || new Rx.Subject, d.get(k, t).takeUntil(b).timeout(L).retryWithBackoff(I, P).doAction(function(t) {
                        T.push(e), g.log("Impression logged:", t)
                    }).subscribe(f, g.getErrorHandler("xhr|impression"), f)
                }

                function a(e) {
                    return e ? void y.unshift(e) : void g.error("Cannot enqueue a null object.")
                }

                function l() {
                    var e = y[0];
                    e && !e.replay && (e.replay = !0, o(e), a(e))
                }
                var u, d, c, m, p, h, v, E, f, g, b, _, y, w, k, x, T, A = !1,
                    L = 1e4,
                    I = 5,
                    P = 1e3;
                e.cadmium.PostPlayData = {
                    init: t,
                    deinit: n,
                    getData: i,
                    repeatCurrentPostPlayData: l,
                    getRequestId: function() {
                        return w
                    },
                    recordImpression: s
                }
            }(),
            function() {
                "use strict";

                function t(t) {
                    I || (I = !0, N = t || {}, T.log("init"), k = N.localStorageKey || "uitracking.impressions", b = x.objects, _ = x.UiEvents, w = x.UITrackingBuffer, V = N.maxRecords || 250, P = !!N.enabled, C = N.requestId, O = N.location, S = N.debug, S && (y = e.UITrackingOverlay), j = new Rx.Subject, i())
                }

                function n() {
                    if (I) {
                        if (j && j.onNext(), P = !1, C = null, O = null, R = null, D = [], M = [], H = [], U = -1, B = null, j = null, I = !1, S)
                            for (var e, t = document.querySelectorAll(".uitracking-debug-overlay") || [], n = 0; n < t.length; n++) e = t[n], e && e.remove && e.remove();
                        S = !1
                    }
                }

                function i() {
                    T.log("Initiating event listeners."), L.fromEvent(window, "resize").merge(L.fromEvent(_, _.knownEvents.FULLSCREEN_CHANGE)).takeUntil(j).throttle(1e3).doAction(r).subscribe(A, T.getErrorHandler("window|resize"), A), w.initPolling(N)
                }

                function o() {
                    return document.querySelectorAll("[" + F + "]")
                }

                function r() {
                    if (I) {
                        T.log("scanning...");
                        try {
                            var e, t = o(),
                                n = Date.now(),
                                i = [
                                    [],
                                    [],
                                    [],
                                    []
                                ];
                            T.log("Trackable items", t.length);
                            for (var r, a = 0; r = t[a]; a++) e = s(r, n), i[e].push(r);
                            if (g(), S) {
                                var l = [i[K].length + " new elements", t.length + " trackable", Date.now() - n + " ms"].join(", ");
                                console.log("ui scan: " + l), y && y.updateOverlays(i)
                            }
                        } catch (u) {
                            T.error(u)
                        }
                    }
                }

                function s(e, t) {
                    t = t || Date.now();
                    var n = c(),
                        i = e.getBoundingClientRect(),
                        o = q,
                        r = e.classList.contains(W);
                    if (S) {
                        var s = e.getAttribute(F);
                        T.log("el rect: ", s, i), T.log("window rect", n)
                    }
                    return h(i, n) && (o = G, m(e, i) && (o = Y, r || (o = K))), o === K && (f(e, t), e.classList.add(W)), r && Y > o && e.classList.remove(W), o
                }

                function a(e) {
                    var t = e.getAttribute(F);
                    if (!t) return null;
                    var n = t.split(",");
                    return n.length < 4 ? null : {
                        video_id: l(n[0]),
                        track_id: l(n[1]),
                        row: l(n[2]),
                        rank: l(n[3]),
                        request_id: n[4] || C || Q,
                        location: n[5] || O || Q
                    }
                }

                function l(e) {
                    return e = parseInt(e, 10), isNaN(e) && (e = X), e
                }

                function u(e, t) {
                    for (var n = ["video_id", "track_id", "row", "rank"], i = [], o = 0; o < n.length; o++) {
                        var r = n[o];
                        t.hasOwnProperty(r) || T.log("trackElement - trackingContext field not found: " + r), i.push(t[r])
                    }
                    i.push(t.request_id || ""), i.push(t.location || ""), e.setAttribute(F, i.join(","))
                }

                function d(e, t) {
                    u(e, t), s(e), y && y.updateOverlays()
                }

                function c() {
                    if (B) return B;
                    if (0 > U) {
                        var e = document.getElementById(z);
                        U = e && "fixed" == E(e, "position") ? e.getBoundingClientRect().bottom : 0
                    }
                    var t = window,
                        n = document,
                        i = n.documentElement,
                        o = n.getElementsByTagName("body")[0],
                        r = t.innerWidth || i.clientWidth || o.clientWidth,
                        s = t.innerHeight || i.clientHeight || o.clientHeight;
                    return B = {
                        left: 0,
                        top: U,
                        right: r,
                        bottom: s
                    }
                }

                function m(e, t) {
                    var n, i, o = v(e, "parentNode"),
                        r = [];
                    for (n = 0; i = o[n]; n++) {
                        if (p(i)) return !1;
                        var s = E(i, "overflow");
                        s && s.match(/hidden|scroll|auto/) && r.push(i)
                    }
                    for (n = 0; i = r[n]; n++)
                        if (!h(t, i.getBoundingClientRect())) return !1;
                    return !p(e)
                }

                function p(e) {
                    return "hidden" == E(e, "visibility")
                }

                function h(e, t) {
                    var n = e.left + (e.right - e.left) / 2,
                        i = e.top + (e.bottom - e.top) / 2;
                    return e.left == e.right || t.left == t.right ? !1 : n >= t.left && n <= t.right && i >= t.top && i <= t.bottom
                }

                function v(e, t, n) {
                    for (var i = [], o = e[t]; o && 9 !== o.nodeType && (void 0 === n || 1 !== o.nodeType);) 1 === o.nodeType && i.push(o), o = o[t];
                    return i
                }

                function E(e, t) {
                    var n = document.defaultView;
                    return n && n.getComputedStyle ? n.getComputedStyle(e, null).getPropertyValue(t) : e.currentStyle ? e.currentStyle[t] : ""
                }

                function f(e, t) {
                    var n = a(e);
                    y && y.markAsVisible(e), T.info("Registering impression.", n), n ? (n.time = t, D.push(n)) : T.log("Impression: No trackingContext for element", e)
                }

                function g() {
                    var e = D;
                    if (D = [], S) {
                        for (var t = [], n = 0, i = e.length; i > n; n++) t.push(e[n].row + "," + e[n].rank + " " + e[n].video_id);
                        T.log(t.join("\n"))
                    }
                    var o = JSON.parse(localStorage.getItem(k) || "[]");
                    S && T.log("saved impressions: " + o.length + "\nnew impressions: " + e.length + "\nmax impressions: " + V);
                    var r = o.length + e.length;
                    r > V && (T.log("Buffer is full."), o.splice(0, r - V), S && console.log("removing " + (r - V) + " items from storage to keep length <= " + V)), o = o.concat(e);
                    try {
                        localStorage.setItem(k, JSON.stringify(o)), S && localStorage.setItem(J, "true")
                    } catch (s) {
                        H = H.concat(o)
                    }
                }
                var b, _, y, w, k, x = e.cadmium,
                    T = x.Logger.create("presentation.tracking"),
                    A = x.util.NOOP,
                    L = Rx.Observable,
                    I = !1,
                    P = !1,
                    C = null,
                    O = null,
                    N = null,
                    S = !1,
                    R = null,
                    D = [],
                    M = [],
                    H = [],
                    U = -1,
                    B = null,
                    V = 250,
                    j = null,
                    F = "data-uitrack",
                    W = "uitracking-state-visible",
                    z = "hd",
                    q = 0,
                    G = 1,
                    Y = 2,
                    K = 3,
                    X = -99,
                    Q = "unknown",
                    J = "uitracking.debug";
                e.cadmium.UITracking = {
                    init: t,
                    deinit: n,
                    scan: r,
                    trackElement: d,
                    getTrackingContext: a,
                    getFallbackSendBuffer: function() {
                        return P && H && H.length ? H : []
                    },
                    TRACKING_ATTRIBUTE: F
                }
            }(), e.UITrackingOverlay = function() {
                function t(e, t) {
                    return e.className.indexOf(t) > -1
                }

                function n(e, n) {
                    t(e, n) || (e.className += " " + n)
                }

                function i(e, t) {
                    e.className = e.className.replace(t, "")
                }

                function o(e, t) {
                    for (var n, i = Array.prototype.slice.call(document.getElementsByClassName(e)); n = i.shift();) t(n)
                }

                function r(e, t) {
                    for (var n in t) t.hasOwnProperty(n) && (e.style[n] = t[n])
                }
                var s = "uitracking-debug-state-inwindow",
                    a = "uitracking-debug-state-visible",
                    l = "uitracking-debug-state-sent",
                    u = "uitracking-debug-overlay",
                    d = "uitracking-debug-state",
                    c = "#000",
                    m = "#c11",
                    p = "#de6400",
                    h = "#480c44",
                    v = 1,
                    E = 2,
                    f = 3,
                    g = {
                        updateDebugStates: function(e) {
                            o(s, function(e) {
                                i(e, s)
                            });
                            for (var t = 0; t < e.length; t++)
                                for (var r = e[t], a = 0, u = r.length; u > a; a++) {
                                    var c = r[a];
                                    c.setAttribute(d, t), t >= v && n(c, s), t >= f && i(c, l)
                                }
                        },
                        markAsVisible: function(e) {
                            n(e, a)
                        },
                        markOverlaysAsSent: function() {
                            var e = this;
                            o(a, function(e) {
                                n(e, l), i(e, a)
                            }), o(u, function(t) {
                                e.setOverlayColor(t, h)
                            })
                        },
                        updateOverlays: function(e) {
                            e && this.updateDebugStates(e), o(u, function(e) {
                                e.parentNode.removeChild(e)
                            });
                            var t = this;
                            o(s, function(e) {
                                t.addDebugOverlay(e)
                            })
                        },
                        addDebugOverlay: function(i) {
                            var o = i.getAttribute(d, o) || 0,
                                s = o >= E ? "solid" : "dotted",
                                a = o >= f ? m : p;
                            E > o && (a = c), t(i, l) && (a = h);
                            var v = e.cadmium.UITracking.getTrackingContext(i),
                                g = i.getBoundingClientRect(),
                                b = document.createElement("div");
                            r(b, {
                                position: "fixed",
                                zIndex: 1e3,
                                "pointer-events": "none",
                                left: g.left + "px",
                                top: g.top + "px",
                                width: g.width - 4 + "px",
                                height: g.height - 4 + "px",
                                border: s + " 2px"
                            }), n(b, u);
                            var _ = document.createElement("span");
                            _.className = "has-color", r(_, {
                                font: "10pt arial",
                                padding: "5px",
                                margin: 0,
                                color: "#fff",
                                "float": "left"
                            }), _.innerHTML = v.row + "," + v.rank + " &nbsp; " + v.video_id, b.appendChild(_);
                            var y = document.createElement("div");
                            y.className = "has-color", r(y, {
                                margin: "0 auto",
                                position: "relative",
                                top: Math.floor(g.height / 2) - 4 - 16 + "px",
                                width: "16px",
                                height: "16px",
                                borderRadius: "8px"
                            }), b.appendChild(y), document.getElementsByTagName("body")[0].appendChild(b), this.setOverlayColor(b, a)
                        },
                        setOverlayColor: function(e, t) {
                            r(e, {
                                borderColor: t
                            });
                            for (var n = e.getElementsByClassName("has-color"), i = 0; i < n.length; i++) r(n[i], {
                                backgroundColor: t
                            })
                        }
                    };
                return g
            }(),
            function() {
                "use strict";
                var t, n, i, o, r, s, a, l, u, d, c, m, p, h, v = {
                    initPolling: function(E) {
                        E = E || {}, a = !0, n = e.cadmium, t = e.constants, i = n.Logger.create("presentation.tracking.sender"), o = n.UITracking, r = n.xhr, s = n.util.NOOP, u = "uitracking.debug", d = t.page.UITRACKING_SEND_RATE_MS || 8e3, m = t.page.UITRACKING_SEND_RATE_MAX_DECAY_MULTIPLIER || 5, p = 1, h = 0, l = E.localStorageKey || "uitracking.impressions", c = E.endpoint || "https://presentationtracking.netflix.com/users/presentationtracking", v.flush(), i.log("Init polling at " + d);
                        var f = this;
                        setInterval(function() {
                            i.log("Attempting to flush buffer...");
                            try {
                                ++h >= p && f.flush()
                            } catch (e) {
                                i.log("Error flushing.", e)
                            }
                        }, d)
                    },
                    flush: function() {
                        if (a) {
                            i.log("Flush.");
                            var t = [];
                            try {
                                t = o.getFallbackSendBuffer(), t.length || (t = JSON.parse(localStorage.getItem(l) || "[]"), o.retrySend || localStorage.setItem(l, "[]"))
                            } catch (n) {
                                i.log("Error flushing.", n)
                            }
                            if (t && t.length) {
                                h = 0, p = Math.max(p++, m), this.send(t);
                                var r = localStorage.getItem(u) || !1;
                                r && (this._logSentTitles(t), e.UITrackingOverlay && e.UITrackingOverlay.markOverlaysAsSent(), localStorage.removeItem(u))
                            }
                        }
                    },
                    send: function(e) {
                        i.log("Sending.");
                        var n = t.page,
                            o = {
                                esn: n.ESN || null,
                                esnPrefix: n.ESNPrefix || null,
                                country: n.COUNTRY,
                                application_name: n.APP_NAME,
                                application_v: n.APP_VERSION,
                                sw_version: n.UITRACKING_USER_AGENT || "",
                                data: JSON.stringify(e)
                            };
                        i.log("sending", o);
                        var a = {
                                withCredentials: !0,
                                urlEncoded: !1,
                                data: o
                            },
                            l = r.post(c, a).retryWithBackoff(5, 1e3).doAction(function(e) {
                                i.log("Response:", e)
                            });
                        return l.subscribe(s, i.getErrorHandler("xhr|post"), s), l
                    },
                    _logSentTitles: function(e) {
                        for (var t = [], n = 0; n < e.length; n++) t.push(e[n].video_id);
                        t = t.sort(), console.log("SENT TITLES: " + t.length, t), console.log("----------------------------------------------------")
                    }
                };
                e.cadmium.UITrackingBuffer = v
            }(),
            function() {
                "use strict";

                function t(e, t) {
                    var n, i;
                    for (n in t) i = t[n], i.ns ? e.setAttributeNS(i.ns, n, i.value) : e.setAttribute(n, i)
                }

                function n(e, t) {
                    e.ui = e.ui || {}, t = t || e.ui.timedText && e.ui.timedText._config || {};
                    var n = e.getTimedTextTrack();
                    e.ui.timedText && "function" == typeof e.ui.timedText.destroy && e.ui.timedText.destroy(), n && n.isImageBased ? e.ui.timedText = new r(e, t) : e.ui.timedText = new o(e, t)
                }

                function i(e) {
                    return e.id
                }
                var o = e.cadmium.Class.extend({
                        _player: null,
                        _config: null,
                        init: function(e, t) {
                            this._player = e, this._config = t || {}
                        },
                        destroy: function() {
                            this._player = null
                        },
                        setBounds: function(e) {
                            this._player && this._player.setTimedTextBounds(e)
                        }
                    }),
                    r = o.extend({
                        _elementsInView: null,
                        _containerEl: null,
                        _boundingReferenceEl: null,
                        _timedTextContainerEl: null,
                        _debugEl: null,
                        _disposed: null,
                        _recycledImageTags: null,
                        _bounds: null,
                        _viewBox: null,
                        _config: null,
                        _configure: function(e) {
                            e = e || {}, this._config = {}, this._config.forceCCPaint = !!e.forceCCPaint, this._config.ccQNREnabled = "undefined" == typeof e.ccQNREnabled ? !0 : !!e.ccQNREnabled, this._config.ccQNRsla = e.ccQNRsla || 100
                        },
                        init: function(e, t) {
                            this._super(e), this._removalQueue = [], this._elementsInView = {}, this._disposed = new Rx.Subject, this._recycledImageTags = [], this._timeoutHandle = null, this._configure(t), this._createElements(), this._createEventSubscriptions()
                        },
                        destroy: function() {
                            this._disposed && !this._disposed.isStopped && (this._disposed.onNext(), this._disposed.onCompleted(), this._containerEl && this._containerEl.parentNode && this._containerEl.parentNode.removeChild(this._containerEl), this._removalQueue = null, this._player = null, this._elementsInView = null, this._containerEl = null, this._timedTextContainerEl = null, this._disposed = null, this._recycledImageTags = null, this._boundingReferenceEl = null, this._bounds = null, this._viewBox = null, this._config = null)
                        },
                        show: function(e) {
                            this._addTimedText(e)
                        },
                        hide: function(e) {
                            this._removeTimedText(i(e))
                        },
                        setBounds: function(e) {
                            if (this._disposed && !this._disposed.isStopped && (e = e || {}, void 0 !== e.bottom && e.bottom !== (this._bounds && this._bounds.bottom))) {
                                this._player.ui._timedTextBounds = this._bounds = e;
                                var t = this;
                                requestAnimationFrame(function() {
                                    t._disposed && !t._disposed.isStopped && (t._containerEl.style.bottom = t._getBottomOffset(t._bounds.bottom) + "px", t._forceRedraw())
                                })
                            }
                        },
                        _getBottomOffset: function(e) {
                            var t = this._boundingReferenceEl.getBoundingClientRect(),
                                n = t.top,
                                i = Math.floor(n - e),
                                o = 0;
                            return 0 > i && (o = -1 * i), o
                        },
                        _createElements: function() {
                            this._elementsInView = {}, this._recycledImageTags = [], this._containerEl = document.createElement("div"), this._containerEl.style.cssText = "display: block;position: absolute;top: 0;right: 0;bottom: 0;left: 0;transform: translateZ(0);-webkit-transform: translateZ(0);", this._timedTextContainerEl = document.createElementNS("http://www.w3.org/2000/svg", "svg"), t(this._timedTextContainerEl, {
                                width: "100%",
                                height: "100%",
                                style: "position: absolute; top: 0; bottom: 0; left: 0; right: 0;"
                            }), this._boundingReferenceEl = document.createElementNS("http://www.w3.org/2000/svg", "rect"), t(this._boundingReferenceEl, {
                                fill: "none",
                                stroke: "none",
                                x: "0",
                                y: "0"
                            }), this._timedTextContainerEl.appendChild(this._boundingReferenceEl), this._containerEl.appendChild(this._timedTextContainerEl), this._player.getElement().appendChild(this._containerEl)
                        },
                        _createEventSubscriptions: function() {
                            var t = Rx.Observable,
                                n = e.cadmium.util.NOOP,
                                i = t.fromEvent(this._player, "closed");
                            t.fromEvent(this._player, "showsubtitle").takeUntil(this._disposed).takeUntil(i).doAction(this.show.bind(this)).subscribe(n, function(e) {
                                console.error(e)
                            }, n), t.fromEvent(this._player, "removesubtitle").takeUntil(this._disposed).takeUntil(i).doAction(this.hide.bind(this)).subscribe(n, function(e) {
                                console.error(e)
                            }, n)
                        },
                        _createTimedTextElement: function(e, n) {
                            var i = URL.createObjectURL(new Blob([e.imageData], {
                                    type: "image/png"
                                })),
                                o = this._createImageTag();
                            return t(o, {
                                href: {
                                    ns: "http://www.w3.org/1999/xlink",
                                    value: i
                                },
                                width: e.sizeX,
                                height: e.sizeY,
                                x: e.originX,
                                y: e.originY
                            }), requestAnimationFrame(function() {
                                URL.revokeObjectURL(i), n && n(o)
                            }), o
                        },
                        _createImageTag: function() {
                            return this._recycledImageTags.pop() || document.createElementNS("http://www.w3.org/2000/svg", "image")
                        },
                        _addTimedText: function(e) {
                            var n = i(e),
                                o = this._removalQueue.indexOf(n);
                            if (o > -1) return void(this._removalQueue[o] = null);
                            var r = this._createTimedTextElement(e);
                            if (this.setBounds(this._player.ui._timedTextBounds), this._viewBox || (this._viewBox = "0 0 " + e.rootContainerExtentX + " " + e.rootContainerExtentY, t(this._timedTextContainerEl, {
                                    viewBox: this._viewBox
                                }), t(this._boundingReferenceEl, {
                                    width: e.rootContainerExtentX,
                                    height: e.rootContainerExtentY,
                                    fill: "none"
                                })), this._timedTextContainerEl.appendChild(r), this._elementsInView[n] = r, this._config.forceCCPaint && this._forceRedraw(), window.DEBUG) {
                                this._debugEl || (this._debugEl = this._boundingReferenceEl, t(this._debugEl, {
                                    stroke: "yellow",
                                    "stroke-width": "4",
                                    fill: "none"
                                }), this._timedTextContainerEl.appendChild(this._debugEl));
                                var s = '<g xmlns="http://www.w3.org/2000/svg"><rect x="' + e.originX + '" y="' + e.originY + '" width="' + e.sizeX + '" height="' + e.sizeY + '" fill="rgba(0,0,0,0)" stroke="yellow"></rect><text x="' + e.originX + '" y="' + (e.originY - 6) + '" font-size="18" fill="yellow">( ' + [e.originX, e.originY, e.sizeX, e.sizeY].join(", ") + " )</text></g>",
                                    a = (new DOMParser).parseFromString(s, "text/xml").firstChild;
                                this._timedTextContainerEl.appendChild(a), this._elementsInView[n + "_debug"] = a
                            } else this._debugEl && (t(this._debugEl, {
                                stroke: "none"
                            }), this._debugEl = null)
                        },
                        _removeNodeForId: function(e) {
                            var t = this._elementsInView[e],
                                n = e + "_debug",
                                i = this._elementsInView[n];
                            t && this._timedTextContainerEl.removeChild(t), i && this._timedTextContainerEl.removeChild(i), this._recycleImageTag(t), t && delete this._elementsInView[e], i && delete this._elementsInView[n]
                        },
                        _removeTimedText: function(e) {
                            var t;
                            this._config.ccQNREnabled ? (t = this, -1 === this._removalQueue.indexOf(e) && (this._removalQueue.push(e), setTimeout(function() {
                                var e = t._removalQueue.shift();
                                e && (t._removeNodeForId(e), t._forceRedraw())
                            }, this._config.ccQNRsla))) : (this._removeNodeForId(e), this._forceRedraw())
                        },
                        _forceRedraw: function() {
                            if (this._config.forceCCPaint) {
                                var e = this;
                                this._containerEl.style.display = "none", requestAnimationFrame(function() {
                                    e._containerEl.style.display = ""
                                })
                            }
                        },
                        _recycleImageTag: function(e) {
                            if (e && e.attributes) {
                                var t, n;
                                for (t = 0; t < e.attributes.length; t++) n = e.attributes.item(t), n && e.removeAttribute(n.name);
                                this._recycledImageTags.push(e)
                            }
                        }
                    });
                e.cadmium.timedtext = {
                    create: function(t, i) {
                        var o = e.cadmium.util.NOOP,
                            r = Rx.Observable.fromEvent(t, "closed");
                        n(t, i), Rx.Observable.fromEvent(t, "timedtexttrackchanged").takeUntil(r).map(function(e) {
                            return e.target
                        }).doAction(n).subscribe(o, function(e) {
                            console.error(e)
                        }, o)
                    }
                }
            }(), e.cadmium.views = function() {
                function e(e, t) {
                    r[t].push(e)
                }

                function t(e, t) {
                    s || (r[o.standard].forEach(function(e) {
                        e.deinit()
                    }), r[o.fatal].indexOf(e) >= 0 && (s = !0), e.init.apply(this, t))
                }

                function n() {
                    s = !1
                }
                var i, o = Object.freeze({
                        standard: 1,
                        fatal: 2
                    }),
                    r = {},
                    s = !1;
                for (i in o) o.hasOwnProperty(i) && (i = o[i], r[i] = []);
                return {
                    types: o,
                    register: e,
                    show: t,
                    deinit: n
                }
            }(),
            function() {
                var t = e.cadmium;
                t.ui.Component = t.Eventable.extend({
                    parentNode: null,
                    initialized: !1,
                    config: {
                        id: "player-component"
                    },
                    destroy: function() {
                        if (this.initialized) {
                            this.initialized = !1, this.events = {};
                            for (var e in this) this.hasOwnProperty(e) && (this[e] = null)
                        }
                    },
                    init: function(e, t) {
                        this._super(), this.initialized && this.destroy(), this.initialized = !0, this.parentNode = e, this.config = t || this.config
                    }
                })
            }(),
            function() {
                "use strict";
                var t = e.cadmium,
                    n = t.element,
                    i = n.classNames.hidden,
                    o = n.classNames.active,
                    r = t.dom.DIV;
                t.ui.RadialProgressComponent = t.ui.Component.extend({
                    progressEl: null,
                    percent: 0,
                    destroy: function() {
                        this.initialized && (this.initialized = !1, n.remove(this.progressEl), this._super())
                    },
                    init: function(e, t) {
                        this._super(e, t);
                        var n, s = ["player-progress-round", this.config.hideWhenEmpty ? i : o].join(" ");
                        this.progressEl = r({
                            "class": s,
                            id: this.config.id
                        }, r({
                            "class": "player-progress-loading"
                        }), n = r({
                            "class": "player-progress-val"
                        }, "0%")), this.progressVal = n, this.parentNode.appendChild(this.progressEl)
                    },
                    update: function(e) {
                        var t = Math.floor(e);
                        if (this.initialized && this.percent !== t) {
                            this.percent = t;
                            var n = 0 === this.percent && this.config.hideWhenEmpty || 100 === this.percent && this.config.hideWhenFull,
                                r = this;
                            n ? (r.progressEl.classList.remove(o), requestAnimationFrame(function() {
                                r.progressEl.classList.add(i)
                            })) : (this.progressEl.classList.add(o), requestAnimationFrame(function() {
                                r.initialized && r.progressEl.classList.remove(i)
                            })), this.progressVal.textContent = this.percent + "%"
                        }
                    }
                })
            }(),
            function() {
                var t = e.cadmium,
                    n = t.element,
                    i = t.objects,
                    o = t.UiEvents,
                    r = t.browser.pointerTypes,
                    s = n.classNames,
                    a = s.active,
                    l = s.hidden,
                    u = s.animate;
                t.ui.ScrubberComponent = t.ui.Component.extend({
                    config: {
                        id: "scrubber-component"
                    },
                    value: 0,
                    max: 0,
                    buffer: 0,
                    dragging: !1,
                    pointerActive: !1,
                    pointerEventData: null,
                    dragIncorrectDirectionPercentAllowed: .3,
                    knownEvents: Object.freeze({
                        DRAG_START: "dragstart",
                        DRAG_END: "dragend",
                        NEW_VALUE: "newvalue",
                        MOUSE_ENTER: "mouseenter",
                        MOUSE_LEAVE: "mouseleave",
                        MOUSE_MOVE: "mousemove",
                        CLICK: "click"
                    }),
                    orientation: null,
                    wrapperEl: null,
                    progressEl: null,
                    completedEl: null,
                    handleEl: null,
                    snapbackDragEl: null,
                    type: null,
                    playerWrapperEl: null,
                    setupPointerData: function(e) {
                        this.setupPointerDataDimensions(), this.pointerEventData.drag = {
                            start: {
                                value: this.value,
                                max: this.max
                            },
                            pointer: {
                                x: e.pageX,
                                y: e.pageY
                            }
                        }
                    },
                    setupPointerDataDimensions: function() {
                        var e = this.progressEl;
                        if (e && this.max) {
                            var t = this.value / this.max,
                                i = t * e.offsetWidth,
                                o = t * e.offsetHeight;
                            this.pointerEventData.dimensions = {
                                handleEl: {
                                    left: i,
                                    top: o,
                                    dimensions: n.getDimensions(this.handleEl)
                                },
                                wrapperEl: n.getDimensions(this.wrapperEl),
                                playerWrapperEl: n.getDimensions(this.playerWrapperEl)
                            }
                        }
                    },
                    pointerDownHandler: function(e) {
                        this.wrapperEl.contains(e.target) && (e.component = this, this.dragging || (this.setupPointerData(e), this.dragging = !0, this.pointerEventData.drag.current = this.determineEventValues(e, !1), this._updateSnapBackEl(this.pointerEventData.drag.current), this.fireEvent(this.knownEvents.MOUSE_ENTER, [e, this]), this.fireEvent(this.knownEvents.DRAG_START, [e, this]))), this.pointerActive = !0
                    },
                    pointerMoveHandler: function(e) {
                        var t = !1;
                        if (e.component = this, this.dragging) {
                            var n = this.pointerEventData.dimensions.wrapperEl,
                                i = this.pointerEventData.dimensions.playerWrapperEl;
                            this.isValidEventLocation(e) && (Math.abs(e.pageY - this.pointerEventData.drag.pointer.y) > i.h * this.dragIncorrectDirectionPercentAllowed && (t = !0),
                                e.wrapperDimensions = n, this.pointerEventData.drag.current = this.determineEventValues(e, t), this._updateDOM(this.pointerEventData.drag.current))
                        } else this.isValidPointerType(e) && this.wrapperEl.contains(e.target) && (this.pointerEventData && this.pointerEventData.dimensions || this.setupPointerData(e), this.isValidEventLocation(e) && (this.handleEl.contains(e.target) || this.handleEl.classList.remove(a), this.pointerEventData.drag.current = this.determineEventValues(e, t), this.fireEvent(this.knownEvents.MOUSE_MOVE, [e, this])))
                    },
                    pointerUpHandler: function(e) {
                        var t = e.pointerType;
                        e.component = this, this.dragging ? (this.dragging = !1, this.pointerEventData && this.pointerEventData.dimensions || this.setupPointerData(e), e.wrapperDimensions = this.pointerEventData.dimensions.wrapperEl, e.haveHandleTargetted = this.handleEl.contains(e.target) && t === r.mouse, this.fireEvent(this.knownEvents.DRAG_END, [e, this])) : this.isValidPointerType(e) && this.wrapperEl.contains(e.target) && (this.pointerEventData && this.pointerEventData.dimensions || this.setupPointerData(e), this.pointerEventData.drag.current = this.determineEventValues(e, !1), this.fireEvent(this.knownEvents.CLICK, [e, this])), this.pointerActive = !1
                    },
                    pointerEnterHandler: function(e) {
                        this.isValidPointerType(e) && this.isValidEventLocation(e) && (e.component = this, this.pointerEventData && this.pointerEventData.dimensions || this.setupPointerData(e), this.pointerEventData.drag.current = this.determineEventValues(e, !1), this.fireEvent(this.knownEvents.MOUSE_ENTER, [e, this]))
                    },
                    pointerLeaveHandler: function(e) {
                        !this.dragging && this.isValidPointerType(e) && (e.component = this, this.handleEl.classList.remove(a), this.fireEvent(this.knownEvents.MOUSE_LEAVE, [e, this]))
                    },
                    mouseDownHandler: function(e) {
                        e.pointerType = r.mouse, this.pointerDownHandler(e)
                    },
                    mouseMoveHandler: function(e) {
                        e.pointerType = r.mouse, this.pointerMoveHandler(e)
                    },
                    mouseUpHandler: function(e) {
                        e.pointerType = r.mouse, this.pointerUpHandler(e)
                    },
                    mouseOverHandler: function(e) {
                        this.wrapperEl.contains(e.relatedTarget) || (e.component = this, e.pointerType = r.mouse, this.pointerEventData && this.pointerEventData.dimensions || this.setupPointerData(e), this.isValidEventLocation(e) && (this.pointerEventData.drag.current = this.determineEventValues(e, !1), this.fireEvent(this.knownEvents.MOUSE_ENTER, [e, this])))
                    },
                    mouseOutHandler: function(e) {
                        this.dragging || this.wrapperEl.contains(e.relatedTarget) || (e.component = this, e.pointerType = r.mouse, this.handleEl.classList.remove(a), this.fireEvent(this.knownEvents.MOUSE_LEAVE, [e, this]))
                    },
                    focusHandler: function(e) {
                        this.pointerActive || t && t.cinemamode && t.cinemamode.setAccessibilityAffordance()
                    },
                    isValidEventLocation: function(e) {
                        var t = this.pointerEventData && this.pointerEventData.dimensions && this.pointerEventData.dimensions.wrapperEl;
                        return t ? this.orientation == this.type.orientations.horizontal ? e.pageX >= t.x && e.pageX <= t.x + t.w : e.pageY >= t.y && e.pageY <= t.y + t.h : !1
                    },
                    isValidPointerType: function(e) {
                        var t = e.pointerType;
                        return t === r.touch || t === r.mouse || t === r.pen
                    },
                    determineEventValues: function(e, t) {
                        var i, o, r, s, a = e.wrapperDimensions || n.getDimensions(this.wrapperEl),
                            l = !1;
                        return this.orientation === this.type.orientations.horizontal ? (t ? (o = this.pointerEventData.dimensions.handleEl.left, i = this.pointerEventData.drag.start.value, l = !0) : (o = e.pageX - a.x, s = Math.min(100, Math.max(0, o / a.w)), i = s * this.max), r = e.pageX) : (t ? (o = this.pointerEventData.dimensions.handleEl.bottom, i = this.max - this.pointerEventData.drag.start.value, l = !0) : (o = this.max - (e.pageY - a.y), s = Math.min(100, Math.max(0, o / a.h)), i = s * this.max), r = e.pageY), {
                            value: i,
                            animate: l,
                            relativePosition: o,
                            absolutePosition: r,
                            wrapperDimensions: a
                        }
                    },
                    _updateSnapBackEl: function(e) {
                        e = e || {}, this.value = "undefined" != typeof e.value ? e.value : this.value, this.max = e.max || this.max;
                        var t = this.value / this.max,
                            n = 100 * t + "%",
                            i = this.orientation === this.type.orientations.horizontal ? "left" : "bottom";
                        this.snapbackDragEl.style[i] = n
                    },
                    _updateDOM: function(t) {
                        t = t || {}, this.value = "undefined" != typeof t.value ? t.value : this.value, this.max = t.max || this.max, this.buffer = t.buffer || this.buffer;
                        var n = this.value / this.max,
                            i = this.buffer / this.max,
                            o = t.animate ? "add" : "remove",
                            r = 100 * n + "%",
                            s = 100 * (i - n) + "%",
                            a = this;
                        this.fireEvent(this.knownEvents.NEW_VALUE, [this]), this.handleEl.classList[o](u), this.completedEl.classList[o](u), window.setTimeout(function() {
                            a.orientation === a.type.orientations.horizontal ? (a.handleEl.style.left = r, a.completedEl.style.width = r, a.bufferedTimeEl.style.width = s) : (a.handleEl.style.bottom = r, a.completedEl.style.height = r), a.parentNode.setAttribute("aria-valuenow", Math.ceil(100 * n)), a.parentNode.setAttribute("aria-valuetext", e.I18n.getWithParams("ce-button-alt-slider", ["PERCENTAGE"], [Math.ceil(100 * n)]))
                        }, 1)
                    },
                    update: function(e, t, n) {
                        this.dragging || this._updateDOM({
                            value: e,
                            max: t,
                            buffer: n,
                            animate: !1
                        })
                    },
                    incrementScrubberPosition: function(e) {
                        var t, i, o = Math.min(this.max, Math.max(0, this.value + e)),
                            r = o / this.max,
                            s = n.getDimensions(this.wrapperEl);
                        this.orientation === this.type.orientations.horizontal ? (t = s.w * r, i = s.x + t) : (t = s.h * r, i = s.y - (100 - t)), this.pointerEventData || (this.pointerEventData = {}), this.pointerEventData.drag || (this.pointerEventData.drag = {}), this.pointerEventData.drag.current = {
                            value: o,
                            animate: !1,
                            relativePosition: t,
                            absolutePosition: i,
                            wrapperDimensions: s
                        }, this.update(o, this.max)
                    },
                    updatePercent: function(e) {
                        var t = e * this.max;
                        window.requestAnimationFrame(function() {
                            this._updateDOM({
                                value: t
                            })
                        }.bind(this))
                    },
                    show: function() {
                        this.wrapperEl.classList.add(l)
                    },
                    hide: function() {
                        this.dragging || this.wrapperEl.classList.remove(l)
                    },
                    destroy: function() {
                        this.initialized && (this.initialized = !1, window.navigator.msPointerEnabled ? (this.playerWrapperEl.removeEventListener("MSPointerDown", this.boundPointerDownHandler, !1), this.playerWrapperEl.removeEventListener("MSPointerMove", this.boundPointerMoveHandler, !1), this.playerWrapperEl.removeEventListener("MSPointerUp", this.boundPointerUpHandler, !1), this.wrapperEl.removeEventListener("MSPointerEnter", this.boundPointerEnterHandler, !1), this.wrapperEl.removeEventListener("MSPointerLeave", this.boundPointerLeaveHandler, !1)) : (this.playerWrapperEl.removeEventListener("mousedown", this.boundMouseDownHandler, !1), this.playerWrapperEl.removeEventListener("mousemove", this.boundMouseMoveHandler, !1), this.playerWrapperEl.removeEventListener("mouseup", this.boundMouseUpHandler, !1), this.wrapperEl.removeEventListener("mouseover", this.boundMouseOverHandler, !1), this.wrapperEl.removeEventListener("mouseout", this.boundMouseOutHandler, !1)), this.parentNode.removeEventListener("focus", this.boundFocusHandler, !1), o.removeEventListener(o.knownEvents.WINDOW_RESIZE, this.setupPointerDataDimensions), n.remove([this.handleEl, this.completedEl, this.progressEl, this.wrapperEl])), this._super()
                    },
                    init: function(e, r) {
                        this._super(e, r), this.type = t.ui.ScrubberComponent, this.pointerEventData = r && r.pointerEventData || {}, this.orientation = r && r.orientation || this.type.orientations.horizontal, this.wrapperEl = n.create("div", {
                            "class": "player-scrubber " + this.orientation.clazz,
                            id: this.config.id || null
                        }), this.progressEl = n.create("div", {
                            "class": "player-scrubber-progress"
                        }), this.completedEl = n.create("div", {
                            "class": "player-scrubber-progress-completed"
                        }, this.progressEl), this.bufferedTimeEl = n.create("div", {
                            "class": "player-scrubber-progress-buffered"
                        }, this.progressEl), this.wrapperEl.appendChild(this.progressEl), this.handleEl = n.create("button", {
                            "class": "player-scrubber-target"
                        }, this.wrapperEl), this.handleEl.tabIndex = -1, this.indicatorEl = n.create("div", {
                            "class": "player-scrubber-handle"
                        }, this.handleEl), this.snapbackDragEl = n.create("div", {
                            "class": "trickplay-position trickplay-snapback"
                        }, this.progressEl), this.parentNode.appendChild(this.wrapperEl), this.parentNode.tabIndex = 0, this.parentNode.setAttribute("role", "slider"), this.parentNode.setAttribute("aria-valuemin", "0"), this.parentNode.setAttribute("aria-valuemax", "100"), this.parentNode.setAttribute("aria-valuenow", "0"), this.playerWrapperEl = i.playerWrapper(), this.boundPointerDownHandler = this.pointerDownHandler.bind(this), this.boundPointerMoveHandler = this.pointerMoveHandler.bind(this), this.boundPointerUpHandler = this.pointerUpHandler.bind(this), this.boundPointerEnterHandler = this.pointerEnterHandler.bind(this), this.boundPointerLeaveHandler = this.pointerLeaveHandler.bind(this), this.boundMouseDownHandler = this.mouseDownHandler.bind(this), this.boundMouseMoveHandler = this.mouseMoveHandler.bind(this), this.boundMouseUpHandler = this.mouseUpHandler.bind(this), this.boundMouseOverHandler = this.mouseOverHandler.bind(this), this.boundMouseOutHandler = this.mouseOutHandler.bind(this), window.navigator.msPointerEnabled ? (this.playerWrapperEl.addEventListener("MSPointerDown", this.boundPointerDownHandler, !1), this.playerWrapperEl.addEventListener("MSPointerMove", this.boundPointerMoveHandler, !1), this.playerWrapperEl.addEventListener("MSPointerUp", this.boundPointerUpHandler, !1), this.wrapperEl.addEventListener("MSPointerEnter", this.boundPointerEnterHandler, !1), this.wrapperEl.addEventListener("MSPointerLeave", this.boundPointerLeaveHandler, !1)) : (this.playerWrapperEl.addEventListener("mousedown", this.boundMouseDownHandler, !1), this.playerWrapperEl.addEventListener("mousemove", this.boundMouseMoveHandler, !1), this.playerWrapperEl.addEventListener("mouseup", this.boundMouseUpHandler, !1), this.wrapperEl.addEventListener("mouseover", this.boundMouseOverHandler, !1), this.wrapperEl.addEventListener("mouseout", this.boundMouseOutHandler, !1)), this.boundFocusHandler = this.focusHandler.bind(this), this.parentNode.addEventListener("focus", this.boundFocusHandler, !1), o.addEventListener(o.knownEvents.WINDOW_RESIZE, this.setupPointerDataDimensions, this)
                    }
                }), t.ui.ScrubberComponent.orientations = Object.freeze({
                    horizontal: {
                        id: 1,
                        clazz: "horizontal"
                    },
                    vertical: {
                        id: 2,
                        clazz: "vertical"
                    }
                })
            }(),
            function() {
                "use strict";
                var t = e.cadmium,
                    n = t.UiEvents,
                    i = t.element,
                    o = i.classNames,
                    r = o.visible,
                    s = o.active,
                    a = t.browser.pointerTypes,
                    l = Rx.Observable,
                    u = function() {},
                    d = 3e3;
                t.ui.MenuComponent = t.ui.Component.extend({
                    openerEl: null,
                    config: {
                        id: "menu-component"
                    },
                    useMouseTriangleDetection: !1,
                    menuMouseTriangle: null,
                    hideMenuTimeout: null,
                    hideMenuDelay: 300,
                    showEvent: "mouseover",
                    mouseOverEvent: "menu-mouseover",
                    menuEl: null,
                    destroy: function() {
                        this.initialized && (this.initialized = !1, this.disposed && this.disposed.onNext(), this.disposed = null, window.navigator.msPointerEnabled && (document.removeEventListener("MSPointerMove", this.boundPointermoveHandler), this.menuEl.removeEventListener("MSPointerOut", this.boundPointeroutMenuHandler), this.menuEl.removeEventListener("MSPointerOver", this.boundPointeroverMenuHandler)), this.openerEl.removeEventListener(this.showEvent, this.boundMouseoverOpenerHandler), this.openerEl.removeEventListener("mouseout", this.boundMouseoutOpenerHandler), this.openerEl.removeEventListener("keydown", this.boundKeydownOpenerHandler), this.openerEl.removeEventListener("click", this.boundClickOpenerHandler), n.removeEventListener(n.knownEvents.SHOW_MENU, this.boundMenuShownHandler), document.removeEventListener("mousemove", this.boundMousemoveHandler), this.menuEl.removeEventListener("mouseout", this.boundMouseoutMenuHandler), this.menuEl.removeEventListener("mouseover", this.boundMouseoverMenuHandler), this.menuEl.removeEventListener("transitionend", this.boundFadeoutEndedHandler), i.remove(this.menuEl), this.menuMouseTriangle = null, this.menuEl = null), this._super()
                    },
                    init: function(e, t, o) {
                        this._super(e, o), this.disposed = new Rx.Subject, this.openerEl = t, this.hideMenuDelay = o.hideMenuDelay || this.hideMenuDelay, this.showEvent = o.showEvent || this.showEvent, this.menuEl = i.create("div", {
                            "class": "player-menu",
                            id: this.config.id || null
                        }, this.parentNode), this.boundMouseoverOpenerHandler || (window.navigator.msPointerEnabled ? (this.boundPointermoveHandler = this.pointermoveHandler.bind(this), this.boundPointeroutMenuHandler = this.pointeroutMenuHandler.bind(this), this.boundPointeroverMenuHandler = this.pointeroverMenuHandler.bind(this)) : (this.boundMousemoveHandler = this.mousemoveHandler.bind(this), this.boundMouseoutMenuHandler = this.mouseoutMenuHandler.bind(this), this.boundMouseoverMenuHandler = this.mouseoverMenuHandler.bind(this)), this.boundMouseoverOpenerHandler = this.mouseoverOpenerHandler.bind(this), this.boundMouseoutOpenerHandler = this.mouseoutOpenerHandler.bind(this), this.boundKeydownOpenerHandler = this.keydownOpenerHandler.bind(this), this.boundClickOpenerHandler = this.clickOpenerHandler.bind(this), this.boundMenuShownHandler = this.menuShownHandler.bind(this), this.boundFadeoutEndedHandler = this.fadeoutEndedHandler.bind(this), this.boundHide = this.hide.bind(this)), this.openerEl.addEventListener(this.showEvent, this.boundMouseoverOpenerHandler), this.openerEl.addEventListener("mouseout", this.boundMouseoutOpenerHandler), this.openerEl.addEventListener("keydown", this.boundKeydownOpenerHandler), this.openerEl.addEventListener("click", this.boundClickOpenerHandler), n.addEventListener(n.knownEvents.SHOW_MENU, this.boundMenuShownHandler)
                    },
                    update: function(e) {
                        this.initialized && (e ? this.show() : this.hide())
                    },
                    show: function() {
                        if (!this.isShowing() && this.initialized) {
                            window.navigator.msPointerEnabled ? document.addEventListener("MSPointerMove", this.boundPointermoveHandler) : document.addEventListener("mousemove", this.boundMousemoveHandler), this.useMouseTriangleDetection = !1, window.clearTimeout(this.hideMenuTimeout), this.menuEl.classList.add(r), this.openerEl.classList.add(s);
                            var e = this;
                            requestAnimationFrame(function() {
                                if (e.initialized) {
                                    var t = i.getDimensions(e.menuEl),
                                        o = i.getDimensions(e.openerEl);
                                    n.fireEvent(n.knownEvents.SHOW_MENU, [e.config.id]), e.menuMouseTriangle = {
                                        a: {
                                            x: o.x + o.w / 2,
                                            y: o.y + o.h
                                        },
                                        b: {
                                            x: t.x,
                                            y: t.y + .95 * t.h
                                        },
                                        c: {
                                            x: t.x + t.w,
                                            y: t.y + .95 * t.h
                                        }
                                    }, e.menuEl.classList.add(s), window.navigator.msPointerEnabled ? (e.menuEl.addEventListener("MSPointerOut", e.boundPointeroutMenuHandler), e.menuEl.addEventListener("MSPointerOver", e.boundPointeroverMenuHandler)) : (e.menuEl.addEventListener("mouseout", e.boundMouseoutMenuHandler), e.menuEl.addEventListener("mouseover", e.boundMouseoverMenuHandler))
                                }
                            })
                        }
                    },
                    showTickler: function() {
                        this.show(), n.fireEvent(n.knownEvents.FORCE_SHOW_MENU), l.timer(d).takeUntil(this.disposed).takeUntil(l.fromEvent(this, this.mouseOverEvent)).doAction(this.hide.bind(this), u, function() {
                            n.fireEvent(n.knownEvents.REMOVE_FORCE_SHOW_MENU)
                        }).subscribe()
                    },
                    hide: function() {
                        this.isShowing() && this.initialized && (window.navigator.msPointerEnabled ? (document.removeEventListener("MSPointerMove", this.boundPointermoveHandler), this.menuEl.removeEventListener("MSPointerOut", this.boundPointeroutMenuHandler), this.menuEl.removeEventListener("MSPointerOver", this.boundPointeroverMenuHandler)) : (document.removeEventListener("mousemove", this.boundMousemoveHandler), this.menuEl.removeEventListener("mouseout", this.boundMouseoutMenuHandler), this.menuEl.removeEventListener("mouseover", this.boundMouseoverMenuHandler)), n.fireEvent(n.knownEvents.HIDE_MENU, [this.config.id]), this.menuEl.addEventListener("transitionend", this.boundFadeoutEndedHandler), this.menuEl.classList.remove(s), this.openerEl.classList.remove(s))
                    },
                    fadeoutEndedHandler: function(e) {
                        e.target === this.menuEl && (e.stopPropagation(), this.menuEl.classList.contains(s) || this.menuEl.classList.remove(r), this.menuEl.removeEventListener("transitionend", this.boundFadeoutEndedHandler))
                    },
                    menuShownHandler: function(e) {
                        e !== this.config.id && this.update(!1)
                    },
                    mousemoveHandler: function(e) {
                        this.useMouseTriangleDetection && null !== this.menuMouseTriangle && (i.isPointInTriangle({
                            x: e.pageX,
                            y: e.pageY
                        }, this.menuMouseTriangle.a, this.menuMouseTriangle.b, this.menuMouseTriangle.c) || this.hide())
                    },
                    pointermoveHandler: function(e) {
                        var t = e.pointerType;
                        t !== a.mouse ? (e.preventDefault(), this.menuEl.contains(e.target) || this.openerEl.contains(e.target) || this.update(!1)) : this.mousemoveHandler(e)
                    },
                    mouseoverMenuHandler: function() {
                        this.useMouseTriangleDetection = !1, this.fireEvent(this.mouseOverEvent), window.clearTimeout(this.hideMenuTimeout)
                    },
                    pointeroverMenuHandler: function(e) {
                        var t = e.pointerType;
                        t !== a.mouse ? e.preventDefault() : (this.fireEvent(this.mouseOverEvent), this.mouseoverMenuHandler())
                    },
                    mouseoutMenuHandler: function(e) {
                        var t = e.relatedTarget;
                        this.menuEl.contains(t) || this.openerEl.contains(t) || (this.hideMenuTimeout = window.setTimeout(this.boundHide, this.hideMenuDelay))
                    },
                    pointeroutMenuHandler: function(e) {
                        var t = e.pointerType;
                        t !== a.mouse ? e.preventDefault() : this.mouseoutMenuHandler(e)
                    },
                    mouseoverOpenerHandler: function() {
                        this.update(!0)
                    },
                    keydownOpenerHandler: function(e) {
                        32 === e.keyCode || 13 === e.keyCode ? (this.update(!0), e.preventDefault()) : 27 === e.keyCode && (e.preventDefault(), this.openerEl && this.openerEl.focus(), this.hideMenuTimeout = window.setTimeout(this.boundHide, this.hideMenuDelay))
                    },
                    clickOpenerHandler: function(e) {
                        this.update(!0)
                    },
                    mouseoutOpenerHandler: function(e) {
                        this.openerEl.contains(e.relatedTarget) || (this.useMouseTriangleDetection = !0)
                    },
                    isShowing: function() {
                        return this.menuEl.classList.contains(s)
                    }
                })
            }(),
            function() {
                var t = e.cadmium,
                    n = (e.I18n, t.element),
                    i = t.objects,
                    o = t.UiEvents,
                    r = t.keyboard,
                    s = t.session,
                    a = "role",
                    l = "aria-label",
                    u = .1,
                    d = "icon-player-volume-";
                t.ui.VolumeMenuComponent = t.ui.MenuComponent.extend({
                    id: null,
                    wrapper: null,
                    scrubber: null,
                    volumeControlHeight: 0,
                    volumeTextNode: null,
                    muted: !1,
                    savedVolume: 0,
                    videoPlayer: null,
                    disposed: null,
                    normalize: function(e) {
                        var t = e / (this.volumeControlHeight || 1);
                        return .05 > t ? t = 0 : t > .97 && (t = 1), t
                    },
                    updateVolumeDisplay: function(t) {
                        for (var n = parseInt(t), i = Math.min(Math.ceil(n / 33), 3), o = e.I18n, r = 0; 4 > r; r++) this.parentNode.classList.remove(d + r);
                        this.wrapper.setAttribute(l, o.get("ce-button-alt-volume")), this.parentNode.classList.add(d + i)
                    },
                    volumeLevelChanged: function(e) {
                        var t = e.value,
                            n = this.normalize(t);
                        n !== this.getVolume() && (this.setVolume(n), this.updateVolumeDisplay(100 * n))
                    },
                    clickScrubberHandler: function(e, t) {
                        t.value = t.pointerEventData.drag.current.value, this.volumeLevelChanged(t), this.scrubber.updatePercent(this.getVolume())
                    },
                    setVolume: function(e) {
                        e !== this.getVolume() && (this.videoPlayer.setVolume(e), this.muted = 0 === e, this.videoPlayer.setMuted(this.muted), s.setSessionData(s.SESSION_TYPES.VOLUME, {
                            percentage: e,
                            mute: this.muted
                        }))
                    },
                    getVolume: function() {
                        return this.videoPlayer.getVolume()
                    },
                    muteOn: function() {
                        this.savedVolume = this.getVolume(), this.updateVolumeDisplay(0), this.scrubber.updatePercent(0), this.muted = !0, this.videoPlayer.setMuted(this.muted)
                    },
                    muteOff: function() {
                        this.updateVolumeDisplay(100 * this.savedVolume), this.scrubber.updatePercent(this.savedVolume), this.muted = !1, this.videoPlayer.setMuted(this.muted)
                    },
                    toggleMute: function() {
                        this.scrubber.max ? this.muted ? this.muteOff() : this.muteOn() : (this.muted = !this.muted, this.videoPlayer.setMuted(this.muted), this.updateVolumeDisplay(this.muted ? 0 : 100 * this.getVolume()))
                    },
                    adjustVolume: function(e) {
                        var t = .1 > e ? 0 : e > 1 ? 1 : e;
                        this.scrubber.max ? this.scrubber.updatePercent(t) : (this.setVolume(t), this.updateVolumeDisplay(100 * t))
                    },
                    showHandler: function(e) {
                        e === this.id && (this.volumeControlHeight = this.scrubber.wrapperEl.offsetHeight, this.scrubber.update(this.getVolume() * this.volumeControlHeight, this.volumeControlHeight))
                    },
                    focusHandler: function(e) {},
                    keyHandler: function(e) {
                        var t = this.getVolume();
                        this.adjustVolume(t + e)
                    },
                    addBehaviors: function() {
                        function e(e, t, n) {
                            return Rx.Observable.fromEvent(e, t).takeUntil(a).doAction(n).subscribe(s, l, s)
                        }
                        var n = this.scrubber,
                            i = n.knownEvents,
                            s = t.util.NOOP,
                            a = this.disposed,
                            l = function(e) {
                                t.logging.log(e && e.stack || e)
                            };
                        this.wrapper.addEventListener("focus", this.focusHandler), n.addEventListener(i.DRAG_END, this.clickScrubberHandler), a.onNext(function() {
                            n.removeEventListener(i.DRAG_END, this.clickScrubberHandler), this.wrapper.removeEventListener("focus", this.focusHandler)
                        }.bind(this)), e(n, i.NEW_VALUE, this.volumeLevelChanged), e(o, o.knownEvents.SHOW_MENU, this.showHandler);
                        var d = this;
                        Rx.Observable.fromEvent(r, r.knownEvents.TOGGLE_MUTE).takeUntil(a).doAction(function() {
                            d.toggleMute()
                        }).subscribe(s, l, s), Rx.Observable.fromEvent(r, r.knownEvents.INCREASE_VOLUME).takeUntil(a).doAction(function() {
                            d.keyHandler(u)
                        }).subscribe(s, l, s), Rx.Observable.fromEvent(r, r.knownEvents.DECREASE_VOLUME).takeUntil(a).doAction(function() {
                            d.keyHandler(-1 * u)
                        }).subscribe(s, l, s)
                    },
                    createContents: function() {
                        var i = e.I18n;
                        this.wrapper = n.create("div", {
                            "class": "volume-menu-content"
                        }), this.wrapper.tabIndex = 0, this.wrapper.setAttribute(a, "button"), this.wrapper.setAttribute(l, i.get("ce-button-alt-volume")), this.scrubber = new t.ui.ScrubberComponent(this.wrapper, {
                            orientation: t.ui.ScrubberComponent.orientations.vertical
                        }), this.addBehaviors(), this.menuEl.appendChild(this.wrapper), setTimeout(function() {
                            this.updateVolumeDisplay(100 * this.getVolume())
                        }.bind(this), 1)
                    },
                    init: function(e, t, n) {
                        this._super(e, t, n), this.videoPlayer = i.videoPlayer(), this.muted = this.videoPlayer.getMuted(), this.id = n.id, this.disposed = new Rx.Subject, this.volumeLevelChanged = this.volumeLevelChanged.bind(this), this.clickScrubberHandler = this.clickScrubberHandler.bind(this), this.showHandler = this.showHandler.bind(this), this.keyHandler = this.keyHandler.bind(this);
                        var o = s.getSessionData(s.SESSION_TYPES.VOLUME);
                        if (o && void 0 != o.percentage) {
                            var r = o.percentage;
                            this.savedVolume = r, this.setVolume(r)
                        }
                        this.createContents()
                    },
                    destroy: function() {
                        this.disposed && this.disposed.onNext(), this.id = null, this.wrapper = null, this.scrubber = null, this.volumeTextNode = null, this.muted = null, this.videoPlayer = null, this.disposed = null, this.volumeLevelChanged = null, this.clickScrubberHandler = null, this.showHandler = null, this.keyHandler = null, this._super()
                    }
                })
            }(),
            function() {
                "use strict";
                var t = e.cadmium,
                    n = t.metadata,
                    i = t.element;
                t.ui.NextEpisodeMenuComponent = t.ui.MenuComponent.extend({
                    createContents: function() {
                        var t, o = n.getNextEpisode(),
                            r = e.I18n;
                        o && (this.menuHeaderEl = i.create("h1"), this.menuHeaderEl.textContent = r.get("ce-next-episode-header"), this.menuDataWrapperEl = i.create("div", {
                            "class": "player-next-episode-info"
                        }), t = n.getSmallestImage(o.stills), this.menuNextEpisodeImageContainer = i.create("div", {
                            "class": "image-container"
                        }), t && t.w && t.h && t.url && (this.menuNextEpisodeImageContainer = i.create("div", {
                            "class": "image-container"
                        }), this.menuNextEpisodeImage = i.create("img", {
                            "class": "next-episode-image"
                        }, this.menuNextEpisodeImageContainer), this.menuNextEpisodeImage.setAttribute("data-img-src", t.url), this.menuNextEpisodeImage.style["margin-left"] = i.calcScaledScreenOffset(t, 6)), i.create("div", {
                            "class": "play-icon"
                        }, this.menuNextEpisodeImageContainer), this.menuDataWrapperEl.appendChild(this.menuNextEpisodeImageContainer), this.menuTextWrapperEl = i.create("div", {
                            "class": "player-next-episode-description"
                        }), this.menuTextHeaderEl = i.create("h2"), this.menuTextHeaderEl.textContent = r.getWithParams("ce-next-episode-title", ["NUMBER", "TITLE"], [o.seq, o.title]), this.menuTextEl = i.create("p"), this.menuTextEl.textContent = o.synopsis, this.menuTextWrapperEl.appendChild(this.menuTextHeaderEl), this.menuTextWrapperEl.appendChild(this.menuTextEl), this.menuDataWrapperEl.appendChild(this.menuTextWrapperEl), this.menuEl.appendChild(this.menuHeaderEl), this.menuEl.appendChild(this.menuDataWrapperEl))
                    },
                    show: function() {
                        this.menuNextEpisodeImage && !this.menuNextEpisodeImage.src && (this.menuNextEpisodeImage.src = this.menuNextEpisodeImage.getAttribute("data-img-src")), this._super()
                    },
                    init: function(e, t, n) {
                        this._super(e, t, n), this.createContents()
                    }
                })
            }(),
            function() {
                var t, n, i, o = e.cadmium,
                    r = o.metadata,
                    s = o.element,
                    a = null,
                    l = "role",
                    u = "change-video",
                    d = function(e) {
                        e.target.classList.contains("episode-list-item--expanded") && e.target.classList.add("episode-list-item--transition-ready"), e.target.removeEventListener("transitionend", d)
                    },
                    c = function(e) {
                        var o = e.target;
                        if (n.contains(o))
                            for (; n.contains(o); o = o.parentNode) {
                                if (o.classList.contains("episode-list-item--expanded")) {
                                    var s = o.getAttribute("data-episode-id");
                                    return void(s != r.getActiveVideo().id && this.fireEvent(u, [{
                                        videoId: s
                                    }]))
                                }
                                if (o.classList.contains("episode-list-item")) {
                                    var a = document.getElementsByClassName("episode-list-item--expanded")[0];
                                    return a && p(a), void h(o, !0)
                                }
                                if (o.classList.contains("back-to-seasons")) {
                                    t.classList.remove("show-episode-list");
                                    var l = t.getElementsByClassName("season");
                                    return void(l.length > 0 && l[0].focus())
                                }
                            } else if (i.contains(o))
                                for (; i.contains(o); o = o.parentNode)
                                    if (o.classList.contains("season")) {
                                        this.createEpisodeListPanel(o.getAttribute("data-season-id")), t.classList.add("show-episode-list");
                                        var d = o.getElementsByClassName("episode-list-item-header");
                                        return void(d.length > 0 && d[0].focus())
                                    }
                    },
                    m = function(e) {
                        (32 === e.keyCode || 13 === e.keyCode) && (e.preventDefault(), c.call(this, e))
                    },
                    p = function(e) {
                        e.classList.remove("episode-list-item--expanded"), e.classList.remove("episode-list-item--transition-ready"), e.style.height = ""
                    },
                    h = function(e, t) {
                        t ? (e.addEventListener("transitionend", d), e.classList.add("episode-list-item--expanded"), e.style.height = e.getAttribute("data-expanded-height")) : (e.classList.add("episode-list-item--no-transition"), e.classList.add("episode-list-item--expanded"), e.style.height = e.getAttribute("data-expanded-height"), setTimeout(function() {
                            e.classList.remove("episode-list-item--no-transition")
                        }, 1));
                        var n = e.getElementsByClassName("episode-list-image")[0],
                            i = n.getAttribute("data-img-src");
                        !n.src && i && (n.src = i);
                        var o = e.getElementsByClassName("episode-list-synopsis");
                        o.length > 0 && o[0].focus()
                    };
                o.ui.EpisodeSelectorMenuComponent = o.ui.MenuComponent.extend({
                    createSeasonPanel: function() {
                        var e = r.getMetadata(),
                            n = e.video.seasons.length;
                        i = s.create("div", {
                            "class": "season-list-container"
                        }, t), 2 > n && i.setAttribute("aria-hidden", !0);
                        var o = s.create("h2", {
                            "class": "seasons-title"
                        }, i);
                        o.textContent = e.video.title;
                        for (var a = s.create("ul", {
                                "class": "season-list"
                            }, i), u = 0; n > u; u++) {
                            var d = s.create("li", {
                                    "class": "season icon-player-forward-arrow"
                                }, a),
                                c = e.video.seasons[u],
                                m = s.create("span", null, d);
                            m.textContent = c.title, d.setAttribute("data-season-id", c.id), d.setAttribute(l, "link"), d.tabIndex = 0
                        }
                    },
                    createEpisodeListPanel: function(i) {
                        for (var o, u, d, c, m = 0; m < a.video.seasons.length; m++) a.video.seasons[m].id == i && (u = a.video.seasons[m]);
                        d = r.getActiveSeason().id == i ? r.getActiveVideo().id : u.episodes[0].id, u || (u = r.getActiveSeason()), n && n.parentNode.removeChild(n), n = s.create("div", {
                            "class": "episode-list-container"
                        });
                        var p = s.create("div", {
                            "class": "episode-list-header"
                        }, n);
                        if (a.video.seasons.length > 1) {
                            var v = s.create("div", {
                                    "class": "back-to-seasons-container"
                                }, p),
                                E = s.create("button", {
                                    "class": "back-to-seasons icon-player-back-arrow"
                                }, v);
                            E.setAttribute("aria-label", e.I18n.getWithParams("ce-button-alt-season-selector"))
                        }
                        o = s.create("h2", {
                            "class": "seasons-title"
                        }, p), o.textContent = u.title;
                        for (var f = s.create("ul", {
                                "class": "episode-list"
                            }, n), m = 0; m < u.episodes.length; m++) {
                            var g = u.episodes[m],
                                b = s.create("li", {
                                    "class": "episode-list-item"
                                }, f);
                            b.setAttribute("data-episode-id", g.id);
                            var _ = s.create("div", {
                                "class": "episode-list-item-header"
                            }, b);
                            _.setAttribute(l, "link"), _.tabIndex = 0;
                            var y = s.create("span", {
                                "class": "episode-list-index"
                            }, _);
                            y.innerHTML = m + 1;
                            var w = s.create("h3", {
                                "class": "episode-list-title"
                            }, _);
                            w.innerHTML = g.title;
                            var k = s.create("progress", {
                                "class": "episode-list-progress"
                            }, _);
                            k.max = "100", g.bookmark && g.bookmark.offset >= 0 && g.runtime > 0 ? k.value = g.bookmark.offset / g.runtime * 100 : k.value = 0, s.create("span", {
                                "class": "episode-list-down-arrow icon-player-down-arrow"
                            }, _);
                            var x = s.create("div", {
                                    "class": "episode-list-description-container"
                                }, b),
                                T = s.create("div", {
                                    "class": "episode-list-image-container"
                                }, x),
                                A = s.create("img", {
                                    "class": "episode-list-image"
                                }, T);
                            A.setAttribute("alt", "");
                            var L = r.getSmallestImage(g.stills);
                            L && (A.setAttribute("data-img-src", L.url), A.style["margin-left"] = s.calcScaledScreenOffset(L, 6)), g.id !== r.getActiveVideo().id && s.create("div", {
                                "class": "play-icon"
                            }, T);
                            var I = s.create("p", {
                                "class": "episode-list-synopsis"
                            }, x);
                            I.innerHTML = g.synopsis, I.setAttribute(l, "link"), I.tabIndex = -1
                        }
                        t.appendChild(n);
                        var P = this.menuEl.classList.contains(s.classNames.visible);
                        P || this.menuEl.classList.add(s.classNames.visible);
                        for (var C = n.getElementsByClassName("episode-list-item"), m = 0; m < C.length; m++) {
                            var O = C[m],
                                N = O.cloneNode(!0);
                            if (N.classList.add("episode-list-item--copied"), O.parentNode.appendChild(N), !c) {
                                var S = s.create("div", {
                                    "class": "measuring-stick"
                                }, N);
                                c = S.clientWidth / 1e3
                            }
                            var R = s.getDimensions(N).h / c - 1;
                            O.setAttribute("data-expanded-height", R + "em"), O.parentNode.removeChild(N), O.getAttribute("data-episode-id") == d && (h(O, !1), O.parentElement.scrollTop = O.offsetTop - O.parentElement.offsetTop)
                        }
                        P || this.menuEl.classList.remove(s.classNames.visible)
                    },
                    createContents: function(e) {
                        var n = s.create("div", {
                            "class": "episode-selector-container"
                        }, this.menuEl);
                        t = s.create("div", {
                            "class": "episode-selector-slider show-episode-list"
                        }, n), this.scopedClickHandler = c.bind(this), t.addEventListener("click", this.scopedClickHandler), this.scopedA11yKeydownHandler = m.bind(this), t.addEventListener("keydown", this.scopedA11yKeydownHandler), this.createSeasonPanel(), this.createEpisodeListPanel(e)
                    },
                    init: function(e, t, n) {
                        this._super(e, t, n), a || (a = r.getMetadata()), this.createContents(r.getActiveSeason().id)
                    },
                    destroy: function() {
                        a = null, t.removeEventListener("click", this.scopedClickHandler), t.removeEventListener("keydown", this.scopedA11yKeydownHandler), this._super()
                    },
                    CHANGE_VIDEO_EVENT: u
                })
            }(),
            function() {
                "use strict";
                var t = e.cadmium,
                    n = t.objects,
                    i = t.element,
                    o = t.logging,
                    r = t.util.NOOP,
                    s = "none",
                    a = "data-id",
                    l = "data-commentary",
                    u = "role",
                    d = i.classNames.visible,
                    c = "5.1";
                t.ui.AudioSubtitleMenuComponent = t.ui.MenuComponent.extend({
                    audioListEl: null,
                    audioHeaderEl: null,
                    audioItemsEls: {},
                    textListEl: null,
                    textHeaderEl: null,
                    textItemsEls: {},
                    videoPlayer: null,
                    allowAudioTrackModification: !1,
                    allowTextTrackModifications: !1,
                    clickHandler: function(e) {
                        var t, n, i = e.target,
                            o = i.getAttribute(a);
                        this.useMouseTriangleDetection = !0, this.audioListEl.contains(i) ? (t = this.audioItemsEls[o], n = t && t.track, t && this.videoPlayer.setAudioTrack(n)) : this.textListEl.contains(i) && (o === s ? (this.videoPlayer.setTimedTextTrack(null), n = null) : (t = this.textItemsEls[o], t && (n = t.track, this.videoPlayer.setTimedTextTrack(n))))
                    },
                    a11yKeydownHandler: function(e) {
                        e.target, (32 === e.keyCode || 13 === e.keyCode) && (e.preventDefault(), this.clickHandler(e))
                    },
                    _updateAudioListDOM: function() {
                        var t, n, o, r, s, m, p, h = this.videoPlayer.getAudioTrackList(),
                            v = this.videoPlayer.getAudioTrack(),
                            E = this;
                        if (h) {
                            for (t in this.audioItemsEls) this.audioItemsEls.hasOwnProperty(t) && (t = this.audioItemsEls[t], i.remove(t.el));
                            E.audioItemsEls = {}, h.forEach(function(t) {
                                t && (o = t.trackId, n = i.create("li", {
                                    "class": v && v.trackId === o ? "player-track-selected" : null
                                }, E.audioListEl), n.setAttribute(a, o), n.setAttribute(u, "link"), n.tabIndex = 0, m = t.channels || "", p = m.indexOf(c) >= 0 ? "dolby-digital" : "", "COMMENTARY" == t.trackType ? (s = t.displayName.split(" - "), r = "", 2 == s.length ? (r = e.I18n.get("ce-audio-tracks-commentator-title"), r = r.replace("{LANGUAGE}", s[0]), r = r.replace("{COMMENTATOR}", s[1])) : r = t.displayName, n.setAttribute(l, "true"), n.appendChild(document.createTextNode(r))) : (r = p ? e.I18n.getWithParams(p, ["LANG"], [t.displayName]) : t.displayName, n.appendChild(document.createTextNode(r))), E.audioItemsEls[o] = {
                                    el: n,
                                    track: t
                                })
                            }), this.audioListEl.classList.add(d), this.allowAudioTrackModification = h.length > 1
                        } else this.audioListEl.classList.remove(d), this.allowAudioTrackModification = !1
                    },
                    _updateTextListDOM: function() {
                        var t, n, o, r, l = this.videoPlayer.getTimedTextTrackList(),
                            c = this.videoPlayer.getTimedTextTrack(),
                            m = !1,
                            p = e.I18n,
                            h = this;
                        if (l && l.length > 0) {
                            for (t in this.textItemsEls) this.textItemsEls.hasOwnProperty(t) && (t = this.textItemsEls[t], i.remove(t.el));
                            h.textItemsEls = {}, l.forEach(function(t) {
                                t ? (m = c && c.trackId === t.trackId, o = t.trackId, r = "ASSISTIVE" === t.trackType ? e.I18n.getWithParams("ce-text-track-assistive", ["LANGUAGE"], [t.displayName]) : t.displayName) : (t = s, m = !c, o = t, r = p.get("ce-none-track")), n = i.create("li", {
                                    "class": m ? "player-track-selected" : null
                                }, h.textListEl), n.setAttribute(u, "link"), n.tabIndex = 0, n.setAttribute(a, o), n.appendChild(document.createTextNode(r)), h.textItemsEls[o] = {
                                    el: n,
                                    track: t
                                }
                            }), this.textListEl.classList.add(d), this.allowTextTrackModifications = l.length > 1
                        } else this.textListEl.classList.remove(d), this.allowTextTrackModifications = !1
                    },
                    createContents: function() {
                        this.videoPlayer = n.videoPlayer();
                        var t = e.I18n;
                        this.audioListEl = i.create("ol", {
                                "class": "player-audio-tracks"
                            }), this.audioHeaderEl = i.create("lh", {}, this.audioListEl), this.audioHeaderEl.appendChild(document.createTextNode(t.get("ce-audio-tracks-title"))), this._updateAudioListDOM(), this.menuEl.appendChild(this.audioListEl), this.textListEl = i.create("ol", {
                                "class": "player-timed-text-tracks"
                            }), this.textHeaderEl = i.create("lh", {}, this.textListEl), this.textHeaderEl.appendChild(document.createTextNode(t.get("ce-text-tracks-title"))), this._updateTextListDOM(),
                            this.menuEl.appendChild(this.textListEl)
                    },
                    audioTrackListChangedHandler: function() {
                        this._updateAudioListDOM()
                    },
                    audioTrackChangedHandler: function() {
                        this._updateAudioListDOM()
                    },
                    textTrackListChangedHandler: function() {
                        this._updateTextListDOM()
                    },
                    textTrackChangedHandler: function() {
                        this._updateTextListDOM()
                    },
                    attachListeners: function() {
                        function e(e, i, o) {
                            Rx.Observable.fromEvent(e, i).takeUntil(t).doAction(o).subscribe(r, n, r)
                        }
                        o.log("initializing component.audio.subtitle.menu");
                        var t = this._disposed,
                            n = function(e) {
                                o.error(e && e.stack || e)
                            };
                        e(this.menuEl, "click", this.clickHandler), e(this.menuEl, "keydown", this.a11yKeydownHandler), e(this.videoPlayer, "audiotracklistchanged", this.audioTrackListChangedHandler), e(this.videoPlayer, "audiotrackchanged", this.audioTrackChangedHandler), e(this.videoPlayer, "timedtexttracklistchanged", this.textTrackListChangedHandler), e(this.videoPlayer, "timedtexttrackchanged", this.textTrackChangedHandler)
                    },
                    init: function(e, t, n) {
                        this._super(e, t, n), this.clickHandler = this.clickHandler.bind(this), this.a11yKeydownHandler = this.a11yKeydownHandler.bind(this), this.audioTrackListChangedHandler = this.audioTrackListChangedHandler.bind(this), this.audioTrackChangedHandler = this.audioTrackChangedHandler.bind(this), this.textTrackListChangedHandler = this.textTrackListChangedHandler.bind(this), this.textTrackChangedHandler = this.textTrackChangedHandler.bind(this), this._disposed = new Rx.Subject, this.createContents(), this.attachListeners()
                    },
                    destroy: function() {
                        this._disposed && this._disposed.onNext(), this.audioListEl = null, this.audioHeaderEl = null, this.audioItemsEls = {}, this.textListEl = null, this.textHeaderEl = null, this.textItemsEls = {}, this.videoPlayer = null, this._super()
                    }
                })
            }(),
            function() {
                var t, n, i = e.cadmium,
                    o = i.objects,
                    r = Rx.Observable,
                    s = i.element,
                    a = i.UiEvents,
                    l = "data-ip",
                    u = !1,
                    d = "mdxTicklerShowCount",
                    c = 3e3,
                    m = i.util.NOOP;
                i.ui.MdxMenuComponent = i.ui.MenuComponent.extend({
                    mdxListEl: null,
                    mdxHeaderEl: null,
                    mdxItemsEls: {},
                    videoPlayer: null,
                    allowMdxTrackModification: !1,
                    allowTextTrackModifications: !1,
                    clickHandler: function(e) {
                        var t = e.target.getAttribute(l);
                        i.ui.master.toggleMdxMode(!0, t)
                    },
                    _mdxLoadedHandler: function() {
                        t = o.mdxManager();
                        var e = Number(window.localStorage.getItem(d));
                        3 > e ? (window.localStorage.setItem(d, e + 1), u = !0, this._updateMdxListDOM()) : r.timer(c).take(1).subscribe(function() {
                            u = !0
                        }, m, m);
                        var i = this;
                        r.fromEvent(t, t.EVENTS.devicefound).takeUntil(n).doAction(this._updateMdxListDOM.bind(i), m, m).subscribe(), a.removeEventListener(a.knownEvents.MDX_LOADED, this._mdxLoadedHandler, this)
                    },
                    _updateMdxListDOM: function() {
                        if (t) {
                            for (var n, i = t.getTargetList(), o = this; this.mdxListEl.firstChild;) this.mdxListEl.removeChild(this.mdxListEl.firstChild);
                            if (this.mdxListEl.appendChild(this.mdxHeaderEl), e.cadmium.util.isEmptyObject(i)) this.hide();
                            else {
                                var r, a = null;
                                for (r in i) a = i[r], a && a._config && (n = s.create("li", null, o.mdxListEl), n.setAttribute(l, r), n.appendChild(document.createTextNode(a._config.friendlyName)));
                                u && this.showTickler()
                            }
                        }
                    },
                    createContents: function() {
                        this.videoPlayer = o.videoPlayer(), this.mdxListEl = s.create("ol", {
                            "class": "player-mdx-list"
                        }), this.mdxHeaderEl = s.create("lh", {}, this.mdxListEl), this.mdxHeaderEl.appendChild(document.createTextNode(e.I18n.get("mdx-play-on"))), t = o.mdxManager(), this._updateMdxListDOM(), this.menuEl.appendChild(this.mdxListEl)
                    },
                    attachListeners: function() {
                        this.boundClickHandler || (this.boundClickHandler = this.clickHandler.bind(this)), this.menuEl.addEventListener("click", this.boundClickHandler, !1)
                    },
                    init: function(e, t, i) {
                        this._super(e, t, i), this.createContents(), this.attachListeners(), n = new Rx.Subject, o.mdxManager() ? this._mdxLoadedHandler() : a.addEventListener(a.knownEvents.MDX_LOADED, this._mdxLoadedHandler, this)
                    },
                    destroy: function() {
                        this.menuEl.removeEventListener("click", this.boundClickHandler, !1), a.removeEventListener(a.knownEvents.MDX_LOADED, this._mdxLoadedHandler, this), t && t.removeEventListener(t.EVENTS.devicefound, this._updateMdxListDOM, this), n.onNext(), this._super()
                    }
                })
            }(),
            function() {
                var t = e.cadmium,
                    n = t.element;
                t.ui.Button = t.ui.Component.extend({
                    knownEvents: Object.freeze({
                        CLICK: "click"
                    }),
                    buttonEl: null,
                    focus: function() {
                        this.buttonEl.focus()
                    },
                    blur: function() {
                        this.buttonEl.blur()
                    },
                    clickHandler: function(e) {
                        this.fireEvent(this.knownEvents.CLICK, [e, this])
                    },
                    destroy: function() {
                        this.initialized && (this.initialized = !1, this.buttonEl.removeEventListener("click", this.boundClickHandler), n.remove(this.buttonEl), this.buttonEl = null)
                    },
                    init: function(e, t) {
                        this._super(e, t), this.buttonEl = n.create("button", {
                            "class": ["button", this.config["class"] || ""].join(" "),
                            id: this.config.id || null
                        }, this.parentNode), this.buttonEl.setAttribute("type", "button"), this.config && this.config.contentsEl && this.buttonEl.appendChild(this.config.contentsEl), this.boundClickHandler || (this.boundClickHandler = this.clickHandler.bind(this)), this.buttonEl.addEventListener("click", this.boundClickHandler)
                    }
                }), Object.defineProperty(t.ui.Button.prototype, "enabled", {
                    get: function() {
                        return this._enabled
                    },
                    set: function(e) {
                        this._enabled = !!e, this.buttonEl.classList[this._enabled ? "remove" : "add"]("disabled")
                    }
                })
            }(),
            function() {
                "use strict";
                var t = e.cadmium,
                    n = t.element;
                t.ui.LoaderProgress = t.ui.Component.extend({
                    _loader: null,
                    rootEl: null,
                    _onLoadStart: function() {
                        this._loader.removeEventListener(this._loader.knownEvents.START_LOAD, this._onLoadStart), this.parentNode.appendChild(this.rootEl), setTimeout(function() {
                            this.initialized && this._spinnerEl.classList.add(n.classNames.visible)
                        }.bind(this), 100)
                    },
                    init: function(e) {
                        this._super(e.rootEl, {}), this._loader = e, this.rootEl = n.create("div"), this._spinnerEl = n.create("div", {
                            "class": "player-progress-loading"
                        }, this.rootEl), this._onLoadStart = this._onLoadStart.bind(this), this._loader.addEventListener(this._loader.knownEvents.START_LOAD, this._onLoadStart)
                    },
                    destroy: function() {
                        this.initialized && (this.initialized = !1, n.remove(this.rootEl), this._loader && this._loader.removeEventListener(this._loader.knownEvents.START_LOAD, this._onLoadStart), this._loader = null, this._spinnerEl = null, this.rootEl = null, this.parentNode = null)
                    }
                }), t.ui.LoaderProgress.create = function(e) {
                    return new t.ui.LoaderProgress(e)
                }
            }(),
            function() {
                "use strict";
                var t = e.cadmium,
                    n = t.element,
                    i = t.browser,
                    o = t.metadata,
                    r = n.classNames.visible,
                    s = "with-logo",
                    a = 3,
                    l = 2,
                    u = 2,
                    d = t.ui.LoaderMetadata = t.ui.Component.extend({
                        _backgroundImageEl: null,
                        _backgroundGradientEl: null,
                        _headerEl: null,
                        _descriptionEl: null,
                        _loader: null,
                        rootEl: null,
                        _metadataReadyHandler: function() {
                            this._loader.removeEventListener(this._loader.knownEvents.METADATA_READY, this._metadataReadyHandler), this._attemptPopulateDescription()
                        },
                        _attemptPopulateDescription: function() {
                            var e = o.getActiveVideo(),
                                t = e && o.getLargestImage(e.stills);
                            t ? (this._backgroundImageEl.addEventListener("load", this._populateDescription), this._backgroundImageEl.addEventListener("error", this._populateDescription), this._backgroundImageEl.src = t.url) : this._populateDescription()
                        },
                        _populateDescription: function() {
                            var t, s, d = this,
                                c = o.getMetadata(),
                                m = o.getActiveVideo(),
                                p = o.isShowData(c),
                                h = n.create("h1", {}, this._descriptionEl);
                            h.innerHTML = c.video.title, this._backgroundImageEl && (this._backgroundImageEl.removeEventListener("load", this._populateDescription), this._backgroundImageEl.removeEventListener("error", this._populateDescription), this._backgroundGradientEl.style.backgroundImage = i.prefix().css + "linear-gradient(top, rgba(0,0,0,.2), rgba(0,0,0,.65)), url(" + this._backgroundImageEl.src + ")"), p && (t = o.getActiveSeason(), t && (s = n.create("h2", {}, this._descriptionEl), s.innerHTML = e.I18n.getWithParams("ce-loading-show-title", ["SEASON", "EPISODE", "TITLE"], [t.seq, m.seq, m.title]))), this.parentNode.appendChild(this.rootEl), requestAnimationFrame(function() {
                                d.initialized && (d._headerEl.classList.add(r), d._backgroundGradientEl.classList.add(r), p ? (n.limitLinesOfText(h, {
                                    maxLines: l
                                }), n.limitLinesOfText(s, {
                                    maxLines: u
                                })) : n.limitLinesOfText(h, {
                                    maxLines: a
                                }))
                            })
                        },
                        init: function(e, t) {
                            t = t || {}, this._super(e.rootEl, t), this._loader = e;
                            var i = t.initParams || {};
                            this._populateDescription = this._populateDescription.bind(this), this._metadataReadyHandler = this._metadataReadyHandler.bind(this), this.rootEl = n.create("div"), this._backgroundImageEl = n.create("img"), this._headerEl = n.create("div", {
                                "class": "header-container"
                            }, this.rootEl), i.referrerIsNetflix || (n.create("div", {
                                "class": "logo"
                            }, this._headerEl), this._headerEl.classList.add(s)), this._backgroundGradientEl = n.create("div", {
                                "class": "player-loading-background"
                            }, this.rootEl), this._descriptionEl = n.create("div", {
                                "class": "description"
                            }, this._headerEl), this._loader.addEventListener(this._loader.knownEvents.METADATA_READY, this._metadataReadyHandler)
                        },
                        destroy: function() {
                            this.initialized && (n.remove(this.rootEl), this.rootEl = null, this._backgroundImageEl && (this._backgroundImageEl.removeEventListener("load", this._populateDescription), this._backgroundImageEl.removeEventListener("error", this._populateDescription)), this._backgroundImageEl = null, this.parentNode = null, this._backgroundGradientEl = null, this._headerEl = null, this._descriptionEl = null, this._loader && this._loader.removeEventListener(this._loader.knownEvents.METADATA_READY, this._metadataReadyHandler), this._loader = null, t.ui.Component.prototype.destroy.call(this))
                        }
                    });
                d.create = function(e, t) {
                    return new d(e, t)
                }
            }(),
            function() {
                "use strict";
                var t = e.cadmium,
                    n = t.element,
                    i = t.ui.LoaderProgress,
                    o = n.classNames.visible;
                t.ui.LoaderProgressPrePlay = i.extend({
                    _logoEl: null,
                    _lightingEl: null,
                    _shadowEl: null,
                    _onLoadStart: function() {
                        this._loader.removeEventListener(this._loader.knownEvents.START_LOAD, this._onLoadStart), this.parentNode.appendChild(this.rootEl), setTimeout(function() {
                            this.rootEl.classList.add(o)
                        }.bind(this), 1)
                    },
                    init: function(e) {
                        this._super(e), this.rootEl.classList.add("preplay-loader-container"), this._logoEl = n.create("div", {
                            id: "logo"
                        }, this.rootEl), this._lightingEl = n.create("div", {
                            id: "light"
                        }, this.rootEl), this._shadowEl = n.create("div", {
                            id: "shadow"
                        }, this.rootEl)
                    },
                    destroy: function() {
                        i.prototype.destroy.call(this), this._logoEl = null, this._lightingEl = null, this._shadowEl = null
                    }
                }), t.ui.LoaderProgressPrePlay.create = function(e) {
                    return new t.ui.LoaderProgressPrePlay(e)
                }
            }(),
            function() {
                var t, n, i, o, r, s, a, l, u, d = e.cadmium,
                    c = d.UiEvents,
                    m = d.element,
                    p = d.objects,
                    h = d.xhr,
                    v = d.Logger.create("component.incognito"),
                    E = 0,
                    f = d.util.NOOP,
                    g = function() {
                        s = {
                            "private": {
                                menuTitle: e.I18n.get("ce-incognito-private-menu"),
                                menuOptions: [{
                                    text: e.I18n.get("ce-incognito-private-on"),
                                    incognito: !0
                                }, {
                                    text: e.I18n.get("ce-incognito-private-off"),
                                    incognito: !1
                                }]
                            },
                            anonymous: {
                                menuTitle: e.I18n.get("ce-incognito-anonymous-menu"),
                                menuOptions: [{
                                    text: e.I18n.get("ce-incognito-anonymous-on"),
                                    incognito: !0
                                }, {
                                    text: e.I18n.get("ce-incognito-anonymous-off"),
                                    incognito: !1
                                }]
                            },
                            history: {
                                menuTitle: e.I18n.get("ce-incognito-history-menu"),
                                menuOptions: [{
                                    text: e.I18n.get("ce-incognito-history-save"),
                                    incognito: !1
                                }, {
                                    text: e.I18n.get("ce-incognito-history-hide"),
                                    incognito: !0
                                }]
                            },
                            sauron: {
                                menuTitle: e.I18n.get("ce-incognito-private-menu"),
                                menuOptions: [{
                                    text: e.I18n.get("ce-incognito-private-on"),
                                    incognito: !0
                                }, {
                                    text: e.I18n.get("ce-incognito-private-off"),
                                    incognito: !1
                                }]
                            }
                        }
                    },
                    b = {
                        DATA_IS_INCOGNITO: "data-is-incognito",
                        SELECTED_CLASS: "incognito-mode-selected",
                        INCOGNITO_API_URL: "/incognito",
                        MAX_ERROR_COUNT: 2,
                        RETRY_BACKOFF: 500,
                        API_TIMEOUT: 3e3
                    },
                    _ = function(t) {
                        var i = {
                            method: t.method,
                            xid: p.videoPlayer().getXid(),
                            videoId: p.videoId()
                        };
                        "test" === e.cadmium.objects.initParams().environment && (i.revision = "latest"), void 0 != t.isIncognito && (i.on = t.isIncognito, i.seq = E++), u = !0, r.classList.add("loading"), h.get(n, {
                            data: i,
                            withCredentials: !0
                        }).takeUntil(a).timeout(b.API_TIMEOUT).retryWithBackoff(b.MAX_ERROR_COUNT, b.RETRY_BACKOFF).flatMap(function(e) {
                            return "success" === e.result ? Rx.Observable["return"](e) : Rx.Observable["throw"](new Error)
                        }).doAction(y).subscribe(f, w)
                    },
                    y = function(e) {
                        l = e.isIncognito, c.fireEvent(c.knownEvents.INCOGNITO_CHANGED, [e]), u = !1, r.classList.remove("loading"), x()
                    },
                    w = function() {
                        u = !1, r.classList.remove("loading"), v.getErrorHandler("request error"), d.ui.popup.showGenericError(e.I18n.get("ce-incognito-api-error-title"), e.I18n.get("ce-incognito-api-error-text"))
                    },
                    k = function(e) {
                        var n = e.target;
                        if (t.contains(n))
                            for (; t.contains(n); n = n.parentNode) n.classList.contains("incognito-option") && String(l) !== n.getAttribute(b.DATA_IS_INCOGNITO) && _({
                                method: "toggle",
                                isIncognito: !l
                            })
                    },
                    x = function() {
                        for (var e = t.getElementsByClassName("incognito-option"), n = 0; n < e.length; n++) {
                            var i = e[n];
                            String(l) === i.getAttribute("data-is-incognito") ? i.classList.add(b.SELECTED_CLASS) : i.classList.remove(b.SELECTED_CLASS)
                        }
                    };
                d.ui.IncognitoMenuComponent = d.ui.MenuComponent.extend({
                    createContents: function() {
                        var e = p.initParams().incognitoConfig.mode;
                        t = m.create("ul", {
                            "class": "incognito-options"
                        });
                        var o = m.create("lh", {
                            "class": "incognito-title"
                        }, t);
                        o.appendChild(document.createTextNode(s[e].menuTitle));
                        for (var l = s[e].menuOptions, d = 0; d < l.length; d++) {
                            var c = m.create("li", {
                                "class": "incognito-option"
                            });
                            c.appendChild(document.createTextNode(l[d].text)), c.setAttribute(b.DATA_IS_INCOGNITO, l[d].incognito), l[d].incognito === !1 && c.classList.add(b.SELECTED_CLASS), t.appendChild(c)
                        }
                        this.menuEl.appendChild(t), r = this.menuEl, Rx.Observable.fromEvent(this.menuEl, "click").takeUntil(a).filter(function() {
                            return !u
                        }).doAction(k).subscribe(f, function() {
                            v.getErrorHandler("request error")
                        }), n = p.initParams().apiUrl + b.INCOGNITO_API_URL, i = p.videoPlayer().getXid()
                    },
                    destroy: function() {
                        a.onNext(), this._super()
                    },
                    init: function(e, t, n) {
                        this._super(e, t, n), c = d.UiEvents, o = e, a = new Rx.Subject, l = !1, u = !1, g(), this.createContents()
                    },
                    sendIncognitoReq: _,
                    toggleIncognito: function() {
                        _({
                            method: "toggle",
                            isIncognito: !l
                        })
                    },
                    isLoading: function() {
                        return u
                    }
                })
            }(),
            function() {
                var t = e.cadmium,
                    n = t.element,
                    i = t.logging,
                    o = (t.util, t.util.NOOP),
                    r = "&#9679",
                    s = 13;
                t.ui.PIN = t.ui.Component.extend({
                    knownEvents: Object.freeze({
                        COMPLETE: "complete",
                        INPUT: "input",
                        ENTER: "enter"
                    }),
                    containerEl: null,
                    pinEl: null,
                    caretEl: null,
                    pinCells: null,
                    _type: null,
                    _caretOffset: null,
                    _fontSize: null,
                    _caretIncrement: null,
                    _initElements: function() {
                        this.containerEl = n.create("div", {
                            "class": "pin-container",
                            id: this.config.id || null
                        }), this.pinEl = n.create("input", {
                            "class": ["pin-input", this.config.inputClass || "", "type-" + this._type].join(" ")
                        }, this.containerEl), this.pinEl.setAttribute("maxlength", this._pinLength), this.caretEl = n.create("div", {
                            "class": "pin-caret"
                        }, this.containerEl);
                        for (var e, t, i = 0; i < this._pinLength; i++) e = n.create("div", {
                            "class": "pin-ui"
                        }, this.containerEl), t = n.create("span", {}, e), this.pinCells.push(t)
                    },
                    _initHandlers: function() {
                        var e = Rx.Observable.fromEvent(this.pinEl, "keyup"),
                            t = Rx.Observable.fromEvent(this.pinEl, "change"),
                            n = Rx.Observable.fromEvent(this.pinEl, "focus"),
                            i = Rx.Observable.fromEvent(this.containerEl, "click");
                        e.merge(t).takeUntil(this._disposed).map(function(e) {
                            return e.preventDefault(), e.stopPropagation(), e.keyCode === s && this.fireEvent(this.knownEvents.ENTER), this.getValue()
                        }.bind(this)).distinctUntilChanged().doAction(this._inputChangeHandler).subscribe(o, this._rxErrorHandler, o), n.merge(i).takeUntil(this._disposed).doAction(this._clickAndFocusHandler).subscribe(o, this._rxErrorHandler, o)
                    },
                    _updateComputedValues: function() {
                        this._caretOffset = this._caretOffset || parseInt(getComputedStyle(this.caretEl).left, 10), this._fontSize = this._fontSize || parseInt(getComputedStyle(this.pinEl).fontSize), this._caretIncrement = this._caretIncrement || parseInt(getComputedStyle(this.containerEl.querySelector(".pin-ui")).width)
                    },
                    _inputChangeHandler: function() {
                        var e, t = this.pinEl.value,
                            n = t.length,
                            i = "password" === this._type;
                        e = n === this._pinLength ? this._caretOffset + (n - 1) * this._caretIncrement + this._fontSize : this._caretOffset + n * this._caretIncrement, this.caretEl.style.cssText = "left: " + e + "px;", this.pinCells.forEach(function(e, n) {
                            var o = t.charAt(n);
                            o ? e.innerHTML = i ? r : o : e.innerHTML = ""
                        }), t && n === this._pinLength ? (this.caretEl.classList.add("hide"), this.fireEvent(this.knownEvents.COMPLETE, [t])) : (this.caretEl.classList.remove("hide"), this.fireEvent(this.knownEvents.INPUT, [t]))
                    },
                    _clickAndFocusHandler: function(e) {
                        e.preventDefault(), this._updateComputedValues(), this.focus(), this.pinEl.value = this.pinEl.value
                    },
                    _rxErrorHandler: function(e) {
                        i.log("component.pin.input", e && e.stack || e)
                    },
                    focus: function() {
                        return this.pinEl.focus(), this
                    },
                    blur: function() {
                        return this.pinEl && this.pinEl.blur(), this
                    },
                    clear: function() {
                        return this.pinEl.value = "", this._inputChangeHandler(), this
                    },
                    getValue: function() {
                        return this.pinEl && this.pinEl.value
                    },
                    destroy: function() {
                        this.initialized && (this.initialized = !1, this._disposed.onNext(), n.remove(this.containerEl), this.containerEl = null, this.pinCells = null, this.events = null, this._disposed = null)
                    },
                    init: function(e, t) {
                        t = t || {}, this._super(e, t), this._disposed = new Rx.Subject, this._pinLength = t.pinLength || 4, this._type = t.type || "password", this.pinCells = [], this._inputChangeHandler = this._inputChangeHandler.bind(this), this._clickAndFocusHandler = this._clickAndFocusHandler.bind(this), this._initElements(), this._initHandlers(), e.appendChild(this.containerEl)
                    }
                })
            }(),
            function() {
                "use strict";
                var t, n, i, o = e.cadmium,
                    r = e.I18n,
                    s = o.metadata,
                    a = o.dom,
                    l = o.xhr,
                    u = o.logging,
                    d = Rx.Observable,
                    c = a.DIV,
                    m = function() {},
                    p = function(e) {
                        u.error("error:" + e.stack)
                    },
                    h = function() {
                        this.menuEl.removeChild(t), t = null, this.menuEl.appendChild(c({
                            "class": "completed"
                        }, r.get("ce-dontshare-unshared"))), s.setMetadataField("video.social.facebook.do_not_share.enabled", !1)
                    },
                    v = function(e) {
                        var t = s.getMetadata().social.netflix.user.id,
                            o = n.replace("TITLE_ID", s.getActiveVideo().id).replace("USER_ID", t),
                            r = {
                                withCredentials: !0
                            };
                        l.post(o, r).takeUntil(i).doAction(h.bind(this)).retryWithBackoff(5, 1e3).subscribe(m, p, m)
                    },
                    E = function() {
                        t = c({
                            "class": "dont-share-button"
                        }, r.get("ce-dontshare-prompt")), i = new Rx.Subject, d.fromEvent(t, "click").takeUntil(i).take(1).doAction(v.bind(this)).subscribe(m, p, m), this.menuEl.appendChild(t)
                    };
                o.ui.DontShareMenuComponent = o.ui.MenuComponent.extend({
                    init: function(e, t, i) {
                        this._super(e, t, i), n = o.objects.initParams().apiUrl + "users/USER_ID/social/titles/TITLE_ID?output=json", E.bind(this)()
                    },
                    destroy: function() {
                        i.onNext(), this._super()
                    }
                })
            }(),
            function() {
                var t, n, i, o, r = e.cadmium,
                    s = 17,
                    a = r.ui.ExitPlaybackComponent = r.ui.Component.extend({
                        _backToBrowsingEl: null,
                        _rootEl: null,
                        _render: function() {
                            null === this._backToBrowsingEl && (this._backToBrowsingEl = o({
                                "class": "player-exit-playback icon-player-cancel no-select"
                            }))
                        },
                        destroy: function() {
                            this.initialized && this._backToBrowsingEl && (this._backToBrowsingEl.removeEventListener("click", r.ui.master.goBackToBrowsing, !1), t.remove(this._backToBrowsingEl), this._backToBrowsingEl = null), this._super()
                        },
                        init: function(e) {
                            this._super(e.rootEl), this._rootEl = e.rootEl, this._initialized = !0, t = r.element, n = r.objects, i = r.dom, o = i.A;
                            var a = this;
                            n.initParams().inPagePlayer || (this._render(), setTimeout(function() {
                                a.initialized && (a._rootEl.appendChild(a._backToBrowsingEl), a._backToBrowsingEl.addEventListener("click", r.ui.master.goBackToBrowsing, !1))
                            }, s))
                        },
                        getBackToBrowsingEl: function() {
                            return this._backToBrowsingEl
                        }
                    });
                a.create = function(e, t) {
                    return new a(e, t)
                }
            }(),
            function() {
                "use strict";
                var t = e.cadmium,
                    n = t.util,
                    i = t.objects,
                    o = t.dom.DIV,
                    r = t.dom.get("H2"),
                    s = t.element,
                    a = t.Logger.create("cadmium.ui.VideoInterstitialComponent"),
                    l = "webkit" === t.browser.prefix().lowercase,
                    u = 500,
                    d = t.util.NOOP,
                    c = Rx.Observable,
                    m = t.ui.VideoInterstitialComponent = t.ui.Component.extend({
                        _rootEl: null,
                        _videoPlayerWrapperEl: null,
                        _videoTitleEl: null,
                        _videoPlayer: null,
                        _videoDuration: null,
                        _videoCurrentTime: null,
                        _autoPlayTimer: null,
                        _disposed: new Rx.Subject,
                        videoEvents: {
                            INTERSTITIAL_VIDEO_END: "interstitialVideoEnd",
                            INTERSTITIAL_VIDEO_START: "interstitialVideoStart"
                        },
                        _render: function() {
                            null === this._rootEl && (this._rootEl = o({
                                "class": "player-video-interstitial",
                                style: "background-image: url(" + this.config.background + ");"
                            }, this._videoPlayerWrapperEl = o({
                                "class": "player-video-interstitial-wrapper"
                            }), this._videoTitleEl = this.config.title && r({
                                "class": "player-video-interstitial-title"
                            }, this.config.title)))
                        },
                        _createEventSubscriptions: function() {
                            this.initialized && (c.fromEvent(this._videoPlayer, "loaded").takeUntil(this._disposed).doAction(function() {
                                this.fireEvent(this.videoEvents.INTERSTITIAL_VIDEO_START), this._videoPlayerWrapperEl.style.display = "", this._videoDuration = this._videoPlayer.getDuration(), this._addChangeListeners()
                            }.bind(this)).subscribe(d, a.getErrorHandler("event|loaded"), d), this._onTransitionEnd = this._onTransitionEnd.bind(this), this.getElement().addEventListener("transitionend", this._onTransitionEnd))
                        },
                        _onTransitionEnd: function() {
                            var e = this.getElement();
                            e.removeEventListener("transitionend", this._onTransitionEnd), e.style.display = "none"
                        },
                        _addChangeListeners: function() {
                            var e;
                            e = l ? c.fromEvent(this._videoPlayer, "currenttimechanged").takeUntil(this._disposed).throttle(u).filter(function() {
                                return this._videoCurrentTime = this._videoPlayer.getCurrentTime(), this._videoCurrentTime >= this._videoDuration - 1500
                            }.bind(this)).take(1) : c.fromEvent(this._videoPlayer, "endedchanged").takeUntil(this._disposed).filter(function() {
                                return this._videoPlayer.getEnded()
                            }.bind(this)), e.doAction(function() {
                                this._videoPlayerWrapperEl.classList.add("interstitial-video-ended"), this.fireEvent(this.videoEvents.INTERSTITIAL_VIDEO_END)
                            }.bind(this)).subscribe(d, a.getErrorHandler("event|currenttimechanged"), d)
                        },
                        destroy: function() {
                            this._disposed.onNext(), s.remove(this._rootEl), this._videoPlayer && this._videoPlayer.close(), this._super()
                        },
                        init: function(e, t) {
                            var o, r = i.videoSession();
                            this._super(e, t), this._initialized = !0, o = n.tryCatch(r.createPlayer, r, [t.videoId, t.trackId || 0]), o instanceof Error ? a.error(o) : (this._render(), this._videoPlayer = o, this._videoPlayerWrapperEl.appendChild(this._videoPlayer.getElement()), this._videoPlayerWrapperEl.style.display = "none", this._createEventSubscriptions())
                        },
                        _prepareForVideoPlayback: function() {
                            this._videoTitleEl && (this._videoTitleEl.style.display = "none"), this._rootEl.style.backgroundImage = ""
                        },
                        getElement: function() {
                            return this._rootEl
                        },
                        startAutoPlay: function() {
                            var e = this.config.autoPlayTimer || 5;
                            this._autoPlayTimer = setTimeout(function() {
                                this._prepareForVideoPlayback(), this._videoPlayer.seek(0), this._videoPlayer.load()
                            }.bind(this), 1e3 * e)
                        },
                        cancelAutoPlay: function() {
                            clearTimeout(this._autoPlayTimer)
                        },
                        hasVideoPlayer: function() {
                            return !!this._videoPlayer
                        }
                    });
                m.create = function(e, t) {
                    return new m(e, t)
                }
            }(),
            function() {
                "use strict";
                var t, n = e.cadmium,
                    i = n.dom,
                    o = i.DIV,
                    r = i.SPAN,
                    s = function() {
                        var e = o({
                            "class": "report-problem-button"
                        }, r(t.get("ce-report-problem-menu")));
                        return e
                    };
                n.ui.ReportProblemMenuComponent = n.ui.MenuComponent.extend({
                    init: function(n, i, o) {
                        t = e.I18n, this._super(n, i, o), this.menuEl.appendChild(s())
                    },
                    destroy: function() {
                        this._super()
                    }
                })
            }(),
            function() {
                "use strict";
                var t = e.cadmium,
                    n = t.ui.Component,
                    i = t.element,
                    o = t.Logger.create("component.postplay.background"),
                    r = n.extend({
                        init: function(e) {
                            this.initialized || (this._super(e), this._rootEl = i.create("div", {
                                "class": "player-postplay-background-image"
                            }), i.create("div", {
                                "class": "player-postplay-background-gradient"
                            }, this._rootEl))
                        },
                        destroy: function() {
                            this.initialized && (o.log("destroy"), i.remove(this._rootEl), this._super())
                        }
                    });
                Object.defineProperties(r.prototype, {
                    source: {
                        enumerable: !0,
                        get: function() {
                            return this._source
                        },
                        set: function(e) {
                            this._source = e, this._rootEl.style.cssText = "background-image: url(" + e + ");", this.parentNode.contains(this._rootEl) || this.parentNode.appendChild(this._rootEl)
                        }
                    }
                }), r.createFromUrl = function(e, t) {
                    var n = new r(e);
                    return n.source = t, n
                }, r.create = function(e) {
                    return new r(e)
                }, t.ui.PostPlayBackground = r
            }(),
            function() {
                "use strict";
                var t, n = e.cadmium,
                    i = n.ui.Component,
                    o = n.element,
                    r = n.dom,
                    s = r.get("DIV"),
                    a = r.get("SPAN"),
                    l = r.get("UL"),
                    u = r.get("LI"),
                    d = n.time,
                    c = n.Logger.create("component.postplay.bob"),
                    m = i.extend({
                        init: function(n, i) {
                            c.log("init"), t = e.I18n, this._super(n), this._metadata = i, this._createElements()
                        },
                        destroy: function() {
                            c.log("destroy"), o.remove(this._rootEl), this._super()
                        },
                        show: function() {
                            this._rootEl.classList.add(o.classNames.active)
                        },
                        hide: function() {
                            this._rootEl.classList.remove(o.classNames.active)
                        },
                        _createElements: function() {
                            function e(e, i, o) {
                                if (e && o) {
                                    var r = i && e.length > 0,
                                        s = !i && "" !== e;
                                    (r || s) && n.appendChild(u({}, a({
                                        "class": "label"
                                    }, t.get("ce-post-bob-" + o) + ": "), document.createTextNode(r ? e.slice(0, 2).join(", ") : e)))
                                }
                            }
                            var n, i, o = this._metadata,
                                r = o.duration || {};
                            i = "seconds" === r.unit ? d.convertUsingKey(r.value, !1, !0, "ce-time") : r.unit && r.value ? t.getWithParams("ce-post-bob-duration-" + r.unit + (r.value > 1 ? "-plural" : ""), ["VALUE"], [r.value]) : "", this._rootEl = s({
                                "class": "player-postplay-recommendation-bob"
                            }, this._headerEl = s({
                                "class": "bob-movie-header"
                            }, a({
                                "class": "title"
                            }, o.title || ""), s({
                                "class": "bob-movie-attributes"
                            }, a({
                                "class": "year"
                            }, o.year || ""), o.rating ? a({
                                "class": "mpaa-rating mpaa-" + o.rating
                            }, o.rating) : null, a({
                                "class": "duration"
                            }, i))), s({
                                "class": "bob-movie-content"
                            }, o.synopsis || "", s({
                                "class": "info"
                            }, n = l({})))), e(o.actors, !0, "actors"), e(o.directors, !0, "director"), e(o.primaryGenre, !1, "genre"), this.parentNode.appendChild(this._rootEl)
                        }
                    });
                m.create = function(e, t) {
                    return new m(e, t)
                }, n.ui.PostPlayBob = m
            }(),
            function() {
                "use strict";
                var t = e.cadmium,
                    n = t.ui.Component,
                    i = t.element,
                    o = t.ui.PostPlayBob,
                    r = Rx.Observable,
                    s = t.Logger.create("component.postplay.boxshot"),
                    a = i.classNames.active,
                    l = n.extend({
                        init: function(e, t, n) {
                            this.initialized || (this._super(e, n), this._metadata = t, this._templateBuilder = n.template, this._index = n.index, this._eventsObservable = r.empty(), this._createElements(), this._createEventSubscriptions(), e.appendChild(this._rootEl))
                        },
                        destroy: function() {
                            this.initialized && (s.log("destroy"), i.remove(this._rootEl), this._super())
                        },
                        getData: function() {
                            return this._metadata
                        },
                        onAction: function() {
                            return this._eventsObservable
                        },
                        setHighlighted: function(e) {
                            this._rootEl.classList[e ? "add" : "remove"](a)
                        },
                        setBobVisibility: function(e) {
                            this._bob[e ? "show" : "hide"]()
                        },
                        _createElements: function() {
                            this._rootEl = this._templateBuilder(this._metadata, this._index), this._bob = o.create(this._rootEl, this._metadata)
                        },
                        _createEventSubscriptions: function() {
                            this.config.events && this.config.events.forEach(function(e) {
                                var t = r.fromEvent(this._rootEl, e).map(function(e) {
                                    return {
                                        instance: this,
                                        el: this._rootEl,
                                        type: e.type,
                                        data: this._metadata,
                                        id: this._metadata.id,
                                        event: e
                                    }
                                }.bind(this));
                                this._eventsObservable = this._eventsObservable.merge(t)
                            }, this)
                        }
                    });
                l.create = function(e, t, n) {
                    return new l(e, t, n)
                }, t.ui.BoxShot = l
            }(),
            function() {
                "use strict";
                var t, n = e.cadmium,
                    i = n.ui.Component,
                    o = n.dom.DIV,
                    r = n.element,
                    s = n.ui.Button,
                    a = n.fullscreen,
                    l = n.UiEvents,
                    u = Rx.Observable,
                    d = n.util.NOOP,
                    c = n.Logger.create("component.postplay.buttons"),
                    m = "exitFSBtn",
                    p = "b2bBtn",
                    h = i.extend({
                        init: function(n, i) {
                            this.initialized || (t = e.I18n, this._super(n), i = i || "action-buttons", this._rootEl = o({
                                "class": i
                            }), this._buttons = {}, this._eventsObservable = u.empty(), this._disposed = new Rx.Subject, n.appendChild(this._rootEl))
                        },
                        destroy: function() {
                            if (this.initialized) {
                                c.log("destroy"), this._disposed.onNext();
                                for (var e in this._buttons) this._buttons[e].destroy();
                                this._super()
                            }
                        },
                        addButton: function(e, t) {
                            var n = this.getButton(e.id);
                            return n ? n : (n = new s(t || this._rootEl, {
                                "class": e["class"],
                                contentsEl: e.contentsEl
                            }), n.type = e.type, n.id = e.id, this._buttons[n.id] = n, e.events && e.events.forEach(function(e) {
                                var t = u.fromEvent(n, e).map(function(e) {
                                    return {
                                        id: n.id,
                                        type: e.type,
                                        event: e,
                                        component: n
                                    }
                                }).takeUntil(this._disposed);
                                this._eventsObservable = this._eventsObservable.merge(t)
                            }, this), n)
                        },
                        getButton: function(e) {
                            return this._buttons && this._buttons[e]
                        },
                        hideButton: function(e) {
                            return this._showHideButton(e, !1)
                        },
                        showButton: function(e) {
                            return this._showHideButton(e, !0)
                        },
                        onAction: function() {
                            return this._eventsObservable
                        },
                        _showHideButton: function(e, t) {
                            var n = this.getButton(e);
                            return n && n.buttonEl.classList[t ? "remove" : "add"]("display-none"), n
                        }
                    });
                h.create = function(e, t, n) {
                    var i = new h(e, n);
                    return t.forEach(function(e) {
                        i.addButton(e)
                    }), i
                }, h.createBasic = function(i, o) {
                    t = e.I18n;
                    var s = [{
                        id: p,
                        contentsEl: document.createTextNode(t.get("ce-back-to-browse")),
                        "class": "back-to-browsing",
                        events: ["click"]
                    }];
                    a.isFullscreen() && s.push({
                        id: m,
                        contentsEl: document.createTextNode(t.get("ce-post-exit-fullscreen")),
                        "class": "exit-fullscreen",
                        events: ["click"]
                    });
                    var v, E = h.create(i, s, o);
                    return E.onAction().takeUntil(E._disposed).doAction(function(e) {
                        switch (e.id) {
                            case p:
                                v = n.objects && n.objects.videoPlayer(), n.ui.master.goBackToBrowsing(), v && r.remove(v.getElement());
                                break;
                            case m:
                                n.fullscreen.exit()
                        }
                    }).subscribe(d, c.getErrorHandler("onAction handler"), d), u.fromEvent(l, l.knownEvents.FULLSCREEN_CHANGE).takeUntil(E._disposed).filter(function(e) {
                        return !e
                    }).doAction(function() {
                        E.hideButton(m)
                    }).subscribe(d, c.getErrorHandler("fullscreen change handler"), d), E
                }, n.ui.PostPlayActionButtons = h
            }(),
            function() {
                "use strict";
                var t = e.cadmium,
                    n = t.ui.Component,
                    i = Rx.Observable,
                    o = t.ui.BoxShot,
                    r = t.util.NOOP,
                    s = t.Logger.create("component.postplay.sims"),
                    a = Object.freeze({
                        hoverover: ["mouseover", "MSPointerEnter"],
                        hoverout: ["mouseout", "MSPointerLeave"],
                        click: ["click", "MSPointerDown"],
                        all: ["click", "MSPointerDown", "mouseover", "mouseout", "MSPointerEnter", "MSPointerLeave"]
                    }),
                    l = n.extend({
                        init: function(e, t, n) {
                            this.initialized || (this._super(e), this._simList = t, this._template = n, this._sims = [], this._eventsObservable = i.empty(), this._disposed = new Rx.Subject, this._onHighlightSim = new Rx.Subject, this._activeSim = null, this._createElements(), this._initSubscriptions())
                        },
                        destroy: function() {
                            s.log("destroy"), this._disposed.onNext(), this._sims.forEach(function(e) {
                                e.destroy()
                            }), this._super()
                        },
                        getAt: function(e) {
                            return this._sims[e]
                        },
                        onHoverOver: function() {
                            return this._getEventObservable("hoverover")
                        },
                        onHoverOut: function() {
                            return this._getEventObservable("hoverout")
                        },
                        onHighlight: function() {
                            return this._onHighlightSim
                        },
                        onClick: function() {
                            return this._getEventObservable("click")
                        },
                        highlightSimAtIndex: function(e, t) {
                            var n = this._sims[e];
                            this._highlightSim(n), t && this._setBobVisibilityForSim(n, !0)
                        },
                        _highlightSim: function(e) {
                            this._activeSim && this._activeSim.setHighlighted(!1), this._activeSim && this._setBobVisibilityForSim(this._activeSim, !1), this._activeSim = e, e.setHighlighted(!0), this._onHighlightSim.onNext(e)
                        },
                        _setBobVisibilityForSim: function(e, t) {
                            e.setBobVisibility(t)
                        },
                        _getEventObservable: function(e) {
                            return function(e) {
                                return this._eventsObservable.filter(function(t) {
                                    return e.some(function(e) {
                                        return e === t.type
                                    })
                                })
                            }.bind(this)(a[e] || [])
                        },
                        _createElements: function() {
                            this._simList.forEach(function(e, t) {
                                var n = o.create(this.parentNode, e, {
                                    events: a.all,
                                    template: this._template,
                                    index: t
                                });
                                this._sims.push(n), this._eventsObservable = this._eventsObservable.merge(n.onAction())
                            }, this)
                        },
                        _initSubscriptions: function() {
                            this.onHoverOver().takeUntil(this._disposed).doAction(function(e) {
                                this._highlightSim(e.instance), this._setBobVisibilityForSim(e.instance, !0)
                            }.bind(this)).subscribe(r, s.getErrorHandler("hover over handler"), r), this.onHoverOut().takeUntil(this._disposed).doAction(function(e) {
                                this._setBobVisibilityForSim(e.instance, !1)
                            }.bind(this)).subscribe(r, s.getErrorHandler("hover out handler"), r)
                        }
                    });
                l.create = function(e, t, n) {
                    return new l(e, t, n)
                }, t.ui.PostPlaySimsCollection = l
            }(),
            function() {
                "use strict";
                var t, n = e.cadmium,
                    i = n.ui.Component,
                    o = n.element,
                    r = n.Logger.create("component.postplay.timer"),
                    s = Rx.Observable,
                    a = n.util.NOOP,
                    l = 15,
                    u = i.extend({
                        init: function(n, i) {
                            i = i || {}, t = e.I18n, this._super(n), this._disposed = new Rx.Subject, this._stopped = new Rx.Subject, this._startTime = null, this._timer = null, this._maxTime = i.maxTime || l, this._pluralTemplate = i.pluralTemplate || function(e) {
                                return t.getWithParams("ce-post-autoplay", ["SECONDS"], [e])
                            }, this._singularTemplate = i.singularTemplate || function() {
                                return t.get("ce-post-autoplay-singular")
                            }, this._stoppedTemplate = i.stoppedTemplate || function() {
                                return ""
                            }
                        },
                        destroy: function() {
                            r.log("destroy"), this._disposed.onNext(), o.remove(this._rootEl), this._super()
                        },
                        start: function(e) {
                            return this._createElements(), this._createTimerObservable(), this._timer.subscribe(a, r.getErrorHandler("timer error"), a), this.onTimerEnd().doAction(e || a).subscribe(a, r.getErrorHandler("timer end"), a), this
                        },
                        stop: function() {
                            this._stopped.onNext(), this.parentNode && (void 0 != this._stoppedTemplate() ? this.parentNode.innerHTML = this._stoppedTemplate() : this.parentNode.parentNode && this.parentNode.parentNode.removeChild(this.parentNode))
                        },
                        onTimerEnd: function() {
                            return this._timer.map(function(e) {
                                return 1 >= e
                            }).filter(function(e) {
                                return e
                            }).delay(1e3).map(function() {
                                return !0
                            })
                        },
                        _createElements: function() {
                            this.parentNode.innerHTML = this._pluralTemplate(this._maxTime)
                        },
                        _createTimerObservable: function() {
                            this._timer = s.interval(1e3).takeUntil(this._disposed).takeUntil(this._stopped).timeInterval().map(function(e) {
                                return this._maxTime - e.value
                            }.bind(this)).doAction(this._updateTimer.bind(this)).share()
                        },
                        _updateTimer: function(e) {
                            e > 1 ? this.parentNode.innerHTML = this._pluralTemplate(e) : 1 === e ? this.parentNode.innerHTML = this._singularTemplate() : this.stop()
                        }
                    });
                u.create = function(e, t) {
                    return new u(e, t)
                }, n.ui.PostPlayTimer = u
            }(),
            function() {
                "use strict";
                var t, n = e.cadmium,
                    i = n.ui.Component,
                    o = n.element,
                    r = n.fullscreen,
                    s = n.UiEvents,
                    a = n.dom,
                    l = a.get("DIV"),
                    u = a.get("SPAN"),
                    d = n.Logger.create("component.postplay.exit.fullscreen"),
                    c = n.util.NOOP,
                    m = i.extend({
                        init: function(n) {
                            d.log("init"), t = e.I18n, this._disposed = new Rx.Subject, this._super(n), this._createElements(), this._setupSubscriptions()
                        },
                        destroy: function() {
                            d.log("destroy"), o.remove(this._rootEl), this._super()
                        },
                        hide: function() {
                            this._rootEl.classList.add("display-none")
                        },
                        show: function() {
                            this._rootEl.classList.remove("display-none")
                        },
                        _createElements: function() {
                            this._rootEl = l({
                                "class": "exit-fullscreen-button"
                            }, u({
                                "class": "exit-fullscreen-text"
                            }, t.get("ce-post-exit-fullscreen")), u({
                                "class": "exit-fullscreen-icon"
                            })), this.parentNode.appendChild(this._rootEl)
                        },
                        _setupSubscriptions: function() {
                            Rx.Observable.fromEvent(this._rootEl, "click").takeUntil(this._disposed).take(1).doAction(function() {
                                r.exit(), this.hide()
                            }.bind(this)).subscribe(c, d.getErrorHandler("event|click"), c), Rx.Observable.fromEvent(s, s.knownEvents.FULLSCREEN_CHANGE).takeUntil(this._disposed).take(1).doAction(function(e) {
                                e ? this.show() : this.hide()
                            }.bind(this)).subscribe(c, d.getErrorHandler("event|FULLSCREEN_CHANGE"), c)
                        }
                    });
                m.create = function(e) {
                    var t = new m(e);
                    return r.isFullscreen() ? t.show() : t.hide(), t
                }, n.ui.PostPlayExitFullscreen = m
            }(),
            function() {
                "use strict";
                var t, n, i, o, r = e.cadmium,
                    s = e.cadmium.metadata,
                    a = r.dom,
                    l = a.get("DIV"),
                    u = a.get("SPAN"),
                    d = r.Logger.create("component.postplay.akira.userrating"),
                    c = 1100,
                    m = function() {
                        return {
                            videoId: r.objects.videoId(),
                            trackId: r.objects.trackId()
                        }
                    },
                    p = function(r, s) {
                        var a = e.cadmium.objects.initParams(),
                            l = a.useStarRatings,
                            u = a.useThumbRatings;
                        t = e.I18n, s = s || {}, this._parentEl = r, this._config = s, n || (n = Requireify.require("react")), !i && l ? (i = Requireify.require("js/akira/components/title/basicStarBar.jsx"), this.type = "stars") : !o && u && (o = Requireify.require("js/akira/components/title/thumbs.jsx"), this.type = "thumbs"), n.stub || l && i && i.stub || u && o && o.stub || !l && !u || (l ? this._renderStars() : u && this._renderThumbs())
                    };
                p.prototype._renderStars = function() {
                    var e, o = this,
                        r = {};
                    this._starBarNode = l({
                        "class": "starbar-container"
                    }, u({
                        "class": "ratings-text postplay-star-text"
                    }, t.get("ce-post-rate")), this._starBarHolder = l({
                        "class": "starbar-holder"
                    })), r.videoId = this._config.id, r.onRating = function(e) {
                        o._starBar.setProps({
                            userRating: e
                        }, function() {
                            o._starBar.context = m()
                        })
                    }, this._config.value && (r.userRating = this._config.value, r.predictedRating = this._config.predicted), e = n.createElement(i, r), this._starBar = n.render(e, this._starBarHolder), this._starBar.context = m(), this._parentEl.appendChild(this._starBarNode)
                }, p.prototype._renderThumbs = function() {
                    var e, t = this,
                        i = {
                            extraClass: "player-thumbs thumbs-animated"
                        },
                        a = s.getMetadata(),
                        d = a && a.video && a.video.title || "";
                    this._thumbsNode = l({
                        "class": "thumbs-container"
                    }, u({
                        "class": "ratings-text current-video-title"
                    }, d), this._thumbsHolder = l({
                        "class": "thumbs-holder"
                    })), i.videoId = this._config.id, i.onRating = function(e) {
                        t._thumbs.state.hasViewedModal || r.fullscreen.exit(), t._thumbs.setProps({
                            userRating: e
                        }, function() {
                            t._thumbs.context = m()
                        })
                    }, this._config.value && (i.userRating = this._config.value, i.matchScore = this._config.matchScore, i.tooNewForMatchScore = this._config.tooNewForMatchScore), e = n.createElement(o, i), this._thumbs = n.render(e, this._thumbsHolder), this._thumbs.context = m(), this._parentEl.appendChild(this._thumbsNode), this._animationTimeout = setTimeout(function() {
                        t._thumbsNode.classList.add("dropped")
                    }, c)
                }, p.prototype.destroy = function() {
                    d.log("destroy"), this._starBar ? (n.unmountComponentAtNode(this._starBarHolder), this._parentEl.removeChild(this._starBarNode), this._starBar = null, this._starBarNode = null, this._starBarHolder = null) : this._thumbs && (window.clearTimeout(this._animationTimeout), n.unmountComponentAtNode(this._thumbsHolder), this._parentEl.removeChild(this._thumbsNode), this._thumbs = null, this._thumbsNode = null, this._thumbsHolder = null), this._parentEl = null, this._config = null
                }, r.ui.AkiraPostPlayUserRating = {
                    create: function(e, t) {
                        return new p(e, t)
                    }
                }
            }(),
            function() {
                "use strict";
                var t, n, i, o = e.cadmium,
                    r = o.ui.Component,
                    s = o.ui.AkiraPostPlayUserRating,
                    a = o.ui.Button,
                    l = o.UiEvents,
                    u = o.dom,
                    d = u.get("DIV"),
                    c = u.get("IMG"),
                    m = u.get("P"),
                    p = o.Logger.create("component.postplay.horizontal"),
                    h = 2e3,
                    v = 2.2,
                    E = 3,
                    f = "modal:close:feedbackModal",
                    g = "originalsFeedbackButton:show",
                    b = "originalsFeedbackButton:click",
                    _ = "originalsFeedbackForm:submit",
                    y = "originalsFeedbackForm:error",
                    w = "click",
                    k = r.extend({
                        init: function(i, r, s) {
                            r = r || {}, n = e.I18n, t = o.metadata, this._super(i), this._hideForm = this._hideForm.bind(this), this._onFormClosed = this._onFormClosed.bind(this), this._metadata = r, this._type = s, this._starBar = null, this._feedbackButton = null, this._feedbackForm = null, this._modalTimeout = null, this._createElements()
                        },
                        destroy: function() {
                            p.log("destroy"), this._feedbackButton && this._feedbackButton.destroy(), this._feedbackForm && this._feedbackForm.destroy(), this._userRating && this._userRating.destroy(), clearTimeout(this._modalTimeout), i && !i.stub && (i.removeListener(_, this._hideForm), i.removeListener(y, this._hideForm), i.removeListener(f, this._onFormClosed)), this._super()
                        },
                        _createElements: function() {
                            var r, u, p, h, k, x = this._metadata || {},
                                T = this,
                                A = t.getActiveVideo(),
                                L = A && A.showFeedback,
                                I = e.cadmium.objects.initParams();
                            this._rootEl = d({
                                "class": "trailer-horizontal trailer-merch"
                            }, this._wrapperEl = d({
                                "class": "trailer-horizontal-wrapper"
                            }, this._imageEl = c({
                                "class": "trailer-horizontal-image"
                            }), d({
                                "class": "trailer-replay"
                            }, m({
                                "class": "trailer-replay-icon"
                            }), m({
                                "class": "trailer-replay-text"
                            }, n.get("ce-post-replay-trailer"))))), x.horizontal ? this._imageEl.setAttribute("src", x.horizontal) : this._imageEl.style.minHeight = "22.5em", x.userRating && o.ui.master.isAkira() && (this._userRating = s.create(this._rootEl, x.userRating)), !L || "watchNext" !== this._type && "recommendations" !== this._type || (i || (i = Requireify.require("js/reactMixins/eventBus.js")), k = I && I.feedback || {
                                minChars: 25,
                                maxChars: 1e3
                            }, r = t.getMetadata().video, u = r.title, t.getNextEpisode() && n.get("what-did-you-think-episodic") ? (p = A && A.seq, h = n.getWithParams("what-did-you-think-episodic", ["number"], [A.seq])) : h = n.getWithParams("what-did-you-think", ["title"], [u]), this._feedbackButton = new a(this._rootEl, {
                                "class": "feedback-button"
                            }), this._feedbackButton.buttonEl.innerHTML = h, requestAnimationFrame(function() {
                                if (T._feedbackButton) {
                                    var e = T._feedbackButton.buttonEl,
                                        t = e.getBoundingClientRect(),
                                        n = parseFloat(getComputedStyle(e).getPropertyValue("font-size")),
                                        i = -1 * (t.height / n + v);
                                    T._userRating && "thumbs" === T._userRating.type && (i -= E), e.style.bottom = i + "em"
                                }
                            }), i.stub || (i.emit(g), i.on(_, this._hideForm), i.on(y, this._hideForm), i.on(f, this._onFormClosed)), this._feedbackButton.addEventListener(w, function() {
                                i.stub || i.emit(b), l.fireEvent(l.knownEvents.STOP_AUTOPLAY_TIMER), T._feedbackForm = o.ui.AkiraOriginalsFeedbackModal.create(document.getElementById("playerContainer"), {
                                    id: A.id,
                                    title: u,
                                    episode: p,
                                    minChars: k.minChars,
                                    maxChars: k.maxChars,
                                    onSubmit: function() {
                                        T._feedbackButton && T._feedbackButton.destroy()
                                    }
                                })
                            })), this.parentNode.appendChild(this._rootEl)
                        },
                        _hideForm: function() {
                            var e = this;
                            this._feedbackForm && (clearTimeout(this._modalTimeout), this._modalTimeout = setTimeout(function() {
                                e._feedbackForm.close()
                            }, h))
                        },
                        _onFormClosed: function() {
                            var t = e.cadmium.UiEvents;
                            t.fireEvent(t.knownEvents.START_AUTOPLAY_TIMER)
                        }
                    });
                k.create = function(e, t, n) {
                    return new k(e, t, n)
                }, o.ui.PostPlayHorizontal = k
            }(),
            function() {
                "use strict";
                var t, n = e.cadmium,
                    i = n.ui.Component,
                    o = n.objects,
                    r = n.element,
                    s = n.url,
                    a = n.Logger.create("component.postplay.mylist"),
                    l = Rx.Observable,
                    u = n.xhr,
                    d = n.util.NOOP,
                    c = 1e4,
                    m = 3,
                    p = 1e3,
                    h = "save",
                    v = "add",
                    E = "remove",
                    f = i.extend({
                        init: function(n, i) {
                            i = i || {}, t = e.I18n, this._myList = i.myList, this._trackId = i.trackId, this._element = i.element, this._disposed = new Rx.Subject, this._myListAction = null, this._myListRequest = null, this._super(n)
                        },
                        destroy: function() {
                            a.log("destroy"), this._disposed.onNext(), r.remove(this._rootEl), this._super()
                        },
                        toggleMyList: function() {
                            if (this._myListRequest) return this._myListRequest;
                            var e = this._myList;
                            return e && e.endpoint ? (this._myListRequest = l.defer(function() {
                                return this._myListAction || (this._myListAction = e.action === h ? v : e.action), l["return"](this._myListAction)
                            }.bind(this)).map(function(e) {
                                return {
                                    action: e,
                                    xaction: this._getXAction(e)
                                }
                            }.bind(this)).doAction(function(e) {
                                a.log("My List action", e), this._updateUI(e.xaction)
                            }.bind(this)).flatMap(this._makeXhr.bind(this)).doAction(function(e) {
                                this._myList.action = this._myListAction = e.xaction, this._myListRequest = null
                            }.bind(this))["catch"](function() {
                                this._myListRequest = null
                            }.bind(this)), this._myListRequest.subscribe(d, a.getErrorHandler("xhr|mylist"), d), this._myListRequest) : l["throw"]("Nothing to add; my list is not defined.")
                        },
                        _getXAction: function(e) {
                            var t;
                            return t = e === h || e == v ? E : this._myList.addAction
                        },
                        _makeXhr: function(e) {
                            var t = {
                                withCredentials: !0,
                                urlEncoded: !1,
                                data: {
                                    action: e.action,
                                    videoId: this._myList.id,
                                    trackId: this._trackId
                                }
                            };
                            return u.post(this._myList.endpoint, t).takeUntil(this._disposed).timeout(c).retryWithBackoff(m, p).map(function(t) {
                                if (a.log("My list response", t), t = t || {}, !t.status || "success" !== t.status.toLowerCase()) throw new Error(t);
                                return t.xaction = e.xaction, t
                            }.bind(this))
                        },
                        _updateUI: function(e) {
                            this._element && ("add" === e || "remove" === e || "save" === e) && (this._element.textContent = t.get("ce-post-" + e + "-to-my-list"))
                        }
                    });
                f.create = function(e, t) {
                    return new f(e, t)
                }, f.getCurrentState = function(e) {
                    e = e || {};
                    var t = o && o.initParams() || {},
                        n = {
                            withCredentials: !0,
                            urlEncoded: !0,
                            data: {
                                action: "get",
                                videoId: e.id
                            }
                        };
                    return "prod" !== t.environment && (n.data.forcepromo = s.urlContains(/forcepromo=true/)), u.get(e.endpoint, n)
                }, n.ui.PostPlayMyList = f
            }(),
            function() {
                "use strict";
                var t = e.cadmium,
                    n = t.mixins,
                    i = "save-to-list",
                    o = "more-info";
                n.ui.buttons = {
                    MY_LIST_BUTTON: i,
                    MORE_INFO_BUTTON: o,
                    getMyListButton: function(t) {
                        var n = e.I18n;
                        return {
                            id: i,
                            contentsEl: document.createTextNode(n.get("ce-post-" + t + "-to-my-list")),
                            "class": "my-list",
                            events: ["click"]
                        }
                    },
                    getMoreInfoButton: function() {
                        var t = e.I18n;
                        return {
                            id: o,
                            contentsEl: document.createTextNode(t.get("ce-post-more-info")),
                            "class": "more-info",
                            events: ["click"]
                        }
                    }
                }
            }(),
            function() {
                "use strict";
                var t = e.cadmium,
                    n = t.mixins;
                n.ui.videoInterstitial = {
                    addVideoInterstitialComponent: function(e) {
                        this._interstitial = this._addComponent(t.ui.VideoInterstitialComponent.create(this._parentEl, e)), this._interstitial.hasVideoPlayer() ? (this._rootEl.style.display = "none", this._parentEl.appendChild(this._interstitial.getElement()), this._interstitial.startAutoPlay()) : (this._interstitial.destroy(), this._interstitial = null)
                    },
                    _handleInterstitialReturnToPlayback: function() {
                        this._interstitial && this._interstitial.cancelAutoPlay()
                    },
                    _onInterstitialTransitionEnd: function() {
                        var e = this._interstitial.getElement();
                        e.removeEventListener("transitionend", this._onInterstitialTransitionEnd), this._interstitial.removeEventListener(this._interstitial.videoEvents.INTERSTITIAL_VIDEO_START, this._onInterstitialVideoStart), this._interstitial.removeEventListener(this._interstitial.videoEvents.INTERSTITIAL_VIDEO_END, this._onInterstitialVideoEnd), this._interstitial.destroy()
                    },
                    _onInterstitialVideoStart: function() {
                        this._videoPlayer && this._videoPlayer.close(), t.UiEvents.fireEvent(t.UiEvents.knownEvents.VIDEO_ENDED), t.ui.exitPlayback.init(this._parentEl)
                    },
                    _onInterstitialVideoEnd: function() {
                        var e = this._interstitial.getElement();
                        this._rootEl.style.display = "", e.addEventListener("transitionend", this._onInterstitialTransitionEnd), t.ui.exitPlayback.deinit()
                    },
                    createVideoInterstitialEvents: function() {
                        this._interstitial && (this._onInterstitialTransitionEnd = this._onInterstitialTransitionEnd.bind(this), this._onInterstitialVideoStart = this._onInterstitialVideoStart.bind(this), this._onInterstitialVideoEnd = this._onInterstitialVideoEnd.bind(this), this._interstitial.addEventListener(this._interstitial.videoEvents.INTERSTITIAL_VIDEO_START, this._onInterstitialVideoStart), this._interstitial.addEventListener(this._interstitial.videoEvents.INTERSTITIAL_VIDEO_END, this._onInterstitialVideoEnd))
                    }
                }
            }(), e.cadmium.ui.exitPlayback = function() {
                function t(e) {
                    (32 === e.keyCode || 13 === e.keyCode) && (e.preventDefault(), a.ui.master.goBackToBrowsing())
                }

                function n() {
                    return null === h && (s = d.create("p"), s.appendChild(document.createTextNode(l.get("ce-back-to-browse"))), h = d.create("a", {
                        "class": "player-back-to-browsing no-select icon-player-back-to-browse"
                    }), h.tabIndex = 0, h.setAttribute(v, "link"), h.appendChild(s)), h
                }

                function i() {
                    p && (p = !1, h && (h.removeEventListener("keydown", t, !1), h.removeEventListener("click", a.ui.master.goBackToBrowsing, !1), d.remove(h), h = null), c.removeEventListener(c.knownEvents.CINEMA_MODE_ENTER, E), c.removeEventListener(c.knownEvents.CINEMA_MODE_EXIT, f), c.removeEventListener(c.knownEvents.SHOW_AUTOPLAY_INTERRUPTER, E), c.removeEventListener(c.knownEvents.HIDE_AUTOPLAY_INTERRUPTER, f), r = null, h = null, s = null, a = null, l = null, u = null, d = null, c = null, m = null)
                }

                function o(o) {
                    p && i(), p = !0, r = o, a = e.cadmium, l = e.I18n, u = a.metadata, d = a.element, c = a.UiEvents, m = a.objects, m.initParams().inPagePlayer || (r.appendChild(n()), h.addEventListener("keydown", t, !1), h.addEventListener("click", a.ui.master.goBackToBrowsing, !1)), c.addEventListener(c.knownEvents.CINEMA_MODE_ENTER, E), c.addEventListener(c.knownEvents.CINEMA_MODE_EXIT, f), c.addEventListener(c.knownEvents.SHOW_AUTOPLAY_INTERRUPTER, E), c.addEventListener(c.knownEvents.HIDE_AUTOPLAY_INTERRUPTER, f)
                }
                var r, s, a, l, u, d, c, m, p = !1,
                    h = null,
                    v = "role",
                    E = function() {
                        h && a.animate.fadeOut(h)
                    },
                    f = function() {
                        h && a.animate.fadeIn(h)
                    };
                return {
                    init: o,
                    deinit: i,
                    getBackToBrowsingEl: function() {
                        return h
                    }
                }
            }(), e.cadmium.ui.master = function() {
                "use strict";

                function t() {
                    if (P) {
                        v && v.views && v.views.show(v.ui.shutdown, [N]);
                        var e = w && w.initParams() && w.initParams().referrerIsNetflix;
                        n() && e ? window.history.back() : window.location.replace(w.initParams().backToBrowsingUrl)
                    }
                }

                function n() {
                    try {
                        return "akira" === w.initParams().uimode
                    } catch (e) {
                        return !1
                    }
                }

                function i() {
                    if (!R) {
                        var e, t = document.getElementsByTagName("head")[0],
                            n = 0;
                        R = document.createElement("style"), R.appendChild(document.createTextNode("")), t.appendChild(R), e = R.sheet;
                        try {
                            e.insertRule("body { background-color: #000; }", n++)
                        } catch (i) {
                            E.info(i)
                        }
                    }
                }

                function o() {
                    R && (f.remove(R), R = null)
                }

                function r() {
                    return U = !1, e.cadmium.fullscreen && e.cadmium.fullscreen.isFullscreen() && (window.location = window.location), Rx.Observable.create(function(t) {
                        function n() {
                            t.onNext(!0), t.onCompleted(), _ && _.fireEvent(_.knownEvents.SHUTDOWN), c(!1, !0)
                        }

                        function i() {
                            v && v.views.deinit(), n()
                        }
                        return e.mdx.bootstrap.deinitMdx(), o(), k ? k.close(i) : i(), H
                    })
                }

                function s() {
                    if (null === N) {
                        var e = x.prefix();
                        O = f.create("section", {
                            id: "netflix-player-font-wrapper"
                        }), N = f.create("section", {
                            id: "netflix-player",
                            "class": e && e.css ? "ua" + e.css : ""
                        }, O), S = f.create("div", {
                            "class": "player-video-wrapper player-hidden"
                        }, N), C.appendChild(O), w.setPlayerWrapper(N), N.addEventListener("contextmenu", u)
                    }
                }

                function a() {
                    P && (k = w.videoPlayer(), _.removeEventListener(y.NEW_PLAYER_CREATED, a), E.log("new player created, appending element to dom"), S.appendChild(k.getElement()), _.fireEvent(y.NEW_PLAYER_DOM_CREATED))
                }

                function l() {
                    P && U && (v.views.show(v.ui.shutdown, [N]), r().doAction(c).subscribe(H, E.getErrorHandler("beforeUnload"), H))
                }

                function u(e) {
                    return e.preventDefault(), !1
                }

                function d(n) {
                    E.log("postplayEnterHandler, ev:", n);
                    var i = w.playerWrapper();
                    e.cadmium.PostPlayData.getData().doAction(function(e) {
                        var n = e && e.type && e.type.toLowerCase && e.type.toLowerCase() || "";
                        b.isSupplementalVideo() && n.indexOf("trailer") < 0 ? (_.removeEventListener(y.VIDEO_POSTPLAY_ENTER, d), t()) : v.ui.PostPlay.preinit(i)
                    }).subscribe()
                }

                function c(t, n) {
                    if (P) {
                        P = !1, E.log("deinit"), v.ui.playback.deinit(), S && S.childNodes && f.remove(S.childNodes), T.deinit(), v.playbackEvents.deinit(), I.deinit(), v.removeBeforeUnloadHandler(l), _.removeEventListener(y.VIDEO_POSTPLAY_ENTER, d), t || (f.remove(N), o(), N = null, S = null, b.clear(), _.destroy(), A.deinit(), e.cadmium.PostPlayData.deinit(), e.cadmium.playbackShutdown && e.cadmium.playbackShutdown.onNext());
                        try {
                            window.netflix.player.diag.togglePanel("log", !1)
                        } catch (i) {}
                        w.drain(t || w.initParams().persistSession, n), C = null, O = null, E = null, f = null, g = null, b = null, _ = null, y = null, w = null, k = null, x = null, T = null, A = null, L = null, D = !1, M = !1, U = !1
                    }
                }

                function m(t, o, r) {
                    P && c(!0), P = !0;
                    var u, m;
                    if (v = e.cadmium, e.I18n = e.I18n || window.netflix.I18n, e.constants || (e.constants = {}), v.util._.stub || v.util._.assign(e.constants, window.netflix.constants || {}), b = v.metadata, E = v.Logger.create("view.master"), f = v.element, _ = v.UiEvents, y = _.knownEvents, w = v.objects, x = v.browser, g = v.url, T = v.sizing, C = t || document.body, M = !1, A = v.session, L = v.ui.errors, I = v.fullscreen, E.log("init"), v.unloadActions.init(), v.ui.fatal.listenForFatalErrors(), o) {
                        v.playbackEvents.init(), I.init(), A.init();
                        try {
                            u = window.netflix.clientNotifications.getCurrentSession("appSession").sessionId, m = window.netflix.clientNotifications.getCurrentSession("userSession").sessionId, o.appId = u, o.sessionId = m, o.nccpAppId = u, o.nccpSessionId = m
                        } catch (p) {}
                        var h = g.getNextVideo();
                        (h.episodeId || h.videoId) && (delete o.videoId, delete o.movieId, delete o.episodeId, r = h.videoId ? null : r, v.util.mix(h, o));
                        var k = o.episodeId || o.movieId || o.videoId || -1;
                        o.recap && o.recap.hasPlayed && delete o.recap, w.setInitParams(o);
                        var O = parseInt(g.getQueryString()[g.CONSTANTS.BOOKMARK], 10);
                        if (isNaN(O) || w.overrideBookmark(k, 1e3 * O), w.createVideoSession(), i(), s(), T.init(N), o.movieId <= 1 || o.videoId <= 1) return void L.throwUIError(L.type.UI_TITLE_UNAVAILABLE);
                        r ? b.setMetadata(k, r) : b.retrieveData(k);
                        var S = b.getActiveVideo() || {};
                        v.ui.preplay.preplayNeeded() || v.clips.getClipValues(S.id) || _.addEventListener(y.VIDEO_POSTPLAY_ENTER, d), U = !0, _.addEventListener(y.NEW_PLAYER_CREATED, a), e.cadmium.addBeforeUnloadHandler(l), n() && (document.cookie = "profilesNewSession=0; domain=.netflix.com; path=/;max-age=100000000;"), v.views.show(v.ui.loader.create(o), [N, o])
                    }
                }

                function p(t, n) {
                    if (t && !D) {
                        D = !0, k.close(), N.classList.add("player-mdx-mode");
                        var i = w.videoId();
                        e.mdx.ui.master.init(i), e.mdx.ui.master.showState(n, "loading", i)
                    } else !t && D && (D = !1, e.mdx.ui.master.hide(), m(C, w.initParams(), v.metadata.getMetadata()), N.classList.remove("player-mdx-mode"))
                }

                function h(e, t) {
                    w && w.setPlayContext(t), m(C, e)
                }
                var v, E, f, g, b, _, y, w, k, x, T, A, L, I, P = !1,
                    C = null,
                    O = null,
                    N = null,
                    S = null,
                    R = null,
                    D = !1,
                    M = !1,
                    H = e.cadmium.util.NOOP,
                    U = !1,
                    B = window.netflix.cadmium.ui;
                return B.master = {}, B.master.init = m, B.master.shutdown = r, {
                    init: m,
                    deinit: c,
                    updateInitParams: h,
                    goBackToBrowsing: t,
                    toggleMdxMode: p,
                    isAkira: n,
                    shutdown: r
                }
            }(), e.cadmium.ui.fatal = function() {
                "use strict";

                function t(e, t) {
                    var n, i = !1;
                    return e && e.length > 0 && e.some(function(e) {
                        return n = t + e + "-phone", i = c.getWithParams(n, p, h), ("" === i || i.indexOf(n) >= 0) && (i = c.getWithParams(t + e, p, h)), "" !== i && !/---.*---/.test(i) && !/{.*}/.test(i)
                    }), i = i.indexOf("MISSINGRESOURCE") > -1 ? "" : i, i || c.get(t + "default")
                }

                function n(e) {
                    var t = E.initParams(),
                        n = t.errorSupportUrls || {};
                    return n[e] ? "https://help.netflix.com/support/" + n[e] : ""
                }

                function i(e) {
                    if (null === m) {
                        if (m = g.create("section", {
                                "class": "player-fatal-message"
                            }), e.display && e.display.code && e.display.code.indexOf && e.display.code.indexOf(w) >= 0) return o(m, e);
                        var i, r = t(e.messageIdList, "ce-head-"),
                            s = c.get("ce-support-text"),
                            a = "",
                            l = "-1",
                            u = E.initParams().hideSupportUrl;
                        e.display && (l = c.getWithParams("ce-head-code", ["CODE"], [e.display.code || l]), a = n(e.display.code || l), i = e.display.text ? e.display.text : t(e.messageIdList, "ce-text-"));
                        var d = "";
                        u || "" === a || "" === s || (d = "<p class='player-help-center'>" + s + "<a href='" + a + "'>" + a + "</a></p>"), m.innerHTML = "<h1>" + c.get("ce-header") + "</h1><h2>" + r + "</h2><p>" + i + "</p>" + d + "<h3>" + l + "</h3>"
                    }
                    return m
                }

                function o(e, t) {
                    t = t || {
                        display: {}
                    };
                    var n = E && E.initParams() || {},
                        i = n.signoutUrl || "/SignOut?lnkctr=mL",
                        o = c.getWithParams("ce-head-code", ["CODE"], [t.display.code || o]);
                    return e.innerHTML = "<h1>" + c.get("ce-head-sorry") + "</h1><p>" + c.get("ce-text-session-expired") + '</p><a href="' + i + '" class="player-signout-button"><button class="button">' + c.get("ce-sign-out-button") + "</button></a><h3>" + o + "</h3>", e
                }

                function r() {
                    function e(e, t) {
                        t && (p.push(e), h.push(t))
                    }
                    var t = E.initParams(),
                        n = t.supportPhoneNumber,
                        i = t.signoutUrl,
                        o = t.chromeVersion,
                        r = E && E.getCountry().toUpperCase();
                    e("PHONE", n), e("SIGNOUT_URL", i), e("CHROME_VERSION", o), e("ISO", r)
                }

                function s(e) {
                    var t = window.netflix.clientNotifications;
                    if (t) {
                        var n = b.getHash(b.CONSTANTS.EPISODE_ID),
                            i = b.getHash(b.CONSTANTS.VIDEO_ID),
                            o = E.videoId(),
                            r = b.getQueryString(),
                            s = parseInt(r.movieid),
                            a = {
                                category: "uiQOE",
                                modalView: "errorDialog",
                                data: {
                                    playable: o || -1,
                                    requested: isNaN(s) ? -1 : s,
                                    h_episode: n || -1,
                                    h_video: i || -1,
                                    code: e && e.display && e.display.code || -1,
                                    core: E.videoPlayer() && E.videoPlayer().getAdditionalLogInfo() || "na"
                                }
                            };
                        t.notify("uiModalViewChanged", a), t.flushBuffer && t.flushBuffer()
                    }
                }

                function a(t) {
                    d = E.playerWrapper(), c = e.I18n, r(), d.appendChild(i(t)), v.ui.exitPlayback.init(d)
                }

                function l() {
                    var e = E.videoPlayer().getError() || {};
                    s(e), e.display && e.display.code && e.display.code.indexOf && (e.display.code.indexOf(_) >= 0 || e.display.code.indexOf(y) >= 0) ? v.views.show(v.ui.playTimeout) : v.views.show(v.ui.fatal, [e])
                }

                function u() {
                    f.addEventListener(f.knownEvents.NEW_PLAYER_CREATED, function e() {
                        E.videoPlayer().addEventListener("error", l), f.removeEventListener(f.knownEvents.NEW_PLAYER_CREATED, e)
                    }), f.addEventListener(f.knownEvents.ERROR, function t(e) {
                        v.views.show(v.ui.fatal, [e]), f.removeEventListener(f.knownEvents.ERROR, t), s(e)
                    })
                }
                var d, c, m = null,
                    p = [],
                    h = [],
                    v = e.cadmium,
                    E = v.objects,
                    f = v.UiEvents,
                    g = v.element,
                    b = v.url,
                    _ = "7500",
                    y = "7502",
                    w = "7111-1957";
                return {
                    init: a,
                    listenForFatalErrors: u
                }
            }(), e.cadmium.views.register(e.cadmium.ui.fatal, e.cadmium.views.types.fatal), e.cadmium.ui.playTimeout = function() {
                "use strict";

                function t() {
                    f && n(), f = !0, a = e.cadmium.objects, l = e.cadmium.UiEvents, u = a.playerWrapper(), d = E({
                        "class": "timeout-wrapper"
                    }, c = E({
                        "class": "playRing"
                    }, E({
                        "class": "icon-play"
                    }))), p = e.cadmium.ui.exitPlayback, p.init(u), u.appendChild(d), m = a.videoPlayer().getElement(), m.style.position = "absolute", m.style.left = "0", m.parentNode.removeChild(m), u.appendChild(m), e.cadmium.addBeforeUnloadHandler(s, !0), l.addEventListener(l.knownEvents.VIDEO_FIRST_PLAY, function t() {
                        e.cadmium.UiEvents.removeEventListener(e.cadmium.UiEvents.knownEvents.VIDEO_FIRST_PLAY, t), s()
                    }), c.addEventListener("click", o), document.addEventListener("keyup", i), h = requestAnimationFrame(function() {
                        f && d.classList.add("player-active")
                    })
                }

                function n() {
                    f && (c.removeEventListener("click", o), document.removeEventListener("keyup", i), cancelAnimationFrame(h), u.removeChild(d), p.deinit(), u = null, d = null, p = null, a = null, l = null, f = !1)
                }

                function i(e) {
                    (e.keyCode === g || e.keyCode === b) && (document.removeEventListener("keyup", i), r())
                }

                function o() {
                    c.removeEventListener("click", o), r()
                }

                function r() {
                    var t = a.initParams(),
                        n = a.videoPlayer(),
                        i = a.videoId(),
                        o = n && n.getCurrentTime();
                    i && o && a.overrideBookmark(i, o), t.isStartingFromTimeout = !0, e.cadmium.ui.master.updateInitParams(t, a.playContext())
                }

                function s() {
                    var t;
                    n(), e.cadmium.removeBeforeUnloadHandler(s), m && (t = m.querySelector("video"), t && (t.removeAttribute("src"), t.load(), t = null), e.cadmium.objects.playerWrapper().removeChild(m)), m = null
                }
                var a, l, u, d, c, m, p, h, v = e.cadmium.dom,
                    E = v.get("DIV"),
                    f = !1,
                    g = 32,
                    b = 13;
                return {
                    init: t,
                    deinit: n
                }
            }(), e.cadmium.views.register(e.cadmium.ui.playTimeout, e.cadmium.views.types.standard),
            function() {
                "use strict";
                var t = e.cadmium,
                    n = t.element,
                    i = t.ui.Component.extend({
                        _rootClassName: "player-shutdown",
                        _initDOM: function() {
                            this.rootEl = n.create("div", {
                                "class": this._rootClassName
                            }, this.parentNode), this._logoEl = n.create("div", {
                                id: "logo"
                            }, this.rootEl), this._lightingEl = n.create("div", {
                                id: "light"
                            }, this.rootEl), this._shadowEl = n.create("div", {
                                id: "shadow"
                            }, this.rootEl)
                        },
                        _show: function() {
                            this.parentNode.appendChild(this.rootEl), setTimeout(function() {
                                this.rootEl.classList.add(n.classNames.visible)
                            }.bind(this), 1)
                        },
                        init: function(e) {
                            e && (this._super(e, {}), this._initDOM(), this._show())
                        }
                    });
                t.ui.shutdown = function() {
                    var e = new i;
                    return {
                        init: e.init.bind(e)
                    }
                }(), t.views.register(t.ui.shutdown, t.views.types.fatal)
            }(), e.cadmium.ui.mdx.playback = function() {
                function t() {}

                function n(n) {
                    m && t(), m = !0, i = n, o = e.cadmium, a = o.metadata, l = o.UiEvents, s = o.element, u = o.objects, r = o.ui, d = o.logging, c = s.classNames.active, d.log("view.mdx.playback.init", n, m);
                    var p = u.videoPlayer();
                    p.getPaused() ? p.play() : p.pause()
                }
                var i, o, r, s, a, l, u, d, c, m = !1;
                return {
                    init: n,
                    deinit: t
                }
            }(), e.cadmium.views.register(e.cadmium.ui.mdx.playback, e.cadmium.views.types.standard), e.cadmium.ui.autoplayInterrupter = function() {
                "use strict";

                function t(e) {
                    D.log("setNextVideoIsAutoplay for id", e), N = N || {}, e && (N[e] = !0), R = !0
                }

                function n() {
                    return Object.keys(N || {}).length
                }

                function i() {
                    return n() >= v
                }

                function o() {
                    D.info("Reset count."), N = {}
                }

                function r() {
                    R ? (R = !1, i() && (O = e.cadmium.objects.videoPlayer(), O && O.addEventListener("currenttimechanged", s))) : o(), D.log("Autoplay count " + n())
                }

                function s() {
                    S && (h = O.getCurrentTime(), h >= E && p())
                }

                function a() {
                    D.log("Continue playing."), u(), c()
                }

                function l() {
                    D.log("Play from beginning."), O.seek(0), u(), c()
                }

                function u() {
                    O.removeEventListener("currenttimechanged", s), O.play(), o()
                }

                function d() {
                    if (null === g) {
                        g = T.create("div", {
                            "class": "player-autoplay-interrupter no-select"
                        });
                        var e = C(C({
                            "class": "nf-icons icon-player-play"
                        }), A.get("ce-post-break-continue"));
                        b = new x.ui.Button(g, {
                            "class": "continue-playing",
                            contentsEl: e
                        }), b.addEventListener(b.knownEvents.CLICK, a);
                        var t = C(C({
                            "class": "nf-icons icon-player-prev-episode"
                        }), A.get("ce-post-break-restart"));
                        _ = new x.ui.Button(g, {
                            "class": "continue-playing",
                            contentsEl: t
                        }), _.addEventListener(_.knownEvents.CLICK, l);
                        var n = C(C({
                            "class": "nf-icons icon-player-cancel"
                        }), A.get("ce-post-break-back-to-browse"));
                        y = new x.ui.Button(g, {
                            "class": "continue-playing",
                            contentsEl: n
                        }), y.addEventListener(y.knownEvents.CLICK, x.ui.master.goBackToBrowsing)
                    }
                    return g
                }

                function c() {
                    S && (D.log("deinit"), S = !1, g && (b && (b.removeEventListener(b.knownEvents.CLICK, a), b.destroy()), _ && (_.removeEventListener(_.knownEvents.CLICK, l), _.destroy()), y && (y.removeEventListener(y.knownEvents.CLICK, x.ui.master.goBackToBrowsing), y.destroy()), f.classList.remove(w), T.remove(g), O && O.removeEventListener("currenttimechanged", s), I.fireEvent(I.knownEvents.HIDE_AUTOPLAY_INTERRUPTER)), R = null, h = null, f = null, g = null, b = null, _ = null, y = null, w = null, k = null, x = null, T = null, A = null, L = null, I = null, P = null, C = null, O = null)
                }

                function m(t) {
                    S && c(), R = !1, w = "player-autoplay-interrupter-mode", k = "show-autoplay-interrupter", x = e.cadmium, T = x.element, A = e.I18n, L = x.objects, I = x.UiEvents, P = x.dom, C = P.SPAN, D.log("init"), v = L.initParams().maxConsecutiveAutoplays || 2, E = L.initParams().autoplayInterrupterTimestamp || 12e4, S = !0, f = t
                }

                function p() {
                    O.pause(), f.classList.add(w), f.appendChild(d()), requestAnimationFrame(function() {
                        g.classList.add(k), I.fireEvent(I.knownEvents.SHOW_AUTOPLAY_INTERRUPTER)
                    })
                }
                var h, v, E, f, g, b, _, y, w, k, x, T, A, L, I, P, C, O, N, S = !1,
                    R = !1,
                    D = e.cadmium.Logger.create("subview.autoplay.interrupter");
                return e.cadmium.UiEvents.addEventListener(e.cadmium.UiEvents.knownEvents.AUTOPLAY_NEXT_EPISODE, t), e.cadmium.UiEvents.addEventListener(e.cadmium.UiEvents.knownEvents.VIDEO_FIRST_PLAY, r), {
                    init: m,
                    deinit: c
                }
            }(), e.cadmium.ui.trickplayPreview = function() {
                "use strict";

                function t() {
                    function e(e) {
                        if (z) {
                            var t = _.classList.contains(o);
                            e && t && (_.classList.remove(o), q = null), !e && !t && k.width <= 0 && (_.classList.add(o), q = null), n()
                        }
                    }
                    if (z) {
                        var t = Y + X.value,
                            i = 1e3 * L.getFloored(t),
                            o = "no-preview";
                        w.nodeValue = L.convert(t), A.setImageTagSourceAtTime(k, i, e)
                    }
                }

                function n() {
                    var e = X.relativePosition - 1,
                        t = q || I.getDimensions(_).w;
                    _.style.left = Math.floor(e - t / 2) + "px", x.style.left = Math.floor(e) + "px"
                }

                function i(e) {
                    var n = e ? "add" : "remove";
                    _.classList[n](j), x.classList[n](j), window.requestAnimationFrame(t)
                }

                function o() {
                    q = I.getDimensions(_).w
                }

                function r(e) {
                    _.contains(e.target) || (X = e.component.pointerEventData.drag.current, i(!1))
                }

                function s(e) {
                    e.dragging && (X = e.pointerEventData.drag.current, i(X.animate))
                }

                function a(e) {
                    X = e.pointerEventData.drag.current, i(X.animate), x.classList.add(F), _.classList.add(F), window.requestAnimationFrame(function() {
                        z && (x.classList.add(W), _.classList.add(W), O.fireEvent(O.knownEvents.SHOWN_TRICKPLAY_PREVIEW))
                    })
                }

                function l(e) {
                    var t = e.component;
                    _.contains(e.target) ? u(e) : (X = t.pointerEventData.drag.current, i(!1))
                }

                function u(e) {
                    window.clearTimeout(Q), q = null, Q = window.setTimeout(p, J)
                }

                function d(e) {
                    window.clearTimeout(Q), X = e.component.pointerEventData.drag.current, q = I.getDimensions(_).w, Q = window.setTimeout(m, J)
                }

                function c(e) {
                    var t = N.getPaused();
                    (x.classList.contains(W) || e.pointerType === R.touch) && (X = e.component.pointerEventData.drag.current, N.seek(1e3 * X.value), t || N.play(), d(e))
                }

                function m() {
                    if (z) {
                        var e = "add";
                        window.clearTimeout(Q), i(!1), x.classList[e](F), _.classList[e](F), window.requestAnimationFrame(function() {
                            z && (x.classList[e](W), _.classList[e](W), O.fireEvent(O.knownEvents.SHOWN_TRICKPLAY_PREVIEW))
                        })
                    }
                }

                function p() {
                    z && (window.clearTimeout(Q), x.classList.remove(W), _.classList.remove(W), G.fromEvent(_, "transitionend").takeUntil(U).filter(function(e) {
                        return "opacity" === e.propertyName
                    }).take(1).doAction(function() {
                        _.classList.contains(W) || (x.classList.remove(F), _.classList.remove(F), O.fireEvent(O.knownEvents.HIDDEN_TRICKPLAY_PREVIEW))
                    }).subscribe(B, D.getErrorHandler("event|transitionend"), B))
                }

                function h() {
                    V = C.getActiveVideo();
                    var e = S.getClipValues(V.id);
                    Y = e && e.start / 1e3 || 0
                }

                function v() {
                    k = null, y = I.create("time"), w = y.appendChild(document.createTextNode("0")), _ = I.create("section", {
                        "class": "trickplay-preview no-preview"
                    }), _.appendChild(y), M.wrapperEl.appendChild(_), x = I.create("div", {
                        "class": "trickplay-position"
                    }, M.progressEl), null !== k && I.remove(k), k = I.create("img", {
                        "class": "trickplay-image"
                    }, _)
                }

                function E() {
                    function e(e, t, n) {
                        return G.fromEvent(e, t).takeUntil(U).doAction(n)
                    }
                    var t = M.knownEvents,
                        n = G.merge(e(M, t.MOUSE_ENTER, d), e(M, t.MOUSE_MOVE, l), e(M, t.MOUSE_LEAVE, u), e(M, t.DRAG_START, o), e(M, t.NEW_VALUE, s), e(M, t.DRAG_END, r), e(M, t.CLICK, c)),
                        i = G.fromEvent(M, t.NEW_VALUE),
                        m = G.fromEvent(O, O.knownEvents.DRAG_MODE_ENTER),
                        p = G.fromEvent(O, O.knownEvents.KEYBOARD_SEEK_ENTER);
                    m.startWith(null).takeUntil(U).flatMap(function() {
                        return n.takeUntil(p)
                    }).subscribe(B, D.getErrorHandler("uievent|DRAG_MODE_ENTER"), B), p.takeUntil(U).flatMap(function() {
                        return i.takeUntil(m).throttle(10)
                    }).doAction(a).subscribe(B, D.getErrorHandler("uievent|KEYBOARD_SEEK_ENTER"), B), G.fromEvent(O, O.knownEvents.CINEMA_MODE_ENTER).takeUntil(U).doAction(u).subscribe(B, D.getErrorHandler("uievent|CINEMA_MODE_ENTER"), B), G.fromEvent(O, O.knownEvents.METADATA_LOADED).merge(G["return"](V && V.id === P.videoId())).takeUntil(U).filter(function(e) {
                        return !!e
                    }).doAction(h).subscribe(B, D.getErrorHandler("uievent|METADATA_LOADED"), B)
                }

                function f() {
                    z && (z = !1, U.onNext(), window.clearTimeout(Q), I.remove([x, _]), b = null, _ = null, y = null, w = null, k = null, x = null, q = null, T = null, A = null, L = null, I = null, P = null, C = null, O = null, N = null, S = null, R = null, D = null, M = null, H = null, U = null, B = null, V = null, X = null, K = null, Q = null, j = null, F = null, W = null)
                }

                function g(t) {
                    z && f(), z = !0, b = t, T = e.cadmium, A = T.trickplay, L = T.time, I = T.element, P = T.objects, O = T.UiEvents, C = T.metadata, S = T.clips, N = P.videoPlayer(), R = T.browser.pointerTypes, D = T.Logger.create("subview.trickplay.preview"), j = I.classNames.animate, F = I.classNames.visible, W = I.classNames.active, B = T.util.NOOP, X = {
                        value: null,
                        relativePosition: null,
                        absolutePosition: null,
                        wrapperDimensions: null
                    }, U = new Rx.Subject, Y = 0, M = T.ui.scrubber.getScrubberComponent(), V = C.getActiveVideo(), H = T.ui.scrubber.getLabelEl(), v(), E()
                }
                var b, _, y, w, k, x, T, A, L, I, P, C, O, N, S, R, D, M, H, U, B, V, j, F, W, z = !1,
                    q = null,
                    G = Rx.Observable,
                    Y = 0,
                    K = null,
                    X = {
                        value: null,
                        relativePosition: null,
                        absolutePosition: null,
                        wrapperDimensions: null
                    },
                    Q = null,
                    J = 300;
                return {
                    init: g,
                    deinit: f,
                    hideTrickplayPreview: p
                }
            }(), e.cadmium.ui.scrubber = function() {
                "use strict";

                function t(e, t) {
                    P && C && t && b.update(D, e.duration, e.buffer)
                }

                function n(e) {
                    if (P && (N.firstChild.nodeValue = y.convert(e.duration - D), !M || M !== e.duration)) {
                        M = e.duration;
                        var t = M > H ? "add" : "remove",
                            n = "player-long-title";
                        N.classList[t](n)
                    }
                }

                function i() {
                    if (P) {
                        var e = T.getCurrentTime() / 1e3,
                            i = T.getBufferedTime() / 1e3;
                        if (!b.dragging && R && e !== D) {
                            D = e;
                            var o = {
                                currentTime: e,
                                duration: T.getDuration() / 1e3,
                                buffer: i
                            };
                            t(o, !0), n(o)
                        }
                    }
                }

                function o(e) {
                    t({
                        currentTime: e.value,
                        duration: e.max
                    }, !1)
                }

                function r() {
                    b.snapbackDragEl.classList.add(w.classNames.active), R || (R = !0, k.fireEvent(k.knownEvents.DRAG_MODE_ENTER)),
                        k.fireEvent(k.knownEvents.DRAG_START_SCRUBBER)
                }

                function s(e, t) {
                    T.seek(1e3 * t.value), t.pointerEventData.playing && T.play(), b.snapbackDragEl.classList.remove(w.classNames.active), k.fireEvent(k.knownEvents.DRAG_FINISH_SCRUBBER)
                }

                function a() {
                    O.classList.add(L)
                }

                function l() {
                    O.classList.remove(L)
                }

                function u() {
                    C = !1
                }

                function d() {
                    C = !0, i()
                }

                function c(e) {
                    T.getPaused() || T.pause(), setTimeout(function() {
                        b.incrementScrubberPosition(e), R && (k.fireEvent(k.knownEvents.KEYBOARD_SEEK_ENTER), R = !1), b.fireEvent(b.knownEvents.NEW_VALUE, [b])
                    }, 1)
                }

                function m() {
                    c(S)
                }

                function p() {
                    c(-1 * S)
                }

                function h() {
                    T.getPaused() || R || (T.seek(1e3 * b.value), R = !0, k.fireEvent(k.knownEvents.DRAG_MODE_ENTER), I.hideTrickplayPreview())
                }

                function v() {
                    b.incrementScrubberPosition(0), b.fireEvent(b.knownEvents.NEW_VALUE, [b])
                }

                function E() {
                    N = w.create("label", {}, O), N.appendChild(document.createTextNode(0))
                }

                function f() {
                    P && (I.deinit(), b.destroy(), b.removeEventListener(b.knownEvents.NEW_VALUE, o), b.removeEventListener(b.knownEvents.DRAG_END, s), b.removeEventListener(b.knownEvents.DRAG_START, r), k.removeEventListener(k.knownEvents.SHOW_MENU, a), k.removeEventListener(k.knownEvents.HIDE_MENU, l), k.removeEventListener(k.knownEvents.CINEMA_MODE_ENTER, u), k.removeEventListener(k.knownEvents.CINEMA_MODE_EXIT, d), k.removeEventListener(k.knownEvents.WINDOW_RESIZE, v), T.removeEventListener("currenttimechanged", i), T.removeEventListener("durationchanged", i), T.removeEventListener("bufferedtimechanged", i), A.removeEventListener(A.knownEvents.SEEK_FORWARD, m), A.removeEventListener(A.knownEvents.SEEK_BACKWARD, p), T.removeEventListener("pausedchanged", h), w.remove(N), O = null, N = null, b = null, _ = null, y = null, w = null, k = null, x = null, T = null, A = null, L = null, D = 0, I = null, P = !1, M = !1)
                }

                function g(n) {
                    P && f(), P = !0, O = n, _ = e.cadmium, k = _.UiEvents, w = _.element, y = _.time, x = _.objects, A = _.keyboard, T = x.videoPlayer(), L = w.classNames.hidden, E(), b = new _.ui.ScrubberComponent(O), I = _.ui.trickplayPreview, I.init(O), b.addEventListener(b.knownEvents.NEW_VALUE, o), b.addEventListener(b.knownEvents.DRAG_START, r), b.addEventListener(b.knownEvents.DRAG_END, s), k.addEventListener(k.knownEvents.SHOW_MENU, a), k.addEventListener(k.knownEvents.HIDE_MENU, l), k.addEventListener(k.knownEvents.CINEMA_MODE_ENTER, u), k.addEventListener(k.knownEvents.CINEMA_MODE_EXIT, d), k.addEventListener(k.knownEvents.WINDOW_RESIZE, v), A.addEventListener(A.knownEvents.SEEK_FORWARD, m), A.addEventListener(A.knownEvents.SEEK_BACKWARD, p), T.addEventListener("pausedchanged", h), T.addEventListener("currenttimechanged", i), T.addEventListener("durationchanged", i), T.addEventListener("bufferedtimechanged", i), requestAnimationFrame(function() {
                        P && (t({
                            currentTime: T.getCurrentTime() / 1e3,
                            buffer: T.getBufferedTime() / 1e3,
                            duration: T.getDuration() / 1e3
                        }, !0), d())
                    })
                }
                var b, _, y, w, k, x, T, A, L, I, P = !1,
                    C = !0,
                    O = null,
                    N = null,
                    S = 10,
                    R = !0,
                    D = 0,
                    M = !1,
                    H = 36e5;
                return {
                    init: g,
                    deinit: f,
                    getLabelEl: function() {
                        return N
                    },
                    getScrubberComponent: function() {
                        return b
                    }
                }
            }(), e.cadmium.ui.longpause = function() {
                "use strict";

                function t(t) {
                    L && i(), c = e.cadmium, m = Rx.Observable, p = c.metadata, h = c.objects, v = c.element, E = c.time, f = c.animate, g = e.I18n, b = c.UiEvents, _ = c.Logger.create("subview.longpause"), y = v.create, w = c.util.NOOP, k = v.classNames.hidden, x = t, I = new Rx.Subject, p.getMetadata() ? n() : m.fromEvent(b, b.knownEvents.METADATA_LOADED).takeUntil(I).take(1).doAction(n).subscribe(w, _.getErrorHandler("event|METADATA_LOADED"), w)
                }

                function n() {
                    o(), a(), L = !0
                }

                function i() {
                    L && (L = !1, I.onNext(), v.remove(T), x = null, T = null, A = null, I = null, c = null, m = null, p = null, h = null, v = null, E = null, f = null, g = null, b = null, _ = null, y = null, w = null, k = null)
                }

                function o() {
                    var e = p.getMetadata();
                    T = y("div", {
                        "class": "playback-longpause-container opacity-transparent display-none player-hidden"
                    }), A = y("div", {
                        "class": "content"
                    }, T), y("p", {
                        id: "p-label"
                    }, T).textContent = g.get("ce-long-pause-paused"), y("p", {
                        id: "yw-label"
                    }, A).textContent = g.get("ce-long-pause-youre-watching"), p.isShowData(e) ? s(e) : r(e), x.appendChild(T)
                }

                function r(e) {
                    var t = y("h2", {}, A),
                        n = y("h3", {}, A),
                        i = y("span", {}, n),
                        o = y("span", {}, n),
                        r = y("span", {}, n),
                        s = y("p", {}, A),
                        a = e.video;
                    a.title && (t.textContent = a.title), a.year && (i.textContent = a.year), a.rating && (o.textContent = a.rating), a.runtime && (r.textContent = E.convertUsingKey(a.runtime, !1, !0, "ce-time")), a.synopsis && (s.textContent = a.synopsis)
                }

                function s(e) {
                    var t = y("h2", {}, A),
                        n = y("h3", {}, A),
                        i = y("h3", {}, A),
                        o = y("p", {}, A),
                        r = e.video,
                        s = p.getActiveSeason(),
                        a = p.getActiveVideo();
                    r.title && (t.textContent = r.title), s && a && (n.innerHTML = s.title + ": " + g.get("ce-episode-abbreviation") + " " + a.seq, a.title && (i.textContent = a.title), a.synopsis && (o.textContent = a.synopsis))
                }

                function a() {
                    var e = m.fromEvent(b, b.knownEvents.CINEMA_MODE_ENTER),
                        t = m.fromEvent(b, b.knownEvents.CINEMA_MODE_EXIT),
                        n = m.fromEvent(b, b.knownEvents.PAUSE_TOGGLED).filter(function(e) {
                            return e
                        }),
                        i = m.fromEvent(b, b.knownEvents.PAUSE_TOGGLED).filter(function(e) {
                            return !e
                        });
                    n.takeUntil(I).flatMap(function() {
                        _.log("User initiated pause.");
                        var n = e.filter(function() {
                                return d()
                            }).takeUntil(i).flatMap(function() {
                                return m.timer(P).takeUntil(t).doAction(l)
                            }),
                            o = m.merge(i, t).doAction(u);
                        return m.merge(n, o)
                    }).subscribe(w, _.getErrorHandler("event|PAUSE_TOGGLED"), w)
                }

                function l() {
                    return L ? d() ? void requestAnimationFrame(function() {
                        f.fadeIn(T), requestAnimationFrame(function() {
                            T.classList.remove(k)
                        })
                    }) : void _.error("Show pause screen called but player is not in a paused state.") : void 0
                }

                function u() {
                    L && (T.classList.add(k), f.fadeOut(T))
                }

                function d() {
                    return h.videoPlayer().getPaused()
                }
                var c, m, p, h, v, E, f, g, b, _, y, w, k, x, T, A, L, I, P = 1e4;
                return {
                    init: t,
                    deinit: i
                }
            }(), e.cadmium.ui.mdx = function() {
                function t() {
                    return null === _ && (_ = c.create("div", {
                        "class": ["player-mdx", "player-control-button icon-player-mdx", v].join(" ")
                    })), _
                }

                function n() {
                    E.hasCastTargets = !1, _.classList.add(v)
                }

                function i() {
                    E.hasCastTargets = !0, _.classList.remove(v), _.tabIndex = 0, _.setAttribute(b, d.get("ce-button-alt-mdx")), _.setAttribute(g, "button")
                }

                function o() {
                    h.isFullscreen() && h.exit(), E.showCastDialog()
                }

                function r(e) {
                    (32 === e.keyCode || 13 === e.keyCode) && (e.preventDefault(), o())
                }

                function s() {
                    p.removeEventListener(p.knownEvents.MDX_LOADED, s), E = m.mdxManager(), _.addEventListener("click", o), _.addEventListener("keydown", r), E.addEventListener(E.EVENTS.castDevicesAvailable, i), E.addEventListener(E.EVENTS.castDevicesUnavailable, n), E.hasCastTargets && i()
                }

                function a(n) {
                    return f && l(), e.cadmium.objects.initParams().mdxEnabled ? (f = !0, u = e.cadmium, d = e.I18n, m = u.objects, p = e.cadmium.UiEvents, h = e.cadmium.fullscreen, c = u.element, v = c.classNames.hidden, n.appendChild(t()), E = m.mdxManager(), E && E.mdxEnabled ? s() : (p.addEventListener(p.knownEvents.MDX_LOADED, s), e.mdx.bootstrap.readyToInit() && e.mdx.bootstrap.tryInitMdx()), _) : void 0
                }

                function l() {
                    f && (p.removeEventListener(p.knownEvents.MDX_LOADED, this._mdxLoadedHandler, this), c.remove(_), E && (_.removeEventListener("click", o), _.removeEventListener("keydown", r), E.removeEventListener(E.EVENTS.castDevicesAvailable, i), E.removeEventListener(E.EVENTS.castDevicesUnavailable, n)), _ = null, E = null, u = null, d = null, c = null, m = null, p = null, h = null, v = null, f = !1)
                }
                var u, d, c, m, p, h, v, E, f, g = "role",
                    b = "aria-label",
                    _ = null;
                return {
                    init: a,
                    deinit: l
                }
            }(), e.cadmium.ui.pauser = function() {
                "use strict";

                function t() {
                    return null === w && (w = E.create("div", {
                        "class": "player-control-button player-play-pause pause " + I
                    }), w.tabIndex = 0, w.setAttribute(P, "button")), w
                }

                function n() {
                    y && (g.getPaused() ? (w.classList.remove(A), w.classList.remove(I), w.classList.add(T), w.classList.add(L), w.setAttribute(C, v.get("ce-button-alt-play"))) : (w.classList.remove(T), w.classList.remove(L), w.classList.add(A), w.classList.add(I), w.setAttribute(C, v.get("ce-button-alt-pause"))))
                }

                function i() {
                    g.getPaused() ? g.play() : g.pause(), b.fireEvent(b.knownEvents.PAUSE_TOGGLED, [g.getPaused()])
                }

                function o() {
                    x = !1
                }

                function r() {
                    x = !0
                }

                function s(e) {
                    (e.target === w || e.target === p) && i()
                }

                function a(e) {
                    !k && x && e.target === document.body && (e.preventDefault(), i())
                }

                function l(e) {
                    !x || 32 !== e.keyCode && 13 !== e.keyCode || (e.preventDefault(), i())
                }

                function u(e) {
                    k = "focus" === e.type
                }

                function d() {
                    y && (y = !1, g.removeEventListener("pausedchanged", n), w.removeEventListener("click", s), w.removeEventListener("keydown", l), w.removeEventListener("focus", u), w.removeEventListener("blur", u), b.removeEventListener(b.knownEvents.SHOW_AUTOPLAY_INTERRUPTER, o), b.removeEventListener(b.knownEvents.HIDE_AUTOPLAY_INTERRUPTER, r), _.removeEventListener(_.knownEvents.TOGGLE_PLAY, a), E.remove(w), m = null, w = null, p = null, h = null, v = null, E = null, f = null, g = null, b = null, _ = null)
                }

                function c(i) {
                    return y && d(), y = !0, m = i, k = !1, h = e.cadmium, v = e.I18n, E = h.element, f = h.objects, g = f.videoPlayer(), b = h.UiEvents, _ = h.keyboard, m.appendChild(t()), n(), g.addEventListener("pausedchanged", n), w.addEventListener("click", s), w.addEventListener("keydown", l), w.addEventListener("focus", u), w.addEventListener("blur", u), _.addEventListener(_.knownEvents.TOGGLE_PLAY, a), b.addEventListener(b.knownEvents.SHOW_AUTOPLAY_INTERRUPTER, o), b.addEventListener(b.knownEvents.HIDE_AUTOPLAY_INTERRUPTER, r), w
                }
                var m, p, h, v, E, f, g, b, _, y = !1,
                    w = null,
                    k = !1,
                    x = !0,
                    T = "play",
                    A = "pause",
                    L = "icon-player-play",
                    I = "icon-player-pause",
                    P = "role",
                    C = "aria-label";
                return {
                    init: c,
                    deinit: d
                }
            }(), e.cadmium.ui.volume = function() {
                function t(e) {
                    h.menuEl.contains(e.target) || h.toggleMute()
                }

                function n(e) {
                    (32 === e.keyCode || 13 === e.keyCode) && (e.preventDefault(), h.toggleMute())
                }

                function i() {
                    return null === c && (c = l.create("div", {
                        "class": "player-control-button volume icon-player-volume-full"
                    }), c.tabIndex = 0, c.setAttribute(v, "button"), c.setAttribute(E, a.get("ce-button-alt-mute")), h = new s.ui.VolumeMenuComponent(c, c, {
                        id: "player-menu-volume",
                        volumeTextNode: p
                    })), c
                }

                function o() {
                    c.removeEventListener("click", t), c.removeEventListener("keydown", n), h && h.destroy(), u = !1, d = null, c = null, m = null, p = null, h = null, s = null, a = null, l = null
                }

                function r(r) {
                    return u && o(), u = !0, d = r, s = e.cadmium, a = e.I18n, l = s.element, d.appendChild(i()), c.addEventListener("click", t), c.addEventListener("keydown", n), c
                }
                var s, a, l, u = !1,
                    d = null,
                    c = null,
                    m = null,
                    p = null,
                    h = null,
                    v = "role",
                    E = "aria-label";
                return {
                    init: r,
                    deinit: o
                }
            }(), e.cadmium.ui.status = function() {
                "use strict";

                function t() {
                    var t, n, i, o = a.getMetadata();
                    if (o) i = "<span class='player-status-main-title'>" + o.video.title + "</span>", a.videoIsKnown(d.videoId()) && (t = a.getActiveVideo(), n = a.isShowData(o), n && t && (i += e.I18n.getWithParams("ce-status-episodic-title", ["SEASON_TITLE", "EPISODE", "EPISODE_TITLE"], [a.getActiveSeason().title, t.seq, t.title]))), m.innerHTML = i;
                    else if (s.ui.preplay.preplayNeeded()) {
                        var r = d.initParams().preplay,
                            l = r ? r.movieTitle : "";
                        l = decodeURIComponent(l.replace(/\+/g, "%20")), m.innerHTML = "<span class='player-status-main-title'>" + l + "</span>"
                    }
                }

                function n() {
                    return null === m && (m = l.create("div", {
                        "class": "player-status"
                    })), m
                }

                function i() {
                    c && (c = !1, u.removeEventListener(u.knownEvents.METADATA_LOADED, t), l.remove(m), r = null, m = null, s = null, a = null, l = null, u = null, d = null)
                }

                function o(o) {
                    return c && i(), c = !0, r = o, s = e.cadmium, a = s.metadata, l = s.element, u = s.UiEvents, d = s.objects, u.addEventListener(u.knownEvents.METADATA_LOADED, t), r.appendChild(n()), t(), m
                }
                var r, s, a, l, u, d, c = !1,
                    m = null;
                return {
                    init: o,
                    deinit: i
                }
            }(), e.cadmium.ui.nextEpisode = function() {
                function t() {
                    return null === b && (b = m.create("div", {
                        "class": ["player-control-button", "player-next-episode icon-player-next-episode", f].join(" ")
                    }), b.setAttribute(k, !0), _ = m.create("div", {
                        "class": "player-control-a11y-button"
                    }), _.setAttribute(w, "button"), _.setAttribute(x, d.get("ce-button-alt-next-episode")), b.appendChild(_)), b
                }

                function n(e) {
                    if (b.contains(e.target)) {
                        var t = v.initParams() || {},
                            n = c.getNextEpisode().id;
                        p.setNextVideo(p.CONSTANTS.EPISODE_ID, n, t.trackIdNextEpisode || 0), u.ui.master.updateInitParams(t, null)
                    }
                }

                function i(e) {
                    (32 === e.keyCode || 13 === e.keyCode) && (e.preventDefault(), n(e))
                }

                function o() {
                    var e = v.videoId(),
                        t = c.videoIsKnown(e),
                        n = t && null !== c.getNextEpisode();
                    n && !E.getClipValues(e) ? (b.classList.remove(f), b.setAttribute(k, !1), _.tabIndex = 0, y = new u.ui.NextEpisodeMenuComponent(b, b, {
                        id: "player-menu-next-episode"
                    })) : (b.classList.add(f), _.tabIndex = -1)
                }

                function r() {
                    g && (g = !1, null !== y && y.destroy(), h.removeEventListener(h.knownEvents.METADATA_LOADED, o), b.removeEventListener("click", n), b.removeEventListener("keydown", i), m.remove(b), a = null, b = null, _ = null, l = null, y = null, u = null, d = null, c = null, m = null, p = null, h = null, v = null, E = null, f = null)
                }

                function s(s) {
                    return g && r(), g = !0, a = s, u = e.cadmium, d = e.I18n, c = u.metadata, m = u.element, p = u.url, h = u.UiEvents, v = u.objects, E = u.clips, f = m.classNames.hidden, a.appendChild(t()), h.addEventListener(h.knownEvents.METADATA_LOADED, o), b.addEventListener("click", n), b.addEventListener("keydown", i), o(), b
                }
                var a, l, u, d, c, m, p, h, v, E, f, g = !1,
                    b = null,
                    _ = null,
                    y = null,
                    w = "role",
                    k = "aria-hidden",
                    x = "aria-label";
                return {
                    init: s,
                    deinit: r
                }
            }(), e.cadmium.ui.episodeSelector = function() {
                "use strict";

                function t(e) {
                    var t = p.initParams() || {};
                    v.setNextVideo(v.CONSTANTS.EPISODE_ID, e.videoId, t.trackIdEpisodeSelector), l.ui.master.updateInitParams(p.initParams(), null)
                }

                function n() {
                    return null === g && (g = c.create("div", {
                        "class": ["player-control-button", "player-episode-selector icon-player-episode-selector", E].join(" ")
                    }), g.setAttribute(w, !0), b = c.create("div", {
                        "class": "player-control-a11y-button"
                    }), b.setAttribute(y, "button"), b.setAttribute(k, u.get("ce-button-alt-episodes")), g.appendChild(b)), g
                }

                function i() {
                    var e = p.videoId(),
                        n = d.videoIsKnown(e),
                        i = n && d.getTotalEpisodeCount(e) > 1;
                    i && !h.getClipValues(e) ? (g.classList.remove(E), g.setAttribute(w, !1), b.tabIndex = 0, _ = _ || new l.ui.EpisodeSelectorMenuComponent(g, g, {
                        id: "player-menu-episode-selector"
                    }), _.addEventListener(_.CHANGE_VIDEO_EVENT, t)) : (g.classList.add(E), b.tabIndex = -1)
                }

                function o() {
                    f && (f = !1, null !== _ && (_.removeEventListener(_.CHANGE_VIDEO_EVENT, t), _.destroy()), _ = null, m.removeEventListener(m.knownEvents.METADATA_LOADED, i), c.remove(g), s = null, g = null, b = null, a = null, l = null, u = null, d = null, c = null, m = null, p = null, h = null, v = null, E = null)
                }

                function r(t) {
                    return l = e.cadmium, p = l.objects, f && o(), f = !0, s = t, u = e.I18n, d = l.metadata, c = l.element, m = l.UiEvents, h = l.clips, v = l.url, E = c.classNames.hidden, s.appendChild(n()), m.addEventListener(m.knownEvents.METADATA_LOADED, i), i(), g
                }
                var s, a, l, u, d, c, m, p, h, v, E, f = !1,
                    g = null,
                    b = null,
                    _ = null,
                    y = "role",
                    w = "aria-hidden",
                    k = "aria-label";
                return {
                    init: r,
                    deinit: o
                }
            }(), e.cadmium.ui.audio = function() {
                "use strict";

                function t() {
                    var e = h && h.initParams() || {};
                    return null === b && (b = c.create("div", {
                        "class": ["player-control-button", "player-audio-select icon-player-subtitle-selector", f].join(" ")
                    }), b.setAttribute(w, !0), _ = c.create("div", {
                        "class": "player-control-a11y-button"
                    }), _.setAttribute(y, "button"), _.setAttribute(k, u.get("ce-button-alt-subtitles")), b.appendChild(_), "qc" === e.uimode && b.classList.add("qc")), b
                }

                function n() {
                    (v.getAudioTrackList().length > 1 || v.getTimedTextTrackList().length > 1) && (b.classList.remove(f), b.setAttribute(w, !1), _.tabIndex = 0)
                }

                function i() {
                    g && (g = !1, a.destroy(), m.removeEventListener(p.METADATA_LOADED, n), c.remove(_), c.remove(b), r = null, b = null, _ = null, s = null, a = null, l = null, u = null, d = null, c = null, m = null, p = null, h = null, v = null, E = null, f = null)
                }

                function o(o) {
                    return g && i(), g = !0, r = o, l = e.cadmium, u = e.I18n, d = l.metadata, c = l.element, m = l.UiEvents, p = m.knownEvents, h = l.objects, v = h.videoPlayer(), E = l.session, f = c.classNames.hidden, r.appendChild(t()), a = new l.ui.AudioSubtitleMenuComponent(b, b, {
                        id: "player-menu-track-settings"
                    }), m.addEventListener(p.METADATA_LOADED, n), n(), b
                }
                var r, s, a, l, u, d, c, m, p, h, v, E, f, g = !1,
                    b = null,
                    _ = null,
                    y = "role",
                    w = "aria-hidden",
                    k = "aria-label";
                return {
                    init: o,
                    deinit: i
                }
            }(), e.cadmium.ui.fullscreen = function() {
                "use strict";

                function t(e) {
                    e ? (_.classList.add(w), _.classList.remove(y), _.setAttribute(x, m.get("ce-button-alt-exit-fullscreen"))) : (_.classList.add(y), _.classList.remove(w), _.setAttribute(x, m.get("ce-button-alt-go-fullscreen")))
                }

                function n() {
                    return null === _ && (_ = h.create("div", {
                        "class": "player-control-button player-fill-screen"
                    }), _.tabIndex = 0, _.setAttribute(k, "button")), t(E.isFullscreen()), _
                }

                function i(e) {
                    (32 === e.keyCode || 13 === e.keyCode) && (e.preventDefault(), o(e))
                }

                function o(e) {
                    var t = e.target;
                    _.contains(t) && E.toggle()
                }

                function r(e) {
                    var t = e.target,
                        n = u.parentNode;
                    n.contains(t) || E.toggle()
                }

                function s() {
                    _.addEventListener("keydown", i), _.addEventListener("click", o), d.addEventListener("dblclick", r, !1), v.addEventListener(v.knownEvents.FULLSCREEN_CHANGE, t)
                }

                function a() {
                    b && (b = !1, _.removeEventListener("keydown", i), _.removeEventListener("click", o), d.removeEventListener("dblclick", r, !1), v.removeEventListener(v.knownEvents.FULLSCREEN_CHANGE, t), h.remove(_), u = null, _ = null, d = null, c = null, m = null, p = null, h = null, v = null, E = null, f = null, g = null)
                }

                function l(t) {
                    return b && a(), c = e.cadmium, m = e.I18n, h = c.element, p = c.objects, v = c.UiEvents, E = c.fullscreen, f = c.Logger.create("subview.fullscreen"), g = c.util, f.log("init"), d = p.playerWrapper(), u = t, _ = n(), s(), u.appendChild(_), b = !0, _
                }
                var u, d, c, m, p, h, v, E, f, g, b = !1,
                    _ = null,
                    y = "icon-player-full-screen",
                    w = "icon-player-windowed-screen",
                    k = "role",
                    x = "aria-label";
                return {
                    init: l,
                    deinit: a
                }
            }(), e.cadmium.ui.preplay = function() {
                "use strict";

                function t() {
                    var t = e.cadmium && e.cadmium.objects && "function" == typeof e.cadmium.objects.initParams && e.cadmium.objects.initParams().recap;
                    return t && t.movieId && !t.hasPlayed
                }

                function n() {
                    u.removeAttribute("style");
                    var e = P.initParams();
                    e.recap.hasPlayed = !0, I.ui.master.updateInitParams(e)
                }

                function i() {
                    n()
                }

                function o() {
                    n()
                }

                function r(n) {
                    if (A && s(), t()) {
                        I = e.cadmium, P = I.objects, b = I.metadata, _ = I.element, y = I.UiEvents, w = P.videoPlayer(), k = e.I18n, x = I.Logger.create("preplay"), g = P.initParams().recap, T = I.util._, A = !0, f = new Rx.Subject, u = document.getElementsByClassName("player-video-wrapper")[0], l = n, n.classList.add(L), c = _.create("div", {
                            id: "preplay-bg"
                        }, n), c.style.cssText = "background-image: url(" + g.backgroundImage + ");", d = _.create("div", {
                            id: "video-bg"
                        }, u), m = _.create("div", {
                            "class": "preplay-header"
                        }, u), p = _.create("div", {
                            id: "preplay-logo"
                        }, m), h = _.create("span", {
                            id: "preplay-text-recap",
                            "class": "recap-header-text"
                        }, m);
                        var r, N = g.seasonNumber;
                        "rtl" === T.get(I.util.getContextData("userContext", "geo"), "preferredLocale.dir", null) ? (r = _.create("h1", {
                            "class": "recap-header-text"
                        }), p.appendChild(r), C.merge(C["return"](T.result(b, "getMetadata", null)), C.fromEvent(y, y.knownEvents.METADATA_LOADED)).takeUntil(f).filter(function(e) {
                            return !!e
                        }).take(1).doAction(function() {
                            r.textContent = T.get(T.result(b, "getMetadata", null), "video.title", "")
                        }).subscribe(T.noop, x.getErrorHandler("buildARTitle"), T.noop)) : p.style.cssText = "background-image: url(" + g.logoImage + ");", h.textContent = k.getWithParams("ce-season-recap-text", ["SEASON"], [N]), v = _.create("div", {}, u), E = new I.ui.Button(v, {
                            id: "preplay-skip-button",
                            contentsEl: document.createTextNode(k.getWithParams("ce-start-next-season-button", ["SEASON"], [N + 1]))
                        }), C.fromEvent(E, E.knownEvents.CLICK).takeUntil(f).take(1).subscribe(i);
                        var S = w.getVideoSize();
                        O = S.width / S.height, a(), C.fromEvent(y, y.knownEvents.WINDOW_RESIZE).takeUntil(f).subscribe(a), C.fromEvent(y, y.knownEvents.VIDEO_ENDED).takeUntil(f).take(1).subscribe(o)
                    }
                }

                function s() {
                    A && (f.onNext(), l.classList.remove(L), E && E.destroy(), _.remove(c), _.remove(m), _.remove(d), _.remove(v), P.clearTrackId(), A = !1, l = null, u = null, d = null, c = null, m = null, p = null, h = null, v = null, E = null, f = null, g = null, I = null, P = null, b = null, _ = null, y = null, w = null, k = null, x = null, T = null, O = null)
                }

                function a() {
                    window.requestAnimationFrame(function() {
                        var e, t, n = _.getDimensions(l);
                        n.w / n.h > O ? (t = .7 * n.h, e = t * O) : (e = .7 * n.w, t = e / O), u.style.width = e + "px", u.style.height = t + "px"
                    })
                }
                var l, u, d, c, m, p, h, v, E, f, g, b, _, y, w, k, x, T, A = !1,
                    L = "player-preplay",
                    I = e.cadmium,
                    P = I.objects,
                    C = Rx.Observable,
                    O = null;
                return {
                    init: r,
                    deinit: s,
                    preplayNeeded: t
                }
            }(), e.cadmium.ui.incognito = function() {
                function t() {
                    return null === b && (b = d.create("div", {
                        "class": ["player-control-button", "player-incognito", h].join(" ")
                    }), b.setAttribute(x, !0), _ = d.create("div", {
                        "class": "player-control-a11y-button"
                    }), _.setAttribute(k, "button"), _.setAttribute(T, l.get("ce-button-alt-incognito")), b.appendChild(_)), b
                }

                function n() {
                    if (p && p.enabled === !0) {
                        b.classList.remove(h), b.classList.add("player-incognito--" + p.mode), b.setAttribute(x, !1), _.tabIndex = 0;
                        var e = w[p.mode];
                        e ? (v = d.create("span"), v.appendChild(document.createTextNode(w[p.mode])), b.appendChild(v)) : (E = document.createElement("div"), E.innerHTML = A.SHARED, b.appendChild(E), Rx.Observable.fromEvent(m, m.knownEvents.INCOGNITO_CHANGED).takeUntil(f).subscribe(i)), y = y || new a.ui.IncognitoMenuComponent(b, b, {
                            id: "player-menu--incognito"
                        }), p.autoshow && (y.showTickler(), y.sendIncognitoReq({
                            method: "auto"
                        })), Rx.Observable.fromEvent(b, "click").takeUntil(f).filter(function(e) {
                            return !y.isLoading() && !y.menuEl.contains(e.target)
                        }).subscribe(y.toggleIncognito), Rx.Observable.fromEvent(b, "keydown").takeUntil(f).filter(function(e) {
                            var t = 32 === e.keyCode || 13 === e.keyCode;
                            return t && !y.isLoading() && !y.menuEl.contains(e.target)
                        }).subscribe(y.toggleIncognito)
                    }
                }

                function i(e) {
                    E.innerHTML = e.isIncognito ? A.PRIVATE : A.SHARED
                }

                function o() {
                    g && (g = !1, y && y.destroy(), y = null, d.remove(b), m.removeEventListener(m.knownEvents.INCOGNITO_CHANGED, i), f.onNext(), b = null, _ = null, s = null, a = null, l = null, u = null, d = null, c = null, m = null, p = null, h = null, v = null)
                }

                function r(i) {
                    g && o(), a = e.cadmium, c = a.objects;
                    var r = c.videoPlayer();
                    return r && r.getXid && r.getXid() ? (g = !0, s = i, l = e.I18n, u = a.metadata, d = a.element, m = a.UiEvents, h = d.classNames.hidden, p = c.initParams().incognitoConfig, f = new Rx.Subject, s.appendChild(t()), n(), b) : void 0
                }
                var s, a, l, u, d, c, m, p, h, v, E, f, g = !1,
                    b = null,
                    _ = null,
                    y = null,
                    w = {
                        history: "a",
                        anonymous: "b",
                        "private": "c"
                    },
                    k = "role",
                    x = "aria-hidden",
                    T = "aria-label",
                    A = {
                        SHARED: '<svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 144 144" enable-background="new 0 0 144 144" xml:space="preserve"><g class="sauron" id="sauron-open"><path d="M114.1,66.4c-7.5-8.5-23.6-24-42.3-24S37,57.8,29.6,66.4c-2.7,3.1-2.7,7.8,0,10.9c7.5,8.5,23.6,24,42.3,24s34.8-15.5,42.3-24C116.8,74.2,116.8,69.5,114.1,66.4zM105.5,76.2C99.5,83,86.7,95.3,71.8,95.3c-14.9,0-27.7-12.3-33.7-19.1c-2.2-2.5-2.2-6.2,0-8.7c5.9-6.8,18.8-19.1,33.7-19.1c14.9,0,27.7,12.3,33.7,19.1C107.7,70,107.7,73.7,105.5,76.2z"/><path d="M71.8,58C64.2,58,58,64.2,58,71.8s6.2,13.8,13.8,13.8s13.8-6.2,13.8-13.8S79.5,58,71.8,58zM71.8,82c-5.6,0-10.2-4.6-10.2-10.2c0-5.6,4.6-10.2,10.2-10.2c5.6,0,10.2,4.6,10.2,10.2C82,77.5,77.4,82,71.8,82z"/></g></svg>',
                        PRIVATE: '<svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 144 144" enable-background="new 0 0 144 144" xml:space="preserve"><g class="sauron" id="sauron-closed"><path fill="none" d="M72.5,83.1c5.6,0,10.2-4.6,10.2-10.2c0-2.4-0.8-4.5-2.2-6.3L66.2,80.9C68,82.3,70.1,83.1,72.5,83.1z"/><path fill="none" d="M91.5,55.7L83.1,64c2,2.4,3.3,5.5,3.3,8.9c0,7.6-6.2,13.8-13.8,13.8c-3.4,0-6.5-1.2-8.9-3.3l-8,8c5.1,2.9,10.8,5,16.8,5c14.9,0,27.7-12.3,33.7-19.1c2.2-2.5,2.2-6.2,0-8.7C103,64.9,97.8,59.7,91.5,55.7z"/><path d="M45,83.6l33.5-33.5l4.9-4.9c-3.5-1.1-7.2-1.7-11-1.7c-18.7,0-34.8,15.5-42.3,24c-2.7,3.1-2.7,7.8,0,10.9c2.5,2.8,5.9,6.4,10,9.9L45,83.6z"/><path d="M114.8,67.4c-4-4.6-10.6-11.2-18.7-16.4l9.1-9.1c0.6-0.6,0.6-1.7,0-2.4l-0.4-0.4c-0.6-0.6-1.7-0.6-2.4,0l-64.2,64.2c-0.6,0.6-0.6,1.7,0,2.4l0.4,0.4c0.6,0.6,1.7,0.6,2.4,0L51.1,96c6.4,3.7,13.7,6.4,21.4,6.4c18.7,0,34.8-15.5,42.3-24C117.5,75.3,117.5,70.6,114.8,67.4zM82.7,72.9c0,5.6-4.6,10.2-10.2,10.2c-2.4,0-4.5-0.8-6.3-2.2l14.2-14.2C81.8,68.4,82.7,70.5,82.7,72.9zM106.2,77.3c-5.9,6.8-18.8,19.1-33.7,19.1c-6.1,0-11.8-2.1-16.8-5l8-8c2.4,2,5.5,3.3,8.9,3.3c7.6,0,13.8-6.2,13.8-13.8c0-3.4-1.2-6.5-3.3-8.9l8.4-8.4c6.4,4.1,11.5,9.3,14.7,12.9C108.3,71.1,108.3,74.8,106.2,77.3z"/></g></svg>'
                    };
                return {
                    init: r,
                    deinit: o
                }
            }(), e.cadmium.ui.popup = function() {
                "use strict";
                var t, n = e.cadmium,
                    i = n.element,
                    o = null,
                    r = [],
                    s = !1,
                    a = !1,
                    l = {
                        CONTAINER_CLASS: "popup-dialog-container",
                        MESSAGE_CLASS: "popup-dialog-message",
                        BUTTON_CONTAINER_CLASS: "popup-buttons-container"
                    },
                    u = function() {
                        var e = r.pop();
                        s = !0, o = i.create("div", {
                            "class": l.CONTAINER_CLASS
                        }), i.create("h2", {
                            "class": l.MESSAGE_CLASS
                        }, o).appendChild(document.createTextNode(e.title)), i.create("p", {
                            "class": l.MESSAGE_CLASS
                        }, o).appendChild(document.createTextNode(e.message));
                        for (var n = i.create("div", {
                                "class": l.BUTTON_CONTAINER_CLASS
                            }), a = 0; a < e.choices.length; a++) {
                            var u = e.choices[a],
                                d = i.create("button", {}, n);
                            d.appendChild(document.createTextNode(u.text)), u.onClick && d.addEventListener("click", u.onClick)
                        }
                        o.appendChild(n), t.appendChild(o)
                    },
                    d = function() {
                        i.remove(o), o = null, s = !1, r.length > 0 && u()
                    },
                    c = function(t, n) {
                        m(t, n, [{
                            text: e.I18n.get("ce-error-dialog-button-ok"),
                            onClick: d
                        }])
                    },
                    m = function(e, t, n) {
                        r.push({
                            title: e,
                            message: t,
                            choices: n
                        }), s || u()
                    },
                    p = function() {
                        i.remove(o), o = null, r = null, t = null, s = !1, a = !1
                    },
                    h = function(e) {
                        a || p(), a = !0, t = e, r = []
                    };
                return {
                    init: h,
                    deinit: p,
                    queueDialog: m,
                    showGenericError: c,
                    closeDialog: d
                }
            }(), e.cadmium.ui.pinentry = function() {
                "use strict";

                function t() {
                    K = b.create("div", {
                        "class": "pin-entry-container"
                    }, Y), X = b.create("div", {
                        "class": "pin-entry"
                    });
                    var e = b.create("div", {
                            id: "pin-buttons"
                        }, X),
                        t = b.create("div", {
                            "class": "play-button-content"
                        }),
                        n = b.create("span", {}, t),
                        i = b.create("p", {}, t);
                    n.textContent = "", i.textContent = x.get("ce-pin-play"), $ = new g.ui.PIN(X), J = new g.ui.Button(e, {
                        "class": "pin-play-button disabled",
                        contentsEl: t
                    }), Z = new g.ui.Button(e, {
                        "class": "pin-cancel-button",
                        contentsEl: document.createTextNode(x.get("ce-pin-cancel"))
                    }), ne = [$, J, Z], Q = b.create("h2", {
                        "class": "pin-title"
                    }, X), Q.textContent = x.get("ce-enter-pin"), ee = b.create("p", {
                        "class": "pin-forgot"
                    }, X), ee.textContent = x.get("ce-forgot-pin"), $.pinEl.tabIndex = 1, ee.tabIndex = 2, J.buttonEl.tabIndex = 3, Z.buttonEl.tabIndex = 4, te = document.querySelector(".player-progress-loading")
                }

                function n() {
                    var t;
                    X = I({
                        "class": "pin-entry"
                    }, P({}, x.get("ce-adult-verification-message")), t = I({
                        id: "pin-buttons"
                    }));
                    var n = new g.ui.Button(t, {
                            "class": "pin-play-button",
                            contentsEl: document.createTextNode(x.get("ce-verify-age"))
                        }),
                        i = new g.ui.Button(t, {
                            "class": "pin-cancel-button",
                            contentsEl: document.createTextNode(x.get("ce-pin-cancel"))
                        });
                    Y.appendChild(X), w.fromEvent(n, "click").take(1).doAction(function() {
                        window.location.replace(N)
                    }).subscribe(), w.fromEvent(i, "click").take(1).doAction(function() {
                        e.cadmium.ui.master.goBackToBrowsing(), f()
                    }).subscribe(), requestAnimationFrame(function() {
                        G && X.classList.add(U)
                    }), te = document.querySelector(".player-progress-loading"), te && te.classList.add(V)
                }

                function i() {
                    var e = function(e) {
                            if ("string" == typeof e) try {
                                e = JSON.parse(e)
                            } catch (t) {}
                            return {
                                valid: e.success
                            }
                        },
                        t = function(e) {
                            return 401 === e.status ? w["return"](e.responseText || {
                                success: !1
                            }) : w["throw"](e)
                        },
                        n = function(e) {
                            return w["return"]({
                                error: e.status
                            })
                        },
                        i = function() {
                            return J.enabled
                        },
                        a = function() {
                            J.enabled = !1
                        },
                        l = w.fromEvent(Z, "click"),
                        d = function() {
                            var i = {
                                withCredentials: !0,
                                urlEncoded: !0,
                                data: {
                                    pin: c()
                                }
                            };
                            return y.post(C, i).takeUntil(oe).takeUntil(l).timeout(S)["catch"](t).retryWithBackoff(R, D).map(e)["catch"](n)
                        },
                        m = w.fromEvent(ee, "keyup").filter(function(e) {
                            return e.keyCode === z || e.keyCode === q
                        });
                    l.takeUntil(oe).take(1).doAction(s).subscribe(L, o, L), w.fromEvent(J, "click").takeUntil(oe).filter(i).doAction(a).flatMap(d).doAction(r).subscribe(L, o, L), w.merge(w.fromEvent(ee, "click"), m).takeUntil(oe).doAction(u).subscribe(L, o, L), w.fromEvent($, "complete").takeUntil(oe).doAction(function() {
                        J.enabled = !0
                    }).subscribe(L, o, L), w.fromEvent($, "enter").takeUntil(oe).doAction(function() {
                        J.focus(), $.blur()
                    }).doAction(a).flatMap(d).doAction(r).subscribe(L, o, L), w.fromEvent($, "input").takeUntil(oe).doAction(function() {
                        J.enabled = !1
                    }).subscribe(L, o, L)
                }

                function o(e) {
                    T.log("subview.pin.entry", e && e.stack || e)
                }

                function r(e) {
                    e = e || {}, e.valid === !0 ? m() : e.valid === !1 ? (l(x.get("ce-invalid-pin")), d(), $.clear().focus()) : (l(x.get("ce-pin-network-error")), J.enabled = !0)
                }

                function s() {
                    p()
                }

                function a(e) {
                    var t = e.data || {};
                    "pinReset" === t.state && "success" === t.status && m()
                }

                function l(e) {
                    Q.innerHTML = e
                }

                function u() {
                    ie = _.open({
                        url: O + "?authurl=" + encodeURIComponent(A.getContextData("userInfo", "authURL")),
                        name: F,
                        features: W
                    }), ie.doAction(a).subscribe(L, o, L)
                }

                function d() {
                    w.fromEvent(X, "webkitAnimationEnd").merge(w.fromEvent(X, "animationend")).take(1).doAction(function() {
                        X.classList.remove(j)
                    }).subscribe(L, o, L), X.classList.add(j)
                }

                function c() {
                    return $.getValue()
                }

                function m() {
                    re.onNext(M)
                }

                function p() {
                    re.onNext(H)
                }

                function h(e, t) {
                    return E(e), re.flatMap(function(e) {
                        return v().map(function() {
                            return {
                                pinStatus: e
                            }
                        }).doAction(function() {
                            t && f()
                        })
                    })
                }

                function v() {
                    return X.classList.remove(U), X.classList.add(B), Rx.Observable.fromEvent(X, "transitionend").take(1).map(function() {
                        return se
                    })
                }

                function E(o) {
                    G && f(), G = !0, g = e.cadmium, b = g.element, _ = g.popup, y = g.xhr, w = Rx.Observable, k = g.objects, x = e.I18n, T = g.logging, A = g.util, L = A.NOOP, I = g.dom.DIV, P = g.dom.H2, oe = new Rx.Subject, re = new Rx.Subject, Y = o;
                    var r = k.initParams().pinConfig || {},
                        s = g.metadata.getActiveVideo() || {},
                        a = !!s.requiresAdultVerification,
                        l = !!r.isAdultVerified,
                        u = !!r.adultVerificationEnabled;
                    return N = r.adultVerificationURL || "/verifypin", a && u && !l ? void n() : (e.cadmium && e.cadmium.ui && e.cadmium.ui.master && e.cadmium.ui.master.isAkira() ? (C = r.pinApiEndpoint || "https://" + location.hostname + "/api/desktop/pin/service", O = r.resetURL || "https://" + location.hostname + "/player/pinreset") : (C = r.pinApiEndpoint || "https://api.netflix.com/desktop/pin/service", O = r.resetURL || "/player/pinreset"), t(), i(), K.appendChild(X), setTimeout(function() {
                        G && (X.classList.add(U), requestAnimationFrame(function() {
                            $.focus()
                        }))
                    }, 50), te && te.classList.add(V), se)
                }

                function f() {
                    G && (te && te.classList.remove(V), oe.onNext(), ne && ne.forEach(function(e) {
                        e && e.destroy()
                    }), b.remove(K), G = !1, Y = null, X = null, K = null, Q = null, J = null, Z = null, $ = null, ee = null, te = null, ne = null, oe = null, re = null, g = null, b = null, _ = null, y = null, w = null, k = null, x = null, T = null, L = null)
                }
                var g, b, _, y, w, k, x, T, A, L, I, P, C, O, N, S = 1e4,
                    R = 4,
                    D = 1e3,
                    M = "valid",
                    H = "canceled",
                    U = e.cadmium.element.classNames.visible,
                    B = e.cadmium.element.classNames.hidden,
                    V = "pin-active",
                    j = "shake",
                    F = "nf-pin-reset-popup",
                    W = {
                        menubar: !1,
                        resizable: !1,
                        location: !0,
                        width: 440,
                        height: 330,
                        scrollBars: !1,
                        chrome: !0,
                        centered: !0
                    },
                    z = 13,
                    q = 32,
                    G = !1,
                    Y = null,
                    K = null,
                    X = null,
                    Q = null,
                    J = null,
                    Z = null,
                    $ = null,
                    ee = null,
                    te = null,
                    ne = null,
                    ie = null,
                    oe = null,
                    re = null,
                    se = {
                        init: E,
                        deinit: f,
                        show: h,
                        hide: v,
                        VALID: M,
                        CANCELED: H
                    };
                return se
            }(), e.cadmium.ui.dontShare = function() {
                "use strict";

                function t() {
                    return null === g && (g = p({
                        "class": ["player-control-button", "player-dont-share icon-player-dont-share", E].join(" ")
                    })), g
                }

                function n() {
                    var e = a.getMetadata(),
                        t = e && e.video && e.video.social && e.video.social.facebook && e.video.social.facebook.do_not_share && e.video.social.facebook.do_not_share.enabled,
                        n = v.get("ce-dontshare-prompt"),
                        i = n && n.indexOf("MISSINGRESOURCE") < 0,
                        o = d.initParams().incognitoConfig;
                    !t || !i || o && o.enabled ? g.classList.add(E) : (g.classList.remove(E), g.tabIndex = 0, g.setAttribute(w, v.get("ce-button-alt-dontshare")), g.setAttribute(y, "button"), b = new s.ui.DontShareMenuComponent(g, g, {
                        id: "player-menu-dont-share"
                    }), b.showTickler(_))
                }

                function i() {
                    f && (f = !1, null !== b && b.destroy(), b = null, u.removeEventListener(u.knownEvents.METADATA_LOADED, n), l.remove(g), g = null), s = r = a = v = l = u = d = c = E = m = p = h = null
                }

                function o(o) {
                    return f && i(), f = !0, r = o, s = e.cadmium, a = s.metadata, l = s.element, u = s.UiEvents, d = s.objects, c = s.clips, E = l.classNames.hidden, v = e.I18n, m = s.dom, p = m.get("DIV"), h = m.get("SPAN"), r.appendChild(t()), u.addEventListener(u.knownEvents.METADATA_LOADED, n), n(), g
                }
                var r, s, a, l, u, d, c, m, p, h, v, E, f = !1,
                    g = null,
                    b = null,
                    _ = 2e3,
                    y = "role",
                    w = "aria-label";
                return {
                    init: o,
                    deinit: i
                }
            }(),
            function() {
                "use strict";

                function t() {
                    !f && E && (f = !0, u.fireEvent(u.knownEvents.CINEMA_MODE_EXIT), c.deinit(), a.queueDialog(e.I18n.get("ce-head-internet_connection_problem"), e.I18n.get("ce-text-internet_connection_problem"), [{
                        text: e.I18n.get("ce-error-dialog-button-ok"),
                        onClick: function() {
                            n(), v.onNext("closed")
                        }
                    }]))
                }

                function n() {
                    E && f && (a.closeDialog(), c.init(), f = !1)
                }

                function i() {
                    var e = l.fromEvent(m, "busychanged").throttle(100).map(function() {
                            return m && m.getBusy()
                        }),
                        i = e.filter(function(e) {
                            return e && e.progress >= 0 && !e.networkStalled
                        }).map(function(e) {
                            return e && e.progress
                        }).distinctUntilChanged(),
                        o = e.filter(function(e) {
                            return e && e.networkStalled
                        }).map(function(e) {
                            return e && e.networkStalled
                        }).distinctUntilChanged(),
                        r = l.fromEvent(m, "currenttimechanged").sample(300).distinctUntilChanged().take(3).takeLast(),
                        s = l.merge(r, i, e.filter(function(e) {
                            return !e
                        }));
                    o.takeUntil(h).flatMap(function() {
                        return l.merge(l["return"](), v).takeUntil(s).delay(g).doAction(t)
                    }).subscribe(p, d.getErrorHandler("progressStalled"), p), s.takeUntil(h).doAction(n).subscribe(p, d.getErrorHandler("hideErrorDialog"), p)
                }

                function o() {
                    E && r(), E = !0, s = e && e.cadmium || {}, d = s.Logger && s.Logger.create("view.network.error"), a = s.ui && s.ui.popup, l = Rx.Observable,
                        u = s.UiEvents, m = s.objects && s.objects.videoPlayer && s.objects.videoPlayer(), p = s.util && s.util.NOOP, c = s.cinemamode, h = new Rx.Subject, v = new Rx.Subject, i()
                }

                function r() {
                    E && (E = !1, h && h.onNext(), h = null, s = null, a = null, l = null, m = null, f = !1, p = null, u = null, c = null, v = null)
                }
                var s, a, l, u, d, c, m, p, h, v, E = !1,
                    f = !1,
                    g = 3e3;
                e.cadmium.ui.NetworkError = {
                    init: o,
                    deinit: r
                }
            }(), e.cadmium.ui.reportProblem = function() {
                function t() {
                    return l({
                        "class": "player-control-button player-report-problem"
                    }, l({
                        "class": "border"
                    }, "?"))
                }

                function n() {
                    p && (p = !1, h && h.destroy(), h = null, o = null, r = null, c = null, d = null, s = null, m.onNext())
                }

                function i(i) {
                    return p && n(), r = e.cadmium, s = r.fullscreen, E() ? (p = !0, o = i, a = r.dom, l = a.get("div"), u = a.get("span"), d = t(), m = new Rx.Subject, Rx.Observable.fromEvent(d, "click").takeUntil(m).doAction(v).subscribe(), h = new r.ui.ReportProblemMenuComponent(d, d, {
                        id: "player-menu-report-problem"
                    }), o.appendChild(d), d) : void 0
                }
                var o, r, s, a, l, u, d, c, m, p = !1,
                    h = null,
                    v = function() {
                        s.isFullscreen() && s.exit(), r.objects.videoPlayer().pause(), r.cinemamode.disableCinemaMode(), r.keyboard.disableShortcut(), r.ui.reportProblemPopup.showPopup()
                    },
                    E = function() {
                        var e = r.objects.initParams();
                        return e && e.reportProblemEnabled ? !0 : !1
                    };
                return {
                    init: i,
                    deinit: n,
                    showPopup: v
                }
            }(), e.cadmium.ui.reportProblemPopup = function() {
                "use strict";
                var t, n, i, o, r, s, a, l, u, d, c, m, p, h, v, E, f, g, b, _, y, w, k, x, T, A = "/reportproblem",
                    L = null,
                    I = null,
                    P = !1,
                    C = !1,
                    O = !1,
                    N = function() {
                        C && (i.remove(I), t = null, n = null, i = null, o = null, r = null, s = null, a = null, l = null, u = null, d = null, c = null, m = null, p = null, h = null, v = null, E = null, f = null, g = null, b = null, L = null, I = null, _ = null, P = !1, C = !1)
                    },
                    S = function() {
                        L = null, k.onNext(), t.cinemamode.enableCinemaMode(), t.keyboard.enableShortcut(), I.classList.add("hidden"), setTimeout(function() {
                            _.removeChild(I)
                        }, 350)
                    },
                    R = function(e) {
                        var t, i, o, s, a;
                        e.connection && (a = r.get("ce-report-buffering-confirmation-subtext"), i = E({
                            "class": "report-problem-subtitle"
                        }, r.get("ce-report-buffering-confirmation-subtext")), o = c({
                            "class": "report-problem-help-center-link",
                            target: "_blank",
                            href: "https://help.netflix.com/help"
                        }, r.get("ce-report-buffering-confirmation-link"))), t = v({
                            "class": "report-problem-title"
                        }, r.get("ce-report-confirmation-title")), s = d({
                            "class": "report-problem-confirmation-container opacity-transparent"
                        }, t, i, d({
                            "class": "report-problem-confirmation-button-row"
                        }, p({
                            "class": "report-problem-button report-problem-finish"
                        }, r.get("ce-report-confirmation-finish")), o)), L.appendChild(s), requestAnimationFrame(function() {
                            n.fadeOut(y), n.fadeIn(s)
                        })
                    },
                    D = function(t) {
                        var i = d({
                            "class": "report-problem-confirmation-container opacity-transparent"
                        }, E({
                            "class": "report-problem-subtitle"
                        }, r.get("ce-social-error")), d({
                            "class": "report-problem-confirmation-button-row"
                        }, p({
                            "class": "report-problem-button report-problem-finish"
                        }, r.get("ce-report-confirmation-finish"))));
                        L.appendChild(i), requestAnimationFrame(function() {
                            n.fadeOut(y), n.fadeIn(i)
                        });
                        var o = e.clientNotifications;
                        if (o) {
                            var s = {
                                category: "uiQOE",
                                modalView: "reportProblem",
                                data: t
                            };
                            o.notify("reportProblemError", s), o.flushBuffer && o.flushBuffer()
                        }
                    },
                    M = function() {
                        var t;
                        t = e.cadmium && e.cadmium.ui && e.cadmium.ui.master && e.cadmium.ui.master.isAkira() ? s.getSecureApiPath() + A : s.getSecureApiPath() + "/desktop/playback" + A, "test" === e.cadmium.objects.initParams().environment && (t += "?revision=latest");
                        for (var i = document.getElementsByClassName("checkbox selected"), o = {
                                movieID: e.cadmium.objects.videoId(),
                                authURL: e.constants.page.xsrf
                            }, r = 0; r < i.length; r++) {
                            var l = i[r].getAttribute("data-category");
                            o[l] = "true"
                        }
                        var c = document.getElementsByClassName("report-problem-details-text")[0].value;
                        c.length > 0 && (o.comments = c), o.isPlayer = "true", o.contentTime = b.getCurrentTime();
                        var m = {
                                withCredentials: !0,
                                data: o
                            },
                            p = document.getElementsByClassName("report-problem-dialog-container", L)[0];
                        n.fadeOut(p), y = d({
                            "class": "loading display-none opacity-transparent"
                        }), L.appendChild(y), n.fadeIn(y), a.post(t, m).takeUntil(k).doAction(function() {
                            R(o)
                        }, function() {
                            D(o)
                        }, x).subscribe(x, u.getErrorHandler("submit post request"))
                    },
                    H = function(e) {
                        var t = e.getElementsByClassName("checkbox")[0];
                        if (t.classList.toggle("selected"), t.classList.contains("selected")) {
                            if (t.appendChild(d({
                                    "class": "icon-player-checked"
                                })), w.classList.remove("hidden"), !O) {
                                var n = 10,
                                    i = 0,
                                    o = setInterval(function() {
                                        ++i < n ? w.scrollIntoView() : clearInterval(o)
                                    }, 30);
                                O = !0
                            }
                        } else {
                            t.innerHTML = "";
                            var r = document.getElementsByClassName("checkbox selected");
                            0 == r.length && w.classList.add("hidden")
                        }
                    },
                    U = function(e) {
                        for (var t = e.target; !t.classList.contains("report-problem-popup-bg");) {
                            if (t.classList.contains("checkbox-row-container")) {
                                H(t);
                                break
                            }
                            if (t.classList.contains("report-problem-close") || t.classList.contains("report-problem-finish")) {
                                S();
                                break
                            }
                            if (t.classList.contains("report-problem-submit")) {
                                M();
                                break
                            }
                            t = t.parentNode
                        }
                        e.stopPropagation()
                    },
                    B = function(e) {
                        e.stopPropagation()
                    },
                    V = function(e) {
                        return d({
                            "class": "checkbox-row-container"
                        }, d({
                            "class": "checkbox",
                            "data-category": e.category
                        }), d({
                            "class": "text-container"
                        }, v({
                            "class": "title-text"
                        }, e.text), E({
                            "class": "subtext-text"
                        }, e.subtext)))
                    },
                    j = function() {
                        I = d({
                            "class": "report-problem-popup-bg hidden"
                        }, L = d({
                            "class": "report-problem-popup"
                        }, d({
                            "class": "report-problem-close"
                        }, m({
                            "class": "icon-player-thin-cancel"
                        })), d({
                            "class": "report-problem-dialog-container"
                        }, h({
                            "class": "report-problem-title"
                        }, r.get("ce-report-problem-title")), v({
                            "class": "report-problem-subtitle"
                        }, r.get("ce-report-problem-subtext")), d({
                            "class": "report-problem-rows-container"
                        }, T.map(V)), w = d({
                            "class": "report-problem-details-container hidden"
                        }, d({
                            "class": "report-problem-details-title-container"
                        }, m({
                            "class": "report-problem-details-title"
                        }, r.get("ce-report-problem-details-text")), m({
                            "class": "report-problem-details-subtext"
                        }, "(" + r.get("ce-report-problem-details-optional") + ")")), f({
                            "class": "report-problem-details-text",
                            rows: 5,
                            cols: 30
                        }), p({
                            "class": "report-problem-button report-problem-submit"
                        }, r.get("ce-report-problem-submit")))))), k = new Rx.Subject, Rx.Observable.fromEvent(I, "click").takeUntil(k).doAction(U).subscribe(x, u.getErrorHandler("clickhandler")), Rx.Observable.fromEvent(I, "dblclick").takeUntil(k).doAction(B).subscribe(x, u.getErrorHandler("dblclick handler"), x), _.appendChild(I), setTimeout(function() {
                            I.classList.remove("hidden")
                        }, 30)
                    },
                    F = function(y) {
                        C && N(), C = !0, _ = y, t = e.cadmium, n = t.animate, i = t.element, o = t.util, r = e.I18n, s = t.url, a = t.xhr, l = t.dom, u = t.Logger.create("reportProblem.popup"), d = l.DIV, c = l.A, m = l.SPAN, p = l.BUTTON, h = l.H1, v = l.H2, E = l.H3, f = l.get("textarea"), x = o.NOOP, g = t.objects, b = g.videoPlayer(), T = [{
                            text: r.get("ce-report-problem-label-problem-title"),
                            subtext: r.get("ce-report-problem-label-problem-subtext"),
                            category: "mislabel"
                        }, {
                            text: r.get("ce-report-problem-video-problem-title"),
                            subtext: r.get("ce-report-problem-video-problem-subtext"),
                            category: "video"
                        }, {
                            text: r.get("ce-report-problem-sound-problem-title"),
                            subtext: r.get("ce-report-problem-sound-problem-subtext"),
                            category: "sound"
                        }, {
                            text: r.get("ce-report-problem-subtitle-problem-title"),
                            subtext: r.get("ce-report-problem-subtitle-problem-subtext"),
                            category: "subtitle"
                        }, {
                            text: r.get("ce-report-problem-buffering-problem-title"),
                            subtext: r.get("ce-report-problem-buffering-problem-subtext"),
                            category: "connection"
                        }]
                    };
                return {
                    init: F,
                    deinit: N,
                    showPopup: j
                }
            }(), e.cadmium.ui.controlDivider = function() {
                function t() {
                    i = o = r = null
                }

                function n(t) {
                    return i = e.cadmium, o = i.dom, r = o.get("div"), s = r({
                        "class": "player-control-divider"
                    }), t.appendChild(s), s
                }
                var i, o, r, s;
                return {
                    init: n,
                    deinit: t
                }
            }(), e.cadmium.ui.expiryNotice = function() {
                "use strict";

                function t(e) {
                    m.log("subview.expiry.notice", e && e.stack || e)
                }

                function n() {
                    a({
                        method: I.NEVER_SHOW
                    }).takeUntil(x).subscribe(b, t)
                }

                function i() {
                    Rx.Observable.fromEvent(T, "click").doAction(n).merge(Rx.Observable.timer(I.NOTICE_DURATION)).take(1).takeUntil(x).doAction(r).subscribe(b, t, b)
                }

                function o(e) {
                    if (P[e.type]) {
                        var n = P[e.type].replace("{DATE}", e.localizedDate);
                        A = _({
                            "class": "expiration-notice-container hidden"
                        }, _({
                            "class": "expiration-notice-box"
                        }, y(n), T = _({
                            "class": "icon-player-cancel"
                        }))), k.appendChild(A), i(), requestAnimationFrame(function() {
                            A.classList.remove("hidden"), g.setMetadataField("contentExpiry.shown", !0), a({
                                method: I.NOTICE_SHOWN
                            }).subscribe(b, t)
                        })
                    }
                }

                function r() {
                    A && !A.classList.contains("hidden") && L && (A.classList.add("hidden"), setTimeout(function() {
                        A.parentElement.removeChild(A), A = null, s()
                    }, 200))
                }

                function s() {
                    c = null, _ = null, y = null, m = null, b = null, p = null, v = null, h = null, E = null, g = null, f = null, x && (x.onNext(), x.onCompleted(), x = null), L && (r(), L = !1)
                }

                function a(t) {
                    var n = {
                        method: t.method,
                        videoId: h.videoId()
                    };
                    return "test" === e.cadmium.objects.initParams().environment && (n.revision = "latest"), p.get(w, {
                        data: n,
                        withCredentials: !0
                    }).takeUntil(x).timeout(I.API_TIMEOUT).retryWithBackoff(I.MAX_ERROR_COUNT, I.RETRY_BACKOFF)
                }

                function l() {
                    var e = g.getMetadata(),
                        t = e && e.contentExpiry;
                    t && t.willExpire && !t.shown && o(t)
                }

                function u(n) {
                    c = e.cadmium, _ = c.dom.DIV, y = c.dom.SPAN, m = c.logging, b = c.util.NOOP, p = c.xhr, v = e.I18n, h = c.objects, E = c.UiEvents, g = c.metadata, f = Rx.Observable, h.initParams().expiryNoticeEnabled && (k = n, x = new Rx.Subject, w = h.initParams().apiUrl + I.API_ENDPOINT, P.show = v.get("ce-expiry-notice-showMessage"), P.season = v.get("ce-expiry-notice-seasonMessage"), P.series = v.get("ce-expiry-notice-seriesMessage"), f.fromEvent(E, E.knownEvents.METADATA_LOADED).takeUntil(x).doAction(l).subscribe(b, t), l(), L = !0)
                }

                function d(e) {
                    return Rx.Observable.defer(function() {
                        return u(e), x || Rx.Observable.empty()
                    })
                }
                var c, m, p, h, v, E, f, g, b, _, y, w, k, x, T, A, L, I = {
                        API_ENDPOINT: "/expirynotice",
                        MAX_ERROR_COUNT: 2,
                        NOTICE_DURATION: 5e3,
                        RETRY_BACKOFF: 500,
                        API_TIMEOUT: 3e3,
                        INITIAL_DELAY: 5e3,
                        SHOULD_SHOW: "shouldShow",
                        NOTICE_SHOWN: "noticeShown",
                        NEVER_SHOW: "neverShow"
                    },
                    P = {};
                return {
                    init: u,
                    deinit: s,
                    initAsync: d
                }
            }(), e.cadmium.ui.contentAdvisory = function() {
                "use strict";

                function t(e) {
                    return Rx.Observable.defer(function() {
                        return n(e), v || Rx.Observable.empty()
                    })
                }

                function n(t) {
                    b && i(), b = !0;
                    var n, f, _, w = e.cadmium;
                    return v = new Rx.Subject, h = w.util._, c = w.Logger.create("contentAdvisory"), n = h.result(w, "metadata.getMetadata", null), f = h.get(n, "video.globalRating", {}), _ = h.result(w, "objects.initParams", {}), f.rating && h.isArray(f.advisories) && !_.recap ? (delete n.video.globalRating, a = Requireify.require("react"), l = Requireify.require("js/akira/components/player/contentAdvisory.jsx"), d = w.UiEvents, u = w.element, m = e.I18n, g = r(h.result(w, "objects.videoPlayer", null)), p = h.get(_, "contentAdvisory", {}), a.stub || l.stub ? void c.error("Cant render content advisory -- dependencies missing.") : (E = y({
                        "class": "ca-container-node"
                    }), s(), d.addEventListener(d.knownEvents.WINDOW_RESIZE, s), o(h.assign({
                        rating: f.i18nRating,
                        advisories: f.i18nAdvisories,
                        visibleTime: 1e3 * f.displayDuration,
                        onCompleted: i
                    }, h.get(p, "contentAdvisory", {}))), void t.appendChild(E))) : (c.info("Not rendering content advisories, no data."), void i())
                }

                function i() {
                    b && (v && (v.onNext(), v.onCompleted(), v = null), d && d.removeEventListener(d.knownEvents.WINDOW_RESIZE, s), a && a.unmountComponentAtNode(E), E && E.parentNode.removeChild(E), a = null, l = null, E = null, f = null, c = null, d = null, u = null, m = null, p = null, h = null, b = !1)
                }

                function o(e) {
                    var t = a.createElement(l, e);
                    f = a.render(t, E);
                    var n = Rx.Observable.fromEvent(d, d.knownEvents.CINEMA_MODE_ENTER).map(function() {
                            return "unpause"
                        }),
                        i = Rx.Observable.fromEvent(d, d.knownEvents.CINEMA_MODE_EXIT).map(function() {
                            return "pause"
                        });
                    n.takeUntil(v).take(1).doAction(function() {
                        f.start()
                    }).flatMap(function() {
                        return Rx.Observable.merge(n, i).takeUntil(v).doAction(function(e) {
                            var t = f[e];
                            h.isFunction(t) && t()
                        })
                    }).subscribe(h.noop, c.getErrorHandler("bvuiShowContentAdvisory"), h.noop)
                }

                function r(e) {
                    var t, n = 1;
                    return e && e.getVideoSize && (t = e.getVideoSize(), h.isNumber(t.width) && h.isNumber(t.height) && (n = t.width / t.height)), n
                }

                function s() {
                    window.requestAnimationFrame(function() {
                        if (b) {
                            var e, t, n = u.getDimensions(document.getElementById("netflix-player"));
                            n.w / n.h > g ? (t = n.h, e = t * g) : (e = n.w, t = e / g), E.style.width = e + "px", E.style.height = t + "px"
                        }
                    })
                }
                var a, l, u, d, c, m, p, h, v, E, f, g, b, _ = e.cadmium.dom,
                    y = _.get("DIV");
                return {
                    init: n,
                    deinit: i,
                    initAsync: t
                }
            }(), e.cadmium.ui.notices = function() {
                "use strict";

                function t(t) {
                    a && n(), o = e.cadmium.Logger.create("subview.sequence"), i = e.cadmium.ui, r = e.cadmium.util._, a = !0, s = new Rx.Subject, Rx.Observable.concat(i.contentAdvisory.initAsync(t), i.expiryNotice.initAsync(t)).takeUntil(s).subscribe(r.noop, o.getErrorHandler("sequence"), r.noop)
                }

                function n() {
                    a && (i.contentAdvisory.deinit(), i.expiryNotice.deinit(), s && (s.onNext(), s = null), a = !1)
                }
                var i, o, r, s, a = !1;
                return {
                    init: t,
                    deinit: n
                }
            }(), e.cadmium.ui.playback = function() {
                "use strict";

                function t() {
                    return null === O && (O = _.create("div", {
                        "class": ["player-controls-wrapper", I, "no-select"].join(" ")
                    })), O.innerHTML = "<section class='player-slider' role='slider'></section><section class='player-control-bar no-select' role='control-bar'></section>", O
                }

                function n() {
                    S.update(100)
                }

                function i(e) {
                    S.update((100 * e).toFixed(0))
                }

                function o(e) {
                    p || (p = _.create("div", {
                        id: "fademask"
                    }, document.body)), A.fromEvent(p, "transitionend").take(1).takeUntil(L).doAction(function() {
                        _.remove(p), p = null
                    }).subscribe(P, x.getErrorHandler("fadeEl|transitionend"), P), A.timer(e).doAction(function() {
                        m.classList.remove(_.classNames.hidden), p.style.opacity = 0
                    }).subscribe(P, x.getErrorHandler("timer|hidden"), P)
                }

                function r() {
                    s()
                }

                function s(e) {
                    if (C) {
                        var t = T.ui && T.ui.timedText && T.ui.timedText.setBounds && T.ui.timedText.setBounds.bind(T.ui.timedText) || P;
                        if (void 0 !== e && null !== e) return void t({
                            bottom: e
                        });
                        var n = document.querySelector(".player-controls-wrapper"),
                            i = n && n.classList.contains("display-none");
                        if (n && i === !1) {
                            var o = k.playerWrapper(),
                                r = o && o.getBoundingClientRect().height,
                                s = n.getBoundingClientRect().top,
                                a = Math.floor(r - s);
                            !isNaN(a) && T ? t({
                                bottom: a
                            }) : x.log("view.playback: could not set timed text bounds.")
                        } else t({
                            bottom: 0
                        })
                    }
                }

                function a() {
                    var e = A.fromEvent(w, w.knownEvents.CINEMA_MODE_ENTER),
                        t = A.fromEvent(w, w.knownEvents.CINEMA_MODE_EXIT),
                        o = A.fromEvent(T, "busychanged").throttle(100).map(function() {
                            return T && T.getBusy()
                        });
                    o.takeUntil(L).filter(function(e) {
                        return e && e.progress >= 0 && !e.networkStalled
                    }).map(function(e) {
                        return e && e.progress
                    }).distinctUntilChanged().doAction(i).subscribe(P, x.getErrorHandler("VideoPlayer|progressChanged"), P), o.takeUntil(L).filter(function(e) {
                        return !e
                    }).doAction(n).subscribe(P, x.getErrorHandler("VideoPlayer|progressCompleted"), P), A.fromEvent(w, w.knownEvents.SHOW_AUTOPLAY_INTERRUPTER).merge(e).takeUntil(L).doAction(B).subscribe(P, x.getErrorHandler("UiEvents|autoplay_interrupt"), P), A.fromEvent(w, w.knownEvents.HIDE_AUTOPLAY_INTERRUPTER).merge(t).takeUntil(L).doAction(U).subscribe(P, x.getErrorHandler("UiEvents|hide_interrupt"), P), A.fromEvent(w, w.knownEvents.WINDOW_RESIZE).takeUntil(L).doAction(r).subscribe(P, x.getErrorHandler("UiEvents|window_resize"), P), A.fromEvent(m, "transitionend").merge(A.fromEvent(m, "webkitTransitionEnd")).merge(A.fromEvent(m, "msTransitionEnd")).filter(function(e) {
                        return "width" === e.propertyName
                    }).takeUntil(A.fromEvent(w, w.knownEvents.VIDEO_FIRST_PLAY)).doAction(r).subscribe(P, x.getErrorHandler("UiEvents|first_play"), P), Rx.Observable.fromEvent(T, "timedtexttrackchanged").takeUntil(L).doAction(s.bind(null, null)).subscribe(P, x.getErrorHandler("timedtexttrackchanged"), P), e.takeUntil(L).delay(M).doAction(s.bind(null, 0)).subscribe(P, x.getErrorHandler("cinemaModeEnter"), P), r(), g.MutationUtils.observeAndRemoveUnsafeNodes(h, f).takeUntil(L).subscribe(P, x.getErrorHandler("mutationObserver"), P)
                }

                function l() {
                    C && (x.log("deinit"), clearTimeout(R), c.classList.remove(H), c.style.cursor = "auto", C = !1, L.onNext(), S.destroy(), E.forEach(function(e) {
                        e.deinit()
                    }), e.cadmium.cinemamode.deinit(), _.remove(O), p && _.remove(p), d = null, O = null, c = null, m = null, p = null, h = null, v = null, E = null, f = null, N = null, S = null, R = null, g = null, b = null, _ = null, y = null, w = null, k = null, x = null, T = null, A = null, L = null, I = null, D = null, P = null)
                }

                function u(n) {
                    C && l(), C = !0, d = n, g = e.cadmium, y = g.metadata, w = g.UiEvents, _ = g.element, k = g.objects, b = g.ui, x = g.Logger.create("view.playback"), A = Rx.Observable, P = g.util.NOOP, I = _.classNames.active, D = "webkit" === g.browser.prefix().lowercase, x.log("init", {
                        masterView: !!n,
                        initialized: C
                    }), N = [], L = new Rx.Subject, T = k.videoPlayer(), c = k.playerWrapper(), S = new g.ui.RadialProgressComponent(d, {
                        hideWhenEmpty: !0,
                        hideWhenFull: !0,
                        id: "player-playback-buffering"
                    }), t(), N.push(O), m = document.getElementsByClassName("player-video-wrapper")[0], b.preplay.preplayNeeded() ? (m.appendChild(O), o(500)) : (d.appendChild(O), m.classList.remove(_.classNames.hidden)), h = O.getElementsByClassName("player-control-bar")[0], v = O.getElementsByClassName("player-slider")[0], g.cinemamode.init(), f = [], E = [b.pauser, b.volume, b.status, b.incognito, b.nextEpisode, b.episodeSelector, b.mdx, b.controlDivider, b.audio, b.dontShare, b.fullscreen, b.reportProblem], E.forEach(function(e) {
                        try {
                            f.push(e.init(h))
                        } catch (t) {
                            x.error(t)
                        }
                    }), E.push(b.exitPlayback), b.exitPlayback.init(n), N.push(b.exitPlayback.getBackToBrowsingEl()), E.push(b.autoplayInterrupter), b.autoplayInterrupter.init(n), E.push(b.preplay), b.preplay.init(n), E.push(b.popup), b.popup.init(n), E.push(b.reportProblemPopup), b.reportProblemPopup.init(n), E.push(b.scrubber), b.scrubber.init(v), E.push(b.longpause), b.longpause.init(n), E.push(b.NetworkError), b.NetworkError.init(), g.cinemamode.addExclusionEls(N), E.push(b.notices), b.notices.init(n), a()
                }
                var d, c, m, p, h, v, E, f, g, b, _, y, w, k, x, T, A, L, I, P, C = !1,
                    O = null,
                    N = [],
                    S = null,
                    R = null,
                    D = !1,
                    M = 100,
                    H = "player-cinema-mode",
                    U = function() {
                        c.classList.remove(H), e.cadmium.animate.fadeIn(O), requestAnimationFrame(s.bind(null, null))
                    },
                    B = function() {
                        c.classList.add(H), e.cadmium.animate.fadeOut(O)
                    };
                return {
                    init: u,
                    deinit: l
                }
            }(), e.cadmium.views.register(e.cadmium.ui.playback, e.cadmium.views.types.standard),
            function() {
                "use strict";
                var t = e.cadmium,
                    n = t.objects,
                    i = t.UiEvents,
                    o = t.PostPlayData,
                    r = t.element,
                    s = t.dom.get("DIV"),
                    a = t.Class,
                    l = t.UITracking,
                    u = Rx.Observable,
                    d = t.util.NOOP,
                    c = t.Logger.create("subview.postplay.base"),
                    m = t.url,
                    p = 2e3,
                    h = "postplay",
                    v = 2e3,
                    E = a.extend({
                        _initialized: !1,
                        _disposed: null,
                        _metadata: null,
                        _rootEl: null,
                        _playerWrapperEl: null,
                        _videoPlayer: null,
                        _components: null,
                        _uiTrackingEnabled: !1,
                        _videoCloseDelayTime: p,
                        init: function(e, t) {
                            this._initialized || (this._initialized = !0, this._disposed = new Rx.Subject, this._parentEl = e, this._metadata = t, this._rootEl = s({
                                "class": "player-postplay"
                            }), this._videoPlayer = n.videoPlayer(), this._components = [], this._playerWrapperEl = e.querySelector(".player-video-wrapper"), this._uiTrackingEnabled = !!(n && n.initParams() && n.initParams().uiTrackingEnabled), c.log("init", t), this._createElements(), this._createEventSubscriptions())
                        },
                        destroy: function() {
                            this._initialized && (c.log("destroy"), l.deinit(), this._parentEl && this._parentEl.classList.remove("video-ended"), this._disposed.onNext(), this._components.forEach(function(e) {
                                e && (e.destroy && e.destroy(), e.deinit && e.deinit())
                            }), r.remove(this._rootEl), this._disposed = null, this._parentEl = null, this._metadata = null, this._rootEl = null, this._playerWrapperEl = null, this._videoPlayer = null, this._components = null, this._initialized = !1)
                        },
                        show: function() {
                            return this._parentEl.contains(this._rootEl) || this._parentEl.appendChild(this._rootEl), this._uiTrackingEnabled && setTimeout(function() {
                                c.log("start tracking UI."), this._trackUI()
                            }.bind(this), v), this
                        },
                        hide: function() {},
                        fallback: function() {
                            c.error("Postplay unavailable. Metadata:", this._metadata)
                        },
                        _createElements: function() {},
                        _addComponent: function(e) {
                            return this._components.push(e), e
                        },
                        _createEventSubscriptions: function() {
                            var e = u.fromEvent(i, i.knownEvents.VIDEO_ENDED);
                            u.fromEvent(this._videoPlayer.getElement(), "click").takeUntil(this._disposed).takeUntil(e).doAction(this._returnToPlayback.bind(this)).subscribe(d, c.getErrorHandler("video click"), d), e.takeUntil(this._disposed).delay(this._videoCloseDelayTime).doAction(function() {
                                this._parentEl && this._parentEl.classList.add("video-ended"), this._rootEl && this._rootEl.classList.add("video-ended")
                            }.bind(this)).flatMap(function() {
                                return this._parentEl ? u.fromEvent(this._parentEl, "transitionend").takeUntil(this._disposed).merge(u.timer(2e3).doAction(function() {
                                    c.log("transitionend did not fire for postplay parent.")
                                })).take(1) : u.empty()
                            }.bind(this)).doAction(this._closeVideoPlayer.bind(this)).subscribe(d, c.getErrorHandler("video ended"), d)
                        },
                        _returnToPlayback: function() {
                            t.views.show(t.ui.playback, [this._parentEl])
                        },
                        _closeVideoPlayer: function() {
                            c.log("closing video player"), this._videoPlayer && this._videoPlayer.close()
                        },
                        _startPlayback: function(e) {
                            c.log("Requesting playback with uicontext", e), e = e || {
                                row: 0,
                                rank: -99,
                                request_id: o.getRequestId(),
                                location: h
                            }, t.ui.master.updateInitParams(n.initParams(), e)
                        },
                        _trackUI: function() {
                            var e = n.initParams() || {};
                            l.init({
                                requestId: o.getRequestId(),
                                location: h,
                                enabled: this._uiTrackingEnabled,
                                maxRecords: e.uiTrackingMaxRecords,
                                localStorageKey: e.uiTrackinglocalStorageKey,
                                endpoint: e.uiTrackingEndpoint,
                                debug: m.urlContains(/ptdebug=true/)
                            }), l.scan()
                        },
                        _getUiContextForEl: function(e) {
                            return e ? (e = e.hasAttribute(l.TRACKING_ATTRIBUTE) ? e : e.querySelector("[" + l.TRACKING_ATTRIBUTE + "]"), l.getTrackingContext(e)) : null
                        },
                        _setUiContextForEl: function(e, t) {
                            return this._uiTrackingEnabled && l.trackElement(e, t), t
                        },
                        _navToMoreInfo: function() {
                            var e = this._metadata.experience.moreInfoLink;
                            c.info("Navigate to info:" + e), window.location.replace(e)
                        }
                    });
                E.create = function(e, t) {
                    return new E(e, t)
                }, t.ui.PostPlayBase = E
            }(),
            function() {
                "use strict";
                var t, n = e.cadmium,
                    i = n.ui,
                    o = n.url,
                    r = n.UiEvents,
                    s = n.dom,
                    a = s.get("DIV"),
                    l = s.get("SECTION"),
                    u = s.get("H1"),
                    d = s.get("H2"),
                    c = s.get("P"),
                    m = s.get("IMG"),
                    p = n.time,
                    h = Rx.Observable,
                    v = i.PostPlayBase,
                    E = i.PostPlayBackground,
                    f = i.PostPlayActionButtons,
                    g = i.PostPlayHorizontal,
                    b = n.util.NOOP,
                    _ = n.Logger.create("subview.postplay.continue"),
                    y = v.extend({
                        init: function() {
                            t = e.I18n, this._onSelectEpisode = this._onSelectEpisode.bind(this), this._autoPlayNextEpisode = this._autoPlayNextEpisode.bind(this), this._super.apply(this, arguments), r.fireEvent(r.knownEvents.START_AUTOPLAY_TIMER)
                        },
                        _autoPlayNextEpisode: function() {
                            r.fireEvent(r.knownEvents.AUTOPLAY_NEXT_EPISODE, [this._nextEpisode && this._nextEpisode.id]), this._playNextEpisode(!0)
                        },
                        _createElements: function() {
                            this._super();
                            var i, o = this._nextEpisode = this._metadata.list,
                                r = "ce-show-member-type-" + (o.memberType || "season"),
                                s = t.getWithParams(r, ["SEQ"], [o.seasonNumber]) + " " + e.I18n.get("ce-episode-abbreviation") + " " + o.episodeNumber + " – " + o.title,
                                h = o.duration && o.duration.value,
                                v = o.year + " " + (o.rating ? o.rating : "") + (h ? " " + p.convertUsingKey(h, !1, !0, "ce-time") : ""),
                                b = o.boxart,
                                _ = "https://assets.nflxext.com/en_us/buttons/play-button-114.png",
                                y = this._metadata.list;
                            this._horizontal = this._addComponent(g.create(this._rootEl, y, this._metadata.type)), this._background = o.background && this._addComponent(E.createFromUrl(this._rootEl, o.background)), this._footerEl = a({
                                "class": "player-postplay-footer"
                            }, l({
                                "class": "player-postplay-show-metadata"
                            }, a({
                                "class": "postplay-metadata-container"
                            }, u({
                                "class": "player-postplay-show-title"
                            }, document.createTextNode(o.showTitle)), d({
                                "class": "player-postplay-episode-title"
                            }, document.createTextNode(s)), c({
                                "class": "player-postplay-episode-metadata"
                            }, document.createTextNode(v)), c({
                                "class": "player-postplay-episode-synopsis"
                            }, document.createTextNode(o.synopsis)))), i = l({
                                "class": "player-postplay-show-autoplay"
                            }, this._stillEl = a({
                                "class": "postplay-still-container"
                            }, this._autoPlayHeaderEl = u({
                                "class": "player-postplay-autoplay-header"
                            }), m({
                                "class": "player-postplay-autoplay-still",
                                src: b
                            }), a({
                                "class": "player-postplay-still-hover-container"
                            }, m({
                                "class": "player-postplay-still-hover",
                                src: _
                            }))))), o.autoplay ? this._autoPlayTimer = this._addComponent(n.ui.PostPlayTimer.create(this._autoPlayHeaderEl)) : (this._autoplayDisabledTextAdded = !0, this._autoPlayHeaderEl.appendChild(document.createTextNode(t.get("ce-post-no-autoplay")))), this._actionButtons = this._addComponent(f.createBasic(i, "action-buttons episodic-action-buttons"));
                            var w = a({
                                "class": "more-episodes-container"
                            });
                            this._moreEpisodesMenu = new n.ui.EpisodeSelectorMenuComponent(w, w, {
                                id: "player-menu-episode-selector",
                                showEvent: "click"
                            }), this._actionButtons.addButton({
                                id: "meBtn",
                                contentsEl: document.createTextNode(t.get("ce-post-more-episodes")),
                                "class": "more-episodes",
                                events: ["click"]
                            }, w), this._actionButtons._rootEl.appendChild(w), this._playContext = this._setUiContextForEl(this._stillEl, {
                                video_id: y.id,
                                track_id: y.trackId,
                                row: 0,
                                rank: 0,
                                location: "postplay",
                                request_id: n.PostPlayData.getRequestId()
                            }), this._rootEl.appendChild(this._footerEl)
                        },
                        _createEventSubscriptions: function() {
                            this._super(), h.fromEvent(this._stillEl, "click").takeUntil(this._disposed).doAction(this._playNextEpisode.bind(this, !1)).subscribe(b, _.getErrorHandler("still click"), b), h.fromEvent(this._moreEpisodesMenu, this._moreEpisodesMenu.CHANGE_VIDEO_EVENT).takeUntil(this._disposed).doAction(this._onSelectEpisode).subscribe(b, _.getErrorHandler("episode selector handler"), b);
                            var e = this._actionButtons.onAction(),
                                n = h.fromEvent(r, r.knownEvents.STOP_AUTOPLAY_TIMER);
                            h.merge(e, n).takeUntil(this._disposed).doAction(function() {
                                this._autoPlayTimer && this._autoPlayTimer.stop(), this._autoplayDisabledTextAdded || (this._autoplayDisabledTextAdded = !0, this._autoPlayHeaderEl.appendChild(document.createTextNode(t.get("ce-post-no-autoplay"))))
                            }.bind(this)).subscribe(b, _.getErrorHandler("action button handler"), b), h.fromEvent(r, r.knownEvents.START_AUTOPLAY_TIMER).takeUntil(this._disposed).doAction(function() {
                                this._autoPlayTimer && this._autoPlayTimer.start(this._autoPlayNextEpisode)
                            }.bind(this)).subscribe(b, _.getErrorHandler("start autoplay handler"), b)
                        },
                        _onSelectEpisode: function(e) {
                            o.setNextVideo(o.CONSTANTS.EPISODE_ID, e.videoId, null), this._startPlayback()
                        },
                        _playNextEpisode: function(e) {
                            _.log("play next episode", this._nextEpisode.id);
                            var t;
                            t = e ? this._nextEpisode.autoPlayId ? this._nextEpisode.autoPlayId : this._nextEpisode.trackId : this._nextEpisode.userPlayId ? this._nextEpisode.userPlayId : this._nextEpisode.trackId, o.setNextVideo(o.CONSTANTS.EPISODE_ID, this._nextEpisode.id, t);
                            var i = 1e3 * this._nextEpisode.offsetStart;
                            i >= 0 && n.objects.overrideBookmark(this._nextEpisode.id, e ? i : 0), this._startPlayback(this._playContext)
                        },
                        _returnToPlayback: function() {
                            this._autoPlayTimer && this._autoPlayTimer.stop(), this._super()
                        }
                    });
                y.create = function(e, t) {
                    return new y(e, t)
                }, n.ui.PostPlayContinueWatching = y
            }(),
            function() {
                "use strict";
                var t, n = e.cadmium,
                    i = n.ui,
                    o = n.element,
                    r = n.dom.DIV,
                    s = i.PostPlayBase,
                    a = i.PostPlayBackground,
                    l = i.PostPlayActionButtons,
                    u = i.PostPlaySimsCollection,
                    d = i.PostPlayHorizontal,
                    c = n.objects,
                    m = n.url,
                    p = n.util.NOOP,
                    h = n.Logger.create("subview.postplay.sims"),
                    v = s.extend({
                        init: function() {
                            t = e.I18n, this._super.apply(this, arguments), this._sims.highlightSimAtIndex(0)
                        },
                        _createElements: function() {
                            this._super(), this._createSections(), this._background = this._addComponent(a.create(this._rootEl)), this._actionButtons = this._addComponent(l.createBasic(this._leftSection)), this._sims = this._addComponent(u.create(this._rightSection, this._getSims(), this._boxshotTemplate.bind(this))), this._horizontal = this._addComponent(d.create(this._rootEl, this._metadata.experience || {}, this._metadata.type))
                        },
                        _createSections: function() {
                            t = t || e.I18n, this._leftSection = o.create("section", {
                                "class": "player-postplay-recommend-text"
                            }, this._rootEl), this._rightSection = o.create("div", {
                                "class": "player-postplay-recommendations"
                            }, this._rootEl);
                            var n = o.create("h1", {
                                    "class": "player-postplay-recommend-header"
                                }, this._leftSection),
                                i = o.create("h2", {
                                    "class": "player-postplay-recommend-subheader"
                                }, this._leftSection);
                            n.appendChild(document.createTextNode(t.get("ce-post-recommend-head"))), i.appendChild(document.createTextNode(t.get("ce-post-recommend-body")))
                        },
                        _boxshotTemplate: function(e, t) {
                            e = e || {};
                            var i, o = r({
                                "class": "player-postplay-recommendation",
                                "data-id": e.id
                            }, i = r({
                                "class": "player-postplay-recommendation-boxshot"
                            }, r({
                                "class": "player-postplay-recommendation-hover"
                            })));
                            return this._setUiContextForEl(i, {
                                video_id: e.id,
                                track_id: e.trackId,
                                row: 0,
                                rank: t,
                                location: "postplay",
                                request_id: n.PostPlayData.getRequestId()
                            }), i.style.cssText = "background-image: url(" + e.boxart + ");", o
                        },
                        _createEventSubscriptions: function() {
                            this._super(), this._sims.onHighlight().takeUntil(this._disposed).doAction(function(e) {
                                var t = e.getData();
                                this._background.source = t && t.background
                            }.bind(this)).subscribe(p, h.getErrorHandler("Sims highlight error."), p), this._sims.onClick().takeUntil(this._disposed).doAction(this._playSim.bind(this)).subscribe(p, h.getErrorHandler("Sims click error."), p)
                        },
                        _getSims: function() {
                            return this._metadata && this._metadata.list || []
                        },
                        _playSim: function(e) {
                            var t = e.data || {},
                                n = "show" === t.type ? t.episodeId : t.id;
                            m.setNextVideo(m.CONSTANTS.VIDEO_ID, n, t.trackId);
                            var i = c.initParams() || {},
                                o = this._getUiContextForEl(e.el);
                            i.commentarySettings && delete i.commentarySettings, this._startPlayback(o)
                        }
                    });
                v.create = function(e, t) {
                    return new v(e, t)
                }, n.ui.PostPlaySims = v
            }(),
            function() {
                "use strict";
                var t, n = e.cadmium,
                    i = n.ui,
                    o = n.dom.get("H2"),
                    r = (n.element, n.dom.DIV),
                    s = n.ui.PostPlaySims,
                    a = (n.objects, n.url, n.util.NOOP),
                    l = n.mixins.ui.buttons,
                    u = n.Logger.create("subview.postplay.sims.dab"),
                    d = i.PostPlayActionButtons,
                    c = i.PostPlayMyList,
                    m = s.extend({
                        init: function() {
                            t = e.I18n, u.log("init"), this._super.apply(this, arguments)
                        },
                        _createElements: function() {
                            var e = this._metadata.experience;
                            this._super(), this._dabEl = r({
                                "class": "postplay-promo postplay-dab"
                            }, r({
                                "class": "promo-postplay-metadata"
                            }, r({
                                "class": "logo",
                                style: "background-image: url(" + e.horizontal + ");"
                            }), e.tagline && o({
                                "class": "tagline"
                            }, e.tagline))), this._actionButtons = this._addComponent(d.create(this._dabEl, [l.getMyListButton(e.myList.action), l.getMoreInfoButton()])), this._rootEl.appendChild(this._dabEl), this._myList = this._addComponent(c.create(this._rootEl, {
                                myList: e.myList,
                                trackId: e.trackId,
                                element: this._rootEl.querySelector(".my-list")
                            }))
                        },
                        _createEventSubscriptions: function() {
                            this._super(), this._actionButtons.onAction().takeUntil(this._disposed).doAction(function(e) {
                                switch (e.id) {
                                    case l.MY_LIST_BUTTON:
                                        this._myList.toggleMyList();
                                        break;
                                    case l.MORE_INFO_BUTTON:
                                        this._navToMoreInfo()
                                }
                            }.bind(this)).subscribe(a, u.getErrorHandler("actionButtons|onAction"), a)
                        }
                    });
                m.create = function(e, t) {
                    return new m(e, t)
                }, i.PostPlaySimsDAB = m
            }(),
            function() {
                "use strict";
                var t, n = e.cadmium,
                    i = n.ui,
                    o = n.mixins,
                    r = (n.UiEvents, n.dom.DIV, n.ui.PostPlaySims, i.PostPlaySimsDAB),
                    s = n.Logger.create("subview.postplay.sims.specialmessage"),
                    a = r.extend({
                        init: function() {
                            t = e.I18n, s.log("init"), this._super.apply(this, arguments)
                        },
                        _createElements: function() {
                            var e = this._metadata.experience;
                            this._super(), e.specialMessageEnabled && this.addVideoInterstitialComponent({
                                videoId: e.trailer.id,
                                trackId: e.trailer.trackId,
                                title: e.trailer.title,
                                background: e.trailer.background,
                                autoPlayTimer: e.trailer.autoPlayTimerOverride
                            })
                        },
                        _createEventSubscriptions: function() {
                            this._super(), this.createVideoInterstitialEvents()
                        },
                        _returnToPlayback: function() {
                            this._handleInterstitialReturnToPlayback(), this._super()
                        }
                    });
                a.create = function(e, t) {
                    return new a(e, t)
                }, o.mixin(a.prototype, o.ui.videoInterstitial), i.PostPlaySimsSpecialMessage = a
            }(),
            function() {
                "use strict";
                var t, n = e.cadmium,
                    i = n.ui,
                    o = n.dom,
                    r = o.get("DIV"),
                    s = o.get("SPAN"),
                    a = n.PostPlayData,
                    l = i.PostPlayBase,
                    u = i.PostPlayBackground,
                    d = i.PostPlayExitFullscreen,
                    c = i.exitPlayback,
                    m = n.Logger.create("subview.postplay.trailer.base"),
                    p = n.url,
                    h = n.animate,
                    v = "play-trailer",
                    E = "play-show",
                    f = l.extend({
                        _metadata: null,
                        _background: null,
                        _exitPlaybackButton: null,
                        _exitFullScreenButton: null,
                        _promoUiContext: null,
                        init: function(n, i) {
                            m.log("init"), t = e.I18n, this._videoCloseDelayTime = 0, this._super(n, i)
                        },
                        destroy: function() {
                            this._playerWrapperEl && h.fadeIn(this._playerWrapperEl), this._super()
                        },
                        show: function() {
                            this._super();
                            var e = this._metadata && this._metadata.experience && this._metadata.experience.impression;
                            return e && !this._recordedImpression && (this._recordedImpression = !0, a.recordImpression(e)), this
                        },
                        _createElements: function() {
                            this._rootEl.classList.add("trailer-merch");
                            var e = this._metadata.experience;
                            this._exitPlaybackButton = this._addComponent(c).init(this._parentEl), this._background = this._addComponent(u.createFromUrl(this._rootEl, e.background)), this._exitFullScreenButton = this._addComponent(d.create(this._parentEl)), c.getBackToBrowsingEl().classList.add("trailer-merch")
                        },
                        _playPromotedVideo: function() {
                            var e = this._metadata.experience.promotedVideo.id;
                            m.log("play promoted title", e), n.PostPlayData.deinit(!0), this._playVideo(e)
                        },
                        _playTrailer: function() {
                            var e = this._metadata.experience.trailerId;
                            m.log("play trailer", e), this._playVideo(e)
                        },
                        _replayTrailer: function() {
                            m.log("Replay trailer."), this._playerWrapperEl && h.fadeIn(this._playerWrapperEl), n.PostPlayData.repeatCurrentPostPlayData(),
                                this._playTrailer()
                        },
                        _playVideo: function(e) {
                            p.setNextVideo(p.CONSTANTS.VIDEO_ID, e, this._metadata.experience.trackId), this._startPlayback(this._promoUiContext)
                        },
                        _setPromoUiContextForEl: function(e, t) {
                            if (this._uiTrackingEnabled) {
                                t = t || {};
                                var i = {
                                    video_id: t.trailerId,
                                    track_id: t.trackId,
                                    row: 0,
                                    rank: 0,
                                    location: "postplay",
                                    request_id: a.getRequestId()
                                };
                                this._promoUiContext = i, n.UITracking.trackElement(e, i)
                            }
                        }
                    });
                f.create = function(e, t) {
                    return new f(e, t)
                }, f.getPlayPromotedVideoButton = function(e) {
                    return e = e || {}, {
                        id: E,
                        contentsEl: r({
                            "class": "play-button-content"
                        }, s({
                            "class": "play-button-text"
                        }, null != e.seasonNumber ? t.getWithParams("ce-post-play-promo-episode", ["SEASON", "EPISODE"], [e.seasonNumber, e.episodeNumber]) : t.get("ce-post-play-promo-title"))),
                        "class": "play-button",
                        events: ["click"]
                    }
                }, f.getPlayTrailerButton = function(e) {
                    e = e || "play-button-trailer";
                    var n = t.get("ce-post-play-trailer"),
                        i = "play-button" === e ? r({
                            "class": "play-button-content"
                        }, s({
                            "class": "play-button-text"
                        }, n)) : document.createTextNode(n);
                    return {
                        id: v,
                        contentsEl: i,
                        "class": e,
                        events: ["click"]
                    }
                }, i.PostPlayTrailerBase = f
            }(),
            function() {
                "use strict";
                var t, n = e.cadmium,
                    i = n.ui,
                    o = n.dom,
                    r = o.get("DIV"),
                    s = o.get("IMG"),
                    a = o.get("H2"),
                    l = o.get("P"),
                    u = o.get("A"),
                    d = (o.get("SPAN"), i.PostPlayTrailerBase),
                    c = i.PostPlayActionButtons,
                    m = i.PostPlayHorizontal,
                    p = i.PostPlayMyList,
                    h = n.util.NOOP,
                    v = n.Logger.create("subview.postplay.trailer.merch"),
                    E = n.mixins.ui.buttons,
                    f = "play-trailer",
                    g = "play-show",
                    b = d.extend({
                        init: function(n, i) {
                            v.log("init"), t = e.I18n, this._super(n, i)
                        },
                        _createElements: function() {
                            this._super();
                            var e, n = this,
                                i = this._metadata.experience,
                                o = r({
                                    "class": "promo-postplay-metadata"
                                }, i.logo ? e = s({
                                    "class": "logo"
                                }) : a({
                                    "class": "title"
                                }, i.title || ""), a({
                                    "class": "tagline"
                                }, i.tagline || ""), i.synopsis && l({
                                    "class": "synopsis"
                                }, i.synopsis, u({
                                    "class": "more-info",
                                    href: i.moreInfoLink
                                }, t.get("ce-post-more-info"))));
                            e && i.logo && (e.setAttribute("src", i.logo), e.width ? this._setPromoUiContextForEl(e, i) : e.onload = function() {
                                n._setPromoUiContextForEl(e, i)
                            }), this._horizontal = this._addComponent(m.create(this._rootEl, i)), this._rootEl.appendChild(o), this._actionButtons = this._createButtons(o), this._myList = this._addComponent(p.create(this._rootEl, {
                                myList: i.myList,
                                trackId: i.trackId,
                                element: this._rootEl.querySelector(".my-list")
                            }))
                        },
                        _createEventSubscriptions: function() {
                            this._super(), this._actionButtons.onAction().takeUntil(this._disposed).doAction(function(e) {
                                switch (this._autoPlayTimer && this._autoPlayTimer.stop(), e.id) {
                                    case f:
                                        this._playTrailer();
                                        break;
                                    case g:
                                        this._playPromotedVideo();
                                        break;
                                    case E.MY_LIST_BUTTON:
                                        this._myList.toggleMyList();
                                        break;
                                    case E.MORE_INFO_BUTTON:
                                        this._navToMoreInfo()
                                }
                            }.bind(this)).subscribe(h, v.getErrorHandler("actionButtons|onAction"), h)
                        },
                        _createButtons: function(e) {
                            var t = this._metadata.experience || {},
                                n = [d.getPlayPromotedVideoButton(t.promotedVideo), d.getPlayTrailerButton(), E.getMyListButton(t.myList.action)];
                            return c.create(e, n)
                        }
                    });
                b.create = function(e, t) {
                    return new b(e, t)
                }, i.PostPlayTrailerMerch = b
            }(),
            function() {
                "use strict";
                var t, n = e.cadmium,
                    i = n.ui,
                    o = n.dom,
                    r = o.get("H1"),
                    s = n.dom.get("H2"),
                    a = o.get("SECTION"),
                    l = i.PostPlayTrailerBase,
                    u = i.PostPlayActionButtons,
                    d = i.PostPlayTrailerMerch,
                    c = n.Logger.create("subview.postplay.trailer.merch.post"),
                    m = n.util.NOOP,
                    p = Rx.Observable,
                    h = n.mixins.ui.buttons,
                    v = d.extend({
                        init: function(n, i) {
                            c.log("init"), t = e.I18n, this._super(n, i)
                        },
                        _createElements: function() {
                            this._super(), this._horizontal._rootEl.classList.remove("trailer-merch"), this._metadata && this._metadata.experience && this._metadata.experience.promotedVideo && this._metadata.experience.promotedVideo.episodeNumber && this._rootEl.appendChild(a({
                                "class": "trailer-recommend-text"
                            }, r({
                                "class": "trailer-recommend-header"
                            }, t.get("ce-post-original-promote-header")), s({
                                "class": "trailer-recommend-subheader"
                            }, t.get("ce-post-original-promote-text"))))
                        },
                        _createEventSubscriptions: function() {
                            this._super(), p.fromEvent(this._horizontal._rootEl, "click").takeUntil(this._disposed).take(1).doAction(this._replayTrailer.bind(this)).subscribe(m, c.getErrorHandler("event|click"))
                        },
                        _createButtons: function(e) {
                            var t = this._metadata.experience,
                                n = [l.getPlayPromotedVideoButton(t.promotedVideo), h.getMyListButton(t.myList.action)];
                            return u.create(e, n)
                        }
                    });
                v.create = function(e, t) {
                    return new v(e, t)
                }, i.PostPlayTrailerMerchPost = v
            }(),
            function() {
                "use strict";
                var t, n = e.cadmium,
                    i = n.ui,
                    o = n.dom.get("H2"),
                    r = i.PostPlayTrailerBase,
                    s = i.PostPlayActionButtons,
                    a = i.PostPlayTimer,
                    l = n.Logger.create("subview.postplay.trailer.promo"),
                    u = (n.url, n.mixins.ui.buttons),
                    d = i.PostPlayTrailerMerch.extend({
                        init: function(n, i) {
                            l.log("init"), t = e.I18n, this._super(n, i), this._autoPlayTimer && this._autoPlayTimer.start(this._playTrailer.bind(this))
                        },
                        _returnToPlayback: function() {
                            this._autoPlayTimer && this._autoPlayTimer.stop(), this._super()
                        },
                        _createElements: function() {
                            this._super();
                            var e = this._metadata.experience,
                                n = this._rootEl.querySelector(".promo-postplay-metadata"),
                                i = o({
                                    "class": "autoplay-timer"
                                });
                            n.insertBefore(i, n.lastChild), e.autoplay && (this._autoPlayTimer = a.create(i, {
                                maxTime: e.autoplayTime,
                                singularTemplate: function() {
                                    return t.get("ce-post-autoplay-prepromo-trailer-singular")
                                },
                                pluralTemplate: function(e) {
                                    return t.getWithParams("ce-post-autoplay-prepromo-trailer-plural", ["SECONDS"], [e])
                                },
                                stoppedTemplate: function() {
                                    return null
                                }
                            }))
                        },
                        _createButtons: function(e) {
                            var t = this._metadata.experience.myList,
                                n = [r.getPlayTrailerButton("play-button"), u.getMyListButton(t.action)];
                            return s.create(e, n)
                        }
                    });
                d.create = function(e, t) {
                    return new d(e, t)
                }, i.PostPlayTrailerPromo = d
            }(),
            function() {
                "use strict";
                var t = e.cadmium,
                    n = t.ui,
                    i = t.dom.get("DIV"),
                    o = t.dom.get("H2"),
                    r = n.PostPlayActionButtons,
                    s = n.PostPlayBackground,
                    a = n.PostPlaySimsCollection,
                    l = n.PostPlayHorizontal,
                    u = n.PostPlayTrailerMerch,
                    d = n.PostPlaySims,
                    c = n.PostPlayTrailerBase,
                    m = n.PostPlayMyList,
                    p = t.Logger.create("subview.postplay.trailer.promo.recs"),
                    h = t.util.NOOP,
                    v = Rx.Observable,
                    E = t.mixins.ui.buttons,
                    f = u.extend({
                        init: function(e, t) {
                            p.log("init"), this._super(e, t), this._sims.highlightSimAtIndex(0)
                        },
                        _createElements: function() {
                            var e, t, n, r = this._metadata.experience;
                            c.prototype._createElements.call(this), d.prototype._createSections.call(this), this._background = this._addComponent(s.create(this._rootEl)), this._sims = this._addComponent(a.create(this._rightSection, this._getSims(), this._boxshotTemplate.bind(this))), this._promoEl = i({
                                "class": "postplay-promo"
                            }, e = i({
                                "class": "postplay-promo-horizontal-container"
                            }), t = i({
                                "class": "promo-postplay-metadata"
                            }, n = r.logo ? i({
                                "class": "logo",
                                style: "background-image: url(" + r.logo + ");"
                            }) : o({
                                "class": "title"
                            }, r.title), o({
                                "class": "tagline"
                            }, r.tagline))), this._setPromoUiContextForEl(n, r), this._horizontal = this._addComponent(l.create(e, r)), this._actionButtons = this._addComponent(this._createButtons(t)), this._myList = this._addComponent(m.create(this._rootEl, {
                                myList: r.myList,
                                trackId: r.trackId,
                                element: t.querySelector(".my-list")
                            })), this._horizontal._rootEl.classList.remove("trailer-merch"), this._rootEl.appendChild(this._promoEl)
                        },
                        _boxshotTemplate: function(e, n) {
                            e = e || {};
                            var i = d.prototype._boxshotTemplate.apply(this, arguments),
                                o = i.querySelector(".player-postplay-recommendation-boxshot");
                            return this._setUiContextForEl(o, {
                                video_id: e.id,
                                track_id: e.trackId,
                                row: 1,
                                rank: n,
                                request_id: t.PostPlayData.getRequestId(),
                                location: "postplay"
                            }), i
                        },
                        _getSims: function() {
                            var e = this._metadata || {};
                            return e.experience && e.experience.recommendations || e.experience.recommendations || []
                        },
                        _createEventSubscriptions: function() {
                            this._super(), this._sims.onHighlight().takeUntil(this._disposed).doAction(function(e) {
                                var t = e.getData();
                                this._background.source = t && t.background
                            }.bind(this)).subscribe(h, p.getErrorHandler("sims|onHighlight"), h), this._sims.onClick().takeUntil(this._disposed).doAction(function(e) {
                                t.PostPlayData.deinit(!0), d.prototype._playSim.call(this, e)
                            }.bind(this)).subscribe(h, p.getErrorHandler("sims|onClick"), h), v.fromEvent(this._horizontal._rootEl, "click").takeUntil(this._disposed).take(1).doAction(this._replayTrailer.bind(this)).subscribe(h, p.getErrorHandler("event|click"))
                        },
                        _createButtons: function(e) {
                            return this._addComponent(r.create(e, [E.getMyListButton(this._metadata.experience.myList.action), E.getMoreInfoButton()]))
                        }
                    });
                f.create = function(e, t) {
                    return new f(e, t)
                }, n.PostPlayTrailerPromoRecs = f
            }(),
            function() {
                "use strict";
                var t, n, i, o = e.cadmium,
                    r = o.dom,
                    s = (r.get("DIV"), r.get("SPAN"), o.Logger.create("component.postplay.akira.modal")),
                    a = "originalsFeedbackForm:show",
                    l = function(e, r) {
                        r = r || {}, this._parentEl = e, this._config = r, n || (n = Requireify.require("js/akira/components/modals/originalsFeedback.jsx")), t || (t = Requireify.require("js/akira/components/modals/modalManager.jsx")), i || (i = Requireify.require("js/reactMixins/eventBus.js")), n.stub || t.stub || (o.fullscreen.exit(), o.keyboard.disableShortcut(), t.open(n, {
                            name: "feedbackModal",
                            additionalClasses: ["originals-feedback-modal"],
                            contentProps: {
                                id: r.id,
                                title: r.title,
                                episode: r.episode,
                                minChars: r.minChars,
                                maxChars: r.maxChars,
                                onSubmit: r.onSubmit
                            }
                        }), i.stub || i.emit(a))
                    };
                l.prototype.destroy = function() {
                    s.log("destroy"), this._parentEl = null, this._config = null, n = null, t = null, i = null
                }, l.prototype.close = function() {
                    t && t.closeOpenModal && t.closeOpenModal()
                }, o.ui.AkiraOriginalsFeedbackModal = {
                    create: function(e, t) {
                        return new l(e, t)
                    }
                }
            }(),
            function() {
                "use strict";

                function t(t) {
                    b.log("createPostPlayExperience"), b.log("createPostPlayExperience.doAction", t.type);
                    var i, o = e && e.cadmium && e.cadmium.metadata || {};
                    switch (t.isAlcatraz && o.getNextEpisode && o.getNextEpisode() && (t = l()), u(t), t.type) {
                        case A.WATCH_NEXT:
                            i = d.ui.PostPlayContinueWatching;
                            break;
                        case A.TRAILER_MERCH:
                            i = d.ui.PostPlayTrailerMerch;
                            break;
                        case A.POST_TRAILER_MERCH:
                            i = d.ui.PostPlayTrailerMerchPost;
                            break;
                        case A.PROMO_PHASE:
                            i = d.ui.PostPlayTrailerPromo;
                            break;
                        case A.POST_PROMO_PHASE:
                            i = d.ui.PostPlayTrailerPromoRecs;
                            break;
                        case A.SIMILARS:
                            i = d.ui.PostPlaySims;
                            break;
                        case A.SIMILARS_DAB:
                            i = d.ui.PostPlaySimsDAB;
                            break;
                        case A.SIMILARS_SPECIAL_MESSAGE:
                            i = d.ui.PostPlaySimsSpecialMessage;
                            break;
                        default:
                            return b.error("Could not create a post play experience for " + t.type), void n()
                    }
                    w = i.create(y, t).show(), y.classList.add(T)
                }

                function n() {
                    b.info("Failed to get post play data. Falling back...")
                }

                function i() {
                    d = e.cadmium, c = d.views, m = d.objects, p = d.element, h = d.UiEvents, v = Rx.Observable, E = d.dom.DIV, f = d.PostPlayData, g = d.util.NOOP, b = b || d.Logger.create("view.postplay.factory")
                }

                function o(t) {
                    i(), b.log("preinit"), v.fromEvent(h, h.knownEvents.VIDEO_ENDED).doAction(function() {
                        b.log("postplay fallback. videoEnded; going back home."), n()
                    }), f.getData().flatMap(a).doAction(function(n) {
                        var i = n && n.type && n.type.toLowerCase && n.type.toLowerCase() || "";
                        e && e.cadmium && e.cadmium.metadata && e.cadmium.metadata.isSupplementalVideo() && i.indexOf("trailer") < 0 || c.show(d.ui.PostPlay, [t, n])
                    }).subscribe(g, b.getErrorHandler("preinit.postplayexperience"), g)
                }

                function r(e, n) {
                    x && s(), k = k || new Rx.Subject, i(), b.log("init"), _ = E({
                        "class": "player-postplay"
                    }), y = e, t(n), x = !0
                }

                function s() {
                    x && (b.log("destroy"), k && k.onNext(), k = null, y.classList.remove(T), y.classList.remove("player-postplay-video-ended"), w && w.destroy(), p.remove(_), y = null, _ = null, w = null, d = null, c = null, m = null, p = null, h = null, v = null, E = null, f = null, g = null, b = null, x = !1)
                }

                function a(e) {
                    return e && e.experience && e.experience.myList && e.type === A.POST_TRAILER_MERCH || e.type === A.POST_PROMO_PHASE ? (b.log("Getting my list status."), d.ui.PostPlayMyList.getCurrentState(e.experience.myList).map(function(t) {
                        return e.experience.myList.action = t.action, e
                    })) : v["return"](e)
                }

                function l(t) {
                    t = t || {};
                    var n = e.cadmium.metadata,
                        i = n.getMetadata() || {},
                        o = i.video || {},
                        r = n.getNextEpisodeSeason() || {},
                        s = n.getNextEpisode() || {};
                    return s.id ? {
                        type: "watchNext",
                        list: {
                            id: s.id,
                            type: "episode",
                            title: s.title || o.title || "",
                            synopsis: s.synopsis || o.synopsis || "",
                            rating: o.rating || "",
                            year: r.year || "",
                            duration: {
                                unit: "seconds",
                                value: s.runtime
                            },
                            actors: [],
                            episodeNumber: s.seq || "",
                            seasonNumber: r.seq || "",
                            memberType: "season",
                            showTitle: o.title || "",
                            userPlayId: -1,
                            autoPlayId: -1,
                            background: s.stills && s.stills[0] && s.stills[0].url,
                            boxart: o.artwork && o.artwork[0] && o.artwork[0].url,
                            autoplay: !0,
                            offsetStart: 0,
                            trackId: -1
                        }
                    } : t
                }

                function u(e) {
                    var t = d.util._,
                        n = t.result(m, "initParams", {}),
                        i = e && e.type || "";
                    if (t.get(n, "prepare", !1)) {
                        var o = t.result(d, "objects.videoSession", null);
                        if (!o) return void b.info("videosession not available, cant prepare next video.");
                        var r, s;
                        i.toLowerCase().indexOf("trailer") >= 0 ? (s = [], t.has(e, "experience.trailerId") && s.push({
                            id: e.experience.trailerId,
                            trackId: t.get(e, "experience.trackId", -1)
                        }), t.has(e, "experience.promotedVideo.id") && s.push({
                            id: e.experience.promotedVideo.id,
                            trackId: t.get(e, "experience.trackId", -1)
                        })) : s = t.isArray(e.list) ? e.list : [e.list];
                        var a = t.map(s, function(t) {
                            return r = e.experience === A.WATCH_NEXT ? t.autoplay ? t.autoPlayId : t.userPlayId || -1 : t.trackId || -1, {
                                movieId: t.id,
                                priority: L,
                                params: {
                                    sessionParams: {
                                        uiplaycontext: null
                                    },
                                    authParams: {
                                        pinCapableClient: !1
                                    },
                                    trackingId: r
                                }
                            }
                        });
                        try {
                            o.prepare(a)
                        } catch (l) {
                            b.error(l)
                        }
                    }
                }
                var d, c, m, p, h, v, E, f, g, b, _, y, w, k, x = !1,
                    T = "player-postplay",
                    A = Object.freeze({
                        WATCH_NEXT: "watchNext",
                        SIMILARS: "recommendations",
                        SIMILARS_DAB: "recommendationsDAB",
                        SIMILARS_SPECIAL_MESSAGE: "specialMessage",
                        TRAILER_MERCH: "trailerMerch",
                        POST_TRAILER_MERCH: "postTrailerMerch",
                        PROMO_PHASE: "promoTrailerMerch",
                        POST_PROMO_PHASE: "postPromoTrailer"
                    }),
                    L = 1;
                e.cadmium.ui.PostPlay = {
                    preinit: o,
                    init: r,
                    deinit: s
                }, e.cadmium.views.register(e.cadmium.ui.PostPlay, e.cadmium.views.types.standard)
            }(),
            function() {
                "use strict";
                var t = e.cadmium,
                    n = t.element,
                    i = t.Logger.create("loader.manager"),
                    o = t.metadata,
                    r = t.UiEvents,
                    s = t.objects,
                    a = Rx.Observable,
                    l = t.ui.pinentry,
                    u = t.session,
                    d = (t.url, t.PostPlayData),
                    c = t.util.NOOP,
                    m = t.Eventable.extend({
                        parentNode: null,
                        rootEl: null,
                        knownEvents: Object.freeze({
                            METADATA_READY: "metadataReady",
                            START_LOAD: "startLoad",
                            PROGRESS_CHANGED: "progressChanged"
                        }),
                        _initialized: !1,
                        _components: [],
                        _disposed: null,
                        _videoPlayer: null,
                        _videoDOMNodesAvailable: !1,
                        _attemptedBuffering: !1,
                        _bookmarkOverride: null,
                        _loadingVideoId: null,
                        _attemptLoadVideo: function() {
                            this._initialized && (i.log("attemptLoadVideo", {
                                attemptedBuffering: this._attemptedBuffering,
                                id: this._loadingVideoId
                            }), this._attemptedBuffering || null === this._loadingVideoId || (this._attemptedBuffering = !0, i.log("attemptLoadVideo, create video player", {
                                attemptedBuffering: this._attemptedBuffering,
                                id: this._loadingVideoId
                            }), s.createVideoPlayer(s.videoId(), s.trackId(), function(e, t) {
                                e || (this._videoPlayer = t, a.fromEvent(this._videoPlayer, "busychanged").takeUntil(this._disposed).doAction(this._busyChangedHandler).subscribe(c, function(e) {
                                    console.error(e)
                                }, c), a.fromEvent(this._videoPlayer, "loaded").take(1).takeUntil(this._disposed).doAction(this._loadedVideoHandler).subscribe(c, function(e) {
                                    console.error(e)
                                }, c))
                            }.bind(this))))
                        },
                        _loadedVideoHandler: function() {
                            this._initialized && (r.fireEvent(r.knownEvents.VIDEO_FIRST_PLAY), i.log("video start time: " + performance.now().toFixed(2) + "ms"), t.views.show(t.ui.playback, [this.parentNode]), d.init())
                        },
                        _busyChangedHandler: function() {
                            if (this._initialized) {
                                var e = s.videoPlayer().getBusy() || {};
                                this.fireEvent(this.knownEvents.PROGRESS_CHANGED, [{
                                    progress: e.progress,
                                    isStalled: e.networkStalled
                                }])
                            }
                        },
                        _metadataLoadedHandler: function() {
                            this._initialized && (null === this._loadingVideoId && (this._loadingVideoId = o.getActiveVideo().id, s.setVideoId(this._loadingVideoId)), this.fireEvent(this.knownEvents.METADATA_READY))
                        },
                        _checkMetadataForId: function(e) {
                            if (this._initialized) {
                                var t = o.getActiveVideo();
                                t && t.id === e && this._metadataLoadedHandler()
                            }
                        },
                        _preparePlayableAndTrackId: function(e) {
                            if (this._initialized) {
                                var n, i, o = t.ui.preplay.preplayNeeded();
                                o ? (n = e.recap.movieId, i = e.preplay.trackId) : (n = e.episodeId || e.movieId || e.videoId || null, i = e.trackingId), this._loadingVideoId = n, s.setVideoId(n), s.setTrackId(i || 0), null !== this._loadingVideoId ? o ? this.fireEvent(this.knownEvents.METADATA_READY) : this._checkMetadataForId(this._loadingVideoId) : this._checkMetadataForId(e.videoId)
                            }
                        },
                        _verifyPinThenStartPlayback: function() {
                            var n = this,
                                r = a.fromEvent(this, this.knownEvents.METADATA_READY).map(function() {
                                    return o.getActiveVideo()
                                }),
                                s = a["return"](o.getActiveVideo());
                            a.merge(r, s).takeUntil(this._disposed).filter(function(e) {
                                return !!e
                            }).take(1).flatMap(function(e) {
                                return e && e.requiresPin ? l.show(n.rootEl, !0).map(function(e) {
                                    return !(e && e.pinStatus && e.pinStatus === l.CANCELED)
                                }).doAction(function(e) {
                                    e && u.setSessionData(u.SESSION_TYPES.PIN, !0)
                                }) : a["return"](!0)
                            }).doAction(function(e) {
                                e ? n._attemptLoadVideo() : t.ui.master.goBackToBrowsing()
                            }).subscribe(c, function(t) {
                                var n = e && e.cadmium && e.cadmium.ui && e.cadmium.ui.errors || {};
                                n.throwUIError && n.throwUIError(n.type.UI_UNKNOWN), i.error(t)
                            }, c)
                        },
                        init: function(e, t) {
                            if (e) {
                                t = t || {}, this._disposed = new Rx.Subject, this._initialized && this.destroy(), this._initialized = !0, this._super();
                                var o = t.initParams || {},
                                    s = t.components,
                                    l = this;
                                this.parentNode = e, this.rootEl = n.create("section", {
                                    "class": "loading-view-v2"
                                }, this.parentNode), s && s.length > 0 && (this._components = [], s.forEach(function(e) {
                                    this._components.push(e.create(this, t))
                                }, this)), this.fireEvent(this.knownEvents.START_LOAD), this._loadedVideoHandler = this._loadedVideoHandler.bind(this), this._busyChangedHandler = this._busyChangedHandler.bind(this), this._metadataLoadedHandler = this._metadataLoadedHandler.bind(this), a.fromEvent(r, r.knownEvents.NEW_PLAYER_DOM_CREATED).takeUntil(this._disposed).doAction(function() {
                                    l._initialized && (l._videoDOMNodesAvailable = !0)
                                }).subscribe(c, i.getErrorHandler("event|NEW_PLAYER_DOM_CREATED"), c), a.fromEvent(r, r.knownEvents.METADATA_LOADED).takeUntil(this._disposed).doAction(this._metadataLoadedHandler).subscribe(c, i.getErrorHandler("event|METADATA_LOADED"), c), this._preparePlayableAndTrackId(o), o.pinConfig && o.pinConfig.isEnabled ? u.isExpired(u.SESSION_TYPES.PIN) ? this._verifyPinThenStartPlayback() : (u.setSessionData(u.SESSION_TYPES.PIN, !0), this._attemptLoadVideo()) : this._attemptLoadVideo()
                            }
                        },
                        destroy: function() {
                            this._initialized && (this._disposed.onNext(), n.remove(this.rootEl), this._components && this._components.forEach(function(e) {
                                e && e.destroy()
                            }), this.rootEl = null, this.parentNode = null, this.events = null, this._components = null, this._videoDOMNodesAvailable = !1, this._attemptedBuffering = !1, this._bookmarkOverride = null, this._loadingVideoId = null, this._videoPlayer = null, this._disposed = null, this._initialized = !1)
                        }
                    }),
                    p = function() {
                        var n = new m;
                        return {
                            init: function(i, o) {
                                var r = [t.ui.LoaderMetadata, t.ui.LoaderProgress];
                                e.cadmium && e.cadmium.ui && e.cadmium.ui.master && e.cadmium.ui.master.isAkira() && r.push(t.ui.ExitPlaybackComponent), n.init(i, {
                                    initParams: o,
                                    components: r
                                })
                            },
                            deinit: n.destroy.bind(n)
                        }
                    }();
                e.cadmium.views.register(p, e.cadmium.views.types.standard);
                var h = function() {
                    var e = new m;
                    return {
                        init: function(n, i) {
                            e.init(n, {
                                initParams: i,
                                components: [t.ui.LoaderProgressPrePlay]
                            })
                        },
                        deinit: e.destroy.bind(e)
                    }
                }();
                e.cadmium.views.register(h, e.cadmium.views.types.standard);
                var v = function() {
                    var e = new m;
                    return {
                        init: function(n, i) {
                            var o = [t.ui.LoaderProgress],
                                a = this;
                            e.init(n, {
                                initParams: i,
                                components: o
                            }), r.addEventListener(r.knownEvents.VIDEO_FIRST_PLAY, function l() {
                                r.removeEventListener(r.knownEvents.VIDEO_FIRST_PLAY, l), delete s.initParams().isStartingFromTimeout, a.deinit()
                            })
                        },
                        deinit: e.destroy.bind(e)
                    }
                }();
                e.cadmium.views.register(v, e.cadmium.views.types.standard), t.ui.loader = {
                    create: function() {
                        return t.ui.preplay.preplayNeeded() ? h : s.initParams().isStartingFromTimeout ? v : p
                    }
                }
            }()
    }()
});

Requireify.register('js/player/bvui/bvui.js', function(require, requireAsync, module, exports) {


    "use strict";
    module.exports = require("bvui");


});


Requireify.register('js/akira/page/player.jsx', function(require, requireAsync, module, exports) {


    "use strict";

    function getPaths(e, t, i) {
        return TitleCard.getPaths(e, t, i)
    }

    function getCharacterPaths(e, t, i) {
        return [
            ["summary"]
        ]
    }
    var React = require("react"),
        Router = require("react-router"),
        I18N = require("../../reactMixins/i18nWithDeps"),
        InitParams = require("../../reactMixins/player/initParams"),
        PlayerAssets = require("../../utils/player/playerAssets"),
        PopState = require("../../reactMixins/popstate"),
        FalkorFetch = require("../../reactMixins/falkor-fetch"),
        EventBus = require("../../reactMixins/eventBus"),
        context = require("../../utils/contextData"),
        TitleCard = require("../components/title/titleCard.jsx"),
        LolomoRefresh = require("../../falkorClient/lolomoRefresh"),
        DynamicMessages = require("../../utils/dynamicMessages/dynamicMessages"),
        netflix = require("../../common/nfNamespace"),
        Rx = require("../../common/nfRx"),
        _ = require("lodash");
    require("../components/modals/originalsFeedback.jsx"), require("../components/player/contentAdvisory.jsx"), require("../../player/bvui/bvui");
    var prefetchStrategies = {
            defaultStrategy: {
                bobs: !0,
                jawBones: !0
            }
        },
        noop = _.noop,
        disposed, Player = React.createClass({
            displayName: "Player",
            statics: {
                getPaths: getPaths,
                getCharacterPaths: getCharacterPaths,
                prefetchStrategies: prefetchStrategies,
                defaultStrategy: prefetchStrategies.defaultStrategy,
                hasInitializedPlayer: !1
            },
            mixins: [I18N, InitParams, PopState, FalkorFetch, Router.State],
            getInitialState: function() {
                return {
                    assetsLoading: !1,
                    playerError: !1
                }
            },
            setIsInteractive: function(e) {
                EventBus.emit("playback:start", {
                    reason: e.interactiveReason
                }), EventBus.emit("app:interactive")
            },
            setupI18nFascia: function() {
                var e = this,
                    t = context.getData("player", "config").ui.assets.i18n,
                    i = function(e, t) {
                        return e = e || "", t = t || "", t.indexOf(e) < 0 ? t : ""
                    };
                "undefined" == typeof window.netflix && (window.netflix = {}), "undefined" == typeof window.netflix.I18n && (window.netflix.I18n = {});
                var a = function(a, s) {
                    return a.indexOf("mdx") >= 0 ? i(a, e.getString("discovery/akira/Mdx", a, s)) : i(a, e.getString(t, a, s))
                };
                netflix.I18n.get = a, netflix.I18n.getWithParams = function(e, t, i) {
                    var s, n = {};
                    for (s in t) t.hasOwnProperty(s) && (n[t[s]] = i[s]);
                    return a(e, n)
                }
            },
            initPlayer: function() {
                var e, t = netflix && netflix.cadmium,
                    i = t && t.UiEvents,
                    a = i && i.knownEvents,
                    s = t && t.objects,
                    n = this;
                e = a && "string" == typeof a.VIDEO_FIRST_PLAY ? Rx.Observable.fromEvent(i, a.VIDEO_FIRST_PLAY).take(1).doAction(function() {
                    n.setIsInteractive({
                        interactiveReason: "success"
                    })
                }) : Rx.Observable["return"](null), this.getInitParams().takeUntil(disposed).doAction(function(e) {
                    Player.hasInitializedPlayer ? s.setPlayContext(e.playcontext) : Player.hasInitializedPlayer = !0, t.ui.master.init(document.getElementById("playerContainer"), e), DynamicMessages.stub || t.UiEvents.addEventListener(t.UiEvents.knownEvents.NEW_PLAYER_CREATED, n._newPlayerCreatedHandler)
                }).merge(e).subscribe(noop, this.onPlayerInitError, noop)
            },
            _newPlayerCreatedHandler: function() {
                var e = _.result(netflix, "cadmium.objects.videoPlayer", !1);
                e && (e.addEventListener("closed", this._onVideoPlayerClosed), e.addEventListener("error", this._makeDynamicMessagesRequest))
            },
            _onVideoPlayerClosed: function() {
                var e = _.result(netflix, "cadmium.objects.videoPlayer", !1);
                e && (e.removeEventListener("closed", this._onVideoPlayerClosed), e.removeEventListener("error", this._makeDynamicMessagesRequest))
            },
            _makeDynamicMessagesRequest: function() {
                this._dynamicMessageRequestDisposable = DynamicMessages.makeRequest(DynamicMessages.context.applicationError)
            },
            getModel: function(e) {
                return e = e || this.videoId || this.getParams().id, this.props.model.pathEvaluator && e ? this.props.model.pathEvaluator.bind(["videos", e]) : void 0
            },
            onPlayerInitError: function(e) {
                var t = {
                    config: context.getData("player", "config") || {}
                };
                this.setState({
                    playerError: !0
                }), this.setIsInteractive({
                    interactiveReason: "failed"
                }), DynamicMessages.stub || DynamicMessages.setApplicationRefreshState(!0), e && e.message && (t.message = e.message), e && e.stack && (t.stack = e.stack), EventBus.emit("playback:initError", t)
            },
            componentWillMount: function() {
                EventBus.emit("app:pageChange", this.props)
            },
            componentDidMount: function() {
                var e = this;
                this.videoId = this.getParams().id, this.episodeId = this.getQuery().episodeId, disposed = new Rx.Subject, this.setupI18nFascia(), netflix.player ? this.initPlayer() : PlayerAssets.getPlayerAssets().take(1).takeUntil(disposed).doAction(function() {
                    e.initPlayer()
                }).subscribe(noop, this.onPlayerInitError, noop), DynamicMessages.stub || DynamicMessages.poll(DynamicMessages.pollingTypes.PLAYBACK).subscribe()
            },
            invalidateSeasonCurrent: function() {
                var e = this.getModel(),
                    t = e.getValueSync(["seasonCount"]),
                    i = t && e.bind(["seasonList"]);
                i.getBoundValue() && i.invalidate([{
                    to: t - 1
                }, "episodes", "current"]).subscribe()
            },
            shutdownCadmium: function() {
                var e = this,
                    t = netflix && netflix.cadmium && netflix.cadmium.ui && netflix.cadmium.ui.master && "function" == typeof netflix.cadmium.ui.master.shutdown && netflix.cadmium.ui.master.shutdown();
                t instanceof Rx.Observable && t.doAction(function() {
                    var t = netflix && netflix.player && netflix.player.togglePanel || noop;
                    t("info", !1), t("streams", !1), t("log", !1), DynamicMessages.stub || netflix.cadmium.UiEvents.removeEventListener(netflix.cadmium.UiEvents.knownEvents.NEW_PLAYER_CREATED, e._newPlayerCreatedHandler)
                }).subscribe(noop, function(e) {}, noop), disposed && disposed.onNext()
            },
            invalidateFalkorCache: function() {
                var e = this.getModel(),
                    t = !!this.episodeId;
                if (t) {
                    e.invalidate(["current"]).subscribe();
                    var i = this.getModel(this.episodeId);
                    i.getBoundValue() && i.invalidate(["bookmarkPosition"]).subscribe(), this.invalidateSeasonCurrent()
                } else e.invalidate(["bookmarkPosition"]).subscribe();
                e.invalidate(["userRating"]).subscribe(), LolomoRefresh.refreshList(this.props.model.pathEvaluator, "continueWatching")
            },
            componentWillUnmount: function() {
                this.shutdownCadmium(), this.invalidateFalkorCache(), EventBus.emit("playback:end"), this._dynamicMessageRequestDisposable && this._dynamicMessageRequestDisposable.dispose(), DynamicMessages.stub || DynamicMessages.stop()
            },
            renderError: function() {
                var e = context.getData("player", "config").ui.assets.i18n;
                return React.createElement("div", {
                    className: "playerError"
                }, this.getString(e, "ce-text-default"))
            },
            render: function() {
                return React.createElement("div", {
                    id: "playerWrapper"
                }, this.state.playerError ? this.renderError() : React.createElement("div", {
                    id: "playerContainer"
                }))
            }
        });
    Player.__meta__ = {
        strings: [{
            bundle: "akira/player/player.js",
            isSymLink: !0,
            all: !0
        }, {
            bundle: "discovery/akira/Mdx",
            all: !0
        }]
    }, module.exports = Player;


});


Requireify.register('js/utils/player/playerMetadata.js', function(require, requireAsync, module, exports) {


    "use strict";
    var Rx = require("../../common/nfRx"),
        ImageExt = require("../../common/imageExtension.js"),
        XHR = require("../XHR"),
        _imageExtension;
    module.exports = {
        getMetadataCall: function(e) {
            return _imageExtension = ImageExt.canUseWebPFromContext() ? "webp" : "jpg", Rx.Observable.create(function(t) {
                return XHR.request({
                    method: "get",
                    service: "api",
                    protocol: "https",
                    data: {
                        movieid: e,
                        imageFormat: _imageExtension
                    },
                    resource: "/metadata",
                    authorize: !1
                }).subscribe(function(e) {
                    t.onNext(e)
                }, function(e) {
                    t.onError(e)
                }, function() {
                    t.onCompleted()
                })
            })
        },
        getCharacterMetadataCall: function(e, t) {
            return _imageExtension = ImageExt.canUseWebPFromContext() ? "webp" : "jpg", Rx.Observable.create(function(t) {
                return XHR.request({
                    method: "get",
                    service: "api",
                    data: {
                        characterId: e,
                        imageFormat: _imageExtension
                    },
                    resource: "/metadata",
                    authorize: !1
                }).subscribe(function(e) {
                    t.onNext(e)
                }, function(e) {
                    t.onError(e)
                }, function() {
                    t.onCompleted()
                })
            })
        }
    };


});


Requireify.register('js/akira/page/kidsPlayer.jsx', function(require, requireAsync, module, exports) {


    "use strict";
    var React = require("react"),
        Router = require("react-router"),
        Klayer = require("../../kidsPlayer/player/index.js"),
        TitleCard = require("../components/title/titleCard.jsx"),
        EventBus = require("../../reactMixins/eventBus"),
        LolomoRefresh = require("../../falkorClient/lolomoRefresh"),
        I18N = require("../../reactMixins/i18nWithDeps"),
        InitParams = require("../../reactMixins/player/initParams"),
        PopState = require("../../reactMixins/popstate"),
        FalkorFetch = require("../../reactMixins/falkor-fetch"),
        contextData = require("../../utils/contextData"),
        Metadata = require("../../utils/player/playerMetadata"),
        PlayerAssets = require("../../utils/player/playerAssets"),
        Rx = require("nf-rx");
    require("../../common/nfRx");
    var disposed, prefetchStrategies = {
            defaultStrategy: {
                bobs: !0,
                jawBones: !0
            }
        },
        noop = function() {},
        getPaths = function(e, t, a) {
            return TitleCard.getPaths(e, t, a)
        },
        getCharacterPaths = function(e, t, a) {
            return [
                ["summary"]
            ]
        },
        KidsPlayer = React.createClass({
            displayName: "KidsPlayer",
            statics: {
                getPaths: getPaths,
                getCharacterPaths: getCharacterPaths,
                prefetchStrategies: prefetchStrategies,
                defaultStrategy: prefetchStrategies.defaultStrategy
            },
            mixins: [I18N, InitParams, PopState, FalkorFetch, Router.State, Router.Navigation],
            getInitialState: function() {
                return {
                    assetsLoading: !1,
                    playerError: !1
                }
            },
            setIsInteractive: function(e) {
                EventBus.emit("playback:start", {
                    reason: e.interactiveReason
                }), EventBus.emit("app:interactive")
            },
            getModel: function(e) {
                return e = e || this.videoId || this.getParams().id || this.getParams().characterId, this.props.model.pathEvaluator && this.getParams().characterId ? this.props.model.pathEvaluator.bind(["characters", e]) : this.props.model.pathEvaluator && e ? this.props.model.pathEvaluator.bind(["videos", e]) : void 0
            },
            onPlayerInitError: function() {
                this.setState({
                    playerError: !0
                }), this.setIsInteractive({
                    interactiveReason: "failed"
                })
            },
            componentWillMount: function() {
                EventBus.emit("app:pageChange", this.props)
            },
            componentDidMount: function() {
                disposed = new Rx.Subject, this.videoId = this.getParams().id || this.getParams().characterId, this.episodeId = this.getQuery().episodeId, window.addEventListener("beforeunload", this.unloadKlayer);
                try {
                    window.netflix.player && window.netflix.player.__kidsPlayer__ ? this.initPlayer([this.getInitParams()]) : this.initPlayer([this.getInitParams(), PlayerAssets.getCorePlayerJS().take(1)])
                } catch (e) {
                    this.onPlayerInitError(e)
                }
            },
            componentWillUnmount: function() {
                window.removeEventListener("beforeunload", this.unloadKlayer), this.unloadKlayer()
            },
            unloadKlayer: function(e) {
                disposed && disposed.onNext(), this.klayer && this.klayer.destroy(), this.invalidateFalkorCache(), EventBus.emit("playback:end")
            },
            initPlayer: function(e) {
                var t = this,
                    a = {
                        error: contextData.getData("player", "config").ui.assets.i18n
                    };
                Rx.Observable.zip(e, function(e) {
                    return {
                        initParams: e
                    }
                }).takeUntil(disposed).doAction(function(e) {
                    window.netflix.player.__kidsPlayer__ = !0, t.klayer = Klayer.create(e.initParams, React.findDOMNode(t.refs.playerContainer), a, t.updateHistory, t.getMetadataObservable, t.onPlayerInitError)
                }).subscribe(noop, this.onPlayerInitError, noop)
            },
            updateHistory: function(e, t, a) {
                var r, i = this.getQuery();
                t && (i.trkid = t), a ? i.episodeId = a : delete i.episodeId, e || (this.getParams().characterId ? r = this.getParams().characterId : e = this.getParams().id), r ? this.replaceWith("watchCharacter", {
                    characterId: r
                }, i) : this.replaceWith("watchNow", {
                    id: e
                }, i)
            },
            getMetadataObservable: function() {
                var e, t = this.getParams(),
                    a = this.props.model.pathEvaluator,
                    r = t.characterId,
                    i = t.id;
                return e = r ? Metadata.getCharacterMetadataCall(r, a) : Metadata.getMetadataCall(i, a), e.takeUntil(disposed).take(1)
            },
            invalidateSeasonCurrent: function() {
                var e = this.getModel(),
                    t = e.getValueSync(["seasonCount"]),
                    a = t && e.bind(["seasonList"]);
                a && a.getBoundValue() && a.invalidate([{
                    to: t - 1
                }, "episodes", "current"]).subscribe()
            },
            invalidateFalkorCache: function() {
                var e, t = this.getModel(),
                    a = !!this.episodeId;
                a ? (e = this.getModel(this.episodeId), t.invalidate(["current"]).subscribe(), e && e.getBoundValue() && e.invalidate(["bookmarkPosition"]).subscribe(), this.invalidateSeasonCurrent()) : t.invalidate(["bookmarkPosition"]).subscribe(), LolomoRefresh.refreshList(this.props.model.pathEvaluator, "continueWatching")
            },
            render: function() {
                return React.createElement("div", {
                    id: "playerWrapper"
                }, this.state.playerError ? this.renderError() : React.createElement("div", {
                    ref: "playerContainer",
                    id: "playerContainer",
                    className: "kids-player"
                }))
            },
            renderError: function() {
                var e = contextData.getData("player", "config").ui.assets.i18n;
                return React.createElement("div", {
                    className: "playerError"
                }, this.getString(e, "ce-text-default"))
            }
        });
    module.exports = KidsPlayer;


});


Requireify.register('js/akira/page/watch.jsx', function(require, requireAsync, module, exports) {


    "use strict";
    var React = require("react"),
        Router = require("react-router"),
        nfProps = require("nf-iso-properties"),
        Player = require("./player.jsx"),
        KidsPlayer = require("./kidsPlayer.jsx"),
        IsomorphicContext = require("../../reactMixins/isomorphicContextWithDeps"),
        context = require("../../utils/contextData"),
        url = require("../../utils/urls"),
        PlayerFeatureDetection = require("../../utils/player/playerFeatureDetection"),
        CookieUtils = require("../../utils/cookieUtils"),
        _ = require("lodash"),
        PLAYER_COMPONENTS = {
            GENERAL_AUDIENCE: "ga",
            KIDS: "kids"
        };
    module.exports = React.createClass({
        displayName: "exports",
        mixins: [Router.State, IsomorphicContext],
        getInitialState: function() {
            return {
                playerComponent: null
            }
        },
        redirect: function() {
            var e = this.getQuery(),
                t = context.getData("player", "playbackSupport") || {};
            "no" === t.supportsSL ? window.location.replace(url.getHelpUrl("playerSupport")) : nfProps.get("netflix.ui.akira.enableSilverlight") ? (CookieUtils.set("forceSilverlight", "true", new Date((new Date).getTime() + 1e5), context.getFeatureData("serverDefs").host || CookieUtils.TOP_DOMAIN, CookieUtils.ROOT_PATH), window.location.replace(url.makeAkiraPlayerUrl(_.get(this.getParams(), "id"), {
                trackId: _.get(e, "trackId"),
                tctx: _.get(e, "tctx")
            }))) : window.location.replace(url.getMerchWebPlayerUrl(_.get(this.getParams(), "id"), _.get(e, "trackId"), _.get(e, "tctx")).toString())
        },
        setPlayerComponentState: function() {
            var e;
            e = context.getData("player", "kidsPlayer") ? PLAYER_COMPONENTS.KIDS : PLAYER_COMPONENTS.GENERAL_AUDIENCE, this.setState({
                playerComponent: e
            })
        },
        componentDidMount: function() {
            var e = this;
            PlayerFeatureDetection.hasRequiredComponentsForPlayback().doAction(function(t) {
                t ? e.setPlayerComponentState() : e.redirect()
            }).subscribe(_.noop, function(e) {})
        },
        render: function() {
            return React.createElement("div", null, this.renderPlayerComponent())
        },
        renderPlayerComponent: function() {
            switch (this.state.playerComponent) {
                case PLAYER_COMPONENTS.GENERAL_AUDIENCE:
                    return React.createElement(Player, this.props);
                case PLAYER_COMPONENTS.KIDS:
                    return React.createElement(KidsPlayer, this.props);
                default:
                    return null
            }
        }
    });


});


Requireify.register('js/akira/app.jsx', function(require, requireAsync, module, exports) {


    "use strict";

    function createRouteTable() {
        var e = Router.Route;
        return React.createElement(e, {
            name: "app",
            handler: BaseRouteHandler
        }, React.createElement(e, {
            name: "akira",
            handler: AkiraLayout,
            ignoreScrollBehavior: !0
        }, React.createElement(e, {
            name: "home",
            path: URLs.page.app,
            handler: Home
        }), React.createElement(e, {
            name: "homeWithSlash",
            path: URLs.page.app + "/",
            handler: Home
        }), React.createElement(e, {
            name: "title",
            path: URLs.paths.title + "/:id",
            handler: Title
        }), React.createElement(e, {
            name: "addToMyList",
            path: URLs.paths.addToMyList + "/:id",
            handler: AddToMyList
        }), React.createElement(e, {
            name: "genre",
            path: URLs.paths.genre + "/:id",
            handler: Genre
        }), React.createElement(e, {
            name: "similars",
            path: URLs.paths.similars + "/:id",
            handler: Similars
        }), React.createElement(e, {
            name: "genreNewRelease",
            path: URLs.paths.genrenewrelease + "/:id",
            handler: GenreNewRelease
        }), React.createElement(e, {
            name: "hd",
            path: URLs.paths.hd + "/:id",
            handler: HD
        }), React.createElement(e, {
            name: "person",
            path: URLs.paths.person + "/:id",
            handler: Person
        }), React.createElement(e, {
            name: "myList",
            path: URLs.paths.mylist,
            handler: MyList
        }), React.createElement(e, {
            name: "watchAgain",
            path: URLs.paths.watchagain,
            handler: WatchAgain
        }), React.createElement(e, {
            name: "recentlyAdded",
            path: URLs.paths.recentlyadded,
            handler: RecentlyAdded
        }), React.createElement(e, {
            name: "justAdded",
            path: URLs.paths.justadded,
            handler: ContentRefresh
        }), React.createElement(e, {
            name: "newRelease",
            path: URLs.paths.newrelease,
            handler: NewRelease
        }), React.createElement(e, {
            name: "newReleases",
            path: URLs.paths.newreleases,
            handler: NewRelease
        }), React.createElement(e, {
            name: "newArrivals",
            path: URLs.paths.newarrivals,
            handler: NewArrivals
        }), React.createElement(e, {
            name: "subtitle",
            path: URLs.paths.subtitle + "/:id",
            handler: Subtitle
        }), React.createElement(e, {
            name: "subtitles",
            path: URLs.paths.subtitles + "/:id",
            handler: Subtitle
        }), React.createElement(e, {
            name: "audioDescription",
            path: URLs.paths.audioDescription,
            handler: AudioDescription
        }), React.createElement(e, {
            name: "netflixOriginals",
            path: URLs.paths.netflixOriginals,
            handler: NetflixOriginals
        }), React.createElement(e, {
            name: "search",
            path: URLs.paths.search + "/:term",
            handler: Search
        }), React.createElement(e, {
            name: "searchPerson",
            path: URLs.paths.search + "/:term/person/:personId",
            handler: Search
        }), React.createElement(e, {
            name: "searchSuggestion",
            path: URLs.paths.search + "/:term/suggestion/:suggestionId",
            handler: Search
        }), React.createElement(e, {
            name: "searchDVD",
            path: URLs.paths.search + "/:term/dvd/:dvdId",
            handler: Search
        }), React.createElement(e, {
            name: "manageProfiles",
            path: URLs.paths.manageProfiles,
            handler: ManageProfiles
        }), React.createElement(e, {
            name: "editProfiles",
            path: URLs.paths.editProfiles,
            handler: ManageProfiles
        })), React.createElement(e, {
            name: "watchNow",
            handler: Watch,
            path: URLs.paths.watch + "/:id"
        }), React.createElement(e, {
            name: "watchCharacter",
            handler: Watch,
            path: URLs.paths.watchCharacter + "/:characterId"
        }))
    }

    function getRouteTable() {
        return routeTable || (routeTable = createRouteTable()), routeTable
    }

    function App(e) {
        this.metadata = e, this.renderedView = null
    }
    var React = require("react"),
        Router = require("react-router"),
        URLs = require("../utils/urls"),
        AkiraLayout = require("./layouts/akiraLayout.jsx"),
        BaseRouteHandler = require("./baseRouteHandler.jsx"),
        Home = require("./page/home.jsx"),
        Genre = require("./page/genre.jsx"),
        Person = require("./page/person.jsx"),
        MyList = require("./page/myList.jsx"),
        Title = require("./page/title.jsx"),
        AddToMyList = require("./page/addToMyList.jsx"),
        Subtitle = require("./page/subtitle.jsx"),
        NewRelease = require("./page/newRelease.jsx"),
        RecentlyAdded = require("./page/recentlyAdded.jsx"),
        ContentRefresh = require("./page/contentRefresh.jsx"),
        WatchAgain = require("./page/watchAgain.jsx"),
        Similars = require("./page/similars.jsx"),
        GenreNewRelease = require("./page/genreNewRelease.jsx"),
        NewArrivals = require("./page/newArrivals.jsx"),
        HD = require("./page/HD.jsx"),
        Search = require("./page/searchRoute.jsx"),
        AudioDescription = require("./page/audioDescription.jsx"),
        ManageProfiles = require("./page/manageProfiles.jsx"),
        NetflixOriginals = require("./page/netflixOriginals.jsx"),
        Watch = require("./page/watch.jsx"),
        routeTable = null;
    App.prototype = {
        serverRender: function(e, a, t) {
            var r = this;
            Router.run(getRouteTable(), e.path(), function(e) {
                try {
                    return t(null, React.renderToString(React.createElement(e, {
                        renderSource: "server",
                        model: r.metadata
                    })))
                } catch (a) {
                    return t(a, null)
                }
            })
        },
        clientRender: function(e) {
            var a = this;
            Router.run(getRouteTable(), Router.HistoryLocation, function(t) {
                try {
                    e(null, React.createElement(t, {
                        renderSource: "client",
                        model: a.metadata
                    }))
                } catch (r) {
                    e(r, null)
                }
            })
        },
        refresh: function() {
            this.renderedView.isMounted() && this.renderedView.forceUpdate()
        },
        setRenderedView: function(e) {
            this.renderedView = e
        }
    }, module.exports = App;


});


Requireify.register('js/falkorClient/PathEvaluator.js', function(require, requireAsync, module, exports) {


    "use strict";

    function PathEvaluator(e, t, _, r, n, i, o) {
        if (null != _ && "object" == typeof _ && (this.loader = _), "number" != typeof e) throw new Error("PathEvaluator: maxSize must be a number.");
        "number" == typeof t ? (t = parseFloat(t), t > 1 && (t /= e)) : t = .75, this._root = this, this._batches = new BatchRequestQueue(this), this._maxSize = e, this._collectRatio = t, this._cache = r || {}, this._path = Array.isArray(n) ? n : [], this._now = "function" == typeof i ? i : defaultNow, this._expired = [], this._errorSelector = "function" == typeof o ? o : identity
    }

    function safeValue(e) {
        return e && "error" === e.$type ? (EventBus.emit("falkorFetch:error", {
            message: e.message,
            pql: e.pql
        }), Object.create(e)) : e
    }

    function noop() {}

    function defaultNow() {
        return Date.now()
    }

    function identity(e) {
        return e
    }

    function get() {
        var e, t = -1,
            _ = arguments.length;
        for (e = new Array(_); ++t < _;) e[t] = arguments[t];
        if (this._lazy) return getPathsAsObservable.call(this, e);
        var r = e[e.length - 3],
            n = e[e.length - 2],
            i = e[e.length - 1];
        return void 0 !== r ? (e = e.slice(0, -3), getPaths.call(this, e, r, n, i)) : getPathsAsPromises.call(this, e)
    }

    function set() {
        var e, t = -1,
            _ = arguments.length;
        for (e = new Array(_); ++t < _;) e[t] = arguments[t];
        if (this._lazy) return this._streaming ? setPathsAsObservable.call(this, e) : setPBFAsObservable.call(this, e[0]);
        var r = e[e.length - 3],
            n = e[e.length - 2],
            i = e[e.length - 1];
        return void 0 !== r ? (e = e.slice(0, -3), this._streaming ? setPaths.call(this, e, r, n, i) : setPBF.call(this, e[0], r, n, i)) : this._streaming ? setPathsAsPromises.call(this, e) : setPBFAsPromises.call(this, e[0])
    }

    function invalidate() {
        var e, t = -1,
            _ = arguments.length;
        for (e = new Array(_); ++t < _;) e[t] = arguments[t];
        if (this._lazy) return invalidatePathsAsObservable.call(this, e);
        var r = e[e.length - 3],
            n = e[e.length - 2],
            i = e[e.length - 1];
        return void 0 !== r ? (e = e.slice(0, -3), invalidatePaths.call(this, e, r, n, i)) : invalidatePathsAsPromise.call(this, e)
    }

    function call() {
        var e, t = -1,
            _ = arguments.length;
        for (e = new Array(_); ++t < _;) e[t] = arguments[t];
        if (this._lazy) return callPathAsObservable.apply(this, e);
        var r = e[e.length - 3],
            n = e[e.length - 2],
            i = e[e.length - 1];
        return void 0 !== r ? (e = e.slice(0, -3), callPath.call(this, e, r, n, i)) : callPathAsPromise.call(this, e)
    }

    function bind(e) {
        if (!Array.isArray(e)) throw new Error("PathEvaluator.bind must be called with an Array path.");
        var t = Object.create(this);
        return t._path = (this._path || (this._path = [])).concat(e), t.__context = void 0, t
    }

    function hardBind(e) {
        if (!Array.isArray(e)) throw new Error("PathEvaluator.hardBind must be called with an Array path.");
        var t = this._getPath(e.concat(null)),
            _ = t.value,
            r = Object.create(this);
        if (_) {
            r._path = t.optimized;
            var n = _.__refsLength || 0;
            _["__ref" + n] = r, _.__refsLength = n + 1, r.__refIndex = n, r.__context = _
        } else r._path = (this._path || (this._path = [])).concat(e), r.__context = null;
        return r
    }

    function deferBind(e) {
        if (!Array.isArray(e)) throw new Error("PathEvaluator.deferBind must be called with an Array path.");
        var t = this;
        return Observable.create(function(_) {
            return _.onNext(t.hardBind(e)), _.onCompleted(), noop
        })
    }

    function getContext() {
        var e, t = this,
            _ = this.__context;
        if (null == _ || null == _.__parent) {
            if (e = this._getPath([null]), e.path = e.optimized, e.optimized = void 0, void 0 !== _ && (null === _ || null == _.__parent) && void 0 !== (_ = e.context)) {
                this._path = e.path || [];
                var r = _.__refsLength || 0;
                _["__ref" + r] = t, _.__refsLength = r + 1, t.__refIndex = r, t.__context = _
            }
        } else e = {
            path: this._path || (this._path = []),
            value: _
        };
        return e
    }

    function getPath(e, t, _, r) {
        var n, i, o, l, a, f, s, v, p, d, u, h, c, y, g, x, b, m, j, $, A = this,
            z = A._root;
        r = r || A._path, e = e || [], t = t || A._cache, _ = _ || A.__context || (e = r.concat(e)) && t, i = e, d = {
            path: [],
            optimized: []
        }, u = [], h = [], c = [], l = 0, a = 0, f = i.length - 1, g = t, x = _, b = x, m = b, v = d.path, p = d.optimized, y = -1, s = 0, n = A._expired || (A._expired = []), u[-1] = i, h[-1] = 0;
        e: for (;;) {
            for (; f > l; ++l)
                if (o = i[l], null != o && "object" == typeof o && (Array.isArray(o) ? (o = o[o.index || (o.index = 0)], null != o && "object" == typeof o && (o = void 0 === o.offset && (o.offset = o.from || (o.from = 0)) || o.offset)) : o = void 0 === o.offset && (o.offset = o.from || (o.from = 0)) || o.offset), null != o) {
                    for (v[v.length = l] = o, p[p.length = l + a] = o, b = (b = x[o]) && (null == ($ = b.$expires) || 1 === $ || 0 !== $ && $ > Date.now() ? b : void 0); Array.isArray(m = "sentinel" === (j = b && b.$type) ? b.value : b);) {
                        var L = z.__head,
                            P = z.__tail;
                        if (b && 1 !== b.$expires) {
                            var O = b.__next,
                                w = b.__prev;
                            b !== L && (O && null != O && "object" == typeof O && (O.__prev = w), w && null != w && "object" == typeof w && (w.__next = O), (O = L) && null != O && "object" == typeof O && (L.__prev = b), z.__head = z.__next = L = b, null != L && "object" == typeof L && (L.__next = O, L.__prev = void 0)), (null == P || b === P) && (z.__tail = z.__prev = P = w || b)
                        }
                        if (void 0 !== (b = b.__context)) {
                            for (var k = -1, E = p.length = m.length || 0; ++k < E;) p[k] = m[k];
                            a = E - l - 1
                        } else {
                            x = g, u[y] = i, h[y++] = l, i = m, f = i.length - 1, a = 0, l = 0;
                            t: for (;;) {
                                for (; f > l; ++l)
                                    if (o = i[l], null != o) {
                                        for (p[p.length = l + a] = o, b = (b = x[o]) && (null == ($ = b.$expires) || 1 === $ || 0 !== $ && $ > Date.now() ? b : void 0); Array.isArray(m = "sentinel" === (j = b && b.$type) ? b.value : b);) {
                                            var I = z.__head,
                                                R = z.__tail;
                                            if (b && 1 !== b.$expires) {
                                                var M = b.__next,
                                                    N = b.__prev;
                                                b !== I && (M && null != M && "object" == typeof M && (M.__prev = N), N && null != N && "object" == typeof N && (N.__next = M), (M = I) && null != M && "object" == typeof M && (I.__prev = b), z.__head = z.__next = I = b, null != I && "object" == typeof I && (I.__next = M, I.__prev = void 0)), (null == R || b === R) && (z.__tail = z.__prev = R = N || b)
                                            }
                                            if (void 0 === (b = b.__context)) {
                                                x = g, u[y] = i, h[y++] = l, i = m, f = i.length - 1, a = 0, l = 0;
                                                continue t
                                            }
                                            for (var U = -1, D = p.length = m.length || 0; ++U < D;) p[U] = m[U];
                                            a = D - l - 1
                                        }
                                        if (null == b || void 0 !== j) {
                                            p.length = l + a + 1, l = h[--y], a = f - l - 1, i = u[y], f = i.length - 1, v[v.length] = null;
                                            break e
                                        }
                                        x = b
                                    }
                                if (l === f) {
                                    if (o = i[l], null != o && (p[p.length = l + a] = o, b = (b = x[o]) && (null == ($ = b.$expires) || 1 === $ || 0 !== $ && $ > Date.now() ? b : void 0)), null == b || "error" === j) {
                                        p.length = l + a + 1, l = h[--y], a = f - l - 1, i = u[y], f = i.length - 1, v[v.length] = null;
                                        break e
                                    }
                                    var B;
                                    if (void 0 === (B = i.__container || i).__context) {
                                        var S = b.__refsLength || 0;
                                        b["__ref" + S] = B, b.__refsLength = S + 1, B.__refIndex = S, B.__context = b
                                    }
                                    do i = u[--y], l = h[y], a = f - l, f = i.length - 1; while (y > -1 && l === f);
                                    if (f > l)
                                        for (; Array.isArray(m = "sentinel" === (j = b && b.$type) ? b.value : b);) {
                                            var q = z.__head,
                                                C = z.__tail;
                                            if (b && 1 !== b.$expires) {
                                                var T = b.__next,
                                                    F = b.__prev;
                                                b !== q && (T && null != T && "object" == typeof T && (T.__prev = F), F && null != F && "object" == typeof F && (F.__next = T), (T = q) && null != T && "object" == typeof T && (q.__prev = b), z.__head = z.__next = q = b, null != q && "object" == typeof q && (q.__next = T, q.__prev = void 0)), (null == C || b === C) && (z.__tail = z.__prev = C = F || b)
                                            }
                                            if (void 0 === (b = b.__context)) {
                                                x = g, u[y] = i, h[y++] = l, i = m, f = i.length - 1, a = 0, l = 0;
                                                continue t
                                            }
                                            for (var W = -1, G = p.length = m.length || 0; ++W < G;) p[W] = m[W];
                                            a = G - l - 1
                                        }
                                    if (y > -1) {
                                        l += 1, x = b;
                                        continue t
                                    }
                                }
                                break t
                            }
                        }
                    }
                    if (null == b || void 0 !== j) {
                        p.length = l + a + 1;
                        break e
                    }
                    x = b
                }
            if (l === f) {
                if (o = i[l], null != o && "object" == typeof o && (Array.isArray(o) ? (o = o[o.index || (o.index = 0)], null != o && "object" == typeof o && (o = void 0 === o.offset && (o.offset = o.from || (o.from = 0)) || o.offset)) : o = void 0 === o.offset && (o.offset = o.from || (o.from = 0)) || o.offset), v[v.length = l] = o, null != o && (p[p.length = l + a] = o, b = x[o]), null != b && !(null == ($ = b.$expires) || 1 === $ || 0 !== $ && $ > Date.now())) {
                    if (void 0 === b.__invalidated) {
                        b.__invalidated = !0, b.$expires = 0, n[n.length] = b;
                        var Q = z.__head,
                            V = z.__tail;
                        if (null != b && "object" == typeof b) {
                            var K = b.__next,
                                J = b.__prev;
                            K && null != K && "object" == typeof K && (K.__prev = J), J && null != J && "object" == typeof J && (J.__next = K), b === Q && (z.__head = z.__next = Q = K), b === V && (z.__tail = z.__prev = V = J), b.__next = b.__prev = void 0
                        }
                    }
                    b = null
                }
                m = "sentinel" === (j = b && b.$type) ? b.value : b
            }
            break e
        }
        if (null == b) {
            for (var Z, H = -1, X = -1, Y = p.length, ee = 0, te = new Array(Y + f - l); ++H < Y;) Z = p[H], null != Z ? te[++X] = Z : --ee;
            for (H = l; ++H <= f;) Z = i[H], null != Z ? te[++X] = Z : --ee;
            te.length += ee, d.optimized = te, d.value = void 0
        } else d.value = m;
        return d
    }

    function getPaths(e, t, _, r, n, i, o) {
        var l, a, f, s, v, p, d, u, h, c, y, g, x, b, m, j, $, A, z, L, P, O, w, k, E, I, R, M, N, U, D, B, S, q, C, T, F, W, G, Q, V, K, J = this,
            Z = J._root;
        for (y = e, l = J._connected, a = J._materialized, f = J._streaming, s = J._refreshing, g = o || J._path, v = y.contexts || (y.contexts = []), p = y.messages || (y.messages = []), q = y.batchedPathMaps || (y.batchedPathMaps = []), E = y.originalMisses || (y.originalMisses = []), R = y.optimizedMisses || (y.optimizedMisses = []), u = y.errors || (y.errors = []), M = y.refs || (y.refs = []), U = y.crossed || (y.crossed = []), N = y.cols || (y.cols = []), w = y.pbv || (y.pbv = {
                path: [],
                optimized: []
            }), $ = y.index || (y.index = 0), A = y.length, S = y.batchedPathMap, V = y.value, K = V, n = n || J._cache, o = g, null == i && null == (i = J.__context) && (g.length > 0 ? (w = J._getContext(), g = w.path, w.path = [], w.optimized = [], i = w.value || {}) : i = n), C = n, T = i, F = T, W = F, P = w.path, O = w.optimized, D = -1, z = 0, c = J._expired || (J._expired = []), M[-1] = g, N[-1] = 0, U[-1] = L = g, v[-1] = T; A > $; y.index = ++$)
            for (g = y[$], b = g.index || (g.index = 0), j = g.length - 1, M[-1] = g, U = [], U[-1] = L; b >= 0;) {
                for (var H, X, Y; --b >= -1;)
                    if (null != (H = U[b])) {
                        for (X = -1, Y = H.length, O.length = Y, m = Y - (b + 1); ++X < Y;) O[X] = H[X];
                        break
                    }++b, N[D = -1] = b, T = v[b - 1];
                e: for (;;) {
                    for (; j > b; ++b)
                        if (x = g[b], null != x && "object" == typeof x && (Array.isArray(x) ? (x = x[x.index || (x.index = 0)], null != x && "object" == typeof x && (x = void 0 === x.offset && (x.offset = x.from || (x.from = 0)) || x.offset)) : x = void 0 === x.offset && (x.offset = x.from || (x.from = 0)) || x.offset), null != x) {
                            for (P[P.length = b] = x, O[O.length = b + m] = x, F = (F = T[x]) && (null == (Q = F.$expires) || 1 === Q || 0 !== Q && Q > Date.now() ? F : void 0); Array.isArray(W = "sentinel" === (G = F && F.$type) ? F.value : F);) {
                                var ee = Z.__head,
                                    te = Z.__tail;
                                if (F && 1 !== F.$expires) {
                                    var _e = F.__next,
                                        re = F.__prev;
                                    F !== ee && (_e && null != _e && "object" == typeof _e && (_e.__prev = re), re && null != re && "object" == typeof re && (re.__next = _e), (_e = ee) && null != _e && "object" == typeof _e && (ee.__prev = F), Z.__head = Z.__next = ee = F, null != ee && "object" == typeof ee && (ee.__next = _e, ee.__prev = void 0)), (null == te || F === te) && (Z.__tail = Z.__prev = te = re || F)
                                }
                                if (U[b] = W, void 0 !== (F = F.__context)) {
                                    for (var ne = -1, ie = O.length = W.length || 0; ++ne < ie;) O[ne] = W[ne];
                                    m = ie - b - 1
                                } else {
                                    T = C, M[D] = g, N[D++] = b, g = W, j = g.length - 1, m = 0, b = 0;
                                    t: for (;;) {
                                        for (; j > b; ++b)
                                            if (x = g[b], null != x) {
                                                for (O[O.length = b + m] = x, F = (F = T[x]) && (null == (Q = F.$expires) || 1 === Q || 0 !== Q && Q > Date.now() ? F : void 0); Array.isArray(W = "sentinel" === (G = F && F.$type) ? F.value : F);) {
                                                    var oe = Z.__head,
                                                        le = Z.__tail;
                                                    if (F && 1 !== F.$expires) {
                                                        var ae = F.__next,
                                                            fe = F.__prev;
                                                        F !== oe && (ae && null != ae && "object" == typeof ae && (ae.__prev = fe), fe && null != fe && "object" == typeof fe && (fe.__next = ae), (ae = oe) && null != ae && "object" == typeof ae && (oe.__prev = F), Z.__head = Z.__next = oe = F, null != oe && "object" == typeof oe && (oe.__next = ae, oe.__prev = void 0)), (null == le || F === le) && (Z.__tail = Z.__prev = le = fe || F)
                                                    }
                                                    if (void 0 === (F = F.__context)) {
                                                        T = C, M[D] = g, N[D++] = b, g = W, j = g.length - 1, m = 0, b = 0;
                                                        continue t
                                                    }
                                                    for (var se = -1, ve = O.length = W.length || 0; ++se < ve;) O[se] = W[se];
                                                    m = ve - b - 1
                                                }
                                                if (null == F || void 0 !== G) {
                                                    O.length = b + m + 1, b = N[--D], m = j - b - 1, g = M[D], j = g.length - 1, P[P.length] = null;
                                                    break e
                                                }
                                                T = F
                                            }
                                        if (b === j) {
                                            if (x = g[b], null != x && (O[O.length = b + m] = x, F = (F = T[x]) && (null == (Q = F.$expires) || 1 === Q || 0 !== Q && Q > Date.now() ? F : void 0)), null == F || "error" === G) {
                                                O.length = b + m + 1, b = N[--D], m = j - b - 1, g = M[D], j = g.length - 1, P[P.length] = null;
                                                break e
                                            }
                                            var pe;
                                            if (void 0 === (pe = g.__container || g).__context) {
                                                var de = F.__refsLength || 0;
                                                F["__ref" + de] = pe, F.__refsLength = de + 1, pe.__refIndex = de, pe.__context = F
                                            }
                                            do g = M[--D], b = N[D], m = j - b, j = g.length - 1; while (D > -1 && b === j);
                                            if (j > b)
                                                for (; Array.isArray(W = "sentinel" === (G = F && F.$type) ? F.value : F);) {
                                                    var ue = Z.__head,
                                                        he = Z.__tail;
                                                    if (F && 1 !== F.$expires) {
                                                        var ce = F.__next,
                                                            ye = F.__prev;
                                                        F !== ue && (ce && null != ce && "object" == typeof ce && (ce.__prev = ye), ye && null != ye && "object" == typeof ye && (ye.__next = ce), (ce = ue) && null != ce && "object" == typeof ce && (ue.__prev = F), Z.__head = Z.__next = ue = F, null != ue && "object" == typeof ue && (ue.__next = ce, ue.__prev = void 0)), (null == he || F === he) && (Z.__tail = Z.__prev = he = ye || F)
                                                    }
                                                    if (void 0 === (F = F.__context)) {
                                                        T = C, M[D] = g, N[D++] = b, g = W, j = g.length - 1, m = 0, b = 0;
                                                        continue t
                                                    }
                                                    for (var ge = -1, xe = O.length = W.length || 0; ++ge < xe;) O[ge] = W[ge];
                                                    m = xe - b - 1
                                                }
                                            if (D > -1) {
                                                b += 1, T = F;
                                                continue t
                                            }
                                        }
                                        break t
                                    }
                                }
                            }
                            if (null == F || void 0 !== G) {
                                O.length = b + m + 1;
                                break e
                            }
                            v[b] = T = F
                        }
                    if (b === j) {
                        if (x = g[b], null != x && "object" == typeof x && (Array.isArray(x) ? (x = x[x.index || (x.index = 0)], null != x && "object" == typeof x && (x = void 0 === x.offset && (x.offset = x.from || (x.from = 0)) || x.offset)) : x = void 0 === x.offset && (x.offset = x.from || (x.from = 0)) || x.offset), P[P.length = b] = x, null != x && (O[O.length = b + m] = x, F = T[x]), null != F && !(null == (Q = F.$expires) || 1 === Q || 0 !== Q && Q > Date.now())) {
                            if (void 0 === F.__invalidated) {
                                F.__invalidated = !0, F.$expires = 0, c[c.length] = F;
                                var be = Z.__head,
                                    me = Z.__tail;
                                if (null != F && "object" == typeof F) {
                                    var je = F.__next,
                                        $e = F.__prev;
                                    je && null != je && "object" == typeof je && (je.__prev = $e), $e && null != $e && "object" == typeof $e && ($e.__next = je), F === be && (Z.__head = Z.__next = be = je), F === me && (Z.__tail = Z.__prev = me = $e), F.__next = F.__prev = void 0
                                }
                            }
                            F = null
                        }
                        W = "sentinel" === (G = F && F.$type) ? F.value : F
                    }
                    break e
                }
                if (null != F) {
                    var Ae = Z.__head,
                        ze = Z.__tail;
                    if (F && 1 !== F.$expires) {
                        var Le = F.__next,
                            Pe = F.__prev;
                        F !== Ae && (Le && null != Le && "object" == typeof Le && (Le.__prev = Pe), Pe && null != Pe && "object" == typeof Pe && (Pe.__next = Le), (Le = Ae) && null != Le && "object" == typeof Le && (Ae.__prev = F), Z.__head = Z.__next = Ae = F, null != Ae && "object" == typeof Ae && (Ae.__next = Le, Ae.__prev = void 0)), (null == ze || F === ze) && (Z.__tail = Z.__prev = ze = Pe || F)
                    }
                    if (w.value = W, "error" === G) {
                        d = Array.isArray(w) ? [] : null != w && "object" == typeof w ? {} : w;
                        var Oe, we;
                        for (var ke in w)
                            if (w.hasOwnProperty(ke)) {
                                if (Oe = we = w[ke], Array.isArray(Oe)) {
                                    var Ee = -1,
                                        Ie = Oe.length;
                                    for (we = new Array(Ie); ++Ee < Ie;) we[Ee] = Oe[Ee]
                                } else null != Oe && "object" == typeof Oe && (we = Object.create(Oe));
                                d[ke] = we
                            }
                        u[u.length] = d
                    } else if (f === !0 && void 0 !== W || a === !0) {
                        B = Array.isArray(w) ? [] : null != w && "object" == typeof w ? {} : w;
                        var Re, Me;
                        for (var Ne in w)
                            if (w.hasOwnProperty(Ne)) {
                                if (Re = Me = w[Ne], Array.isArray(Re)) {
                                    var Ue = -1,
                                        De = Re.length;
                                    for (Me = new Array(De); ++Ue < De;) Me[Ue] = Re[Ue]
                                } else null != Re && "object" == typeof Re && (Me = Object.create(Re));
                                B[Ne] = Me
                            }
                        t(B)
                    }
                    s === !0 && (E[E.length] = o.concat(P), R[R.length] = O.concat())
                } else if (l === !1 && f === !0 && a === !0) {
                    for (var Be, Se = -1, qe = -1, Ce = P.length, Te = 0, Fe = new Array(Ce + j - b); ++Se < Ce;) Be = P[Se], null != Be ? Fe[++qe] = Be : --Te;
                    for (Se = b; ++Se <= j;) Be = g[Se], null != Be ? Fe[++qe] = Be : --Te;
                    Fe.length += Te, k = Fe;
                    for (var We, Ge = -1, Qe = -1, Ve = O.length, Ke = 0, Je = new Array(Ve + j - b); ++Ge < Ve;) We = O[Ge], null != We ? Je[++Qe] = We : --Ke;
                    for (Ge = b; ++Ge <= j;) We = g[Ge], null != We ? Je[++Qe] = We : --Ke;
                    Je.length += Ke, I = Je, t({
                        path: k,
                        optimized: I,
                        value: void 0
                    })
                } else {
                    for (var Ze, He = -1, Xe = -1, Ye = P.length, et = 0, tt = new Array(Ye + j - b); ++He < Ye;) Ze = P[He], null != Ze ? tt[++Xe] = Ze : --et;
                    for (He = b; ++He <= j;) Ze = g[He], null != Ze ? tt[++Xe] = Ze : --et;
                    tt.length += et, k = tt;
                    for (var _t, rt = -1, nt = -1, it = O.length, ot = 0, lt = new Array(it + j - b); ++rt < it;) _t = O[rt], null != _t ? lt[++nt] = _t : --ot;
                    for (rt = b; ++rt <= j;) _t = g[rt], null != _t ? lt[++nt] = _t : --ot;
                    lt.length += ot, I = lt, E[E.length] = o.concat(k), R[R.length] = I.concat()
                }
                e: for (; b >= 0; --b)
                    if (x = g[b], null != x && "object" == typeof x) {
                        if (Array.isArray(x)) {
                            if (++x.index !== x.length) break e;
                            if (x = x[x.index = 0], null == x || "object" != typeof x) continue e
                        }
                        if (!(++x.offset > (x.to || (x.to = x.from + (x.length || 1) - 1)))) break e;
                        x.offset = x.from
                    }
            }
        return y.index = 0, l === !0 && R.length > 0 ? (h = {
            onNext: t || noop,
            onError: _ || noop,
            onCompleted: r || noop,
            originals: E.concat(),
            optimized: R.concat(),
            count: 0,
            path: o,
            errors: [],
            streaming: f,
            materialized: a
        }, s === !0 && f === !1 && t({
            paths: y,
            value: v[-1]
        }), J._batched === !0 ? J._batches.batch(E, s && E || R, h) : J._batches.flush(E, s && E || R, h)) : (f === !1 && t({
            paths: y,
            value: v[-1]
        }), 0 === u.length ? r() : _(1 === u.length ? u[0] : {
            innerErrors: u
        }), Disposable.empty)
    }

    function setPath(e, t, _, r, n) {
        var i, o, l, a, f, s, v, p, d, u, h, c, y, g, x, b, m, j, $, A, z, L, P, O, w, k, E, I, R = this,
            M = R._root,
            N = GENERATION_GENERATION++;
        Array.isArray(e) ? (o = e, P = t, _ = _ || this._cache) : (o = e.path, P = e.value, _ = t || this._cache), n = n || R._path, o = o || [], _ = _ || R._cache, r = r || R.__context || (o = n.concat(o)) && _, o = o, u = {
            path: [],
            optimized: []
        }, h = [], c = [], y = [], a = 0, f = 0, s = o.length - 1, x = _, b = r, m = b, j = m, p = u.path, d = u.optimized, g = -1, v = 0, i = R._expired || (R._expired = []), h[-1] = o, c[-1] = 0;
        e: for (;;) {
            for (; s > a; ++a)
                if (l = o[a], null != l && "object" == typeof l && (Array.isArray(l) ? (l = l[l.index || (l.index = 0)], null != l && "object" == typeof l && (l = void 0 === l.offset && (l.offset = l.from || (l.from = 0)) || l.offset)) : l = void 0 === l.offset && (l.offset = l.from || (l.from = 0)) || l.offset), null != l) {
                    for (p[p.length = a] = l, d[d.length = a + f] = l, m && (b[l], !0) && void 0 !== !m.__generation && (void 0 === (b[l] || {
                            $size: 0
                        }).__generation || m.__generation > (b[l] || {
                            $size: 0
                        }).__generation) && ((b[l] || {
                            $size: 0
                        }).__generation = m.__generation), b[l] = m = b[l] || {
                            $size: 0
                        }, m.__parent = b, m.__key = l; Array.isArray(j = "sentinel" === ($ = m && m.$type) ? m.value : m);) {
                        var U = M.__head,
                            D = M.__tail;
                        if (m && 1 !== m.$expires) {
                            var B = m.__next,
                                S = m.__prev;
                            m !== U && (B && null != B && "object" == typeof B && (B.__prev = S), S && null != S && "object" == typeof S && (S.__next = B), (B = U) && null != B && "object" == typeof B && (U.__prev = m), M.__head = M.__next = U = m, null != U && "object" == typeof U && (U.__next = B, U.__prev = void 0)), (null == D || m === D) && (M.__tail = M.__prev = D = S || m)
                        }
                        if (void 0 !== (m = m.__context)) {
                            for (var q = -1, C = d.length = j.length || 0; ++q < C;) d[q] = j[q];
                            f = C - a - 1
                        } else {
                            b = x, h[g] = o, c[g++] = a, o = j, s = o.length - 1, f = 0, a = 0;
                            t: for (;;) {
                                for (; s > a; ++a)
                                    if (l = o[a], null != l) {
                                        for (m = b[l], d[d.length = a + f] = l; Array.isArray(j = "sentinel" === ($ = m && m.$type) ? m.value : m);) {
                                            var T = M.__head,
                                                F = M.__tail;
                                            if (m && 1 !== m.$expires) {
                                                var W = m.__next,
                                                    G = m.__prev;
                                                m !== T && (W && null != W && "object" == typeof W && (W.__prev = G), G && null != G && "object" == typeof G && (G.__next = W), (W = T) && null != W && "object" == typeof W && (T.__prev = m), M.__head = M.__next = T = m, null != T && "object" == typeof T && (T.__next = W, T.__prev = void 0)), (null == F || m === F) && (M.__tail = M.__prev = F = G || m)
                                            }
                                            if (void 0 === (m = m.__context)) {
                                                b = x, h[g] = o, c[g++] = a, o = j, s = o.length - 1, f = 0, a = 0;
                                                continue t
                                            }
                                            for (var Q = -1, V = d.length = j.length || 0; ++Q < V;) d[Q] = j[Q];
                                            f = V - a - 1
                                        }
                                        if (null == m || void 0 !== $) {
                                            d.length = a + f + 1, a = c[--g], f = s - a - 1, o = h[g], s = o.length - 1, p[p.length] = null;
                                            break e
                                        }
                                        b = m
                                    }
                                if (a === s) {
                                    if (l = o[a], null != l && (d[d.length = a + f] = l, m && (b[l], !0) && void 0 !== !m.__generation && (void 0 === (b[l] || {
                                            $size: 0
                                        }).__generation || m.__generation > (b[l] || {
                                            $size: 0
                                        }).__generation) && ((b[l] || {
                                            $size: 0
                                        }).__generation = m.__generation), b[l] = m = b[l] || {
                                            $size: 0
                                        }, m.__parent = b, m.__key = l), null == m || "error" === $) {
                                        d.length = a + f + 1, a = c[--g], f = s - a - 1, o = h[g], s = o.length - 1, p[p.length] = null;
                                        break e
                                    }
                                    var K;
                                    if (void 0 === (K = o.__container || o).__context) {
                                        var J = m.__refsLength || 0;
                                        m["__ref" + J] = K, m.__refsLength = J + 1, K.__refIndex = J, K.__context = m
                                    }
                                    do o = h[--g], a = c[g], f = s - a, s = o.length - 1; while (g > -1 && a === s);
                                    if (s > a)
                                        for (; Array.isArray(j = "sentinel" === ($ = m && m.$type) ? m.value : m);) {
                                            var Z = M.__head,
                                                H = M.__tail;
                                            if (m && 1 !== m.$expires) {
                                                var X = m.__next,
                                                    Y = m.__prev;
                                                m !== Z && (X && null != X && "object" == typeof X && (X.__prev = Y), Y && null != Y && "object" == typeof Y && (Y.__next = X), (X = Z) && null != X && "object" == typeof X && (Z.__prev = m), M.__head = M.__next = Z = m, null != Z && "object" == typeof Z && (Z.__next = X, Z.__prev = void 0)), (null == H || m === H) && (M.__tail = M.__prev = H = Y || m)
                                            }
                                            if (void 0 === (m = m.__context)) {
                                                b = x, h[g] = o, c[g++] = a, o = j, s = o.length - 1, f = 0, a = 0;
                                                continue t
                                            }
                                            for (var ee = -1, te = d.length = j.length || 0; ++ee < te;) d[ee] = j[ee];
                                            f = te - a - 1
                                        }
                                    if (g > -1) {
                                        a += 1, b = m;
                                        continue t
                                    }
                                }
                                break t
                            }
                        }
                    }
                    if (null == m || void 0 !== $) {
                        d.length = a + f + 1;
                        break e
                    }
                    b = m
                }
            if (a === s) {
                if (l = o[a], null != l && "object" == typeof l && (Array.isArray(l) ? (l = l[l.index || (l.index = 0)], null != l && "object" == typeof l && (l = void 0 === l.offset && (l.offset = l.from || (l.from = 0)) || l.offset)) : l = void 0 === l.offset && (l.offset = l.from || (l.from = 0)) || l.offset), p[p.length = a] = l, null != l) {
                    d[d.length = a + f] = l, m = b[l];
                    var _e = 0;
                    if (null == P) O = P, k = 0, w = "primitive", I = void 0, E = void 0;
                    else if (null == (E = P.$expires) || 1 === E || 0 !== E && E > Date.now()) E = P.$expires, I = P.$timestamp, O = "sentinel" === (w = P && P.$type) ? P.value : P, Array.isArray(O) ? (null == (k = P.$size) && (k = ("sentinel" === w && 50 || 0) + O.length), w = "array") : "sentinel" === w ? null == (k = P.$size) && (k = 50 + ("string" == typeof O && O.length || 1)) : null == P || "object" != typeof P ? (k = "string" == typeof O ? O.length : 1, w = "primitive") : (k = P.$size || 0, w = w || "leaf");
                    else if (E = 0, I = void 0, void 0 === P.__invalidated) {
                        P.__invalidated = !0, P.$expires = 0, i[i.length] = P;
                        var re = M.__head,
                            ne = M.__tail;
                        if (null != P && "object" == typeof P) {
                            var ie = P.__next,
                                oe = P.__prev;
                            ie && null != ie && "object" == typeof ie && (ie.__prev = oe), oe && null != oe && "object" == typeof oe && (oe.__next = ie), P === re && (M.__head = M.__next = re = ie), P === ne && (M.__tail = M.__prev = ne = oe), P.__next = P.__prev = void 0
                        }
                    }
                    if (m === P) j = O, A = k, $ = w, L = I, z = E;
                    else if (null == m) j = m, A = 0, $ = "primitive", L = void 0, z = void 0;
                    else if (null == (z = m.$expires) || 1 === z || 0 !== z && z > Date.now()) z = m.$expires, L = m.$timestamp, j = "sentinel" === ($ = m && m.$type) ? m.value : m, Array.isArray(j) ? (null == (A = m.$size) && (A = ("sentinel" === $ && 50 || 0) + j.length), $ = "array") : "sentinel" === $ ? null == (A = m.$size) && (A = 50 + ("string" == typeof j && j.length || 1)) : null == m || "object" != typeof m ? (A = "string" == typeof j ? j.length : 1, $ = "primitive") : (A = m.$size || 0, $ = $ || "leaf");
                    else if (z = 0, L = void 0, void 0 === m.__invalidated) {
                        m.__invalidated = !0, m.$expires = 0, i[i.length] = m;
                        var le = M.__head,
                            ae = M.__tail;
                        if (null != m && "object" == typeof m) {
                            var fe = m.__next,
                                se = m.__prev;
                            fe && null != fe && "object" == typeof fe && (fe.__prev = se), se && null != se && "object" == typeof se && (se.__next = fe), m === le && (M.__head = M.__next = le = fe), m === ae && (M.__tail = M.__prev = ae = se), m.__next = m.__prev = void 0
                        }
                    }
                    t: for (;
                        (L > I || 0 === E && ((m = P) || !0)) === !1;) {
                        if ("primitive" === w ? (w = "sentinel", k = 50 + (k || 1), P = {
                                $size: k,
                                $type: w,
                                value: O
                            }) : "array" === w ? P.$type = w = P.$type || "leaf" : (P.$size = k, P.$type = w = w || "leaf"), m && m !== P) {
                            if ("array" === $) {
                                var ve = m.__context;
                                if (null != ve) {
                                    for (var pe = (m.__refIndex || 0) - 1, de = (ve.__refsLength || 0) - 1; ++pe <= de;) ve["__ref" + pe] = ve["__ref" + (pe + 1)];
                                    ve.__refsLength = de, m.__refIndex = void 0, m.__context = null
                                }
                            }
                            if (m.__refsLength) {
                                for (var ue, he = m.__refsLength || 0, ce = P.__refsLength || 0, ye = -1; ++ye < he;) void 0 !== (ue = m["__ref" + ye]) && (ue.__context = P, P["__ref" + (ce + ye)] = ue, m["__ref" + ye] = void 0);
                                P.__refsLength = ce + he, m.__refsLength = void 0
                            }
                            var ge = M.__head,
                                xe = M.__tail;
                            if (null != m && "object" == typeof m) {
                                var be = m.__next,
                                    me = m.__prev;
                                be && null != be && "object" == typeof be && (be.__prev = me), me && null != me && "object" == typeof me && (me.__next = be), m === ge && (M.__head = M.__next = ge = be), m === xe && (M.__tail = M.__prev = xe = me), m.__next = m.__prev = void 0
                            }
                        }
                        _e = k - A, P.$size = k - _e, m && P && void 0 !== !m.__generation && (void 0 === P.__generation || m.__generation > P.__generation) && (P.__generation = m.__generation), b[l] = m = P;
                        break t
                    }
                    if (m.__parent = b, m.__key = l, 0 !== _e)
                        for (var je, $e, Ae, ze, Le = m; void 0 !== Le;) {
                            if (Le.$size = $e = (Le.$size || 0) + _e, Le.__genUpdated !== N)
                                for (var Pe, Oe, we, ke, Ee, Ie = Le, Re = [], Me = 0; Me >= 0;) {
                                    if (void 0 === (Pe = Re[Me]))
                                        for (we = ke = -1, Ee = Ie.__refsLength || 0, Re[Me] = Pe = [], Ie.__genUpdated = N, Ie.__generation = (Ie.__generation || 0) + 1, void 0 !== (Oe = Ie.__parent) && Oe.__genUpdated !== N && (Pe[++ke] = Oe); ++we < Ee;) void 0 !== (Oe = Ie["__ref" + we]) && Oe.__genUpdated !== N && (Pe[++ke] = Oe);
                                    void 0 !== (Ie = Pe.pop()) ? ++Me : Re[Me--] = void 0
                                }
                            if (void 0 !== (je = Le.__parent) && 0 >= $e) {
                                for (var Ne, Ue = Le.__refsLength || 0, De = -1; ++De < Ue;) void 0 !== (Ne = Le["__ref" + De]) && (Ne.__context = void 0, Le["__ref" + De] = void 0);
                                if (Le.__refsLength = void 0, Array.isArray(Ae = "sentinel" === (ze = Le && Le.$type) ? Le.value : Le)) {
                                    var Be = Le.__context;
                                    if (null != Be) {
                                        for (var Se = (Le.__refIndex || 0) - 1, qe = (Be.__refsLength || 0) - 1; ++Se <= qe;) Be["__ref" + Se] = Be["__ref" + (Se + 1)];
                                        Be.__refsLength = qe, Le.__refIndex = void 0, Le.__context = null
                                    }
                                }
                                je[Le.__key] = Le.__parent = void 0;
                                var Ce = M.__head,
                                    Te = M.__tail;
                                if (null != Le && "object" == typeof Le) {
                                    var Fe = Le.__next,
                                        We = Le.__prev;
                                    Fe && null != Fe && "object" == typeof Fe && (Fe.__prev = We), We && null != We && "object" == typeof We && (We.__next = Fe), Le === Ce && (M.__head = M.__next = Ce = Fe), Le === Te && (M.__tail = M.__prev = Te = We), Le.__next = Le.__prev = void 0
                                }
                            }
                            Le = je
                        } else
                            for (var Ge = m; void 0 !== Ge;) {
                                if (Ge.__genUpdated !== N)
                                    for (var Qe, Ve, Ke, Je, Ze, He = Ge, Xe = [], Ye = 0; Ye >= 0;) {
                                        if (void 0 === (Qe = Xe[Ye]))
                                            for (Ke = Je = -1, Ze = He.__refsLength || 0, Xe[Ye] = Qe = [], He.__genUpdated = N, He.__generation = (He.__generation || 0) + 1, void 0 !== (Ve = He.__parent) && Ve.__genUpdated !== N && (Qe[++Je] = Ve); ++Ke < Ze;) void 0 !== (Ve = He["__ref" + Ke]) && Ve.__genUpdated !== N && (Qe[++Je] = Ve);
                                        void 0 !== (He = Qe.pop()) ? ++Ye : Xe[Ye--] = void 0
                                    }
                                Ge = Ge.__parent
                            }
                    var et = M.__head,
                        tt = M.__tail;
                    if (m && 1 !== m.$expires) {
                        var _t = m.__next,
                            rt = m.__prev;
                        m !== et && (_t && null != _t && "object" == typeof _t && (_t.__prev = rt), rt && null != rt && "object" == typeof rt && (rt.__next = _t), (_t = et) && null != _t && "object" == typeof _t && (et.__prev = m), M.__head = M.__next = et = m, null != et && "object" == typeof et && (et.__next = _t, et.__prev = void 0)), (null == tt || m === tt) && (M.__tail = M.__prev = tt = rt || m)
                    }
                }
                j = "sentinel" === ($ = m && m.$type) ? m.value : m
            }
            break e
        }
        var nt, it, ot, lt, at, ft, st = R._maxSize,
            vt = _.$size,
            pt = st * R._collectRatio,
            dt = 0;
        if (vt >= st && (null == M._pendingRequests || M._pendingRequests <= 0)) {
            for (; vt >= pt && null != (lt = i.pop());) {
                dt++, vt -= ot = lt.$size || 0;
                do {
                    if (it = lt.__parent, (lt.$size -= ot) <= 0) {
                        for (var ut, ht = lt.__refsLength || 0, ct = -1; ++ct < ht;) void 0 !== (ut = lt["__ref" + ct]) && (ut.__context = void 0, lt["__ref" + ct] = void 0);
                        if (lt.__refsLength = void 0, Array.isArray(at = "sentinel" === (ft = lt && lt.$type) ? lt.value : lt)) {
                            var yt = lt.__context;
                            if (null != yt) {
                                for (var gt = (lt.__refIndex || 0) - 1, xt = (yt.__refsLength || 0) - 1; ++gt <= xt;) yt["__ref" + gt] = yt["__ref" + (gt + 1)];
                                yt.__refsLength = xt, lt.__refIndex = void 0, lt.__context = null
                            }
                        }
                        void 0 !== it && (it[lt.__key] = lt.__parent = void 0)
                    }
                    lt = it
                } while (void 0 !== lt)
            }
            if (i.length <= 0)
                for (nt = M.__tail; vt >= pt && null != (lt = nt);) {
                    dt++, nt = nt.__prev, vt -= ot = lt.$size || 0, lt.__prev = lt.__next = void 0;
                    do {
                        if (it = lt.__parent, (lt.$size -= ot) <= 0) {
                            for (var bt, mt = lt.__refsLength || 0, jt = -1; ++jt < mt;) void 0 !== (bt = lt["__ref" + jt]) && (bt.__context = void 0, lt["__ref" + jt] = void 0);
                            if (lt.__refsLength = void 0, Array.isArray(at = "sentinel" === (ft = lt && lt.$type) ? lt.value : lt)) {
                                var $t = lt.__context;
                                if (null != $t) {
                                    for (var At = (lt.__refIndex || 0) - 1, zt = ($t.__refsLength || 0) - 1; ++At <= zt;) $t["__ref" + At] = $t["__ref" + (At + 1)];
                                    $t.__refsLength = zt, lt.__refIndex = void 0, lt.__context = null
                                }
                            }
                            void 0 !== it && (it[lt.__key] = lt.__parent = void 0)
                        }
                        lt = it
                    } while (void 0 !== lt)
                }
            null == (M.__tail = M.__prev = nt) ? M.__head = M.__next = void 0 : nt.__next = void 0
        }
        return u
    }

    function setPaths(e, t, _, r, n, i, o) {
        var l, a, f, s, v, p, d, u, h, c, y, g, x, b, m, j, $, A, z, L, P, O, w, k, E, I, R, M, N, U, D, B, S, q, C, T, F, W, G, Q, V, K, J, Z, H, X, Y, ee = this,
            te = ee._root,
            _e = GENERATION_GENERATION++;
        for (c = e, l = ee._connected, a = ee._materialized, f = ee._streaming, s = ee._refreshing, y = o || ee._path, v = c.contexts || (c.contexts = []), p = c.messages || (c.messages = []), U = c.batchedPathMaps || (c.batchedPathMaps = []), w = c.originalMisses || (c.originalMisses = []), k = c.optimizedMisses || (c.optimizedMisses = []), u = c.errors || (c.errors = []), E = c.refs || (c.refs = []), R = c.crossed || (c.crossed = []), I = c.cols || (c.cols = []), O = c.pbv || (c.pbv = {
                path: [],
                optimized: []
            }), j = c.index || (c.index = 0), $ = c.length, N = c.batchedPathMap, Q = c.value, V = Q, n = n || ee._cache, o = y, null == i && null == (i = ee.__context) && (y.length > 0 ? (O = ee._getContext(), y = O.path, O.path = [], O.optimized = [], i = O.value || {}) : i = n), D = n, B = i, S = B, q = S, L = O.path, P = O.optimized, M = -1, A = 0, h = ee._expired || (ee._expired = []), E[-1] = y, I[-1] = 0, R[-1] = z = y, G = i; $ > j; e.index = ++j) {
            O = e[j], y = O.path, K = O.value, x = y.index || (y.index = 0), b = 0, m = y.length - 1, B = G, E[-1] = y, I[M = -1] = x, R = [], R[-1] = z;
            e: for (;;) {
                for (; m > x; ++x)
                    if (g = y[x], null != g && "object" == typeof g && (Array.isArray(g) ? (g = g[g.index || (g.index = 0)], null != g && "object" == typeof g && (g = void 0 === g.offset && (g.offset = g.from || (g.from = 0)) || g.offset)) : g = void 0 === g.offset && (g.offset = g.from || (g.from = 0)) || g.offset), null != g) {
                        for (L[L.length = x] = g, P[P.length = x + b] = g, S && (B[g], !0) && void 0 !== !S.__generation && (void 0 === (B[g] || {
                                $size: 0
                            }).__generation || S.__generation > (B[g] || {
                                $size: 0
                            }).__generation) && ((B[g] || {
                                $size: 0
                            }).__generation = S.__generation), B[g] = S = B[g] || {
                                $size: 0
                            }, S.__parent = B, S.__key = g; Array.isArray(q = "sentinel" === (C = S && S.$type) ? S.value : S);) {
                            var re = te.__head,
                                ne = te.__tail;
                            if (S && 1 !== S.$expires) {
                                var ie = S.__next,
                                    oe = S.__prev;
                                S !== re && (ie && null != ie && "object" == typeof ie && (ie.__prev = oe), oe && null != oe && "object" == typeof oe && (oe.__next = ie), (ie = re) && null != ie && "object" == typeof ie && (re.__prev = S), te.__head = te.__next = re = S, null != re && "object" == typeof re && (re.__next = ie, re.__prev = void 0)), (null == ne || S === ne) && (te.__tail = te.__prev = ne = oe || S)
                            }
                            if (void 0 !== (S = S.__context)) {
                                for (var le = -1, ae = P.length = q.length || 0; ++le < ae;) P[le] = q[le];
                                b = ae - x - 1
                            } else {
                                B = D, E[M] = y, I[M++] = x, y = q, m = y.length - 1, b = 0, x = 0;
                                t: for (;;) {
                                    for (; m > x; ++x)
                                        if (g = y[x], null != g) {
                                            for (P[P.length = x + b] = g, S && (B[g], !0) && void 0 !== !S.__generation && (void 0 === (B[g] || {
                                                    $size: 0
                                                }).__generation || S.__generation > (B[g] || {
                                                    $size: 0
                                                }).__generation) && ((B[g] || {
                                                    $size: 0
                                                }).__generation = S.__generation), B[g] = S = B[g] || {
                                                    $size: 0
                                                }, S.__parent = B, S.__key = g; Array.isArray(q = "sentinel" === (C = S && S.$type) ? S.value : S);) {
                                                var fe = te.__head,
                                                    se = te.__tail;
                                                if (S && 1 !== S.$expires) {
                                                    var ve = S.__next,
                                                        pe = S.__prev;
                                                    S !== fe && (ve && null != ve && "object" == typeof ve && (ve.__prev = pe), pe && null != pe && "object" == typeof pe && (pe.__next = ve), (ve = fe) && null != ve && "object" == typeof ve && (fe.__prev = S), te.__head = te.__next = fe = S, null != fe && "object" == typeof fe && (fe.__next = ve, fe.__prev = void 0)), (null == se || S === se) && (te.__tail = te.__prev = se = pe || S)
                                                }
                                                if (void 0 === (S = S.__context)) {
                                                    B = D, E[M] = y, I[M++] = x, y = q, m = y.length - 1, b = 0, x = 0;
                                                    continue t
                                                }
                                                for (var de = -1, ue = P.length = q.length || 0; ++de < ue;) P[de] = q[de];
                                                b = ue - x - 1
                                            }
                                            if (null == S || void 0 !== C) {
                                                P.length = x + b + 1, x = I[--M], b = m - x - 1, y = E[M], m = y.length - 1, L[L.length] = null;
                                                break e
                                            }
                                            B = S
                                        }
                                    if (x === m) {
                                        if (g = y[x], null != g && (P[P.length = x + b] = g, S && (B[g], !0) && void 0 !== !S.__generation && (void 0 === (B[g] || {
                                                $size: 0
                                            }).__generation || S.__generation > (B[g] || {
                                                $size: 0
                                            }).__generation) && ((B[g] || {
                                                $size: 0
                                            }).__generation = S.__generation), B[g] = S = B[g] || {
                                                $size: 0
                                            }, S.__parent = B, S.__key = g), null == S || "error" === C) {
                                            P.length = x + b + 1, x = I[--M], b = m - x - 1, y = E[M], m = y.length - 1, L[L.length] = null;
                                            break e
                                        }
                                        var he;
                                        if (void 0 === (he = y.__container || y).__context) {
                                            var ce = S.__refsLength || 0;
                                            S["__ref" + ce] = he, S.__refsLength = ce + 1, he.__refIndex = ce, he.__context = S
                                        }
                                        do y = E[--M], x = I[M], b = m - x, m = y.length - 1; while (M > -1 && x === m);
                                        if (m > x)
                                            for (; Array.isArray(q = "sentinel" === (C = S && S.$type) ? S.value : S);) {
                                                var ye = te.__head,
                                                    ge = te.__tail;
                                                if (S && 1 !== S.$expires) {
                                                    var xe = S.__next,
                                                        be = S.__prev;
                                                    S !== ye && (xe && null != xe && "object" == typeof xe && (xe.__prev = be), be && null != be && "object" == typeof be && (be.__next = xe), (xe = ye) && null != xe && "object" == typeof xe && (ye.__prev = S), te.__head = te.__next = ye = S, null != ye && "object" == typeof ye && (ye.__next = xe, ye.__prev = void 0)), (null == ge || S === ge) && (te.__tail = te.__prev = ge = be || S)
                                                }
                                                if (void 0 === (S = S.__context)) {
                                                    B = D, E[M] = y, I[M++] = x, y = q, m = y.length - 1, b = 0, x = 0;
                                                    continue t
                                                }
                                                for (var me = -1, je = P.length = q.length || 0; ++me < je;) P[me] = q[me];
                                                b = je - x - 1
                                            }
                                        if (M > -1) {
                                            x += 1, B = S;
                                            continue t
                                        }
                                    }
                                    break t
                                }
                            }
                        }
                        if (null == S || void 0 !== C) {
                            P.length = x + b + 1;
                            break e
                        }
                        B = S
                    }
                if (x === m) {
                    if (g = y[x], null != g && "object" == typeof g && (Array.isArray(g) ? (g = g[g.index || (g.index = 0)], null != g && "object" == typeof g && (g = void 0 === g.offset && (g.offset = g.from || (g.from = 0)) || g.offset)) : g = void 0 === g.offset && (g.offset = g.from || (g.from = 0)) || g.offset), L[L.length = x] = g, null != g) {
                        P[P.length = x + b] = g, S = B[g];
                        var $e = 0;
                        if (null == K) J = K, H = 0, Z = "primitive", Y = void 0, X = void 0;
                        else if (null == (X = K.$expires) || 1 === X || 0 !== X && X > Date.now()) X = K.$expires, Y = K.$timestamp, J = "sentinel" === (Z = K && K.$type) ? K.value : K, Array.isArray(J) ? (null == (H = K.$size) && (H = ("sentinel" === Z && 50 || 0) + J.length), Z = "array") : "sentinel" === Z ? null == (H = K.$size) && (H = 50 + ("string" == typeof J && J.length || 1)) : null == K || "object" != typeof K ? (H = "string" == typeof J ? J.length : 1, Z = "primitive") : (H = K.$size || 0, Z = Z || "leaf");
                        else if (X = 0, Y = void 0, void 0 === K.__invalidated) {
                            K.__invalidated = !0, K.$expires = 0, h[h.length] = K;
                            var Ae = te.__head,
                                ze = te.__tail;
                            if (null != K && "object" == typeof K) {
                                var Le = K.__next,
                                    Pe = K.__prev;
                                Le && null != Le && "object" == typeof Le && (Le.__prev = Pe), Pe && null != Pe && "object" == typeof Pe && (Pe.__next = Le), K === Ae && (te.__head = te.__next = Ae = Le), K === ze && (te.__tail = te.__prev = ze = Pe), K.__next = K.__prev = void 0
                            }
                        }
                        if (S === K) q = J, T = H, C = Z, W = Y, F = X;
                        else if (null == S) q = S, T = 0, C = "primitive", W = void 0, F = void 0;
                        else if (null == (F = S.$expires) || 1 === F || 0 !== F && F > Date.now()) F = S.$expires, W = S.$timestamp, q = "sentinel" === (C = S && S.$type) ? S.value : S, Array.isArray(q) ? (null == (T = S.$size) && (T = ("sentinel" === C && 50 || 0) + q.length), C = "array") : "sentinel" === C ? null == (T = S.$size) && (T = 50 + ("string" == typeof q && q.length || 1)) : null == S || "object" != typeof S ? (T = "string" == typeof q ? q.length : 1, C = "primitive") : (T = S.$size || 0, C = C || "leaf");
                        else if (F = 0, W = void 0, void 0 === S.__invalidated) {
                            S.__invalidated = !0, S.$expires = 0, h[h.length] = S;
                            var Oe = te.__head,
                                we = te.__tail;
                            if (null != S && "object" == typeof S) {
                                var ke = S.__next,
                                    Ee = S.__prev;
                                ke && null != ke && "object" == typeof ke && (ke.__prev = Ee), Ee && null != Ee && "object" == typeof Ee && (Ee.__next = ke), S === Oe && (te.__head = te.__next = Oe = ke), S === we && (te.__tail = te.__prev = we = Ee), S.__next = S.__prev = void 0
                            }
                        }
                        t: for (;
                            (W > Y || 0 === X && ((S = K) || !0)) === !1;) {
                            if ("primitive" === Z ? (Z = "sentinel", H = 50 + (H || 1), K = {
                                    $size: H,
                                    $type: Z,
                                    value: J
                                }) : "array" === Z ? K.$type = Z = K.$type || "leaf" : (K.$size = H, K.$type = Z = Z || "leaf"), S && S !== K) {
                                if ("array" === C) {
                                    var Ie = S.__context;
                                    if (null != Ie) {
                                        for (var Re = (S.__refIndex || 0) - 1, Me = (Ie.__refsLength || 0) - 1; ++Re <= Me;) Ie["__ref" + Re] = Ie["__ref" + (Re + 1)];
                                        Ie.__refsLength = Me, S.__refIndex = void 0, S.__context = null
                                    }
                                }
                                if (S.__refsLength) {
                                    for (var Ne, Ue = S.__refsLength || 0, De = K.__refsLength || 0, Be = -1; ++Be < Ue;) void 0 !== (Ne = S["__ref" + Be]) && (Ne.__context = K, K["__ref" + (De + Be)] = Ne, S["__ref" + Be] = void 0);
                                    K.__refsLength = De + Ue, S.__refsLength = void 0
                                }
                                var Se = te.__head,
                                    qe = te.__tail;
                                if (null != S && "object" == typeof S) {
                                    var Ce = S.__next,
                                        Te = S.__prev;
                                    Ce && null != Ce && "object" == typeof Ce && (Ce.__prev = Te), Te && null != Te && "object" == typeof Te && (Te.__next = Ce), S === Se && (te.__head = te.__next = Se = Ce), S === qe && (te.__tail = te.__prev = qe = Te), S.__next = S.__prev = void 0
                                }
                            }
                            $e = H - T, K.$size = H - $e,
                                S && K && void 0 !== !S.__generation && (void 0 === K.__generation || S.__generation > K.__generation) && (K.__generation = S.__generation), B[g] = S = K;
                            break t
                        }
                        if (S.__parent = B, S.__key = g, 0 !== $e)
                            for (var Fe, We, Ge, Qe, Ve = S; void 0 !== Ve;) {
                                if (Ve.$size = We = (Ve.$size || 0) + $e, Ve.__genUpdated !== _e)
                                    for (var Ke, Je, Ze, He, Xe, Ye = Ve, et = [], tt = 0; tt >= 0;) {
                                        if (void 0 === (Ke = et[tt]))
                                            for (Ze = He = -1, Xe = Ye.__refsLength || 0, et[tt] = Ke = [], Ye.__genUpdated = _e, Ye.__generation = (Ye.__generation || 0) + 1, void 0 !== (Je = Ye.__parent) && Je.__genUpdated !== _e && (Ke[++He] = Je); ++Ze < Xe;) void 0 !== (Je = Ye["__ref" + Ze]) && Je.__genUpdated !== _e && (Ke[++He] = Je);
                                        void 0 !== (Ye = Ke.pop()) ? ++tt : et[tt--] = void 0
                                    }
                                if (void 0 !== (Fe = Ve.__parent) && 0 >= We) {
                                    for (var _t, rt = Ve.__refsLength || 0, nt = -1; ++nt < rt;) void 0 !== (_t = Ve["__ref" + nt]) && (_t.__context = void 0, Ve["__ref" + nt] = void 0);
                                    if (Ve.__refsLength = void 0, Array.isArray(Ge = "sentinel" === (Qe = Ve && Ve.$type) ? Ve.value : Ve)) {
                                        var it = Ve.__context;
                                        if (null != it) {
                                            for (var ot = (Ve.__refIndex || 0) - 1, lt = (it.__refsLength || 0) - 1; ++ot <= lt;) it["__ref" + ot] = it["__ref" + (ot + 1)];
                                            it.__refsLength = lt, Ve.__refIndex = void 0, Ve.__context = null
                                        }
                                    }
                                    Fe[Ve.__key] = Ve.__parent = void 0;
                                    var at = te.__head,
                                        ft = te.__tail;
                                    if (null != Ve && "object" == typeof Ve) {
                                        var st = Ve.__next,
                                            vt = Ve.__prev;
                                        st && null != st && "object" == typeof st && (st.__prev = vt), vt && null != vt && "object" == typeof vt && (vt.__next = st), Ve === at && (te.__head = te.__next = at = st), Ve === ft && (te.__tail = te.__prev = ft = vt), Ve.__next = Ve.__prev = void 0
                                    }
                                }
                                Ve = Fe
                            } else
                                for (var pt = S; void 0 !== pt;) {
                                    if (pt.__genUpdated !== _e)
                                        for (var dt, ut, ht, ct, yt, gt = pt, xt = [], bt = 0; bt >= 0;) {
                                            if (void 0 === (dt = xt[bt]))
                                                for (ht = ct = -1, yt = gt.__refsLength || 0, xt[bt] = dt = [], gt.__genUpdated = _e, gt.__generation = (gt.__generation || 0) + 1, void 0 !== (ut = gt.__parent) && ut.__genUpdated !== _e && (dt[++ct] = ut); ++ht < yt;) void 0 !== (ut = gt["__ref" + ht]) && ut.__genUpdated !== _e && (dt[++ct] = ut);
                                            void 0 !== (gt = dt.pop()) ? ++bt : xt[bt--] = void 0
                                        }
                                    pt = pt.__parent
                                }
                        var mt = te.__head,
                            jt = te.__tail;
                        if (S && 1 !== S.$expires) {
                            var $t = S.__next,
                                At = S.__prev;
                            S !== mt && ($t && null != $t && "object" == typeof $t && ($t.__prev = At), At && null != At && "object" == typeof At && (At.__next = $t), ($t = mt) && null != $t && "object" == typeof $t && (mt.__prev = S), te.__head = te.__next = mt = S, null != mt && "object" == typeof mt && (mt.__next = $t, mt.__prev = void 0)), (null == jt || S === jt) && (te.__tail = te.__prev = jt = At || S)
                        }
                    }
                    q = "sentinel" === (C = S && S.$type) ? S.value : S
                }
                break e
            }
            if ("error" === C) {
                d = Array.isArray(O) ? [] : null != O && "object" == typeof O ? {} : O;
                var zt, Lt;
                for (var Pt in O)
                    if (O.hasOwnProperty(Pt)) {
                        if (zt = Lt = O[Pt], Array.isArray(zt)) {
                            var Ot = -1,
                                wt = zt.length;
                            for (Lt = new Array(wt); ++Ot < wt;) Lt[Ot] = zt[Ot]
                        } else null != zt && "object" == typeof zt && (Lt = Object.create(zt));
                        d[Pt] = Lt
                    }
                d.value = q, u[u.length] = d
            } else if (f === !0 && void 0 !== q || a === !0) {
                O.value = q;
                var kt;
                kt = Array.isArray(O) ? [] : null != O && "object" == typeof O ? {} : O;
                var Et, It;
                for (var Rt in O)
                    if (O.hasOwnProperty(Rt)) {
                        if (Et = It = O[Rt], Array.isArray(Et)) {
                            var Mt = -1,
                                Nt = Et.length;
                            for (It = new Array(Nt); ++Mt < Nt;) It[Mt] = Et[Mt]
                        } else null != Et && "object" == typeof Et && (It = Object.create(Et));
                        kt[Rt] = It
                    }
                t(kt)
            }
        }
        f === !1 && t({
            paths: e.map(function(e) {
                return e.path
            }),
            value: G
        }), 0 === u.length ? r() : _(1 === u.length ? u[0] : {
            innerErrors: u
        });
        var Ut, Dt, Bt, St, qt, Ct, Tt = ee._maxSize,
            Ft = n.$size,
            Wt = Tt * ee._collectRatio,
            Gt = 0;
        if (Ft >= Tt && (null == te._pendingRequests || te._pendingRequests <= 0)) {
            for (; Ft >= Wt && null != (St = h.pop());) {
                Gt++, Ft -= Bt = St.$size || 0;
                do {
                    if (Dt = St.__parent, (St.$size -= Bt) <= 0) {
                        for (var Qt, Vt = St.__refsLength || 0, Kt = -1; ++Kt < Vt;) void 0 !== (Qt = St["__ref" + Kt]) && (Qt.__context = void 0, St["__ref" + Kt] = void 0);
                        if (St.__refsLength = void 0, Array.isArray(qt = "sentinel" === (Ct = St && St.$type) ? St.value : St)) {
                            var Jt = St.__context;
                            if (null != Jt) {
                                for (var Zt = (St.__refIndex || 0) - 1, Ht = (Jt.__refsLength || 0) - 1; ++Zt <= Ht;) Jt["__ref" + Zt] = Jt["__ref" + (Zt + 1)];
                                Jt.__refsLength = Ht, St.__refIndex = void 0, St.__context = null
                            }
                        }
                        void 0 !== Dt && (Dt[St.__key] = St.__parent = void 0)
                    }
                    St = Dt
                } while (void 0 !== St)
            }
            if (h.length <= 0)
                for (Ut = te.__tail; Ft >= Wt && null != (St = Ut);) {
                    Gt++, Ut = Ut.__prev, Ft -= Bt = St.$size || 0, St.__prev = St.__next = void 0;
                    do {
                        if (Dt = St.__parent, (St.$size -= Bt) <= 0) {
                            for (var Xt, Yt = St.__refsLength || 0, e_ = -1; ++e_ < Yt;) void 0 !== (Xt = St["__ref" + e_]) && (Xt.__context = void 0, St["__ref" + e_] = void 0);
                            if (St.__refsLength = void 0, Array.isArray(qt = "sentinel" === (Ct = St && St.$type) ? St.value : St)) {
                                var t_ = St.__context;
                                if (null != t_) {
                                    for (var __ = (St.__refIndex || 0) - 1, r_ = (t_.__refsLength || 0) - 1; ++__ <= r_;) t_["__ref" + __] = t_["__ref" + (__ + 1)];
                                    t_.__refsLength = r_, St.__refIndex = void 0, St.__context = null
                                }
                            }
                            void 0 !== Dt && (Dt[St.__key] = St.__parent = void 0)
                        }
                        St = Dt
                    } while (void 0 !== St)
                }
            null == (te.__tail = te.__prev = Ut) ? te.__head = te.__next = void 0 : Ut.__next = void 0
        }
        return Disposable.empty
    }

    function setPBF(e, t, _, r, n, i, o) {
        var l, a, f, s, v, p, d, u, h, c, y, g, x, b, m, j, $, A, z, L, P, O, w, k, E, I, R, M, N, U, D, B, S, q, C, T, F, W, G, Q, V, K, J, Z, H, X, Y = this,
            ee = Y._root,
            te = GENERATION_GENERATION++;
        for (c = e, l = Y._connected, a = Y._materialized, f = Y._streaming, s = Y._refreshing, y = o || Y._path, v = c.contexts || (c.contexts = []), p = c.messages || (c.messages = []), U = c.batchedPathMaps || (c.batchedPathMaps = []), w = c.originalMisses || (c.originalMisses = []), k = c.optimizedMisses || (c.optimizedMisses = []), d = c.errors || (c.errors = []), E = c.refs || (c.refs = []), R = c.crossed || (c.crossed = []), I = c.cols || (c.cols = []), O = c.pbv || (c.pbv = {
                path: [],
                optimized: []
            }), j = c.index || (c.index = 0), $ = c.length, N = c.batchedPathMap, G = c.value, Q = G, n = n || Y._cache, o = y, null == i && null == (i = Y.__context) && (y.length > 0 ? (O = Y._getContext(), y = O.path, O.path = [], O.optimized = [], i = O.value || {}) : i = n), D = n, B = i, S = B, q = S, L = O.path, P = O.optimized, M = -1, A = 0, h = Y._expired || (Y._expired = []), E[-1] = y, I[-1] = 0, R[-1] = z = y, c = e.paths || (e.paths = []), (t || _ || r || null == N) && (u = {
                onNext: t || noop,
                onError: _ || noop,
                onCompleted: r || noop,
                originals: c.concat(),
                optimized: c.concat(),
                count: 0,
                path: [],
                errors: [],
                streaming: f,
                materialized: a
            }, N = Y._pathMapWithObserver(c, u, N)), j = e.index || (e.index = 0), $ = c.length, v[-1] = B, p[-1] = Q, U[-1] = N; $ > j; c.index = ++j)
            for (y = c[j], x = y.index || (y.index = 0), b = y.offset || (y.offset = 0), m = y.length - 1, M = -1, E[-1] = y, R = [], R[-1] = z; x >= 0;) {
                for (var _e, re, ne; --x >= -1;)
                    if (null != (_e = R[x])) {
                        for (re = -1, ne = _e.length, P.length = ne, b = ne - (x + 1); ++re < ne;) P[re] = _e[re];
                        break
                    }++x, I[M = -1] = x, B = v[x - 1], Q = p[x - 1], N = U[x - 1];
                e: for (;;) {
                    for (; m > x; ++x)
                        if (g = y[x], null != g && "object" == typeof g && (Array.isArray(g) ? (g = g[g.index || (g.index = 0)], null != g && "object" == typeof g && (g = void 0 === g.offset && (g.offset = g.from || (g.from = 0)) || g.offset)) : g = void 0 === g.offset && (g.offset = g.from || (g.from = 0)) || g.offset), null != g) {
                            L[L.length = x] = g, P[P.length = x + b] = g, S = B[g], V = Q && Q[g], N = N[g];
                            var ie = 0;
                            if (null == V) K = V, Z = 0, J = "primitive", X = void 0, H = void 0;
                            else if (null == (H = V.$expires) || 1 === H || 0 !== H && H > Date.now()) H = V.$expires, X = V.$timestamp, K = "sentinel" === (J = V && V.$type) ? V.value : V, Array.isArray(K) ? (null == (Z = V.$size) && (Z = ("sentinel" === J && 50 || 0) + K.length), J = "array") : "sentinel" === J ? null == (Z = V.$size) && (Z = 50 + ("string" == typeof K && K.length || 1)) : null == V || "object" != typeof V ? (Z = "string" == typeof K ? K.length : 1, J = "primitive") : (Z = V.$size || 0, J = J || void 0);
                            else if (H = 0, X = void 0, void 0 === V.__invalidated) {
                                V.__invalidated = !0, V.$expires = 0, h[h.length] = V;
                                var oe = ee.__head,
                                    le = ee.__tail;
                                if (null != V && "object" == typeof V) {
                                    var ae = V.__next,
                                        fe = V.__prev;
                                    ae && null != ae && "object" == typeof ae && (ae.__prev = fe), fe && null != fe && "object" == typeof fe && (fe.__next = ae), V === oe && (ee.__head = ee.__next = oe = ae), V === le && (ee.__tail = ee.__prev = le = fe), V.__next = V.__prev = void 0
                                }
                            }
                            if (null == S || S !== V && "array" === J) {
                                if (S === V) q = K, T = Z, C = J, W = X, F = H;
                                else if (null == S) q = S, T = 0, C = "primitive", W = void 0, F = void 0;
                                else if (null == (F = S.$expires) || 1 === F || 0 !== F && F > Date.now()) F = S.$expires, W = S.$timestamp, q = "sentinel" === (C = S && S.$type) ? S.value : S, Array.isArray(q) ? (null == (T = S.$size) && (T = ("sentinel" === C && 50 || 0) + q.length), C = "array") : "sentinel" === C ? null == (T = S.$size) && (T = 50 + ("string" == typeof q && q.length || 1)) : null == S || "object" != typeof S ? (T = "string" == typeof q ? q.length : 1, C = "primitive") : (T = S.$size || 0, C = C || void 0);
                                else if (F = 0, W = void 0, void 0 === S.__invalidated) {
                                    S.__invalidated = !0, S.$expires = 0, h[h.length] = S;
                                    var se = ee.__head,
                                        ve = ee.__tail;
                                    if (null != S && "object" == typeof S) {
                                        var pe = S.__next,
                                            de = S.__prev;
                                        pe && null != pe && "object" == typeof pe && (pe.__prev = de), de && null != de && "object" == typeof de && (de.__next = pe), S === se && (ee.__head = ee.__next = se = pe), S === ve && (ee.__tail = ee.__prev = ve = de), S.__next = S.__prev = void 0
                                    }
                                }
                                t: for (;
                                    (W > X || 0 === H && ((S = V) || !0)) === !1;) {
                                    if (void 0 !== J)
                                        if ("array" === J) {
                                            if (V.$type = J = V.$type || "leaf", K.__container = V, V.$size = Z, "array" === C) {
                                                var ue, he = -1;
                                                if ((ue = q.length) === K.length) {
                                                    _: for (; ++he < ue && q[he] === K[he];);
                                                    if (he === ue) break t
                                                }
                                            }
                                        } else {
                                            "primitive" === J ? (J = "sentinel", Z = 50 + (Z || 1), V = {
                                                $size: Z,
                                                $type: J,
                                                value: K
                                            }) : (V.$size = Z, V.$type = J = J || "leaf");
                                            var ce = ee.__head,
                                                ye = ee.__tail;
                                            if (V && 1 !== V.$expires) {
                                                var ge = V.__next,
                                                    xe = V.__prev;
                                                V !== ce && (ge && null != ge && "object" == typeof ge && (ge.__prev = xe), xe && null != xe && "object" == typeof xe && (xe.__next = ge), (ge = ce) && null != ge && "object" == typeof ge && (ce.__prev = V), ee.__head = ee.__next = ce = V, null != ce && "object" == typeof ce && (ce.__next = ge, ce.__prev = void 0)), (null == ye || V === ye) && (ee.__tail = ee.__prev = ye = xe || V)
                                            }
                                        }
                                    if (null != S) {
                                        if ("array" === C) {
                                            var be = S.__context;
                                            if (null != be) {
                                                for (var me = (S.__refIndex || 0) - 1, je = (be.__refsLength || 0) - 1; ++me <= je;) be["__ref" + me] = be["__ref" + (me + 1)];
                                                be.__refsLength = je, S.__refIndex = void 0, S.__context = null
                                            }
                                        }
                                        if (S.__refsLength) {
                                            for (var $e, Ae = S.__refsLength || 0, ze = V.__refsLength || 0, Le = -1; ++Le < Ae;) void 0 !== ($e = S["__ref" + Le]) && ($e.__context = V, V["__ref" + (ze + Le)] = $e, S["__ref" + Le] = void 0);
                                            V.__refsLength = ze + Ae, S.__refsLength = void 0
                                        }
                                        var Pe = ee.__head,
                                            Oe = ee.__tail;
                                        if (null != S && "object" == typeof S) {
                                            var we = S.__next,
                                                ke = S.__prev;
                                            we && null != we && "object" == typeof we && (we.__prev = ke), ke && null != ke && "object" == typeof ke && (ke.__next = we), S === Pe && (ee.__head = ee.__next = Pe = we), S === Oe && (ee.__tail = ee.__prev = Oe = ke), S.__next = S.__prev = void 0
                                        }
                                    }
                                    ie = Z - T, V.$size = Z - ie, S && V && void 0 !== !S.__generation && (void 0 === V.__generation || S.__generation > V.__generation) && (V.__generation = S.__generation), B[g] = S = V;
                                    break t
                                }
                            }
                            if (S.__parent = B, S.__key = g, 0 !== ie)
                                for (var Ee, Ie, Re, Me, Ne = S; void 0 !== Ne;) {
                                    if (Ne.$size = Ie = (Ne.$size || 0) + ie, Ne.__genUpdated !== te)
                                        for (var Ue, De, Be, Se, qe, Ce = Ne, Te = [], Fe = 0; Fe >= 0;) {
                                            if (void 0 === (Ue = Te[Fe]))
                                                for (Be = Se = -1, qe = Ce.__refsLength || 0, Te[Fe] = Ue = [], Ce.__genUpdated = te, Ce.__generation = (Ce.__generation || 0) + 1, void 0 !== (De = Ce.__parent) && De.__genUpdated !== te && (Ue[++Se] = De); ++Be < qe;) void 0 !== (De = Ce["__ref" + Be]) && De.__genUpdated !== te && (Ue[++Se] = De);
                                            void 0 !== (Ce = Ue.pop()) ? ++Fe : Te[Fe--] = void 0
                                        }
                                    if (void 0 !== (Ee = Ne.__parent) && 0 >= Ie) {
                                        for (var We, Ge = Ne.__refsLength || 0, Qe = -1; ++Qe < Ge;) void 0 !== (We = Ne["__ref" + Qe]) && (We.__context = void 0, Ne["__ref" + Qe] = void 0);
                                        if (Ne.__refsLength = void 0, Array.isArray(Re = "sentinel" === (Me = Ne && Ne.$type) ? Ne.value : Ne)) {
                                            var Ve = Ne.__context;
                                            if (null != Ve) {
                                                for (var Ke = (Ne.__refIndex || 0) - 1, Je = (Ve.__refsLength || 0) - 1; ++Ke <= Je;) Ve["__ref" + Ke] = Ve["__ref" + (Ke + 1)];
                                                Ve.__refsLength = Je, Ne.__refIndex = void 0, Ne.__context = null
                                            }
                                        }
                                        Ee[Ne.__key] = Ne.__parent = void 0;
                                        var Ze = ee.__head,
                                            He = ee.__tail;
                                        if (null != Ne && "object" == typeof Ne) {
                                            var Xe = Ne.__next,
                                                Ye = Ne.__prev;
                                            Xe && null != Xe && "object" == typeof Xe && (Xe.__prev = Ye), Ye && null != Ye && "object" == typeof Ye && (Ye.__next = Xe), Ne === Ze && (ee.__head = ee.__next = Ze = Xe), Ne === He && (ee.__tail = ee.__prev = He = Ye), Ne.__next = Ne.__prev = void 0
                                        }
                                    }
                                    Ne = Ee
                                }
                            for (; Array.isArray(q = "sentinel" === (C = S && S.$type) ? S.value : S);) {
                                var et = ee.__head,
                                    tt = ee.__tail;
                                if (S && 1 !== S.$expires) {
                                    var _t = S.__next,
                                        rt = S.__prev;
                                    S !== et && (_t && null != _t && "object" == typeof _t && (_t.__prev = rt), rt && null != rt && "object" == typeof rt && (rt.__next = _t), (_t = et) && null != _t && "object" == typeof _t && (et.__prev = S), ee.__head = ee.__next = et = S, null != et && "object" == typeof et && (et.__next = _t, et.__prev = void 0)), (null == tt || S === tt) && (ee.__tail = ee.__prev = tt = rt || S)
                                }
                                R[x] = q, B = D, Q = G, E[M] = y, I[M++] = x, y = q, m = y.length - 1, b = 0, x = 0;
                                t: for (;;) {
                                    for (; m > x; ++x)
                                        if (g = y[x], null != g) {
                                            P[P.length = x + b] = g, S = B[g], V = Q && Q[g];
                                            var nt = 0;
                                            if (null == V) K = V, Z = 0, J = "primitive", X = void 0, H = void 0;
                                            else if (null == (H = V.$expires) || 1 === H || 0 !== H && H > Date.now()) H = V.$expires, X = V.$timestamp, K = "sentinel" === (J = V && V.$type) ? V.value : V, Array.isArray(K) ? (null == (Z = V.$size) && (Z = ("sentinel" === J && 50 || 0) + K.length), J = "array") : "sentinel" === J ? null == (Z = V.$size) && (Z = 50 + ("string" == typeof K && K.length || 1)) : null == V || "object" != typeof V ? (Z = "string" == typeof K ? K.length : 1, J = "primitive") : (Z = V.$size || 0, J = J || void 0);
                                            else if (H = 0, X = void 0, void 0 === V.__invalidated) {
                                                V.__invalidated = !0, V.$expires = 0, h[h.length] = V;
                                                var it = ee.__head,
                                                    ot = ee.__tail;
                                                if (null != V && "object" == typeof V) {
                                                    var lt = V.__next,
                                                        at = V.__prev;
                                                    lt && null != lt && "object" == typeof lt && (lt.__prev = at), at && null != at && "object" == typeof at && (at.__next = lt), V === it && (ee.__head = ee.__next = it = lt), V === ot && (ee.__tail = ee.__prev = ot = at), V.__next = V.__prev = void 0
                                                }
                                            }
                                            if (null == S || S !== V && "array" === J) {
                                                if (S === V) q = K, T = Z, C = J, W = X, F = H;
                                                else if (null == S) q = S, T = 0, C = "primitive", W = void 0, F = void 0;
                                                else if (null == (F = S.$expires) || 1 === F || 0 !== F && F > Date.now()) F = S.$expires, W = S.$timestamp, q = "sentinel" === (C = S && S.$type) ? S.value : S, Array.isArray(q) ? (null == (T = S.$size) && (T = ("sentinel" === C && 50 || 0) + q.length), C = "array") : "sentinel" === C ? null == (T = S.$size) && (T = 50 + ("string" == typeof q && q.length || 1)) : null == S || "object" != typeof S ? (T = "string" == typeof q ? q.length : 1, C = "primitive") : (T = S.$size || 0, C = C || void 0);
                                                else if (F = 0, W = void 0, void 0 === S.__invalidated) {
                                                    S.__invalidated = !0, S.$expires = 0, h[h.length] = S;
                                                    var ft = ee.__head,
                                                        st = ee.__tail;
                                                    if (null != S && "object" == typeof S) {
                                                        var vt = S.__next,
                                                            pt = S.__prev;
                                                        vt && null != vt && "object" == typeof vt && (vt.__prev = pt), pt && null != pt && "object" == typeof pt && (pt.__next = vt), S === ft && (ee.__head = ee.__next = ft = vt), S === st && (ee.__tail = ee.__prev = st = pt), S.__next = S.__prev = void 0
                                                    }
                                                }
                                                _: for (;
                                                    (W > X || 0 === H && ((S = V) || !0)) === !1;) {
                                                    if (void 0 !== J)
                                                        if ("array" === J) {
                                                            if (V.$type = J = V.$type || "leaf", K.__container = V, V.$size = Z, "array" === C) {
                                                                var dt, ut = -1;
                                                                if ((dt = q.length) === K.length) {
                                                                    r: for (; ++ut < dt && q[ut] === K[ut];);
                                                                    if (ut === dt) break _
                                                                }
                                                            }
                                                        } else {
                                                            "primitive" === J ? (J = "sentinel", Z = 50 + (Z || 1), V = {
                                                                $size: Z,
                                                                $type: J,
                                                                value: K
                                                            }) : (V.$size = Z, V.$type = J = J || "leaf");
                                                            var ht = ee.__head,
                                                                ct = ee.__tail;
                                                            if (V && 1 !== V.$expires) {
                                                                var yt = V.__next,
                                                                    gt = V.__prev;
                                                                V !== ht && (yt && null != yt && "object" == typeof yt && (yt.__prev = gt), gt && null != gt && "object" == typeof gt && (gt.__next = yt), (yt = ht) && null != yt && "object" == typeof yt && (ht.__prev = V), ee.__head = ee.__next = ht = V, null != ht && "object" == typeof ht && (ht.__next = yt, ht.__prev = void 0)), (null == ct || V === ct) && (ee.__tail = ee.__prev = ct = gt || V)
                                                            }
                                                        }
                                                    if (null != S) {
                                                        if ("array" === C) {
                                                            var xt = S.__context;
                                                            if (null != xt) {
                                                                for (var bt = (S.__refIndex || 0) - 1, mt = (xt.__refsLength || 0) - 1; ++bt <= mt;) xt["__ref" + bt] = xt["__ref" + (bt + 1)];
                                                                xt.__refsLength = mt, S.__refIndex = void 0, S.__context = null
                                                            }
                                                        }
                                                        if (S.__refsLength) {
                                                            for (var jt, $t = S.__refsLength || 0, At = V.__refsLength || 0, zt = -1; ++zt < $t;) void 0 !== (jt = S["__ref" + zt]) && (jt.__context = V, V["__ref" + (At + zt)] = jt, S["__ref" + zt] = void 0);
                                                            V.__refsLength = At + $t, S.__refsLength = void 0
                                                        }
                                                        var Lt = ee.__head,
                                                            Pt = ee.__tail;
                                                        if (null != S && "object" == typeof S) {
                                                            var Ot = S.__next,
                                                                wt = S.__prev;
                                                            Ot && null != Ot && "object" == typeof Ot && (Ot.__prev = wt), wt && null != wt && "object" == typeof wt && (wt.__next = Ot), S === Lt && (ee.__head = ee.__next = Lt = Ot), S === Pt && (ee.__tail = ee.__prev = Pt = wt), S.__next = S.__prev = void 0
                                                        }
                                                    }
                                                    nt = Z - T, V.$size = Z - nt, S && V && void 0 !== !S.__generation && (void 0 === V.__generation || S.__generation > V.__generation) && (V.__generation = S.__generation), B[g] = S = V;
                                                    break _
                                                }
                                            }
                                            if (S.__parent = B, S.__key = g, 0 !== nt)
                                                for (var kt, Et, It, Rt, Mt = S; void 0 !== Mt;) {
                                                    if (Mt.$size = Et = (Mt.$size || 0) + nt, Mt.__genUpdated !== te)
                                                        for (var Nt, Ut, Dt, Bt, St, qt = Mt, Ct = [], Tt = 0; Tt >= 0;) {
                                                            if (void 0 === (Nt = Ct[Tt]))
                                                                for (Dt = Bt = -1, St = qt.__refsLength || 0, Ct[Tt] = Nt = [], qt.__genUpdated = te, qt.__generation = (qt.__generation || 0) + 1, void 0 !== (Ut = qt.__parent) && Ut.__genUpdated !== te && (Nt[++Bt] = Ut); ++Dt < St;) void 0 !== (Ut = qt["__ref" + Dt]) && Ut.__genUpdated !== te && (Nt[++Bt] = Ut);
                                                            void 0 !== (qt = Nt.pop()) ? ++Tt : Ct[Tt--] = void 0
                                                        }
                                                    if (void 0 !== (kt = Mt.__parent) && 0 >= Et) {
                                                        for (var Ft, Wt = Mt.__refsLength || 0, Gt = -1; ++Gt < Wt;) void 0 !== (Ft = Mt["__ref" + Gt]) && (Ft.__context = void 0, Mt["__ref" + Gt] = void 0);
                                                        if (Mt.__refsLength = void 0, Array.isArray(It = "sentinel" === (Rt = Mt && Mt.$type) ? Mt.value : Mt)) {
                                                            var Qt = Mt.__context;
                                                            if (null != Qt) {
                                                                for (var Vt = (Mt.__refIndex || 0) - 1, Kt = (Qt.__refsLength || 0) - 1; ++Vt <= Kt;) Qt["__ref" + Vt] = Qt["__ref" + (Vt + 1)];
                                                                Qt.__refsLength = Kt, Mt.__refIndex = void 0, Mt.__context = null
                                                            }
                                                        }
                                                        kt[Mt.__key] = Mt.__parent = void 0;
                                                        var Jt = ee.__head,
                                                            Zt = ee.__tail;
                                                        if (null != Mt && "object" == typeof Mt) {
                                                            var Ht = Mt.__next,
                                                                Xt = Mt.__prev;
                                                            Ht && null != Ht && "object" == typeof Ht && (Ht.__prev = Xt), Xt && null != Xt && "object" == typeof Xt && (Xt.__next = Ht), Mt === Jt && (ee.__head = ee.__next = Jt = Ht), Mt === Zt && (ee.__tail = ee.__prev = Zt = Xt), Mt.__next = Mt.__prev = void 0
                                                        }
                                                    }
                                                    Mt = kt
                                                }
                                            for (; Array.isArray(q = "sentinel" === (C = S && S.$type) ? S.value : S);) {
                                                var Yt = ee.__head,
                                                    e_ = ee.__tail;
                                                if (S && 1 !== S.$expires) {
                                                    var t_ = S.__next,
                                                        __ = S.__prev;
                                                    S !== Yt && (t_ && null != t_ && "object" == typeof t_ && (t_.__prev = __), __ && null != __ && "object" == typeof __ && (__.__next = t_), (t_ = Yt) && null != t_ && "object" == typeof t_ && (Yt.__prev = S), ee.__head = ee.__next = Yt = S, null != Yt && "object" == typeof Yt && (Yt.__next = t_, Yt.__prev = void 0)), (null == e_ || S === e_) && (ee.__tail = ee.__prev = e_ = __ || S)
                                                }
                                                B = D, Q = G, E[M] = y, I[M++] = x, y = q, m = y.length - 1, b = 0, x = 0;
                                                continue t
                                            }
                                            if (null == S || void 0 !== C) {
                                                P.length = x + b + 1, x = I[--M], b = m - x - 1, y = E[M], m = y.length - 1, L[L.length] = null;
                                                break e
                                            }
                                            B = S, Q = V
                                        }
                                    if (x === m) {
                                        if (g = y[x], null != g) {
                                            P[P.length = x + b] = g, S = B[g], V = Q && Q[g];
                                            var r_ = 0;
                                            if (null == V) K = V, Z = 0, J = "primitive", X = void 0, H = void 0;
                                            else if (null == (H = V.$expires) || 1 === H || 0 !== H && H > Date.now()) H = V.$expires, X = V.$timestamp, K = "sentinel" === (J = V && V.$type) ? V.value : V, Array.isArray(K) ? (null == (Z = V.$size) && (Z = ("sentinel" === J && 50 || 0) + K.length), J = "array") : "sentinel" === J ? null == (Z = V.$size) && (Z = 50 + ("string" == typeof K && K.length || 1)) : null == V || "object" != typeof V ? (Z = "string" == typeof K ? K.length : 1, J = "primitive") : (Z = V.$size || 0, J = J || void 0);
                                            else if (H = 0, X = void 0, void 0 === V.__invalidated) {
                                                V.__invalidated = !0, V.$expires = 0, h[h.length] = V;
                                                var n_ = ee.__head,
                                                    i_ = ee.__tail;
                                                if (null != V && "object" == typeof V) {
                                                    var o_ = V.__next,
                                                        l_ = V.__prev;
                                                    o_ && null != o_ && "object" == typeof o_ && (o_.__prev = l_), l_ && null != l_ && "object" == typeof l_ && (l_.__next = o_), V === n_ && (ee.__head = ee.__next = n_ = o_), V === i_ && (ee.__tail = ee.__prev = i_ = l_), V.__next = V.__prev = void 0
                                                }
                                            }
                                            if (null == S || S !== V && "array" === J) {
                                                if (S === V) q = K, T = Z, C = J, W = X, F = H;
                                                else if (null == S) q = S, T = 0, C = "primitive", W = void 0, F = void 0;
                                                else if (null == (F = S.$expires) || 1 === F || 0 !== F && F > Date.now()) F = S.$expires, W = S.$timestamp, q = "sentinel" === (C = S && S.$type) ? S.value : S, Array.isArray(q) ? (null == (T = S.$size) && (T = ("sentinel" === C && 50 || 0) + q.length), C = "array") : "sentinel" === C ? null == (T = S.$size) && (T = 50 + ("string" == typeof q && q.length || 1)) : null == S || "object" != typeof S ? (T = "string" == typeof q ? q.length : 1, C = "primitive") : (T = S.$size || 0, C = C || void 0);
                                                else if (F = 0, W = void 0, void 0 === S.__invalidated) {
                                                    S.__invalidated = !0, S.$expires = 0, h[h.length] = S;
                                                    var a_ = ee.__head,
                                                        f_ = ee.__tail;
                                                    if (null != S && "object" == typeof S) {
                                                        var s_ = S.__next,
                                                            v_ = S.__prev;
                                                        s_ && null != s_ && "object" == typeof s_ && (s_.__prev = v_), v_ && null != v_ && "object" == typeof v_ && (v_.__next = s_), S === a_ && (ee.__head = ee.__next = a_ = s_), S === f_ && (ee.__tail = ee.__prev = f_ = v_), S.__next = S.__prev = void 0
                                                    }
                                                }
                                                _: for (;
                                                    (W > X || 0 === H && ((S = V) || !0)) === !1;) {
                                                    if (void 0 !== J)
                                                        if ("array" === J) {
                                                            if (V.$type = J = V.$type || "leaf", K.__container = V, V.$size = Z, "array" === C) {
                                                                var p_, d_ = -1;
                                                                if ((p_ = q.length) === K.length) {
                                                                    r: for (; ++d_ < p_ && q[d_] === K[d_];);
                                                                    if (d_ === p_) break _
                                                                }
                                                            }
                                                        } else {
                                                            "primitive" === J ? (J = "sentinel", Z = 50 + (Z || 1), V = {
                                                                $size: Z,
                                                                $type: J,
                                                                value: K
                                                            }) : (V.$size = Z, V.$type = J = J || "leaf");
                                                            var u_ = ee.__head,
                                                                h_ = ee.__tail;
                                                            if (V && 1 !== V.$expires) {
                                                                var c_ = V.__next,
                                                                    y_ = V.__prev;
                                                                V !== u_ && (c_ && null != c_ && "object" == typeof c_ && (c_.__prev = y_), y_ && null != y_ && "object" == typeof y_ && (y_.__next = c_), (c_ = u_) && null != c_ && "object" == typeof c_ && (u_.__prev = V), ee.__head = ee.__next = u_ = V, null != u_ && "object" == typeof u_ && (u_.__next = c_, u_.__prev = void 0)), (null == h_ || V === h_) && (ee.__tail = ee.__prev = h_ = y_ || V)
                                                            }
                                                        }
                                                    if (null != S) {
                                                        if ("array" === C) {
                                                            var g_ = S.__context;
                                                            if (null != g_) {
                                                                for (var x_ = (S.__refIndex || 0) - 1, b_ = (g_.__refsLength || 0) - 1; ++x_ <= b_;) g_["__ref" + x_] = g_["__ref" + (x_ + 1)];
                                                                g_.__refsLength = b_, S.__refIndex = void 0, S.__context = null
                                                            }
                                                        }
                                                        if (S.__refsLength) {
                                                            for (var m_, j_ = S.__refsLength || 0, $_ = V.__refsLength || 0, A_ = -1; ++A_ < j_;) void 0 !== (m_ = S["__ref" + A_]) && (m_.__context = V, V["__ref" + ($_ + A_)] = m_, S["__ref" + A_] = void 0);
                                                            V.__refsLength = $_ + j_, S.__refsLength = void 0
                                                        }
                                                        var z_ = ee.__head,
                                                            L_ = ee.__tail;
                                                        if (null != S && "object" == typeof S) {
                                                            var P_ = S.__next,
                                                                O_ = S.__prev;
                                                            P_ && null != P_ && "object" == typeof P_ && (P_.__prev = O_), O_ && null != O_ && "object" == typeof O_ && (O_.__next = P_), S === z_ && (ee.__head = ee.__next = z_ = P_), S === L_ && (ee.__tail = ee.__prev = L_ = O_), S.__next = S.__prev = void 0
                                                        }
                                                    }
                                                    r_ = Z - T, V.$size = Z - r_, S && V && void 0 !== !S.__generation && (void 0 === V.__generation || S.__generation > V.__generation) && (V.__generation = S.__generation), B[g] = S = V;
                                                    break _
                                                }
                                            }
                                            if (S.__parent = B, S.__key = g, 0 !== r_)
                                                for (var w_, k_, E_, I_, R_ = S; void 0 !== R_;) {
                                                    if (R_.$size = k_ = (R_.$size || 0) + r_, R_.__genUpdated !== te)
                                                        for (var M_, N_, U_, D_, B_, S_ = R_, q_ = [], C_ = 0; C_ >= 0;) {
                                                            if (void 0 === (M_ = q_[C_]))
                                                                for (U_ = D_ = -1, B_ = S_.__refsLength || 0, q_[C_] = M_ = [], S_.__genUpdated = te, S_.__generation = (S_.__generation || 0) + 1, void 0 !== (N_ = S_.__parent) && N_.__genUpdated !== te && (M_[++D_] = N_); ++U_ < B_;) void 0 !== (N_ = S_["__ref" + U_]) && N_.__genUpdated !== te && (M_[++D_] = N_);
                                                            void 0 !== (S_ = M_.pop()) ? ++C_ : q_[C_--] = void 0
                                                        }
                                                    if (void 0 !== (w_ = R_.__parent) && 0 >= k_) {
                                                        for (var T_, F_ = R_.__refsLength || 0, W_ = -1; ++W_ < F_;) void 0 !== (T_ = R_["__ref" + W_]) && (T_.__context = void 0, R_["__ref" + W_] = void 0);
                                                        if (R_.__refsLength = void 0, Array.isArray(E_ = "sentinel" === (I_ = R_ && R_.$type) ? R_.value : R_)) {
                                                            var G_ = R_.__context;
                                                            if (null != G_) {
                                                                for (var Q_ = (R_.__refIndex || 0) - 1, V_ = (G_.__refsLength || 0) - 1; ++Q_ <= V_;) G_["__ref" + Q_] = G_["__ref" + (Q_ + 1)];
                                                                G_.__refsLength = V_, R_.__refIndex = void 0, R_.__context = null
                                                            }
                                                        }
                                                        w_[R_.__key] = R_.__parent = void 0;
                                                        var K_ = ee.__head,
                                                            J_ = ee.__tail;
                                                        if (null != R_ && "object" == typeof R_) {
                                                            var Z_ = R_.__next,
                                                                H_ = R_.__prev;
                                                            Z_ && null != Z_ && "object" == typeof Z_ && (Z_.__prev = H_), H_ && null != H_ && "object" == typeof H_ && (H_.__next = Z_), R_ === K_ && (ee.__head = ee.__next = K_ = Z_), R_ === J_ && (ee.__tail = ee.__prev = J_ = H_), R_.__next = R_.__prev = void 0
                                                        }
                                                    }
                                                    R_ = w_
                                                }
                                        }
                                        if (null == S || "error" === C) {
                                            P.length = x + b + 1, x = I[--M], b = m - x - 1, y = E[M], m = y.length - 1, L[L.length] = null;
                                            break e
                                        }
                                        var X_;
                                        if (void 0 === (X_ = y.__container || y).__context) {
                                            var Y_ = S.__refsLength || 0;
                                            S["__ref" + Y_] = X_, S.__refsLength = Y_ + 1, X_.__refIndex = Y_, X_.__context = S
                                        }
                                        do y = E[--M], x = I[M], b = m - x, m = y.length - 1; while (M > -1 && x === m);
                                        if (m > x)
                                            for (; Array.isArray(q = "sentinel" === (C = S && S.$type) ? S.value : S);) {
                                                var er = ee.__head,
                                                    tr = ee.__tail;
                                                if (S && 1 !== S.$expires) {
                                                    var _r = S.__next,
                                                        rr = S.__prev;
                                                    S !== er && (_r && null != _r && "object" == typeof _r && (_r.__prev = rr), rr && null != rr && "object" == typeof rr && (rr.__next = _r), (_r = er) && null != _r && "object" == typeof _r && (er.__prev = S), ee.__head = ee.__next = er = S, null != er && "object" == typeof er && (er.__next = _r, er.__prev = void 0)), (null == tr || S === tr) && (ee.__tail = ee.__prev = tr = rr || S)
                                                }
                                                B = D, Q = G, E[M] = y, I[M++] = x, y = q, m = y.length - 1, b = 0, x = 0;
                                                continue t
                                            }
                                        if (M > -1) {
                                            x += 1, B = S, Q = V;
                                            continue t
                                        }
                                    }
                                    break t
                                }
                            }
                            if (null == S || void 0 !== C) {
                                P.length = x + b + 1;
                                break e
                            }
                            v[x] = B = S, p[x] = Q = V, U[x] = N
                        }
                    if (x === m) {
                        if (g = y[x], null != g && "object" == typeof g && (Array.isArray(g) ? (g = g[g.index || (g.index = 0)], null != g && "object" == typeof g && (g = void 0 === g.offset && (g.offset = g.from || (g.from = 0)) || g.offset)) : g = void 0 === g.offset && (g.offset = g.from || (g.from = 0)) || g.offset), L[L.length = x] = g, null != g) {
                            P[P.length = x + b] = g, S = B[g], V = Q && Q[g], N = N[g];
                            var nr = 0;
                            if (null == V) K = V, Z = 0, J = "primitive", X = void 0, H = void 0;
                            else if (null == (H = V.$expires) || 1 === H || 0 !== H && H > Date.now()) H = V.$expires, X = V.$timestamp, K = "sentinel" === (J = V && V.$type) ? V.value : V, Array.isArray(K) ? (null == (Z = V.$size) && (Z = ("sentinel" === J && 50 || 0) + K.length), J = "array") : "sentinel" === J ? null == (Z = V.$size) && (Z = 50 + ("string" == typeof K && K.length || 1)) : null == V || "object" != typeof V ? (Z = "string" == typeof K ? K.length : 1, J = "primitive") : (Z = V.$size || 0, J = J || "leaf");
                            else if (H = 0, X = void 0, void 0 === V.__invalidated) {
                                V.__invalidated = !0, V.$expires = 0, h[h.length] = V;
                                var ir = ee.__head,
                                    or = ee.__tail;
                                if (null != V && "object" == typeof V) {
                                    var lr = V.__next,
                                        ar = V.__prev;
                                    lr && null != lr && "object" == typeof lr && (lr.__prev = ar), ar && null != ar && "object" == typeof ar && (ar.__next = lr), V === ir && (ee.__head = ee.__next = ir = lr), V === or && (ee.__tail = ee.__prev = or = ar), V.__next = V.__prev = void 0
                                }
                            }
                            if (S === V) q = K, T = Z, C = J, W = X, F = H;
                            else if (null == S) q = S, T = 0, C = "primitive", W = void 0, F = void 0;
                            else if (null == (F = S.$expires) || 1 === F || 0 !== F && F > Date.now()) F = S.$expires, W = S.$timestamp, q = "sentinel" === (C = S && S.$type) ? S.value : S, Array.isArray(q) ? (null == (T = S.$size) && (T = ("sentinel" === C && 50 || 0) + q.length), C = "array") : "sentinel" === C ? null == (T = S.$size) && (T = 50 + ("string" == typeof q && q.length || 1)) : null == S || "object" != typeof S ? (T = "string" == typeof q ? q.length : 1, C = "primitive") : (T = S.$size || 0, C = C || "leaf");
                            else if (F = 0, W = void 0, void 0 === S.__invalidated) {
                                S.__invalidated = !0, S.$expires = 0, h[h.length] = S;
                                var fr = ee.__head,
                                    sr = ee.__tail;
                                if (null != S && "object" == typeof S) {
                                    var vr = S.__next,
                                        pr = S.__prev;
                                    vr && null != vr && "object" == typeof vr && (vr.__prev = pr), pr && null != pr && "object" == typeof pr && (pr.__next = vr), S === fr && (ee.__head = ee.__next = fr = vr), S === sr && (ee.__tail = ee.__prev = sr = pr), S.__next = S.__prev = void 0
                                }
                            }
                            t: for (;
                                (W > X || 0 === H && ((S = V) || !0)) === !1;) {
                                if ("primitive" === J ? (J = "sentinel", Z = 50 + (Z || 1), V = {
                                        $size: Z,
                                        $type: J,
                                        value: K
                                    }) : "array" === J ? V.$type = J = V.$type || "leaf" : (V.$size = Z, V.$type = J = J || "leaf"), S && S !== V) {
                                    if ("array" === C) {
                                        var dr = S.__context;
                                        if (null != dr) {
                                            for (var ur = (S.__refIndex || 0) - 1, hr = (dr.__refsLength || 0) - 1; ++ur <= hr;) dr["__ref" + ur] = dr["__ref" + (ur + 1)];
                                            dr.__refsLength = hr, S.__refIndex = void 0, S.__context = null
                                        }
                                    }
                                    if (S.__refsLength) {
                                        for (var cr, yr = S.__refsLength || 0, gr = V.__refsLength || 0, xr = -1; ++xr < yr;) void 0 !== (cr = S["__ref" + xr]) && (cr.__context = V, V["__ref" + (gr + xr)] = cr, S["__ref" + xr] = void 0);
                                        V.__refsLength = gr + yr, S.__refsLength = void 0
                                    }
                                    var br = ee.__head,
                                        mr = ee.__tail;
                                    if (null != S && "object" == typeof S) {
                                        var jr = S.__next,
                                            $r = S.__prev;
                                        jr && null != jr && "object" == typeof jr && (jr.__prev = $r), $r && null != $r && "object" == typeof $r && ($r.__next = jr), S === br && (ee.__head = ee.__next = br = jr), S === mr && (ee.__tail = ee.__prev = mr = $r), S.__next = S.__prev = void 0
                                    }
                                }
                                nr = Z - T, V.$size = Z - nr, S && V && void 0 !== !S.__generation && (void 0 === V.__generation || S.__generation > V.__generation) && (V.__generation = S.__generation), B[g] = S = V;
                                break t
                            }
                            if (S.__parent = B, S.__key = g, 0 !== nr)
                                for (var Ar, zr, Lr, Pr, Or = S; void 0 !== Or;) {
                                    if (Or.$size = zr = (Or.$size || 0) + nr, Or.__genUpdated !== te)
                                        for (var wr, kr, Er, Ir, Rr, Mr = Or, Nr = [], Ur = 0; Ur >= 0;) {
                                            if (void 0 === (wr = Nr[Ur]))
                                                for (Er = Ir = -1, Rr = Mr.__refsLength || 0, Nr[Ur] = wr = [], Mr.__genUpdated = te, Mr.__generation = (Mr.__generation || 0) + 1, void 0 !== (kr = Mr.__parent) && kr.__genUpdated !== te && (wr[++Ir] = kr); ++Er < Rr;) void 0 !== (kr = Mr["__ref" + Er]) && kr.__genUpdated !== te && (wr[++Ir] = kr);
                                            void 0 !== (Mr = wr.pop()) ? ++Ur : Nr[Ur--] = void 0
                                        }
                                    if (void 0 !== (Ar = Or.__parent) && 0 >= zr) {
                                        for (var Dr, Br = Or.__refsLength || 0, Sr = -1; ++Sr < Br;) void 0 !== (Dr = Or["__ref" + Sr]) && (Dr.__context = void 0, Or["__ref" + Sr] = void 0);
                                        if (Or.__refsLength = void 0, Array.isArray(Lr = "sentinel" === (Pr = Or && Or.$type) ? Or.value : Or)) {
                                            var qr = Or.__context;
                                            if (null != qr) {
                                                for (var Cr = (Or.__refIndex || 0) - 1, Tr = (qr.__refsLength || 0) - 1; ++Cr <= Tr;) qr["__ref" + Cr] = qr["__ref" + (Cr + 1)];
                                                qr.__refsLength = Tr, Or.__refIndex = void 0, Or.__context = null
                                            }
                                        }
                                        Ar[Or.__key] = Or.__parent = void 0;
                                        var Fr = ee.__head,
                                            Wr = ee.__tail;
                                        if (null != Or && "object" == typeof Or) {
                                            var Gr = Or.__next,
                                                Qr = Or.__prev;
                                            Gr && null != Gr && "object" == typeof Gr && (Gr.__prev = Qr), Qr && null != Qr && "object" == typeof Qr && (Qr.__next = Gr), Or === Fr && (ee.__head = ee.__next = Fr = Gr), Or === Wr && (ee.__tail = ee.__prev = Wr = Qr), Or.__next = Or.__prev = void 0
                                        }
                                    }
                                    Or = Ar
                                } else
                                    for (var Vr = S; void 0 !== Vr;) {
                                        if (Vr.__genUpdated !== te)
                                            for (var Kr, Jr, Zr, Hr, Xr, Yr = Vr, en = [], tn = 0; tn >= 0;) {
                                                if (void 0 === (Kr = en[tn]))
                                                    for (Zr = Hr = -1, Xr = Yr.__refsLength || 0, en[tn] = Kr = [], Yr.__genUpdated = te, Yr.__generation = (Yr.__generation || 0) + 1, void 0 !== (Jr = Yr.__parent) && Jr.__genUpdated !== te && (Kr[++Hr] = Jr); ++Zr < Xr;) void 0 !== (Jr = Yr["__ref" + Zr]) && Jr.__genUpdated !== te && (Kr[++Hr] = Jr);
                                                void 0 !== (Yr = Kr.pop()) ? ++tn : en[tn--] = void 0
                                            }
                                        Vr = Vr.__parent
                                    }
                            var _n = ee.__head,
                                rn = ee.__tail;
                            if (S && 1 !== S.$expires) {
                                var nn = S.__next,
                                    on = S.__prev;
                                S !== _n && (nn && null != nn && "object" == typeof nn && (nn.__prev = on), on && null != on && "object" == typeof on && (on.__next = nn), (nn = _n) && null != nn && "object" == typeof nn && (_n.__prev = S), ee.__head = ee.__next = _n = S, null != _n && "object" == typeof _n && (_n.__next = nn, _n.__prev = void 0)), (null == rn || S === rn) && (ee.__tail = ee.__prev = rn = on || S)
                            }
                        }
                        q = "sentinel" === (C = S && S.$type) ? S.value : S
                    }
                    break e
                }
                if (null != S)
                    if (O.value = q, "error" === C)
                        for (var ln, an, fn, sn, vn, pn, dn, un, hn = N.__observers.concat(), cn = -1, yn = hn.length; ++cn < yn;) {
                            if (un = 1, m > x)
                                for (pn = x, dn = m; ++pn <= dn;) null != (vn = y[pn]) && (Array.isArray(vn) ? un *= vn.length || 1 : null != vn && "object" == typeof vn && (un *= vn.to - (vn.offset || vn.from || 0) + 1));
                            (ln = hn[cn]).count = (ln.count || 0) - un, an = Array.isArray(O) ? [] : null != O && "object" == typeof O ? {} : O;
                            var gn, xn;
                            for (var bn in O)
                                if (O.hasOwnProperty(bn)) {
                                    if (gn = xn = O[bn], Array.isArray(gn)) {
                                        var mn = -1,
                                            jn = gn.length;
                                        for (xn = new Array(jn); ++mn < jn;) xn[mn] = gn[mn]
                                    } else null != gn && "object" == typeof gn && (xn = Object.create(gn));
                                    an[bn] = xn
                                }
                            sn = Array.isArray(q) ? [] : null != q && "object" == typeof q ? {} : q;
                            var $n, An;
                            for (var zn in q)
                                if (q.hasOwnProperty(zn) && "_" !== zn[0]) {
                                    if ($n = An = q[zn], Array.isArray($n)) {
                                        var Ln = -1,
                                            Pn = $n.length;
                                        for (An = new Array(Pn); ++Ln < Pn;) An[Ln] = $n[Ln]
                                    } else null != $n && "object" == typeof $n && (An = Object.create($n));
                                    sn[zn] = An
                                }
                            an.path = an.path.slice(ln.path.length), an.value = sn, (fn = ln.errors)[fn.length] = an
                        } else
                            for (var On, wn, kn, En, In, Rn, Mn = N.__observers.concat(), Nn = -1, Un = Mn.length; ++Nn < Un;) {
                                if (Rn = 1, void 0 === q && m > x)
                                    for (En = x, In = m; ++En <= In;) null != (kn = y[En]) && (Array.isArray(kn) ? Rn *= kn.length || 1 : null != kn && "object" == typeof kn && (Rn *= kn.to - (kn.offset || kn.from || 0) + 1));
                                if ((On = Mn[Nn]).count = (On.count || 0) - Rn, On.streaming === !0 && (void 0 !== q || On.materialized === !0)) {
                                    wn = Array.isArray(O) ? [] : null != O && "object" == typeof O ? {} : O;
                                    var Dn, Bn;
                                    for (var Sn in O)
                                        if (O.hasOwnProperty(Sn)) {
                                            if (Dn = Bn = O[Sn], Array.isArray(Dn)) {
                                                var qn = -1,
                                                    Cn = Dn.length;
                                                for (Bn = new Array(Cn); ++qn < Cn;) Bn[qn] = Dn[qn]
                                            } else null != Dn && "object" == typeof Dn && (Bn = Object.create(Dn));
                                            wn[Sn] = Bn
                                        }
                                    wn.path = wn.path.slice(On.path.length), On.onNext(wn)
                                }
                            }
                    e: for (; x >= 0; --x)
                    if (g = y[x], null != g && "object" == typeof g) {
                        if (Array.isArray(g)) {
                            if (++g.index !== g.length) break e;
                            if (g = g[g.index = 0], null == g || "object" != typeof g) continue e
                        }
                        if (!(++g.offset > (g.to || (g.to = g.from + (g.length || 1) - 1)))) break e;
                        g.offset = g.from
                    }
            }
        N = U[-1];
        for (var Tn, Fn, Wn = N.__observers.concat(), Gn = -1, Qn = Wn.length; ++Gn < Qn;)(Tn = Wn[Gn]).count <= 0 && (Tn.streaming === !1 && Tn.onNext({
            paths: Tn.originals.map(function(e) {
                return e.slice(Tn.path.length)
            }),
            value: Y.getValueSync(Tn.path, D, D)
        }), 0 === (Fn = Tn.errors).length ? Tn.onCompleted && Tn.onCompleted() : 1 === Fn.length ? Tn.onError && Tn.onError(Fn[0]) : Tn.onError && Tn.onError({
            innerErrors: Fn
        }));
        var Vn, Kn, Jn, Zn, Hn, Xn, Yn = Y._maxSize,
            ei = n.$size,
            ti = Yn * Y._collectRatio,
            _i = 0;
        if (ei >= Yn && (null == ee._pendingRequests || ee._pendingRequests <= 0)) {
            for (; ei >= ti && null != (Zn = h.pop());) {
                _i++, ei -= Jn = Zn.$size || 0;
                do {
                    if (Kn = Zn.__parent, (Zn.$size -= Jn) <= 0) {
                        for (var ri, ni = Zn.__refsLength || 0, ii = -1; ++ii < ni;) void 0 !== (ri = Zn["__ref" + ii]) && (ri.__context = void 0, Zn["__ref" + ii] = void 0);
                        if (Zn.__refsLength = void 0, Array.isArray(Hn = "sentinel" === (Xn = Zn && Zn.$type) ? Zn.value : Zn)) {
                            var oi = Zn.__context;
                            if (null != oi) {
                                for (var li = (Zn.__refIndex || 0) - 1, ai = (oi.__refsLength || 0) - 1; ++li <= ai;) oi["__ref" + li] = oi["__ref" + (li + 1)];
                                oi.__refsLength = ai, Zn.__refIndex = void 0, Zn.__context = null
                            }
                        }
                        void 0 !== Kn && (Kn[Zn.__key] = Zn.__parent = void 0)
                    }
                    Zn = Kn
                } while (void 0 !== Zn)
            }
            if (h.length <= 0)
                for (Vn = ee.__tail; ei >= ti && null != (Zn = Vn);) {
                    _i++, Vn = Vn.__prev, ei -= Jn = Zn.$size || 0, Zn.__prev = Zn.__next = void 0;
                    do {
                        if (Kn = Zn.__parent, (Zn.$size -= Jn) <= 0) {
                            for (var fi, si = Zn.__refsLength || 0, vi = -1; ++vi < si;) void 0 !== (fi = Zn["__ref" + vi]) && (fi.__context = void 0, Zn["__ref" + vi] = void 0);
                            if (Zn.__refsLength = void 0, Array.isArray(Hn = "sentinel" === (Xn = Zn && Zn.$type) ? Zn.value : Zn)) {
                                var pi = Zn.__context;
                                if (null != pi) {
                                    for (var di = (Zn.__refIndex || 0) - 1, ui = (pi.__refsLength || 0) - 1; ++di <= ui;) pi["__ref" + di] = pi["__ref" + (di + 1)];
                                    pi.__refsLength = ui, Zn.__refIndex = void 0, Zn.__context = null
                                }
                            }
                            void 0 !== Kn && (Kn[Zn.__key] = Zn.__parent = void 0)
                        }
                        Zn = Kn
                    } while (void 0 !== Zn)
                }
            null == (ee.__tail = ee.__prev = Vn) ? ee.__head = ee.__next = void 0 : Vn.__next = void 0
        }
        return Disposable.empty
    }

    function invalidatePath(e, t, _, r) {
        var n, i, o, l, a, f, s, v, p, d, u, h, c, y, g, x, b, m, j, $, A, z = this,
            L = z._root,
            P = GENERATION_GENERATION++;
        r = r || z._path, e = e || [], t = t || z._cache, _ = _ || z.__context || (e = r.concat(e)) && t, i = e, d = {
            path: [],
            optimized: []
        }, u = [], h = [], c = [], l = 0, a = 0, f = i.length - 1, g = t, x = _, b = x, m = b, v = d.path, p = d.optimized, y = -1, s = 0, n = z._expired || (z._expired = []), u[-1] = i, h[-1] = 0;
        e: for (;;) {
            for (; f > l; ++l)
                if (o = i[l], null != o && "object" == typeof o && (Array.isArray(o) ? (o = o[o.index || (o.index = 0)], null != o && "object" == typeof o && (o = void 0 === o.offset && (o.offset = o.from || (o.from = 0)) || o.offset)) : o = void 0 === o.offset && (o.offset = o.from || (o.from = 0)) || o.offset), null != o) {
                    for (b = (b = x[o]) && (null == (A = b.$expires) || 1 === A || 0 !== A && A > Date.now() ? b : void 0); Array.isArray(m = "sentinel" === (j = b && b.$type) ? b.value : b);) {
                        var O = L.__head,
                            w = L.__tail;
                        if (b && 1 !== b.$expires) {
                            var k = b.__next,
                                E = b.__prev;
                            b !== O && (k && null != k && "object" == typeof k && (k.__prev = E), E && null != E && "object" == typeof E && (E.__next = k),
                                (k = O) && null != k && "object" == typeof k && (O.__prev = b), L.__head = L.__next = O = b, null != O && "object" == typeof O && (O.__next = k, O.__prev = void 0)), (null == w || b === w) && (L.__tail = L.__prev = w = E || b)
                        }
                        if (void 0 !== (b = b.__context));
                        else {
                            x = g, u[y] = i, h[y++] = l, i = m, f = i.length - 1, a = 0, l = 0;
                            t: for (;;) {
                                for (; f > l; ++l)
                                    if (o = i[l], null != o) {
                                        for (b = (b = x[o]) && (null == (A = b.$expires) || 1 === A || 0 !== A && A > Date.now() ? b : void 0); Array.isArray(m = "sentinel" === (j = b && b.$type) ? b.value : b);) {
                                            var I = L.__head,
                                                R = L.__tail;
                                            if (b && 1 !== b.$expires) {
                                                var M = b.__next,
                                                    N = b.__prev;
                                                b !== I && (M && null != M && "object" == typeof M && (M.__prev = N), N && null != N && "object" == typeof N && (N.__next = M), (M = I) && null != M && "object" == typeof M && (I.__prev = b), L.__head = L.__next = I = b, null != I && "object" == typeof I && (I.__next = M, I.__prev = void 0)), (null == R || b === R) && (L.__tail = L.__prev = R = N || b)
                                            }
                                            if (void 0 === (b = b.__context)) {
                                                x = g, u[y] = i, h[y++] = l, i = m, f = i.length - 1, a = 0, l = 0;
                                                continue t
                                            }
                                        }
                                        if (null == b || void 0 !== j) break e;
                                        x = b
                                    }
                                if (l === f) {
                                    if (o = i[l], null != o && (b = (b = x[o]) && (null == (A = b.$expires) || 1 === A || 0 !== A && A > Date.now() ? b : void 0)), null == b || "error" === j) break e;
                                    var U;
                                    if (void 0 === (U = i.__container || i).__context) {
                                        var D = b.__refsLength || 0;
                                        b["__ref" + D] = U, b.__refsLength = D + 1, U.__refIndex = D, U.__context = b
                                    }
                                    do i = u[--y], l = h[y], a = f - l, f = i.length - 1; while (y > -1 && l === f);
                                    if (f > l)
                                        for (; Array.isArray(m = "sentinel" === (j = b && b.$type) ? b.value : b);) {
                                            var B = L.__head,
                                                S = L.__tail;
                                            if (b && 1 !== b.$expires) {
                                                var q = b.__next,
                                                    C = b.__prev;
                                                b !== B && (q && null != q && "object" == typeof q && (q.__prev = C), C && null != C && "object" == typeof C && (C.__next = q), (q = B) && null != q && "object" == typeof q && (B.__prev = b), L.__head = L.__next = B = b, null != B && "object" == typeof B && (B.__next = q, B.__prev = void 0)), (null == S || b === S) && (L.__tail = L.__prev = S = C || b)
                                            }
                                            if (void 0 === (b = b.__context)) {
                                                x = g, u[y] = i, h[y++] = l, i = m, f = i.length - 1, a = 0, l = 0;
                                                continue t
                                            }
                                        }
                                    if (y > -1) {
                                        l += 1, x = b;
                                        continue t
                                    }
                                }
                                break t
                            }
                        }
                    }
                    if (null == b || void 0 !== j) break e;
                    x = b
                }
            if (l === f) {
                o = i[l], null != o && "object" == typeof o && (Array.isArray(o) ? (o = o[o.index || (o.index = 0)], null != o && "object" == typeof o && (o = void 0 === o.offset && (o.offset = o.from || (o.from = 0)) || o.offset)) : o = void 0 === o.offset && (o.offset = o.from || (o.from = 0)) || o.offset), null != o && (b = x[o]), $ = -1 * (b && b.$size || 0);
                for (var T, F, W, G, Q = b; void 0 !== Q;) {
                    if (Q.$size = F = (Q.$size || 0) + $, Q.__genUpdated !== P)
                        for (var V, K, J, Z, H, X = Q, Y = [], ee = 0; ee >= 0;) {
                            if (void 0 === (V = Y[ee]))
                                for (J = Z = -1, H = X.__refsLength || 0, Y[ee] = V = [], X.__genUpdated = P, X.__generation = (X.__generation || 0) + 1, void 0 !== (K = X.__parent) && K.__genUpdated !== P && (V[++Z] = K); ++J < H;) void 0 !== (K = X["__ref" + J]) && K.__genUpdated !== P && (V[++Z] = K);
                            void 0 !== (X = V.pop()) ? ++ee : Y[ee--] = void 0
                        }
                    if (void 0 !== (T = Q.__parent) && 0 >= F) {
                        for (var te, _e = Q.__refsLength || 0, re = -1; ++re < _e;) void 0 !== (te = Q["__ref" + re]) && (te.__context = void 0, Q["__ref" + re] = void 0);
                        if (Q.__refsLength = void 0, Array.isArray(W = "sentinel" === (G = Q && Q.$type) ? Q.value : Q)) {
                            var ne = Q.__context;
                            if (null != ne) {
                                for (var ie = (Q.__refIndex || 0) - 1, oe = (ne.__refsLength || 0) - 1; ++ie <= oe;) ne["__ref" + ie] = ne["__ref" + (ie + 1)];
                                ne.__refsLength = oe, Q.__refIndex = void 0, Q.__context = null
                            }
                        }
                        T[Q.__key] = Q.__parent = void 0;
                        var le = L.__head,
                            ae = L.__tail;
                        if (null != Q && "object" == typeof Q) {
                            var fe = Q.__next,
                                se = Q.__prev;
                            fe && null != fe && "object" == typeof fe && (fe.__prev = se), se && null != se && "object" == typeof se && (se.__next = fe), Q === le && (L.__head = L.__next = le = fe), Q === ae && (L.__tail = L.__prev = ae = se), Q.__next = Q.__prev = void 0
                        }
                    }
                    Q = T
                }
            }
            break e
        }
        return d.value = m, d
    }

    function invalidatePaths(e, t, _, r, n, i, o) {
        var l, a, f, s, v, p, d, u, h, c, y, g, x, b, m, j, $, A, z, L, P, O, w, k, E, I, R, M, N, U, D, B, S, q, C, T, F, W, G = this,
            Q = G._root,
            V = GENERATION_GENERATION++;
        for (h = e, l = G._connected, a = G._materialized, f = G._streaming, s = G._refreshing, c = o || G._path, v = h.contexts || (h.contexts = []), p = h.messages || (h.messages = []), N = h.batchedPathMaps || (h.batchedPathMaps = []), O = h.originalMisses || (h.originalMisses = []), w = h.optimizedMisses || (h.optimizedMisses = []), d = h.errors || (h.errors = []), k = h.refs || (h.refs = []), I = h.crossed || (h.crossed = []), E = h.cols || (h.cols = []), P = h.pbv || (h.pbv = {
                path: [],
                optimized: []
            }), m = h.index || (h.index = 0), j = h.length, M = h.batchedPathMap, F = h.value, W = F, n = n || G._cache, o = c, null == i && null == (i = G.__context) && (c.length > 0 ? (P = G._getContext(), c = P.path, P.path = [], P.optimized = [], i = P.value || {}) : i = n), U = n, D = i, B = D, S = B, z = P.path, L = P.optimized, R = -1, $ = 0, u = G._expired || (G._expired = []), k[-1] = c, E[-1] = 0, I[-1] = A = c, v[-1] = D; j > m; h.index = ++m)
            for (c = h[m], g = c.index || (c.index = 0), x = c.offset || (c.offset = 0), b = c.length - 1, R = -1, k[-1] = c, I = [], I[-1] = A; g >= 0;) {
                E[R = -1] = g, D = v[g - 1];
                e: for (;;) {
                    for (; b > g; ++g)
                        if (y = c[g], null != y && "object" == typeof y && (Array.isArray(y) ? (y = y[y.index || (y.index = 0)], null != y && "object" == typeof y && (y = void 0 === y.offset && (y.offset = y.from || (y.from = 0)) || y.offset)) : y = void 0 === y.offset && (y.offset = y.from || (y.from = 0)) || y.offset), null != y) {
                            for (B = (B = D[y]) && (null == (T = B.$expires) || 1 === T || 0 !== T && T > Date.now() ? B : void 0); Array.isArray(S = "sentinel" === (q = B && B.$type) ? B.value : B);) {
                                var K = Q.__head,
                                    J = Q.__tail;
                                if (B && 1 !== B.$expires) {
                                    var Z = B.__next,
                                        H = B.__prev;
                                    B !== K && (Z && null != Z && "object" == typeof Z && (Z.__prev = H), H && null != H && "object" == typeof H && (H.__next = Z), (Z = K) && null != Z && "object" == typeof Z && (K.__prev = B), Q.__head = Q.__next = K = B, null != K && "object" == typeof K && (K.__next = Z, K.__prev = void 0)), (null == J || B === J) && (Q.__tail = Q.__prev = J = H || B)
                                }
                                if (void 0 !== (B = B.__context));
                                else {
                                    D = U, k[R] = c, E[R++] = g, c = S, b = c.length - 1, x = 0, g = 0;
                                    t: for (;;) {
                                        for (; b > g; ++g)
                                            if (y = c[g], null != y) {
                                                for (B = (B = D[y]) && (null == (T = B.$expires) || 1 === T || 0 !== T && T > Date.now() ? B : void 0); Array.isArray(S = "sentinel" === (q = B && B.$type) ? B.value : B);) {
                                                    var X = Q.__head,
                                                        Y = Q.__tail;
                                                    if (B && 1 !== B.$expires) {
                                                        var ee = B.__next,
                                                            te = B.__prev;
                                                        B !== X && (ee && null != ee && "object" == typeof ee && (ee.__prev = te), te && null != te && "object" == typeof te && (te.__next = ee), (ee = X) && null != ee && "object" == typeof ee && (X.__prev = B), Q.__head = Q.__next = X = B, null != X && "object" == typeof X && (X.__next = ee, X.__prev = void 0)), (null == Y || B === Y) && (Q.__tail = Q.__prev = Y = te || B)
                                                    }
                                                    if (void 0 === (B = B.__context)) {
                                                        D = U, k[R] = c, E[R++] = g, c = S, b = c.length - 1, x = 0, g = 0;
                                                        continue t
                                                    }
                                                }
                                                if (null == B || void 0 !== q) break e;
                                                D = B
                                            }
                                        if (g === b) {
                                            if (y = c[g], null != y && (B = (B = D[y]) && (null == (T = B.$expires) || 1 === T || 0 !== T && T > Date.now() ? B : void 0)), null == B || "error" === q) break e;
                                            var _e;
                                            if (void 0 === (_e = c.__container || c).__context) {
                                                var re = B.__refsLength || 0;
                                                B["__ref" + re] = _e, B.__refsLength = re + 1, _e.__refIndex = re, _e.__context = B
                                            }
                                            do c = k[--R], g = E[R], x = b - g, b = c.length - 1; while (R > -1 && g === b);
                                            if (b > g)
                                                for (; Array.isArray(S = "sentinel" === (q = B && B.$type) ? B.value : B);) {
                                                    var ne = Q.__head,
                                                        ie = Q.__tail;
                                                    if (B && 1 !== B.$expires) {
                                                        var oe = B.__next,
                                                            le = B.__prev;
                                                        B !== ne && (oe && null != oe && "object" == typeof oe && (oe.__prev = le), le && null != le && "object" == typeof le && (le.__next = oe), (oe = ne) && null != oe && "object" == typeof oe && (ne.__prev = B), Q.__head = Q.__next = ne = B, null != ne && "object" == typeof ne && (ne.__next = oe, ne.__prev = void 0)), (null == ie || B === ie) && (Q.__tail = Q.__prev = ie = le || B)
                                                    }
                                                    if (void 0 === (B = B.__context)) {
                                                        D = U, k[R] = c, E[R++] = g, c = S, b = c.length - 1, x = 0, g = 0;
                                                        continue t
                                                    }
                                                }
                                            if (R > -1) {
                                                g += 1, D = B;
                                                continue t
                                            }
                                        }
                                        break t
                                    }
                                }
                            }
                            if (null == B || void 0 !== q) break e;
                            v[g] = D = B
                        }
                    if (g === b) {
                        y = c[g], null != y && "object" == typeof y && (Array.isArray(y) ? (y = y[y.index || (y.index = 0)], null != y && "object" == typeof y && (y = void 0 === y.offset && (y.offset = y.from || (y.from = 0)) || y.offset)) : y = void 0 === y.offset && (y.offset = y.from || (y.from = 0)) || y.offset), null != y && (B = D[y]), C = -1 * (B && B.$size || 0);
                        for (var ae, fe, se, ve, pe = B; void 0 !== pe;) {
                            if (pe.$size = fe = (pe.$size || 0) + C, pe.__genUpdated !== V)
                                for (var de, ue, he, ce, ye, ge = pe, xe = [], be = 0; be >= 0;) {
                                    if (void 0 === (de = xe[be]))
                                        for (he = ce = -1, ye = ge.__refsLength || 0, xe[be] = de = [], ge.__genUpdated = V, ge.__generation = (ge.__generation || 0) + 1, void 0 !== (ue = ge.__parent) && ue.__genUpdated !== V && (de[++ce] = ue); ++he < ye;) void 0 !== (ue = ge["__ref" + he]) && ue.__genUpdated !== V && (de[++ce] = ue);
                                    void 0 !== (ge = de.pop()) ? ++be : xe[be--] = void 0
                                }
                            if (void 0 !== (ae = pe.__parent) && 0 >= fe) {
                                for (var me, je = pe.__refsLength || 0, $e = -1; ++$e < je;) void 0 !== (me = pe["__ref" + $e]) && (me.__context = void 0, pe["__ref" + $e] = void 0);
                                if (pe.__refsLength = void 0, Array.isArray(se = "sentinel" === (ve = pe && pe.$type) ? pe.value : pe)) {
                                    var Ae = pe.__context;
                                    if (null != Ae) {
                                        for (var ze = (pe.__refIndex || 0) - 1, Le = (Ae.__refsLength || 0) - 1; ++ze <= Le;) Ae["__ref" + ze] = Ae["__ref" + (ze + 1)];
                                        Ae.__refsLength = Le, pe.__refIndex = void 0, pe.__context = null
                                    }
                                }
                                ae[pe.__key] = pe.__parent = void 0;
                                var Pe = Q.__head,
                                    Oe = Q.__tail;
                                if (null != pe && "object" == typeof pe) {
                                    var we = pe.__next,
                                        ke = pe.__prev;
                                    we && null != we && "object" == typeof we && (we.__prev = ke), ke && null != ke && "object" == typeof ke && (ke.__next = we), pe === Pe && (Q.__head = Q.__next = Pe = we), pe === Oe && (Q.__tail = Q.__prev = Oe = ke), pe.__next = pe.__prev = void 0
                                }
                            }
                            pe = ae
                        }
                    }
                    break e
                }
                e: for (; g >= 0; --g)
                    if (y = c[g], null != y && "object" == typeof y) {
                        if (Array.isArray(y)) {
                            if (++y.index !== y.length) break e;
                            if (y = y[y.index = 0], null == y || "object" != typeof y) continue e
                        }
                        if (!(++y.offset > (y.to || (y.to = y.from + (y.length || 1) - 1)))) break e;
                        y.offset = y.from
                    }
            }
        return t && t(this), r && r(), Disposable.empty
    }

    function pathMapWithObserver(e, t, _) {
        var r, n, i, o, l, a, f, s, v, p, d, u, h, c = this;
        c._root;
        for (n = t, o = e, p = 0, d = o.length, i = ((r = [])[-1] = h = _ || (_ = {
                __observers: []
            })).__observers, n && -1 === i.indexOf(n) && (i[i.length] = n); d > p; o.index = ++p)
            for (l = o[p], f = 0, s = 0, v = l.length - 1; f >= 0;) {
                u = r[f - 1];
                e: for (;;) {
                    for (; v > f; ++f) a = l[f], null != a && "object" == typeof a && (Array.isArray(a) ? (a = a[a.index || (a.index = 0)], null != a && "object" == typeof a && (a = void 0 === a.offset && (a.offset = a.from || (a.from = 0)) || a.offset)) : a = void 0 === a.offset && (a.offset = a.from || (a.from = 0)) || a.offset), null != a && (i = (h = u[a] || (u[a] = {
                        __observers: []
                    })).__observers, n && -1 === i.indexOf(n) && (i[i.length] = n), r[f] = u = h);
                    f === v && (a = l[f], null != a && "object" == typeof a && (Array.isArray(a) ? (a = a[a.index || (a.index = 0)], null != a && "object" == typeof a && (a = void 0 === a.offset && (a.offset = a.from || (a.from = 0)) || a.offset)) : a = void 0 === a.offset && (a.offset = a.from || (a.from = 0)) || a.offset), null != a && (i = (h = u[a] || (u[a] = {
                        __observers: []
                    })).__observers, n && -1 === i.indexOf(n) && (i[i.length] = n, n.count = (n.count || 0) + 1)));
                    break e
                }
                e: for (; f >= 0; --f)
                    if (a = l[f], null != a && "object" == typeof a) {
                        if (Array.isArray(a)) {
                            if (++a.index !== a.length) break e;
                            if (a = a[a.index = 0], null == a || "object" != typeof a) continue e
                        }
                        if (!(++a.offset > (a.to || (a.to = a.from + (a.length || 1) - 1)))) break e;
                        a.offset = a.from
                    }
            }
        return _
    }

    function pathMapWithoutObserver(e, t, _) {
        var r, n, i, o, l, a, f, s, v, p, d, u, h, c = this;
        c._root;
        if (n = t, o = e, p = 0, d = o.length, i = ((r = [])[-1] = h = _).__observers, null != n) {
            var y, g;
            y = i, -1 !== (g = y.indexOf(n)) && y.splice(g, 1)
        }
        for (; d > p; o.index = ++p)
            for (l = o[p], f = 0, s = 0, v = l.length - 1; f >= 0;) {
                u = r[f - 1];
                e: for (;;) {
                    for (; v > f; ++f)
                        if (a = l[f], null != a && "object" == typeof a && (Array.isArray(a) ? (a = a[a.index || (a.index = 0)], null != a && "object" == typeof a && (a = void 0 === a.offset && (a.offset = a.from || (a.from = 0)) || a.offset)) : a = void 0 === a.offset && (a.offset = a.from || (a.from = 0)) || a.offset), null != a) {
                            if (i = (h = u[a]).__observers, null != n) {
                                var x, b;
                                x = i, -1 !== (b = x.indexOf(n)) && x.splice(b, 1)
                            }
                            r[f] = u = h
                        }
                    if (f === v && (a = l[f], null != a && "object" == typeof a && (Array.isArray(a) ? (a = a[a.index || (a.index = 0)], null != a && "object" == typeof a && (a = void 0 === a.offset && (a.offset = a.from || (a.from = 0)) || a.offset)) : a = void 0 === a.offset && (a.offset = a.from || (a.from = 0)) || a.offset), null != a && (i = (h = u[a]).__observers, null != n))) {
                        var m, j;
                        m = i, -1 !== (j = m.indexOf(n)) && m.splice(j, 1), n.count = (n.count || 0) - 1
                    }
                    break e
                }
                e: for (; f >= 0; --f)
                    if (a = l[f], null != a && "object" == typeof a) {
                        if (Array.isArray(a)) {
                            if (++a.index !== a.length) break e;
                            if (a = a[a.index = 0], null == a || "object" != typeof a) continue e
                        }
                        if (!(++a.offset > (a.to || (a.to = a.from + (a.length || 1) - 1)))) break e;
                        a.offset = a.from
                    }
            }
        return _
    }

    function callPath(e, t, _, r, n, i, o) {
        if (!Array.isArray(e)) throw new Error("PathEvaluator.call must be called with an Array path.");
        n = n || [], i = i || [], o = o || [];
        var l = this,
            a = this._path,
            f = o.map(function(e) {
                return a.concat(e)
            }),
            s = this.loader.call(a.concat(e), n, i, f).subscribe(function(e) {
                var n = e.invalidated || [];
                if (n.length > 0) s = invalidatePaths.call(l, n, function() {
                    for (var n, i = [e.error], o = l._errorSelector; void 0 !== (n = i.pop());) n.innerErrors ? i.push.apply(i, n.innerErrors) : (n.$type = "error", l._setPath(n.path || n.pql, o(n), e.value));
                    e.batchedPathMap = null, s = l._setPBF(e, t, _, r, l._cache, l._cache, [])
                }, _, noop, l._cache, l._cache);
                else {
                    for (var i, o = [e.error], a = l._errorSelector; void 0 !== (i = o.pop());) i.innerErrors ? o.push.apply(o, i.innerErrors) : (i.$type = "error", l._setPath(i.path || i.pql, a(i), e.value));
                    e.batchedPathMap = null, s = l._setPBF(e, t, _, r, l._cache, l._cache, [])
                }
            }, _, noop);
        return Disposable.create(function(e) {
            s.dispose()
        })
    }

    function getPathsAsObservable() {
        var e, t = getPaths,
            _ = this,
            r = -1,
            n = arguments.length;
        for (e = new Array(n); ++r < n;) e[r] = arguments[r];
        return Observable.createWithDisposable(function(r) {
            function n(e) {
                r.onNext(e)
            }

            function i(e) {
                r.onError(e)
            }

            function o() {
                r.onCompleted()
            }
            var l, a = -1,
                f = e.length;
            for (l = new Array(f); ++a < f;) l[a] = e[a];
            return l.splice(1, 0, n, i, o), t.apply(_, l)
        })
    }

    function setPathsAsObservable() {
        var e, t = setPaths,
            _ = this,
            r = -1,
            n = arguments.length;
        for (e = new Array(n); ++r < n;) e[r] = arguments[r];
        return Observable.createWithDisposable(function(r) {
            function n(e) {
                r.onNext(e)
            }

            function i(e) {
                r.onError(e)
            }

            function o() {
                r.onCompleted()
            }
            var l, a = -1,
                f = e.length;
            for (l = new Array(f); ++a < f;) l[a] = e[a];
            return l.splice(1, 0, n, i, o), t.apply(_, l)
        })
    }

    function setPBFAsObservable() {
        var e, t = setPBF,
            _ = this,
            r = -1,
            n = arguments.length;
        for (e = new Array(n); ++r < n;) e[r] = arguments[r];
        return Observable.createWithDisposable(function(r) {
            function n(e) {
                r.onNext(e)
            }

            function i(e) {
                r.onError(e)
            }

            function o() {
                r.onCompleted()
            }
            var l, a = -1,
                f = e.length;
            for (l = new Array(f); ++a < f;) l[a] = e[a];
            return l.splice(1, 0, n, i, o), t.apply(_, l)
        })
    }

    function invalidatePathsAsObservable() {
        var e, t = invalidatePaths,
            _ = this,
            r = -1,
            n = arguments.length;
        for (e = new Array(n); ++r < n;) e[r] = arguments[r];
        return Observable.createWithDisposable(function(r) {
            function n(e) {
                r.onNext(e)
            }

            function i(e) {
                r.onError(e)
            }

            function o() {
                r.onCompleted()
            }
            var l, a = -1,
                f = e.length;
            for (l = new Array(f); ++a < f;) l[a] = e[a];
            return l.splice(1, 0, n, i, o), t.apply(_, l)
        })
    }

    function callPathAsObservable() {
        var e, t = callPath,
            _ = this,
            r = -1,
            n = arguments.length;
        for (e = new Array(n); ++r < n;) e[r] = arguments[r];
        return Observable.createWithDisposable(function(r) {
            function n(e) {
                r.onNext(e)
            }

            function i(e) {
                r.onError(e)
            }

            function o() {
                r.onCompleted()
            }
            var l, a = -1,
                f = e.length;
            for (l = new Array(f); ++a < f;) l[a] = e[a];
            return l.splice(1, 0, n, i, o), t.apply(_, l)
        })
    }

    function getPathsAsPromises() {
        return []
    }

    function setPathsAsPromises() {
        return []
    }

    function setPBFAsPromises() {
        return []
    }

    function invalidatePathsAsPromise() {
        return []
    }

    function callPathAsPromise() {
        return []
    }

    function toBatched() {
        if (this._batched === !0) return this;
        var e = Object.create(this);
        return e._batched = !0, e
    }

    function toIndependent() {
        if (this._batched === !1) return this;
        var e = Object.create(this);
        return e._batched = !1, e
    }

    function toLazy() {
        if (this._lazy === !0) return this;
        var e = Object.create(this);
        return e._lazy = !0, e
    }

    function toEager() {
        if (this._lazy === !1) return this;
        var e = Object.create(this);
        return e._lazy = !1, e
    }

    function toProgressive() {
        if (this._streaming === !0) return this;
        var e = Object.create(this);
        return e._streaming = !0, e
    }

    function toAggregate() {
        if (this._streaming === !1) return this;
        var e = Object.create(this);
        return e._streaming = !1, e
    }

    function toRemote() {
        if (this._connected === !0) return this;
        var e = Object.create(this);
        return e._connected = !0, e
    }

    function toLocal() {
        if (this._connected === !1) return this;
        var e = Object.create(this);
        return e._connected = !1, e
    }

    function toRefreshed() {
        if (this._refreshing === !0) return this;
        var e = Object.create(this);
        return e._refreshing = !0, e
    }

    function toCached() {
        if (this._refreshing === !1) return this;
        var e = Object.create(this);
        return e._refreshing = !1, e
    }

    function toMaterialized() {
        if (this._materialized === !0) return this;
        var e = Object.create(this);
        return e._materialized = !0, e
    }

    function toDematerialized() {
        if (this._materialized === !1) return this;
        var e = Object.create(this);
        return e._materialized = !1, e
    }

    function toRoot() {
        return this._root._root = this
    }

    function serialize(e) {
        function t(e) {
            return "_" !== e[0] || "_" !== e[1]
        }
        var _, r, n, i = e || this._cache,
            o = {},
            l = 0,
            a = [];
        e: for (; l >= 0;) {
            for (_ = a[l] || (a[l] = {
                    context: i,
                    message: o,
                    keys: Object.keys(i).filter(t)
                }), i = _.context, o = _.message, r = _.keys; null != (n = r.pop());) {
                if (i = i[n], null != i && "object" == typeof i) {
                    if (Array.isArray(i)) {
                        o = o[n] || (o[n] = []), ++l;
                        continue e
                    }
                    o = o[n] || (o[n] = {}), ++l;
                    continue e
                }
                o[n] = i, i = _.context
            }
            a[l--] = void 0
        }
        return o
    }

    function deserialize(e) {
        function t(e) {
            return "$" !== e[0] && ("_" !== e[0] || "_" !== e[1])
        }
        var _, r, n, i = e,
            o = 0,
            l = [],
            a = [],
            f = [];
        e: for (; o >= 0;) {
            for (_ = l[o] || (l[o] = {
                    context: i,
                    keys: Object.keys(i).filter(t)
                }), i = _.context, r = _.keys; null != (n = r.pop());) {
                if (a[o] = n, i = i[n], null != i && "object" == typeof i && void 0 === i.$type && !Array.isArray(i)) {
                    ++o;
                    continue e
                }
                f.push(a.slice(0, o + 1)), i = _.context
            }
            l[o--] = void 0
        }
        return setPBF.call(this, {
            paths: f,
            value: e
        }, null, null, null, this._cache, this._cache), this
    }

    function stringify(e, t, _) {
        return JSON.stringify(flatten(e), t, _)
    }

    function flatten(e) {
        var t, _, r, n;
        if (null === e || "object" != typeof e) return e;
        if (e instanceof Array) {
            for (t = [], r = 0; r < e.length; r++) t.push(flatten(e[r]));
            return t
        }
        t = {};
        do {
            for (_ = Object.keys(e), _.sort(), r = 0; r < _.length; r++) n = _[r], ("_" !== n[0] || "_" !== n[1]) && (t[n] = flatten(e[n]));
            e = Object.getPrototypeOf(e)
        } while (null != e);
        return t
    }

    function collapse(e) {
        return rangeCollapse(buildQueries(e))
    }

    function rangeCollapse(e) {
        return e.forEach(function(e) {
            e.forEach(function(t, _) {
                var r;
                Array.isArray(t) && t.every(isNumber) && allUnique(t) && (t.sort(function(e, t) {
                    return e - t
                }), t[t.length - 1] - t[0] === t.length - 1 && (r = {}, r.from = t[0], r.to = t[t.length - 1], e[_] = r))
            })
        }), e
    }

    function isNumber(e) {
        return !Array.isArray(e) && e - parseFloat(e) + 1 >= 0
    }

    function allUnique(e) {
        var t, _, r = {};
        for (t = 0, _ = e.length; _ > t; t++) {
            if (r[e[t]]) return !1;
            r[e[t]] = !0
        }
        return !0
    }

    function sortLol(e) {
        return e.reduce(function(e, t) {
            return t instanceof Array ? (e.push(sortLol(t).slice(0).sort()), e) : e.concat(t)
        }, []).slice(0).sort()
    }

    function createKey(e) {
        return JSON.stringify(sortLol(e))
    }

    function notPathMapInternalKeys(e) {
        return "__observers" !== e && "__pending" !== e && "__batchID" !== e
    }

    function buildQueries(e) {
        var t, _, r, n, i, o, l, a, f, s, v, p, d, u = Object.keys(e).filter(notPathMapInternalKeys),
            h = -1,
            c = u.length;
        if (0 === c || Array.isArray(e) === !0) return [
            []
        ];
        for (_ = {}; ++h < c;) t = u[h], r = buildQueries(e[t]), n = createKey(r), i = "string" == typeof t && t.length > 1 && "0" === t[0] ? !1 : isNumber(t), (o = _[n]) && (l = o.head) ? l[l.length] = i ? parseInt(t, 10) : t : _[n] = {
            head: [i ? parseInt(t, 10) : t],
            tail: r
        };
        s = [];
        for (d in _)
            for (l = (o = _[d]).head, a = o.tail, h = -1, c = a.length; ++h < c;) {
                if (o = a[h], v = -1, p = o.length, "" === l[0]) f = [];
                else
                    for (f = [1 === l.length ? l[0] : l]; ++v < p;) f[v + 1] = o[v];
                s[s.length] = f
            }
        return s
    }

    function BatchRequestQueue(e) {
        this.rootPE = e, this.requests = []
    }

    function BatchRequest(e, t) {
        this.rootPE = e, this.requestQueue = t, this.originalsSet = {
            __observers: []
        }, this.optimizedSet = {
            __observers: []
        }, this.observers = 0, this.pending = !1, this.operation = null
    }
    var Rx = require("./rxUltraLite"),
        EventBus = require("../reactMixins/eventBus"),
        Observable = Rx.Observable,
        Disposable = Rx.Disposable,
        SENTINEL_SIZE = 50,
        isArray = Array.isArray,
        GENERATION_GENERATION = 0,
        OBSERVER_GENERATION = 0,
        µTime = 1,
        µRate = .25,
        µSize = .25,
        MIN_SAFE_INTEGER = -Math.pow(2, 53) - 1;
    PathEvaluator.prototype = {
        _batched: !1,
        _lazy: !0,
        _connected: !0,
        _streaming: !0,
        _refreshing: !1,
        _materialized: !1,
        loader: {
            get: function() {
                return Observable.create(function(e) {
                    return e.onCompleted(),
                        function() {}
                })
            },
            call: function() {
                return Observable.create(function(e) {
                    return e.onCompleted(),
                        function() {}
                })
            }
        },
        get: get,
        set: set,
        invalidate: invalidate,
        call: call,
        bind: bind,
        hardBind: hardBind,
        deferBind: deferBind,
        serialize: serialize,
        deserialize: deserialize,
        getValueSync: function() {
            return safeValue(getPath.apply(this, arguments).value)
        },
        getBoundValue: function() {
            return safeValue(this._getContext().value)
        },
        setValueSync: function() {
            return setPath.apply(this, arguments).value
        },
        toBatched: toBatched,
        toIndependent: toIndependent,
        toLazy: toLazy,
        toEager: toEager,
        toRemote: toRemote,
        toLocal: toLocal,
        toProgressive: toProgressive,
        toAggregate: toAggregate,
        toCached: toCached,
        toRefreshed: toRefreshed,
        toMaterialized: toMaterialized,
        toDematerialized: toDematerialized,
        toRoot: toRoot,
        _collapse: collapse,
        _getPaths: getPaths,
        _setPaths: setPaths,
        _setPBF: setPBF,
        _getPathsAsObservable: getPathsAsObservable,
        _setPathsAsObservable: setPathsAsObservable,
        _setPBFAsObservable: setPBFAsObservable,
        _stringify: stringify,
        _pathMapWithObserver: pathMapWithObserver,
        _pathMapWithoutObserver: pathMapWithoutObserver,
        _getContext: getContext,
        _getPath: getPath,
        _setPath: setPath,
        _invalidatePath: invalidatePath
    };
    var charPattern = /\D/i;
    BatchRequestQueue.prototype.get = function() {
        for (var e, t = this.requests, _ = t.length, r = _; --r > -1;)
            if (null != (e = t[r]) && e.pending !== !0) return e;
        return t[_] = new BatchRequest(this.rootPE, this)
    }, BatchRequestQueue.prototype.remove = function(e) {
        var t, _;
        t = this.requests, -1 !== (_ = t.indexOf(e)) && t.splice(_, 1)
    }, BatchRequestQueue.prototype.batch = function(e, t, _) {
        return this.get().batch(e, t, _)
    }, BatchRequestQueue.prototype.flush = function(e, t, _) {
        return new BatchRequest(this.rootPE, this).flush(e, t, _)
    }, BatchRequest.prototype.batch = function(e, t, _) {
        var r = this,
            n = r.rootPE,
            i = r.originalsSet,
            o = r.optimizedSet,
            l = r.requestQueue;
        if (i = n._pathMapWithObserver(e, _, i), o = n._pathMapWithObserver(t, null, o), r.originalsSet = i, r.optimizedSet = o, 1 === ++r.observers) {
            var a = setTimeout(function() {
                a = -1, r.flush()
            }, 16);
            r.operation = {
                dispose: function() {
                    -1 !== a && clearTimeout(a), a = -1, l.remove(r)
                }
            }
        }
        return {
            dispose: function() {
                var a;
                i = n._pathMapWithoutObserver(e, _, i), o = n._pathMapWithoutObserver(t, null, o), r.originalsSet = i, r.optimizedSet = o, --r.observers <= 0 && (l.remove(r), (a = r.operation) && a.dispose(), r.operation = null, r.pending = !1)
            }
        }
    }, BatchRequest.prototype.flush = function(e, t, _) {
        var r = this,
            n = r.rootPE,
            i = r.originalsSet,
            o = r.optimizedSet;
        r.pending = !0, e && t && _ && (i = n._pathMapWithObserver(e, _, i), o = n._pathMapWithObserver(t, null, o), r.observers++), r.originalsSet = i, r.optimizedSet = o;
        var l, a, f, s, v, p = !1;
        return f = setTimeout(function() {
            f = -1, l = n._collapse(r.originalsSet)
        }, 16), n._pendingRequests = (n._pendingRequests || 0) + 1, r.operation = {
            dispose: function() {
                s && ("function" == typeof s ? s() : s.dispose && s.dispose())
            }
        }, s = {
            dispose: function() {
                v && ("function" == typeof v ? v() : v.dispose && v.dispose()), p === !1 && (p = !0, n._pendingRequests -= 1), -1 !== f && (clearTimeout(f), f = -1)
            }
        }, v = n.loader.get(n._collapse(r.optimizedSet)).subscribe(function(e) {
            a = e
        }, function(e) {
            s.dispose();
            for (var t, _ = r.originalsSet.__observers.concat(), n = -1, i = _.length; ++n < i;)(t = _[n]).onError && t.onError(e)
        }, function() {
            if (p === !1 && (p = !0, n._pendingRequests -= 1), null != a) {
                -1 !== f && (clearTimeout(f), f = -1, l = n._collapse(r.originalsSet)), a.paths = l;
                for (var e, t = [a.error], _ = n._errorSelector; void 0 !== (e = t.pop());) e.innerErrors ? t.push.apply(t, e.innerErrors) : (e.$type = "error", n._setPath(e.path || e.pql, _(e), a.value));
                a.batchedPathMap = r.originalsSet, s = n._setPBF(a, null, null, null, n._cache, n._cache, [])
            } else
                for (var i, o = r.originalsSet.__observers.concat(), v = -1, d = o.length; ++v < d;)(i = o[v]).onCompleted && i.onCompleted()
        }), r.operation
    }, module.exports = PathEvaluator;


});


Requireify.register('js/falkorClient/falkorLoader.js', function(require, requireAsync, module, exports) {


    "use strict";
    var XHR = require("../utils/XHR"),
        ContextData = require("../utils/contextData"),
        gpsModel = ContextData.getData("userInfo", "gpsModel");
    module.exports = {
        get: function(e) {
            return XHR.request({
                method: "post",
                data: {
                    paths: e
                },
                query: {
                    withSize: !0,
                    materialize: !0,
                    model: gpsModel
                },
                resource: "/pathEvaluator",
                service: "api",
                authorize: !0
            })
        },
        call: function(e, t, a, r) {
            return XHR.request({
                method: "post",
                data: {
                    callPath: e,
                    params: t,
                    paths: r,
                    pathSuffixes: a
                },
                query: {
                    withSize: !0,
                    materialize: !0,
                    model: gpsModel,
                    method: "call"
                },
                resource: "/pathEvaluator",
                service: "api",
                authorize: !0,
                protocol: "https"
            })
        }
    };


});


Requireify.register('js/utils/performanceMetrics.js', function(require, requireAsync, module, exports) {


    "use strict";

    function getMetrics() {
        var e, t;
        return window && window.performance && window.performance.timing ? (e = window.performance.timing, t = e.secureConnectionStart || e.requestStart, {
            timeToInteractive: e.domInteractive - t,
            components: [{
                name: "firstByte",
                elapsed: e.responseStart - t
            }, {
                name: "wire",
                elapsed: e.responseEnd - e.responseStart
            }, {
                name: "domReady",
                elapsed: e.domInteractive - t
            }, {
                name: "docLoad",
                elapsed: e.loadEventStart - t
            }, {
                name: "shakti",
                elapsed: e.responseEnd - e.requestStart
            }, {
                name: "previousPage",
                elapsed: e.fetchStart - e.navigationStart
            }]
        }) : null
    }
    module.exports = {
        getMetrics: getMetrics
    };


});


Requireify.register('js/utils/fontObserver.js', function(require, requireAsync, module, exports) {


    "use strict";

    function fontObserver(e, t) {
        return e.family ? (e.style = e.style || "normal", e.variant = e.variant || "normal", e.weight = e.weight || "normal", e.stretch = e.stretch || "normal", e.featureSettings = e.featureSettings || "normal", _check(e, t)) : t(new Error("No font-family provided."), !1)
    }

    function Ruler(e) {
        var t = "display:inline-block;position:absolute;height:100%;width:100%;overflow:scroll;font-size:16px;";
        this.element = document.createElement("div"), this.element.setAttribute("aria-hidden", "true"), this.element.appendChild(document.createTextNode(e)), this.collapsible = document.createElement("span"), this.expandable = document.createElement("span"), this.collapsibleInner = document.createElement("span"), this.expandableInner = document.createElement("span"), this.lastOffsetWidth = -1, this.collapsible.style.cssText = t, this.expandable.style.cssText = t, this.expandableInner.style.cssText = t, this.collapsibleInner.style.cssText = "display:inline-block;width:200%;height:200%;font-size:16px;", this.collapsible.appendChild(this.collapsibleInner), this.expandable.appendChild(this.expandableInner), this.element.appendChild(this.collapsible), this.element.appendChild(this.expandable)
    }

    function _getStyle(e) {
        return "font-style:" + e.style + ";font-variant:" + e.variant + ";font-weight:" + e.weight + ";font-stretch:" + e.stretch + ";font-feature-settings:" + e.featureSettings + ";-moz-font-feature-settings:" + e.featureSettings + ";-webkit-font-feature-settings:" + e.featureSettings + ";"
    }

    function _check(e, t) {
        function n(e, n) {
            return d.destroy(), p.destroy(), c.destroy(), clearTimeout(s), document.body.removeChild(h), t(e, n)
        }

        function i() {
            return !(-1 !== u && -1 !== f || -1 !== u && -1 !== m || -1 !== f && -1 !== m) || u !== f && u !== m && f !== m ? !1 : (x = !0, n(null, !0))
        }

        function l() {
            var e, t = Date.now();
            return t >= y ? n(new Error("Font did not load."), !1) : (e = document.hidden, (e === !0 || void 0 === e) && (u = d.getWidth(), f = p.getWidth(), m = c.getWidth(), i()), x || (s = setTimeout(l, 50)), !1)
        }
        var s, o = e.text || "BESbswy",
            r = e.timeout || DEFAULT_TIMEOUT,
            a = _getStyle(e),
            h = document.createElement("div"),
            d = new Ruler(o),
            p = new Ruler(o),
            c = new Ruler(o),
            u = -1,
            f = -1,
            m = -1,
            b = Date.now(),
            y = b + r,
            x = !1;
        d.setFont("sans-serif", a), p.setFont("serif", a), c.setFont("monospace", a), h.appendChild(d.getElement()), h.appendChild(p.getElement()), h.appendChild(c.getElement()), document.body.appendChild(h), l(), d.onResize(function(e) {
            u = e, i()
        }), d.setFont('"' + e.family + '",sans-serif', a), p.onResize(function(e) {
            f = e, i()
        }), p.setFont('"' + e.family + '",serif', a), c.onResize(function(e) {
            m = e, i()
        }), c.setFont('"' + e.family + '",monospace', a)
    }
    var DEFAULT_TIMEOUT = 3e3;
    Ruler.prototype.getElement = function() {
        return this.element
    }, Ruler.prototype.setFont = function(e, t) {
        this.element.style.cssText = "min-width:20px;min-height:20px;display:inline-block;overflow:hidden;position:absolute;width:auto;margin:0;padding:0;top:-999px;left:-999px;white-space:nowrap;font-size:100px;font-family:" + e + ";" + t
    }, Ruler.prototype.getWidth = function() {
        return this.element && this.element.offsetWidth
    }, Ruler.prototype.setWidth = function(e) {
        this.element.style.width = e + "px"
    }, Ruler.prototype.reset = function() {
        var e = this.getWidth(),
            t = e + 100;
        return this.expandableInner.style.width = t + "px", this.expandable.scrollLeft = t, this.collapsible.scrollLeft = this.collapsible.scrollWidth + 100, this.lastOffsetWidth !== e ? (this.lastOffsetWidth = e, !0) : !1
    }, Ruler.prototype.onScroll = function(e) {
        this.reset() && null !== this.element.parentNode && e(this.lastOffsetWidth)
    }, Ruler.prototype.onResize = function(e) {
        var t = this;
        this.onScrollListener = function() {
            t.onScroll(e)
        }, this.collapsible.addEventListener("scroll", this.onScrollListener, !1), this.expandable.addEventListener("scroll", this.onScrollListener, !1), this.reset()
    }, Ruler.prototype.destroy = function() {
        this.collapsible.removeEventListener("scroll", this.onScrollListener), this.expandable.removeEventListener("scroll", this.onScrollListener), this.element = null, this.collapsible = null, this.expandable = null, this.collapsibleInner = null, this.expandableInner = null
    }, module.exports = fontObserver;


});


Requireify.register('js/utils/fontDetection.js', function(require, requireAsync, module, exports) {


    "use strict";
    var EventBus = require("../reactMixins/eventBus"),
        fontObserver = require("./fontObserver"),
        contextData = require("./contextData"),
        isRtl = require("./isRtl"),
        AB = require("./ab/ab"),
        nfProps = require("nf-iso-properties"),
        _ = require("lodash"),
        CookieUtil = require("./cookieUtils"),
        RTL_WEB_FONTS_DISABLED_FP_KEY = "web.ui.rtl.webfonts.disabled",
        RTL_WEB_FONTS_BASE64_DISABLED_FP_KEY = "web.ui.rtl.webfonts.base64.disabled",
        RTL_FONT_TEST_ID = 6789,
        nkufiFontConfig = {
            family: "NKufi",
            text: "ك"
        },
        FontDetection = {
            detect: function() {
                this._detectNKufiFont()
            },
            _detectNKufiFont: function() {
                var e = this,
                    t = AB.attr(null, RTL_FONT_TEST_ID, "dataURI") ? RTL_WEB_FONTS_BASE64_DISABLED_FP_KEY : RTL_WEB_FONTS_DISABLED_FP_KEY,
                    o = nfProps.get(t),
                    i = AB.attr(null, RTL_FONT_TEST_ID, "observeFontLoading"),
                    n = this._getLoadedFontCookie(nkufiFontConfig.family),
                    r = AB.attr(null, RTL_FONT_TEST_ID, "dataURI"),
                    a = contextData.getFeatureData("geo"),
                    s = "ar" === _.get(a, "preferredLocale.language", "");
                s && isRtl(a) && !o && i && !n && (EventBus.emit("webFontLoadObserver:start", {
                    config: nkufiFontConfig,
                    useDataURI: r
                }), fontObserver(nkufiFontConfig, function(t, o) {
                    o && (document.body.classList.add(nkufiFontConfig.family.toLowerCase() + "-font-loaded"), e._setLoadedFontCookie(nkufiFontConfig.family)), EventBus.emit("webFontLoadObserver:end", {
                        success: !!o,
                        config: nkufiFontConfig,
                        useDataURI: r,
                        error: t ? t.message : null
                    })
                }))
            },
            _setLoadedFontCookie: function(e) {
                CookieUtil.set(e.toLowerCase() + "Loaded", !0, CookieUtil.EXPIRES.NEVER, CookieUtil.TOP_DOMAIN)
            },
            _getLoadedFontCookie: function(e) {
                return CookieUtil.get(e.toLowerCase() + "Loaded")
            }
        };
    module.exports = FontDetection;


});


Requireify.register('js/pages/akiraClient.js', function(require, requireAsync, module, exports) {


    "use strict";
    var clientInitFP = require("../common/clientInitFastProperties.js");
    clientInitFP.init();
    var React = require("react"),
        App = require("../akira/app.jsx"),
        PathEvaluator = require("../falkorClient/PathEvaluator"),
        loader = require("../falkorClient/falkorLoader"),
        logger = require("../utils/consolidatedLogging/index"),
        PerformanceMetrics = require("../utils/performanceMetrics"),
        netflix = require("../common/nfNamespace"),
        consLog = require("nf-cons-log"),
        presentationTracking = require("../common/presentationTracking/presentationTracking"),
        PlayerFeatureDetection = require("../utils/player/playerFeatureDetection"),
        PlayerAssets = require("../utils/player/playerAssets"),
        playPrediction = require("../common/playPrediction/playPrediction"),
        FontDetection = require("../utils/fontDetection"),
        hasLoggedStartup = !1,
        siteMountainPage = {
            APP_MOUNT: "appMountPoint",
            sendStartupTiming: function() {
                function e() {
                    var e = PerformanceMetrics.getMetrics();
                    e && logger.logStartup(e)
                }
                var t = 20,
                    i = window || {};
                "complete" === document.readyState ? setTimeout(e, t) : i.onload = setTimeout.bind(i, e, t)
            },
            init: function() {
                if (!this.inNode) {
                    try {
                        consLog.clientNotifications.start()
                    } catch (e) {}
                    presentationTracking.init(), playPrediction.stub || playPrediction.init()
                }
                var t = new PathEvaluator(5e6, .75, loader).toAggregate().deserialize(netflix.falkorCache).toRoot(),
                    i = this,
                    r = window || {};
                r.pathEvaluator = t;
                var n, a = netflix.reactContext;
                a.pathEvaluator = t, a.node = {
                    req: null,
                    res: null
                }, PlayerAssets.initializeLegacyNamespace(), PlayerFeatureDetection.init(), r.reactApp = new App(a), r.reactApp.clientRender(function(e, t) {
                    if (e) throw e.stack, e;
                    n = React.render(t, document.getElementById(i.APP_MOUNT)), FontDetection.detect && FontDetection.detect(), r.reactApp.setRenderedView(n), hasLoggedStartup || (i.sendStartupTiming(), hasLoggedStartup = !0)
                })
            }
        };
    "undefined" != typeof window && siteMountainPage.init();


});

! function(i) {
    "use strict";
    i.Requireify.kickoff()
}(window);a
